2021-11-04 10:27:23,646 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:23,721 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:27:23,723 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:27:23,803 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:23,805 [Mini-Cluster-Provider-Create] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:23,983 [Mini-Cluster-Provider-Create] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 107 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:24,047 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:24,048 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:24,048 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:24,049 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:24,566 [Mini-Cluster-Provider-Create] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:24,686 [Mini-Cluster-Provider-Create] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:24,819 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:27:24,820 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:27:24,856 [Mini-Cluster-Provider-Create] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-11-04 10:27:24,868 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:27:24,869 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:27:24,872 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:27:24,873 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:27:24,907 [Mini-Cluster-Provider-Create] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:27:24,950 [Mini-Cluster-Provider-Create] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:24,957 [Mini-Cluster-Provider-Create] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:27:24,990 [Mini-Cluster-Provider-Create] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:27:24,995 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:27:24,995 [Mini-Cluster-Provider-Create] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:27:25,019 [Mini-Cluster-Provider-Create] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:27:25,033 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:27:25,054 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:27:25,055 [Mini-Cluster-Provider-Create] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:27:25,065 [Mini-Cluster-Provider-Create] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:27:25,067 [Mini-Cluster-Provider-Create] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:27:25,069 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:27:25,070 [Mini-Cluster-Provider-Create] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:27:25,379 [Mini-Cluster-Provider-Create] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:25,411 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:25,450 [Listener at 0.0.0.0/34317] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:25,452 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:25,467 [Listener at 0.0.0.0/35205] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:25,468 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:25,508 [Listener at 0.0.0.0/35635] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:25,516 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:27:25,517 [Listener at 0.0.0.0/35635] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:25,517 [Listener at 0.0.0.0/35635] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:27:25,524 [Listener at 0.0.0.0/35635] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:25,526 [Listener at 0.0.0.0/35635] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:25,526 [Listener at 0.0.0.0/35635] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:25,526 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35635
2021-11-04 10:27:25,585 [Listener at 0.0.0.0/35635] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:27:25,600 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:27:25,600 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:27:25,896 [Listener at 0.0.0.0/35635] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:35635
2021-11-04 10:27:25,900 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:25,901 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:25,906 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:35205
2021-11-04 10:27:25,906 [Listener at 0.0.0.0/35635] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:35205
2021-11-04 10:27:25,907 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:25,907 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:25,916 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34317
2021-11-04 10:27:25,917 [Listener at 0.0.0.0/35635] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34317
2021-11-04 10:27:25,918 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:25,919 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:25,928 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@33195c8a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:25,961 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:27:25,961 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:25,990 [Listener at 0.0.0.0/35635] INFO  util.log (Log.java:initialized(170)) - Logging initialized @3668ms to org.eclipse.jetty.util.log.Slf4jLog
2021-11-04 10:27:26,086 [Listener at 0.0.0.0/35635] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:26,092 [Listener at 0.0.0.0/35635] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:26,096 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:26,098 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:27:26,098 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:26,098 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:26,133 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39665
2021-11-04 10:27:26,134 [Listener at 0.0.0.0/35635] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:26,161 [Listener at 0.0.0.0/35635] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:26,161 [Listener at 0.0.0.0/35635] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:26,163 [Listener at 0.0.0.0/35635] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:27:26,174 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6c84e567{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:26,175 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ebc9207{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:27:26,215 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1e3cd304{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:27:26,222 [Listener at 0.0.0.0/35635] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@46d5a3cc{HTTP/1.1, (http/1.1)}{0.0.0.0:39665}
2021-11-04 10:27:26,222 [Listener at 0.0.0.0/35635] INFO  server.Server (Server.java:doStart(415)) - Started @3900ms
2021-11-04 10:27:26,228 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:27:26,228 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:27:26,229 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:39665
2021-11-04 10:27:26,231 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:26,333 [Listener at 0.0.0.0/35635] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:27:26,336 [Listener at 0.0.0.0/35635] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:27:26,336 [Listener at 0.0.0.0/35635] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:27:26,336 [Listener at 0.0.0.0/35635] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:27:26,339 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:26,341 [Listener at 0.0.0.0/35635] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:27:26,415 [Listener at 0.0.0.0/35635] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 70 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:27:26,419 [Listener at 0.0.0.0/35635] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:27:26,420 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:26,770 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:26,776 [Listener at 0.0.0.0/35635] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:27:26,777 [Listener at 0.0.0.0/35635] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:27:26,962 [Listener at 0.0.0.0/35635] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:27:27,025 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:27:27,025 [Listener at 0.0.0.0/35635] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:27:27,053 [Listener at 0.0.0.0/35635] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:27:27,080 [Listener at 0.0.0.0/35635] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:42887
2021-11-04 10:27:27,087 [Listener at 0.0.0.0/35635] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:27:27,117 [Listener at 0.0.0.0/35635] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:27,207 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:27,210 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:27:27,211 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 42887 (custom)
2021-11-04 10:27:27,211 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:27:27,212 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 42887 (custom)
2021-11-04 10:27:27,212 [Listener at 0.0.0.0/35635] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 42887 (custom)
2021-11-04 10:27:27,212 [Listener at 0.0.0.0/35635] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:27:27,213 [Listener at 0.0.0.0/35635] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:27,214 [Listener at 0.0.0.0/35635] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:27:27,214 [Listener at 0.0.0.0/35635] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:27:27,474 [Listener at 0.0.0.0/35635] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:27,476 [Listener at 0.0.0.0/35635] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:27:27,476 [Listener at 0.0.0.0/35635] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:27,490 [Listener at 0.0.0.0/35635] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis] (custom)
2021-11-04 10:27:27,496 [Listener at 0.0.0.0/35635] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:42887|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@25bfdcdd[Not completed]
2021-11-04 10:27:27,496 [Listener at 0.0.0.0/35635] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 42887
2021-11-04 10:27:27,509 [Listener at 0.0.0.0/35635] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:27,510 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:27,533 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:42887|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:27:27,535 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:27:27,536 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:27:27,536 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:27,536 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:27:27,536 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:27,536 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:27,537 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:27,542 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:42887|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:27,542 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis] (custom)
2021-11-04 10:27:27,546 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:27,546 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:27,548 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:27:27,554 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:27,558 [Listener at 127.0.0.1/42857] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:27:27,560 [pool-39-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:27:27,563 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:27:27,565 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:27,569 [Listener at 127.0.0.1/42857] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:27:27,582 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:27,588 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:27,591 [Listener at 127.0.0.1/42857] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:42857
2021-11-04 10:27:27,592 [Listener at 127.0.0.1/42857] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 42887
2021-11-04 10:27:27,601 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:27:27,609 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:27,610 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:27,617 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:27:27,618 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:27:27,619 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:27:27,620 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:27:27,620 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:27:27,621 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:27,622 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:27,623 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:27,623 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:27,633 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:27:27,636 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:27:27,644 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:27,644 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:27,655 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:27,655 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:27:27,656 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:27:27,657 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:27:27,658 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:27:27,658 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:27,701 [Listener at 127.0.0.1/42857] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:42887|priority:0], old=null
2021-11-04 10:27:27,703 [Listener at 127.0.0.1/42857] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:27,704 [Listener at 127.0.0.1/42857] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:27:27,705 [Listener at 127.0.0.1/42857] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:27:27,708 [Listener at 127.0.0.1/42857] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:27:27,764 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 42887
2021-11-04 10:27:27,766 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ebe8543] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:27:27,766 [Listener at 127.0.0.1/42857] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:27:27,774 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:27:27,774 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:27,775 [Listener at 127.0.0.1/42857] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:27,776 [Listener at 127.0.0.1/42857] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:27,777 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:27,778 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:27:27,778 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:27,778 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:27,780 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39099
2021-11-04 10:27:27,780 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:27,782 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:27,782 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:27,782 [Listener at 127.0.0.1/42857] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:27:27,789 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6acb4e1d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:27,789 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2c3d7c5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:27:27,795 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@48fe3514{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:27:27,797 [Listener at 127.0.0.1/42857] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4a5f2c97{HTTP/1.1, (http/1.1)}{0.0.0.0:39099}
2021-11-04 10:27:27,797 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(415)) - Started @5475ms
2021-11-04 10:27:27,797 [Listener at 127.0.0.1/42857] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:27,798 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:39099
2021-11-04 10:27:27,798 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:27,799 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:27,810 [Listener at 127.0.0.1/42857] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:27:27,812 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1f6dc2fe] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:27,962 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:27,962 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:27,962 [Listener at 127.0.0.1/42857] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:27,982 [Listener at 127.0.0.1/42857] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:28,005 [Listener at 127.0.0.1/42857] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:28,048 [Listener at 127.0.0.1/42857] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:28,050 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:28,050 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:28,050 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:28,050 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:28,052 [Listener at 127.0.0.1/42857] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:28,131 [Listener at 127.0.0.1/42857] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:28,133 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:28,134 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds
2021-11-04 10:27:28,154 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds
2021-11-04 10:27:28,172 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis to VolumeSet
2021-11-04 10:27:28,173 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis
2021-11-04 10:27:28,173 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis
2021-11-04 10:27:28,189 [Thread-131] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds
2021-11-04 10:27:28,189 [Listener at 127.0.0.1/42857] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:28,250 [Listener at 127.0.0.1/42857] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:28,250 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:28,250 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:28,250 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:28,251 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:28,251 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:28,251 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:28,251 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:28,251 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:28,252 [Listener at 127.0.0.1/42857] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:28,253 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:28,253 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:28,253 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis] (custom)
2021-11-04 10:27:28,307 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:28,307 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:28,309 [Listener at 127.0.0.1/42857] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:28,309 [Listener at 127.0.0.1/42857] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:28,310 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:28,311 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:28,311 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:28,311 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:28,312 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46841
2021-11-04 10:27:28,312 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:28,316 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:28,316 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:28,316 [Listener at 127.0.0.1/42857] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:27:28,317 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@53996ef4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:28,317 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5a531be2{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:28,363 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3c16c170{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-46841-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1447220984959822644/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:28,364 [Listener at 127.0.0.1/42857] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1f9606cf{HTTP/1.1, (http/1.1)}{0.0.0.0:46841}
2021-11-04 10:27:28,365 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(415)) - Started @6043ms
2021-11-04 10:27:28,365 [Listener at 127.0.0.1/42857] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:28,365 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:46841
2021-11-04 10:27:28,366 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:28,368 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:28,368 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:28,368 [Listener at 127.0.0.1/42857] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:28,370 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:28,370 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:28,380 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@386ec5b9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:28,389 [Listener at 127.0.0.1/42857] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:28,412 [Listener at 127.0.0.1/42857] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:28,485 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/meta/datanode.id
2021-11-04 10:27:28,491 [Listener at 127.0.0.1/42857] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 78 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:28,498 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:28,499 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:28,499 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:28,499 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:28,500 [Listener at 127.0.0.1/42857] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:28,504 [Listener at 127.0.0.1/42857] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:28,505 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:28,505 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds
2021-11-04 10:27:28,506 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds
2021-11-04 10:27:28,520 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis to VolumeSet
2021-11-04 10:27:28,520 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis
2021-11-04 10:27:28,521 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis
2021-11-04 10:27:28,539 [Thread-143] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds
2021-11-04 10:27:28,539 [Listener at 127.0.0.1/42857] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:28,542 [Listener at 127.0.0.1/42857] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:28,543 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:28,545 [Listener at 127.0.0.1/42857] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:28,545 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:28,545 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:28,545 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis] (custom)
2021-11-04 10:27:28,549 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:28,549 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:28,550 [Listener at 127.0.0.1/42857] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:28,551 [Listener at 127.0.0.1/42857] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:28,551 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:28,552 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:28,552 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:28,552 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:28,553 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42119
2021-11-04 10:27:28,553 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:28,557 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:28,557 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:28,557 [Listener at 127.0.0.1/42857] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:28,558 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@35a2f08{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:28,558 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2c0986e5{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:28,600 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@55b506f9{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42119-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5171635256860664776/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:28,602 [Listener at 127.0.0.1/42857] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@75790174{HTTP/1.1, (http/1.1)}{0.0.0.0:42119}
2021-11-04 10:27:28,602 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(415)) - Started @6280ms
2021-11-04 10:27:28,602 [Listener at 127.0.0.1/42857] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:28,603 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42119
2021-11-04 10:27:28,603 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:28,603 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:28,603 [Listener at 127.0.0.1/42857] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:28,616 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:28,618 [Listener at 127.0.0.1/42857] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:28,621 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:28,621 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:28,752 [Listener at 127.0.0.1/42857] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:28,756 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1052856098ns, electionTimeout:1039ms
2021-11-04 10:27:28,759 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7defc214] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:28,757 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:27:28,761 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:28,775 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:28,776 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-11-04 10:27:28,791 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:42887|priority:0], old=null
2021-11-04 10:27:28,792 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:28,792 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-11-04 10:27:28,791 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/meta/datanode.id
2021-11-04 10:27:28,793 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:28,793 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1230ms
2021-11-04 10:27:28,799 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:28,803 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:27:28,810 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:27:28,820 [Listener at 127.0.0.1/42857] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 64 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:28,821 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-11-04 10:27:28,822 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:28,823 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:28,822 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:28,824 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:28,824 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:28,824 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:28,825 [Listener at 127.0.0.1/42857] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:28,826 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:27:28,828 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:28,833 [Listener at 127.0.0.1/42857] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:28,834 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:28,834 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds
2021-11-04 10:27:28,834 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:27:28,841 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds
2021-11-04 10:27:28,857 [Listener at 127.0.0.1/42857] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis to VolumeSet
2021-11-04 10:27:28,857 [Listener at 127.0.0.1/42857] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis
2021-11-04 10:27:28,857 [Listener at 127.0.0.1/42857] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis
2021-11-04 10:27:28,861 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:28,892 [Thread-157] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds
2021-11-04 10:27:28,893 [Listener at 127.0.0.1/42857] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:28,896 [Listener at 127.0.0.1/42857] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:28,896 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:28,899 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:28,899 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:28,900 [Listener at 127.0.0.1/42857] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:28,900 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:28,900 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:28,900 [Listener at 127.0.0.1/42857] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:28,900 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:28,902 [Listener at 127.0.0.1/42857] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:28,902 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:28,902 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:28,903 [Listener at 127.0.0.1/42857] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis] (custom)
2021-11-04 10:27:28,913 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:28,913 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:28,914 [Listener at 127.0.0.1/42857] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:28,920 [Listener at 127.0.0.1/42857] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:28,921 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:28,922 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:28,922 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:28,922 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:28,922 [Listener at 127.0.0.1/42857] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36197
2021-11-04 10:27:28,922 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:28,944 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:28,944 [Listener at 127.0.0.1/42857] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:28,945 [Listener at 127.0.0.1/42857] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:28,946 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@51ab00a9{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:28,946 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6263caca{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:28,960 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:42887|admin:|client:|dataStream:|priority:0], old=null
2021-11-04 10:27:28,970 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-11-04 10:27:29,021 [Listener at 127.0.0.1/42857] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@44359cea{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36197-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1579402720851428663/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:29,022 [Listener at 127.0.0.1/42857] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@692c4b3e{HTTP/1.1, (http/1.1)}{0.0.0.0:36197}
2021-11-04 10:27:29,022 [Listener at 127.0.0.1/42857] INFO  server.Server (Server.java:doStart(415)) - Started @6700ms
2021-11-04 10:27:29,022 [Listener at 127.0.0.1/42857] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:29,024 [Listener at 127.0.0.1/42857] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36197
2021-11-04 10:27:29,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:29,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:29,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:29,027 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:29,035 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:29,036 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:29,044 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7970e4d3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:29,050 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/meta/datanode.id
2021-11-04 10:27:29,061 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:42887"
]
2021-11-04 10:27:30,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:30,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:30,026 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:30,428 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:30,430 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:30,432 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 34805
2021-11-04 10:27:30,435 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:30,438 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start RPC server
2021-11-04 10:27:30,439 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: GrpcService started, listening on 36095
2021-11-04 10:27:30,439 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5053e8fa-b9de-40e0-acab-eef8ee16d020 is started using port 36095 for RATIS
2021-11-04 10:27:30,439 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5053e8fa-b9de-40e0-acab-eef8ee16d020 is started using port 36095 for RATIS_ADMIN
2021-11-04 10:27:30,439 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5053e8fa-b9de-40e0-acab-eef8ee16d020 is started using port 36095 for RATIS_SERVER
2021-11-04 10:27:30,440 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3357d605] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-5053e8fa-b9de-40e0-acab-eef8ee16d020: Started
2021-11-04 10:27:30,444 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 5053e8fa-b9de-40e0-acab-eef8ee16d020 is started using port 34697
2021-11-04 10:27:30,757 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:30,758 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:30,759 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38055
2021-11-04 10:27:30,759 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:30,761 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start RPC server
2021-11-04 10:27:30,762 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: GrpcService started, listening on 32827
2021-11-04 10:27:30,763 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b is started using port 32827 for RATIS
2021-11-04 10:27:30,763 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@635afec] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: Started
2021-11-04 10:27:30,763 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b is started using port 32827 for RATIS_ADMIN
2021-11-04 10:27:30,763 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b is started using port 32827 for RATIS_SERVER
2021-11-04 10:27:30,764 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b is started using port 42573
2021-11-04 10:27:31,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:31,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:31,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:31,049 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:31,049 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:31,051 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38613
2021-11-04 10:27:31,051 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:31,052 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start RPC server
2021-11-04 10:27:31,053 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: GrpcService started, listening on 46427
2021-11-04 10:27:31,054 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 is started using port 46427 for RATIS
2021-11-04 10:27:31,054 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@203d4cd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-0373d4be-9e82-4aa9-834c-daa3ef36e8e1: Started
2021-11-04 10:27:31,054 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 is started using port 46427 for RATIS_ADMIN
2021-11-04 10:27:31,054 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 is started using port 46427 for RATIS_SERVER
2021-11-04 10:27:31,055 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 is started using port 44577
2021-11-04 10:27:32,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:32,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:32,027 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:32,399 [IPC Server handler 2 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:32,401 [IPC Server handler 2 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:32,405 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:32,407 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:27:32,408 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:27:32,419 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 to datanode:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:32,419 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:27:32,426 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 5dec0cf2-6378-433d-8f3d-86ee0debdd68, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:32.416Z[Etc/UTC]].
2021-11-04 10:27:32,755 [IPC Server handler 3 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:32,755 [IPC Server handler 3 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:32,756 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:32,761 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:27:32,762 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=9347123f-4fba-45a0-9845-3e280072edef to datanode:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:32,763 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 9347123f-4fba-45a0-9845-3e280072edef, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:32.762Z[Etc/UTC]].
2021-11-04 10:27:33,028 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-11-04 10:27:33,028 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:33,028 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:33,048 [IPC Server handler 0 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:33,049 [IPC Server handler 0 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:33,049 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:33,050 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:27:33,050 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:27:33,050 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:27:33,051 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:33,051 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:27:33,051 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:33,051 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 to datanode:0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:33,052 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: ff1125a4-c3b2-4356-9664-4b0da6274279, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:33.051Z[Etc/UTC]].
2021-11-04 10:27:33,054 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb to datanode:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:33,054 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb to datanode:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:33,054 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb to datanode:0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:33,055 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c7526eaa-4851-48b1-8bfb-43e5ee44c3fb, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:33.054Z[Etc/UTC]].
2021-11-04 10:27:34,028 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:34,029 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:34,029 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:35,029 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:35,030 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:35,030 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:35,388 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: addNew group-86EE0DEBDD68:[5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-86EE0DEBDD68:java.util.concurrent.CompletableFuture@4d45be34[Not completed]
2021-11-04 10:27:35,396 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: new RaftServerImpl for group-86EE0DEBDD68:[5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:35,396 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: ConfigurationManager, init=-1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis] (custom)
2021-11-04 10:27:35,397 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:35,398 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:35,398 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68 does not exist. Creating ...
2021-11-04 10:27:35,399 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:35,400 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68 has been successfully formatted.
2021-11-04 10:27:35,402 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-86EE0DEBDD68: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:35,402 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:35,402 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:35,402 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:35,402 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:35,408 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,409 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 5dec0cf2-6378-433d-8f3d-86ee0debdd68, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:32.416Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:35,410 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:35,410 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:35,411 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:35,413 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:35,414 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:35,418 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:35,419 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:35,419 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:35,419 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:35,421 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: start as a follower, conf=-1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:35,421 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:35,421 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState
2021-11-04 10:27:35,421 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-86EE0DEBDD68,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:35,433 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68
2021-11-04 10:27:35,433 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68.
2021-11-04 10:27:35,433 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: addNew group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-43E5EE44C3FB:java.util.concurrent.CompletableFuture@7facf912[Not completed]
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: new RaftServerImpl for group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:35,435 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis] (custom)
2021-11-04 10:27:35,436 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:35,436 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:35,436 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb does not exist. Creating ...
2021-11-04 10:27:35,437 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:35,438 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb has been successfully formatted.
2021-11-04 10:27:35,438 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-43E5EE44C3FB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:35,439 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:35,440 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:35,440 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:35,440 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:35,440 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,440 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:35,441 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:35,442 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:35,444 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:35,445 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:35,446 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:35,447 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:35,447 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:35,447 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:35,448 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:35,452 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:35,760 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: addNew group-3E280072EDEF:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1] returns group-3E280072EDEF:java.util.concurrent.CompletableFuture@77350882[Not completed]
2021-11-04 10:27:35,763 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: new RaftServerImpl for group-3E280072EDEF:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:35,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:35,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis] (custom)
2021-11-04 10:27:35,766 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:35,766 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:35,766 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef does not exist. Creating ...
2021-11-04 10:27:35,767 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:35,768 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef has been successfully formatted.
2021-11-04 10:27:35,769 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-3E280072EDEF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:35,772 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:35,772 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:35,772 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:35,771 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 9347123f-4fba-45a0-9845-3e280072edef, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, CreationTimestamp2021-11-04T10:27:32.762Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:35,772 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:35,772 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,773 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:35,774 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:35,774 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:35,774 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:35,775 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:35,776 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:35,777 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:35,777 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,784 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,796 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:35,796 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:35,796 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:35,796 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:35,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:35,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:35,799 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null
2021-11-04 10:27:35,799 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:35,799 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState
2021-11-04 10:27:35,806 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3E280072EDEF,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:35,810 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=9347123f-4fba-45a0-9845-3e280072edef
2021-11-04 10:27:35,810 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=9347123f-4fba-45a0-9845-3e280072edef.
2021-11-04 10:27:35,818 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: addNew group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-43E5EE44C3FB:java.util.concurrent.CompletableFuture@730a92bc[Not completed]
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: new RaftServerImpl for group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:35,819 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis] (custom)
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:35,820 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb does not exist. Creating ...
2021-11-04 10:27:35,821 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:35,822 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb has been successfully formatted.
2021-11-04 10:27:35,822 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-43E5EE44C3FB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:35,823 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:35,823 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:35,823 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:35,823 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:35,823 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:35,829 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:35,830 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:35,831 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:35,831 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,831 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:35,838 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:35,852 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:35,852 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:35,852 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:35,853 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:35,862 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:35,863 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:36,030 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:36,030 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:36,030 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:36,052 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: addNew group-4B0DA6274279:[0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1] returns group-4B0DA6274279:java.util.concurrent.CompletableFuture@b9a918c[Not completed]
2021-11-04 10:27:36,055 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: new RaftServerImpl for group-4B0DA6274279:[0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:36,062 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:36,062 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:36,062 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:36,062 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:36,062 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: ConfigurationManager, init=-1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis] (custom)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:36,063 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279 does not exist. Creating ...
2021-11-04 10:27:36,070 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:36,072 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279 has been successfully formatted.
2021-11-04 10:27:36,081 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4B0DA6274279: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:36,081 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:36,081 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:36,081 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:36,082 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:36,082 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: ff1125a4-c3b2-4356-9664-4b0da6274279, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0373d4be-9e82-4aa9-834c-daa3ef36e8e1, CreationTimestamp2021-11-04T10:27:33.051Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:36,082 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:36,082 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:36,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:36,082 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:36,083 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279
2021-11-04 10:27:36,083 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:36,083 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:36,083 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:36,083 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:36,084 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:36,084 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:36,084 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:36,084 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:36,085 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:36,085 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:36,085 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:36,086 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:36,094 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:36,094 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:36,094 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:36,095 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:36,095 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:36,095 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:36,096 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: start as a follower, conf=-1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null
2021-11-04 10:27:36,096 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:36,096 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState
2021-11-04 10:27:36,111 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B0DA6274279,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:36,117 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279
2021-11-04 10:27:36,117 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279.
2021-11-04 10:27:36,118 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: addNew group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-43E5EE44C3FB:java.util.concurrent.CompletableFuture@fa51427[Not completed]
2021-11-04 10:27:36,120 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: new RaftServerImpl for group-43E5EE44C3FB:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:36,121 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:36,121 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:36,121 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis] (custom)
2021-11-04 10:27:36,122 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:36,123 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:36,123 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb does not exist. Creating ...
2021-11-04 10:27:36,129 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:36,130 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb has been successfully formatted.
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-43E5EE44C3FB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:36,131 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:36,132 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:36,133 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:36,133 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:36,134 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:36,134 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:36,135 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:36,136 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:36,136 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:36,136 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:36,137 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:36,141 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:36,141 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:36,292 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb.
2021-11-04 10:27:36,299 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb.
2021-11-04 10:27:36,299 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb.
2021-11-04 10:27:36,825 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:37,031 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:37,031 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:37,031 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:37,137 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:37,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:38,031 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:38,032 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:38,032 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:38,829 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:38,942 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:39,032 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:39,032 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:39,032 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:39,139 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:40,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:40,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:40,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:40,140 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:40,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:40,440 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:40,443 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5021779290ns, electionTimeout:5018ms
2021-11-04 10:27:40,443 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState
2021-11-04 10:27:40,443 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:40,443 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:40,443 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-86EE0DEBDD68 with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,446 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for becomeLeader, leader elected after 5044ms
2021-11-04 10:27:40,447 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:40,447 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,447 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:40,447 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:40,448 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:40,448 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:40,448 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:40,448 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,448 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:40,448 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderStateImpl
2021-11-04 10:27:40,449 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:40,450 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68/current/log_inprogress_0
2021-11-04 10:27:40,457 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: set configuration 0: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:40,516 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5068851372ns, electionTimeout:5067ms
2021-11-04 10:27:40,517 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:40,517 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:40,518 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:40,518 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3
2021-11-04 10:27:40,520 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:40,554 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: receive requestVote(ELECTION, 5053e8fa-b9de-40e0-acab-eef8ee16d020, group-43E5EE44C3FB, 1, (t:0, i:0))
2021-11-04 10:27:40,556 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FOLLOWER: accept ELECTION from 5053e8fa-b9de-40e0-acab-eef8ee16d020: our priority 0 <= candidate's priority 1
2021-11-04 10:27:40,556 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,556 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:40,556 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:40,557 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: receive requestVote(ELECTION, 5053e8fa-b9de-40e0-acab-eef8ee16d020, group-43E5EE44C3FB, 1, (t:0, i:0))
2021-11-04 10:27:40,557 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:40,557 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FOLLOWER: accept ELECTION from 5053e8fa-b9de-40e0-acab-eef8ee16d020: our priority 0 <= candidate's priority 1
2021-11-04 10:27:40,569 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,569 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:40,569 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:40,569 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:40,570 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB replies to ELECTION vote request: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-0373d4be-9e82-4aa9-834c-daa3ef36e8e1#0:OK-t1. Peer's state: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB:t1, leader=null, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLog:OPENED:c-1, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:40,572 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB replies to ELECTION vote request: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-9c23fb6c-dde8-4365-8a38-ecf62c0bac2b#0:OK-t1. Peer's state: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB:t1, leader=null, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLog:OPENED:c-1, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:40,581 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:27:40,583 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-9c23fb6c-dde8-4365-8a38-ecf62c0bac2b#0:OK-t1
2021-11-04 10:27:40,583 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3 ELECTION round 0: result PASSED
2021-11-04 10:27:40,583 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3
2021-11-04 10:27:40,583 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-43E5EE44C3FB with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for becomeLeader, leader elected after 5145ms
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:40,584 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:40,585 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:40,585 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,585 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:40,589 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: c7526eaa-4851-48b1-8bfb-43e5ee44c3fb, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:33.054Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:27:40,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:27:40,593 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:40,593 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:40,594 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:40,596 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:40,596 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:40,596 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:40,600 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:40,600 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:40,600 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:40,600 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:40,600 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:40,601 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:40,602 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderStateImpl
2021-11-04 10:27:40,602 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:40,604 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/current/log_inprogress_0
2021-11-04 10:27:40,605 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:40,642 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-43E5EE44C3FB with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,643 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for appendEntries, leader elected after 4819ms
2021-11-04 10:27:40,643 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-43E5EE44C3FB with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:40,643 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for appendEntries, leader elected after 4512ms
2021-11-04 10:27:40,655 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:40,655 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:40,656 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/current/log_inprogress_0
2021-11-04 10:27:40,660 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:40,660 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:40,662 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/current/log_inprogress_0
2021-11-04 10:27:40,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5106704235ns, electionTimeout:5099ms
2021-11-04 10:27:40,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState
2021-11-04 10:27:40,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:40,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:40,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-3E280072EDEF with new leaderId: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: change Leader from null to 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b at term 1 for becomeLeader, leader elected after 5139ms
2021-11-04 10:27:40,911 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:40,912 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,915 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:40,915 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderStateImpl
2021-11-04 10:27:40,916 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:40,917 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef/current/log_inprogress_0
2021-11-04 10:27:40,918 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:1], old=null
2021-11-04 10:27:41,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:41,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:27:41,033 [Listener at 127.0.0.1/42857] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:41,050 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-11-04 10:27:41,050 [Listener at 127.0.0.1/42857] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,052 [Listener at 127.0.0.1/42857] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:27:41,052 [Listener at 127.0.0.1/42857] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:27:41,053 [Listener at 127.0.0.1/42857] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,053 [Listener at 127.0.0.1/42857] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:41,074 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2021-11-04 10:27:41,133 [Listener at 127.0.0.1/42857] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 79 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:41,136 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:41,136 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:41,136 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:41,136 [Listener at 127.0.0.1/42857] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:41,136 [Listener at 127.0.0.1/42857] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,137 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5041106416ns, electionTimeout:5023ms
2021-11-04 10:27:41,137 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState
2021-11-04 10:27:41,137 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:41,138 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:41,138 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5
2021-11-04 10:27:41,139 [Listener at 127.0.0.1/42857] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4B0DA6274279 with new leaderId: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:41,169 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: change Leader from null to 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 at term 1 for becomeLeader, leader elected after 5088ms
2021-11-04 10:27:41,170 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:41,175 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:41,175 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:41,176 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderStateImpl
2021-11-04 10:27:41,177 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:41,178 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279/current/log_inprogress_0
2021-11-04 10:27:41,188 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: set configuration 0: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:1], old=null
2021-11-04 10:27:41,254 [Listener at 127.0.0.1/42857] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:27:41,254 [Listener at 127.0.0.1/42857] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:27:41,258 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,258 [Listener at 127.0.0.1/42857] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,258 [Listener at 127.0.0.1/42857] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:27:41,258 [Listener at 127.0.0.1/42857] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:27:41,259 [Listener at 127.0.0.1/42857] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:27:41,259 [Listener at 127.0.0.1/42857] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:27:41,266 [Listener at 127.0.0.1/42857] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:27:41,267 [Listener at 127.0.0.1/42857] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:41,267 [Listener at 127.0.0.1/42857] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:27:41,267 [Listener at 127.0.0.1/42857] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:27:41,267 [Listener at 127.0.0.1/42857] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:27:41,267 [Listener at 127.0.0.1/42857] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:27:41,270 [Listener at 127.0.0.1/42857] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:27:41,270 [Listener at 127.0.0.1/42857] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:27:41,270 [Listener at 127.0.0.1/42857] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:27:41,270 [Listener at 127.0.0.1/42857] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:27:41,278 [Listener at 127.0.0.1/42857] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:27:41,278 [Listener at 127.0.0.1/42857] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:27:41,278 [Listener at 127.0.0.1/42857] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:27:41,279 [Listener at 127.0.0.1/42857] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:41,280 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:41,281 [Listener at 0.0.0.0/44041] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:41,283 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:41,284 [Listener at 0.0.0.0/35191] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:41,285 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:41,301 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:27:41,314 [Listener at 0.0.0.0/41497] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:41,315 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:27:41,315 [Listener at 0.0.0.0/41497] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:41,315 [Listener at 0.0.0.0/41497] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:27:41,316 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:41,316 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:41,316 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:41,316 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41497
2021-11-04 10:27:41,317 [Listener at 0.0.0.0/41497] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-11-04 10:27:41,335 [Listener at 0.0.0.0/41497] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:41497
2021-11-04 10:27:41,336 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:41,336 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:41,410 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:35191
2021-11-04 10:27:41,410 [Listener at 0.0.0.0/41497] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:35191
2021-11-04 10:27:41,421 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:41,425 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:41,471 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:44041
2021-11-04 10:27:41,471 [Listener at 0.0.0.0/41497] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:44041
2021-11-04 10:27:41,472 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:41,472 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:41,479 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:27:41,480 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:41,482 [Listener at 0.0.0.0/41497] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:41,479 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2a522fc8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:41,485 [Listener at 0.0.0.0/41497] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:41,490 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:41,492 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:27:41,492 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:41,492 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:41,493 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43687
2021-11-04 10:27:41,494 [Listener at 0.0.0.0/41497] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:41,501 [Listener at 0.0.0.0/41497] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:41,501 [Listener at 0.0.0.0/41497] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:41,501 [Listener at 0.0.0.0/41497] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:41,502 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3f83464e{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:41,502 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@58bf37cb{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:27:41,509 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@36617c1e{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:27:41,513 [Listener at 0.0.0.0/41497] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@536fc515{HTTP/1.1, (http/1.1)}{0.0.0.0:43687}
2021-11-04 10:27:41,513 [Listener at 0.0.0.0/41497] INFO  server.Server (Server.java:doStart(415)) - Started @19191ms
2021-11-04 10:27:41,513 [Listener at 0.0.0.0/41497] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:41,514 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:43687
2021-11-04 10:27:41,514 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,515 [Listener at 0.0.0.0/41497] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:27:41,515 [Listener at 0.0.0.0/41497] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:27:41,515 [Listener at 0.0.0.0/41497] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:27:41,516 [Listener at 0.0.0.0/41497] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:27:41,516 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,516 [Listener at 0.0.0.0/41497] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:27:41,586 [Listener at 0.0.0.0/41497] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 69 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:27:41,587 [Listener at 0.0.0.0/41497] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:27:41,587 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,598 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:41,599 [Listener at 0.0.0.0/41497] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:27:41,599 [Listener at 0.0.0.0/41497] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:27:41,724 [Listener at 0.0.0.0/41497] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:27:41,724 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:27:41,725 [Listener at 0.0.0.0/41497] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:27:41,725 [Listener at 0.0.0.0/41497] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,725 [Listener at 0.0.0.0/41497] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,725 [Listener at 0.0.0.0/41497] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:27:41,726 [Listener at 0.0.0.0/41497] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:45899
2021-11-04 10:27:41,726 [Listener at 0.0.0.0/41497] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:27:41,727 [Listener at 0.0.0.0/41497] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:41,727 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:41,727 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:27:41,737 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45899 (custom)
2021-11-04 10:27:41,737 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45899 (custom)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45899 (custom)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:27:41,738 [Listener at 0.0.0.0/41497] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:27:41,739 [Listener at 0.0.0.0/41497] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:41,739 [Listener at 0.0.0.0/41497] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:27:41,739 [Listener at 0.0.0.0/41497] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:41,739 [Listener at 0.0.0.0/41497] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis] (custom)
2021-11-04 10:27:41,744 [Listener at 0.0.0.0/41497] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:45899|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@6568f095[Not completed]
2021-11-04 10:27:41,744 [Listener at 0.0.0.0/41497] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 45899
2021-11-04 10:27:41,746 [Listener at 0.0.0.0/41497] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:41,746 [pool-152-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:45899|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:27:41,747 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:45899|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:41,761 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis] (custom)
2021-11-04 10:27:41,762 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:41,762 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:41,762 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:27:41,763 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:41,766 [pool-152-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:27:41,766 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:27:41,766 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:41,766 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:41,767 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:27:41,768 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:27:41,768 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:41,768 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:27:41,769 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:41,780 [Listener at 127.0.0.1/45315] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:27:41,780 [Listener at 127.0.0.1/45315] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:27:41,793 [Listener at 127.0.0.1/45315] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:45315
2021-11-04 10:27:41,793 [Listener at 127.0.0.1/45315] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 45899
2021-11-04 10:27:41,793 [Listener at 127.0.0.1/45315] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:45899|priority:0], old=null
2021-11-04 10:27:41,793 [Listener at 127.0.0.1/45315] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:41,793 [Listener at 127.0.0.1/45315] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:27:41,794 [Listener at 127.0.0.1/45315] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:524)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1331)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:27:41,794 [Listener at 127.0.0.1/45315] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-11-04 10:27:41,796 [Listener at 127.0.0.1/45315] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:27:41,803 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 45899
2021-11-04 10:27:41,804 [Listener at 127.0.0.1/45315] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:27:41,805 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1bd96697] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:27:41,808 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:27:41,809 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:41,810 [Listener at 127.0.0.1/45315] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:41,811 [Listener at 127.0.0.1/45315] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:41,812 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:41,813 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:27:41,813 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:41,813 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:41,814 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 37111
2021-11-04 10:27:41,814 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:41,816 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:41,816 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:41,817 [Listener at 127.0.0.1/45315] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:41,817 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@521cd74c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:41,818 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4fb57898{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:27:41,854 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@33a8d99c{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:27:41,857 [Listener at 127.0.0.1/45315] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5373a7ad{HTTP/1.1, (http/1.1)}{0.0.0.0:37111}
2021-11-04 10:27:41,857 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(415)) - Started @19535ms
2021-11-04 10:27:41,857 [Listener at 127.0.0.1/45315] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:41,859 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:37111
2021-11-04 10:27:41,862 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:41,862 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:27:41,880 [Listener at 127.0.0.1/45315] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:27:41,890 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5ccba320] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:41,907 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,907 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:41,907 [Listener at 127.0.0.1/45315] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:41,922 [Listener at 127.0.0.1/45315] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:41,939 [Listener at 127.0.0.1/45315] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:42,030 [Listener at 127.0.0.1/45315] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 86 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:42,031 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:42,031 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:42,031 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:42,031 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:42,031 [Listener at 127.0.0.1/45315] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:42,041 [Listener at 127.0.0.1/45315] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:42,041 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:42,041 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds
2021-11-04 10:27:42,056 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds
2021-11-04 10:27:42,081 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis to VolumeSet
2021-11-04 10:27:42,081 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis
2021-11-04 10:27:42,081 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis
2021-11-04 10:27:42,108 [Thread-355] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds
2021-11-04 10:27:42,108 [Listener at 127.0.0.1/45315] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:42,123 [Listener at 127.0.0.1/45315] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:42,123 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:42,123 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:42,123 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:42,123 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:42,126 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:42,126 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:42,126 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:42,126 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:42,128 [Listener at 127.0.0.1/45315] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:42,128 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:42,128 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:42,128 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:27:42,141 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:42,141 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:42,142 [Listener at 127.0.0.1/45315] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:42,152 [Listener at 127.0.0.1/45315] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:42,154 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:42,155 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:42,155 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:42,155 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:42,156 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36851
2021-11-04 10:27:42,156 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:42,233 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:42,233 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:42,234 [Listener at 127.0.0.1/45315] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:27:42,242 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@139fce34{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:42,243 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@13376db5{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:42,251 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(343)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-11-04 10:27:42,309 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@35191ec8{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36851-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1439031529635644818/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:42,311 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-11-04 10:27:42,313 [Listener at 127.0.0.1/45315] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@334eadfa{HTTP/1.1, (http/1.1)}{0.0.0.0:36851}
2021-11-04 10:27:42,313 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(415)) - Started @19991ms
2021-11-04 10:27:42,313 [Listener at 127.0.0.1/45315] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:42,315 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36851
2021-11-04 10:27:42,326 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:42,326 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:42,326 [Listener at 127.0.0.1/45315] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:42,331 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:42,341 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(503)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-11-04 10:27:42,360 [Listener at 127.0.0.1/45315] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:42,368 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:42,368 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:42,373 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4c92a8cb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:42,387 [Listener at 127.0.0.1/45315] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:42,390 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/meta/datanode.id
2021-11-04 10:27:42,447 [Listener at 127.0.0.1/45315] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 59 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:42,450 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:42,450 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:42,450 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:42,450 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:42,450 [Listener at 127.0.0.1/45315] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:42,452 [Listener at 127.0.0.1/45315] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:42,452 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:42,452 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds
2021-11-04 10:27:42,453 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds
2021-11-04 10:27:42,474 [IPC Server handler 0 on default port 35205] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-11-04 10:27:42,477 [IPC Server handler 0 on default port 35205] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-11-04 10:27:42,480 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis to VolumeSet
2021-11-04 10:27:42,480 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis
2021-11-04 10:27:42,480 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis
2021-11-04 10:27:42,503 [Thread-368] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds
2021-11-04 10:27:42,503 [Listener at 127.0.0.1/45315] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:42,509 [Listener at 127.0.0.1/45315] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:42,509 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:42,509 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:42,510 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:42,511 [Listener at 127.0.0.1/45315] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:42,511 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:42,511 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:42,511 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:27:42,537 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:42,537 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:42,539 [Listener at 127.0.0.1/45315] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:42,542 [Listener at 127.0.0.1/45315] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:42,543 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:42,543 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:42,544 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:42,544 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:42,544 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43341
2021-11-04 10:27:42,546 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:42,572 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:42,572 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:42,573 [Listener at 127.0.0.1/45315] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:42,575 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@45d29672{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:42,575 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2bc30a11{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:42,637 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1380db91{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-43341-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6814581413180887726/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:42,642 [Listener at 127.0.0.1/45315] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@41f2b5e5{HTTP/1.1, (http/1.1)}{0.0.0.0:43341}
2021-11-04 10:27:42,642 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(415)) - Started @20320ms
2021-11-04 10:27:42,642 [Listener at 127.0.0.1/45315] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:42,643 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:43341
2021-11-04 10:27:42,645 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:42,645 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:42,645 [Listener at 127.0.0.1/45315] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:27:42,664 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:42,674 [Listener at 127.0.0.1/45315] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:27:42,681 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:42,683 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:42,688 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@20a9eca0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:42,692 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/meta/datanode.id
2021-11-04 10:27:42,707 [Listener at 127.0.0.1/45315] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:27:42,796 [Listener at 127.0.0.1/45315] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 88 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:42,803 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:27:42,804 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:27:42,804 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:27:42,804 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:27:42,804 [Listener at 127.0.0.1/45315] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:27:42,809 [Listener at 127.0.0.1/45315] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:27:42,809 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:27:42,810 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds
2021-11-04 10:27:42,810 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds
2021-11-04 10:27:42,836 [Listener at 127.0.0.1/45315] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis to VolumeSet
2021-11-04 10:27:42,836 [Listener at 127.0.0.1/45315] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis
2021-11-04 10:27:42,841 [Listener at 127.0.0.1/45315] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis
2021-11-04 10:27:42,846 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1052969644ns, electionTimeout:1040ms
2021-11-04 10:27:42,847 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:27:42,847 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:42,847 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:42,847 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection6
2021-11-04 10:27:42,858 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:45899|priority:0], old=null
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection6
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1092ms
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:27:42,859 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:27:42,860 [om1@group-C5BA1605619E-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:42,866 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-11-04 10:27:42,875 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:45899|admin:|client:|dataStream:|priority:0], old=null
2021-11-04 10:27:42,876 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:45899"
]
2021-11-04 10:27:42,880 [Thread-393] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds
2021-11-04 10:27:42,881 [Listener at 127.0.0.1/45315] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:27:42,888 [Listener at 127.0.0.1/45315] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:27:42,888 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:27:42,888 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:27:42,888 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:27:42,888 [Listener at 127.0.0.1/45315] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:27:42,889 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:27:42,889 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:42,889 [Listener at 127.0.0.1/45315] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:27:42,889 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:42,890 [Listener at 127.0.0.1/45315] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:27:42,890 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:42,890 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:42,890 [Listener at 127.0.0.1/45315] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:27:42,901 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:27:42,901 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:42,902 [Listener at 127.0.0.1/45315] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:42,903 [Listener at 127.0.0.1/45315] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:42,903 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:42,904 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:27:42,904 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:42,904 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:42,905 [Listener at 127.0.0.1/45315] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38141
2021-11-04 10:27:42,905 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:42,911 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:27:42,912 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:27:42,912 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 9347123f-4fba-45a0-9845-3e280072edef, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, CreationTimestamp2021-11-04T10:27:32.762Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:27:42,913 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: ff1125a4-c3b2-4356-9664-4b0da6274279, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0373d4be-9e82-4aa9-834c-daa3ef36e8e1, CreationTimestamp2021-11-04T10:27:33.051Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:27:42,913 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: c7526eaa-4851-48b1-8bfb-43e5ee44c3fb, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:33.054Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:27:42,917 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:42,925 [Listener at 127.0.0.1/45315] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:42,925 [Listener at 127.0.0.1/45315] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:27:42,918 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-11-04 10:27:42,917 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 5dec0cf2-6378-433d-8f3d-86ee0debdd68, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:32.416Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:27:42,930 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:27:42,928 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@d0808cc{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:42,933 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@d87efaf{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:27:42,934 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-11-04 10:27:42,973 [Listener at 127.0.0.1/45315] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@76f4ba2a{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-38141-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-627380707438691192/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:27:42,975 [Listener at 127.0.0.1/45315] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@43adf733{HTTP/1.1, (http/1.1)}{0.0.0.0:38141}
2021-11-04 10:27:42,975 [Listener at 127.0.0.1/45315] INFO  server.Server (Server.java:doStart(415)) - Started @20653ms
2021-11-04 10:27:42,975 [Listener at 127.0.0.1/45315] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:42,975 [Listener at 127.0.0.1/45315] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:38141
2021-11-04 10:27:42,976 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:27:42,976 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:42,976 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:42,976 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:42,981 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:27:42,981 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:27:42,984 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@25e69972] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:42,986 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/meta/datanode.id
2021-11-04 10:27:43,976 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:43,976 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:43,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:44,267 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,268 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,271 [pool-106-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,278 [pool-106-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,281 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:27:44,283 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:27:44,292 [pool-106-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:27:44,297 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,298 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:27:44,304 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:27:44,314 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,314 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,316 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:27:44,318 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:27:44,325 [pool-106-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,326 [pool-106-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,330 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,331 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:27:44,335 [pool-106-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:27:44,338 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:27:44,378 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:44,378 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:44,379 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 42575
2021-11-04 10:27:44,380 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:44,387 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start RPC server
2021-11-04 10:27:44,388 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: GrpcService started, listening on 45489
2021-11-04 10:27:44,388 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 37f749d9-5954-42a1-9f9b-1745bea0223f is started using port 45489 for RATIS
2021-11-04 10:27:44,388 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 37f749d9-5954-42a1-9f9b-1745bea0223f is started using port 45489 for RATIS_ADMIN
2021-11-04 10:27:44,388 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@56fd167d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-37f749d9-5954-42a1-9f9b-1745bea0223f: Started
2021-11-04 10:27:44,388 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 37f749d9-5954-42a1-9f9b-1745bea0223f is started using port 45489 for RATIS_SERVER
2021-11-04 10:27:44,389 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 37f749d9-5954-42a1-9f9b-1745bea0223f is started using port 36939
2021-11-04 10:27:44,692 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:44,692 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:44,694 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41545
2021-11-04 10:27:44,695 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:44,701 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start RPC server
2021-11-04 10:27:44,703 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - c8bf306f-0004-4090-a408-62c5f4c726d4: GrpcService started, listening on 36233
2021-11-04 10:27:44,703 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis c8bf306f-0004-4090-a408-62c5f4c726d4 is started using port 36233 for RATIS
2021-11-04 10:27:44,703 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis c8bf306f-0004-4090-a408-62c5f4c726d4 is started using port 36233 for RATIS_ADMIN
2021-11-04 10:27:44,703 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis c8bf306f-0004-4090-a408-62c5f4c726d4 is started using port 36233 for RATIS_SERVER
2021-11-04 10:27:44,705 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc c8bf306f-0004-4090-a408-62c5f4c726d4 is started using port 44663
2021-11-04 10:27:44,708 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6bd7c0e5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-c8bf306f-0004-4090-a408-62c5f4c726d4: Started
2021-11-04 10:27:44,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:44,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:44,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:44,989 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:27:44,989 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:27:44,990 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38157
2021-11-04 10:27:44,991 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:44,993 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start RPC server
2021-11-04 10:27:44,994 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: GrpcService started, listening on 38067
2021-11-04 10:27:44,995 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis d5c83119-0170-4c0e-a3d8-2bb84de341da is started using port 38067 for RATIS
2021-11-04 10:27:44,995 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@53b7882d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-d5c83119-0170-4c0e-a3d8-2bb84de341da: Started
2021-11-04 10:27:44,995 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis d5c83119-0170-4c0e-a3d8-2bb84de341da is started using port 38067 for RATIS_ADMIN
2021-11-04 10:27:44,996 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis d5c83119-0170-4c0e-a3d8-2bb84de341da is started using port 38067 for RATIS_SERVER
2021-11-04 10:27:44,996 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc d5c83119-0170-4c0e-a3d8-2bb84de341da is started using port 34747
2021-11-04 10:27:45,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:45,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:45,977 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:46,375 [IPC Server handler 5 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:46,375 [IPC Server handler 5 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:46,382 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:46,383 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:27:46,383 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:46,383 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:27:46,385 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:27:46,385 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a61ae003-5de8-4266-b9a6-07b228386806, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:46.383Z[Etc/UTC]].
2021-11-04 10:27:46,690 [IPC Server handler 0 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:46,690 [IPC Server handler 0 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:46,690 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:46,692 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:27:46,696 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:46,696 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 25412572-4e7d-4206-98d0-4638c6cea1b1, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:46.696Z[Etc/UTC]].
2021-11-04 10:27:46,978 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-11-04 10:27:46,978 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:46,978 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:46,986 [IPC Server handler 6 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:46,987 [IPC Server handler 6 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:46,988 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:27:46,989 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:46,989 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:46,989 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 380cb0bb-81a4-4ca5-94c6-3c4e26e9f488, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:46.989Z[Etc/UTC]].
2021-11-04 10:27:46,990 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:46,990 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:46,990 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:46,990 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: df7e923b-d6ab-4a6d-8079-ec640352d353, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:46.990Z[Etc/UTC]].
2021-11-04 10:27:47,930 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:27:47,933 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-11-04 10:27:47,934 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-11-04 10:27:47,935 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:27:47,936 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:27:47,941 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb which uses HEALTHY READONLY datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:27:47,936 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:27:47,942 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb close command to datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:47,945 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb close command to datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:47,941 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=9347123f-4fba-45a0-9845-3e280072edef since it stays at CLOSED stage.
2021-11-04 10:27:47,945 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb close command to datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:47,946 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=9347123f-4fba-45a0-9845-3e280072edef close command to datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:47,946 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: c7526eaa-4851-48b1-8bfb-43e5ee44c3fb, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:33.054Z[Etc/UTC]] removed.
2021-11-04 10:27:47,947 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 which uses HEALTHY READONLY datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:27:47,947 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 9347123f-4fba-45a0-9845-3e280072edef, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, CreationTimestamp2021-11-04T10:27:32.762Z[Etc/UTC]] removed.
2021-11-04 10:27:47,947 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 since it stays at CLOSED stage.
2021-11-04 10:27:47,947 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 close command to datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:47,948 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 5dec0cf2-6378-433d-8f3d-86ee0debdd68, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:32.416Z[Etc/UTC]] removed.
2021-11-04 10:27:47,948 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:27:47,948 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:27:47,948 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 which uses HEALTHY READONLY datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:27:47,949 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 close command to datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:47,949 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: ff1125a4-c3b2-4356-9664-4b0da6274279, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:0373d4be-9e82-4aa9-834c-daa3ef36e8e1, CreationTimestamp2021-11-04T10:27:33.051Z[Etc/UTC]] removed.
2021-11-04 10:27:47,948 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 close command to datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:47,950 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(225)) - Pipeline ff1125a4-c3b2-4356-9664-4b0da6274279 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-11-04 10:27:47,950 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 since it stays at CLOSED stage.
2021-11-04 10:27:47,950 [RatisPipelineUtilsThread - 0] ERROR pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:createPipelines(231)) - Error while scrubbing pipelines.
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:278)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getContainers(PipelineStateManagerImpl.java:196)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getContainers(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:328)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.scrubPipeline(PipelineManagerImpl.java:392)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator.createPipelines(BackgroundPipelineCreator.java:229)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator.run(BackgroundPipelineCreator.java:176)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:27:47,951 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-11-04 10:27:47,978 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:47,980 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:47,980 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:48,320 [IPC Server handler 5 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,321 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb is not found
2021-11-04 10:27:48,321 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 is not found
2021-11-04 10:27:48,344 [IPC Server handler 9 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,347 [IPC Server handler 8 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,821 [IPC Server handler 17 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,845 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: remove  FOLLOWER 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB:t1, leader=5053e8fa-b9de-40e0-acab-eef8ee16d020, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLog:OPENED:c10, conf=0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:48,845 [IPC Server handler 13 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,846 [IPC Server handler 16 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:48,848 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: shutdown
2021-11-04 10:27:48,848 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:48,848 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:48,849 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:48,850 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-43E5EE44C3FB: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10
2021-11-04 10:27:48,852 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:27:48,881 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-43E5EE44C3FB: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10 took: 30 ms
2021-11-04 10:27:48,882 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:27:48,884 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:27:48,889 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: closes. applyIndex: 10
2021-11-04 10:27:48,890 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:48,891 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB-SegmentedRaftLogWorker close()
2021-11-04 10:27:48,900 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-43E5EE44C3FB: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:48,900 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb command on datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b.
2021-11-04 10:27:48,901 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: remove    LEADER 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF:t1, leader=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, voted=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, raftlog=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLog:OPENED:c0, conf=0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:48,901 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: shutdown
2021-11-04 10:27:48,901 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3E280072EDEF,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:48,901 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-LeaderStateImpl
2021-11-04 10:27:48,901 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-PendingRequests: sendNotLeaderResponses
2021-11-04 10:27:48,902 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:27:48,903 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-3E280072EDEF: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef/sm/snapshot.1_0
2021-11-04 10:27:48,905 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-3E280072EDEF: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef/sm/snapshot.1_0 took: 3 ms
2021-11-04 10:27:48,905 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:27:48,905 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:27:48,906 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: closes. applyIndex: 0
2021-11-04 10:27:48,906 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:48,913 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF-SegmentedRaftLogWorker close()
2021-11-04 10:27:48,922 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-3E280072EDEF: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/9347123f-4fba-45a0-9845-3e280072edef
2021-11-04 10:27:48,922 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=9347123f-4fba-45a0-9845-3e280072edef command on datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b.
2021-11-04 10:27:48,922 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:48,922 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:27:48,922 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:27:48,924 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:27:48,925 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:27:48,926 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data-0/containers/hdds/239730f1-1678-483c-be81-cc1397c83434 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:27:48,929 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:27:48,980 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:48,980 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:48,980 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:49,320 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: remove    LEADER 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB:t1, leader=5053e8fa-b9de-40e0-acab-eef8ee16d020, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLog:OPENED:c10, conf=0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:49,320 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: shutdown
2021-11-04 10:27:49,321 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:49,321 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-LeaderStateImpl
2021-11-04 10:27:49,321 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:27:49,321 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:27:49,321 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-PendingRequests: sendNotLeaderResponses
2021-11-04 10:27:49,322 [IPC Server handler 5 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:49,328 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:27:49,328 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-43E5EE44C3FB: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10
2021-11-04 10:27:49,330 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: Completed APPEND_ENTRIES, lastRequest: 5053e8fa-b9de-40e0-acab-eef8ee16d020->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b#306-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-11-04 10:27:49,332 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-43E5EE44C3FB: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10 took: 3 ms
2021-11-04 10:27:49,332 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:27:49,332 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:27:49,333 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:27:49,334 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: closes. applyIndex: 10
2021-11-04 10:27:49,332 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: Completed APPEND_ENTRIES, lastRequest: 5053e8fa-b9de-40e0-acab-eef8ee16d020->0373d4be-9e82-4aa9-834c-daa3ef36e8e1#303-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-11-04 10:27:49,338 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:49,338 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:27:49,338 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:27:49,339 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB->0373d4be-9e82-4aa9-834c-daa3ef36e8e1: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:27:49,339 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB-SegmentedRaftLogWorker close()
2021-11-04 10:27:49,341 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-43E5EE44C3FB: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:49,341 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb command on datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020.
2021-11-04 10:27:49,342 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: remove    LEADER 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68:t1, leader=5053e8fa-b9de-40e0-acab-eef8ee16d020, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLog:OPENED:c0, conf=0: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:49,342 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: shutdown
2021-11-04 10:27:49,342 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-86EE0DEBDD68,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:49,342 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-LeaderStateImpl
2021-11-04 10:27:49,342 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-PendingRequests: sendNotLeaderResponses
2021-11-04 10:27:49,342 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:27:49,343 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-86EE0DEBDD68: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68/sm/snapshot.1_0
2021-11-04 10:27:49,346 [IPC Server handler 2 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:49,347 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 is not found
2021-11-04 10:27:49,347 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb is not found
2021-11-04 10:27:49,347 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-86EE0DEBDD68: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68/sm/snapshot.1_0 took: 4 ms
2021-11-04 10:27:49,347 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:27:49,347 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:27:49,347 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: closes. applyIndex: 0
2021-11-04 10:27:49,347 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:49,353 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68-SegmentedRaftLogWorker close()
2021-11-04 10:27:49,354 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-86EE0DEBDD68: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/5dec0cf2-6378-433d-8f3d-86ee0debdd68
2021-11-04 10:27:49,354 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=5dec0cf2-6378-433d-8f3d-86ee0debdd68 command on datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020.
2021-11-04 10:27:49,355 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:49,357 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:27:49,357 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:27:49,357 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:27:49,358 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:27:49,358 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data-0/containers/hdds/239730f1-1678-483c-be81-cc1397c83434 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:27:49,359 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:27:49,359 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:49,373 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-07B228386806:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] returns group-07B228386806:java.util.concurrent.CompletableFuture@4d4bfecb[Not completed]
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-07B228386806:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: ConfigurationManager, init=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,375 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,376 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806 does not exist. Creating ...
2021-11-04 10:27:49,378 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,379 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806 has been successfully formatted.
2021-11-04 10:27:49,382 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-07B228386806: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,383 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: a61ae003-5de8-4266-b9a6-07b228386806, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:37f749d9-5954-42a1-9f9b-1745bea0223f, CreationTimestamp2021-11-04T10:27:46.383Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:49,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,386 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,386 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,386 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,389 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,389 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,390 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,390 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,391 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,391 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,391 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,391 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,392 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,392 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,393 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: start as a follower, conf=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:27:49,393 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,393 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState
2021-11-04 10:27:49,393 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:49,397 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07B228386806,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:49,398 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=a61ae003-5de8-4266-b9a6-07b228386806
2021-11-04 10:27:49,398 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=a61ae003-5de8-4266-b9a6-07b228386806.
2021-11-04 10:27:49,398 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] returns group-EC640352D353:java.util.concurrent.CompletableFuture@497463ba[Not completed]
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,399 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:27:49,400 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,400 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,400 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 does not exist. Creating ...
2021-11-04 10:27:49,401 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,402 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 has been successfully formatted.
2021-11-04 10:27:49,402 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EC640352D353: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,402 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,402 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,402 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,403 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,403 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,403 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,403 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,404 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,405 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,406 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,407 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:27:49,407 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,407 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:27:49,408 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:49,408 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:27:49,423 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] returns group-EC640352D353:java.util.concurrent.CompletableFuture@1d1c09e4[Not completed]
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,426 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,427 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 does not exist. Creating ...
2021-11-04 10:27:49,428 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,429 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 has been successfully formatted.
2021-11-04 10:27:49,430 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EC640352D353: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,431 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,431 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,431 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,432 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,438 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,443 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,444 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:27:49,444 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:49,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d49b718e-67c6-41f0-8826-1ffdf3a34ff3 to datanode:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:49,446 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d49b718e-67c6-41f0-8826-1ffdf3a34ff3, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:49.444Z[Etc/UTC]].
2021-11-04 10:27:49,446 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-11-04 10:27:49,444 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,447 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,447 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,449 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:49,449 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,449 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:27:49,452 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:49,473 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] returns group-EC640352D353:java.util.concurrent.CompletableFuture@ef5a029[Not completed]
2021-11-04 10:27:49,477 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-EC640352D353:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,478 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,479 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 does not exist. Creating ...
2021-11-04 10:27:49,480 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,481 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353 has been successfully formatted.
2021-11-04 10:27:49,482 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EC640352D353: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,488 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,488 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,490 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,490 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,492 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,493 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:49,493 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,493 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState
2021-11-04 10:27:49,497 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:49,506 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353.
2021-11-04 10:27:49,689 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-4638C6CEA1B1:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] returns group-4638C6CEA1B1:java.util.concurrent.CompletableFuture@4f98c7b0[Not completed]
2021-11-04 10:27:49,690 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-4638C6CEA1B1:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,691 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,692 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1 does not exist. Creating ...
2021-11-04 10:27:49,692 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1 has been successfully formatted.
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4638C6CEA1B1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,694 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,695 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,696 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 25412572-4e7d-4206-98d0-4638c6cea1b1, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:c8bf306f-0004-4090-a408-62c5f4c726d4, CreationTimestamp2021-11-04T10:27:46.696Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:49,696 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:49,696 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,698 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,699 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,699 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,699 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,699 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,699 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,700 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,700 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,701 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,702 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null
2021-11-04 10:27:49,702 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,702 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState
2021-11-04 10:27:49,702 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4638C6CEA1B1,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:49,703 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1
2021-11-04 10:27:49,703 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1.
2021-11-04 10:27:49,844 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: remove  FOLLOWER 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB:t1, leader=5053e8fa-b9de-40e0-acab-eef8ee16d020, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLog:OPENED:c10, conf=0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:49,844 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: shutdown
2021-11-04 10:27:49,844 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43E5EE44C3FB,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:49,844 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState
2021-11-04 10:27:49,844 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:27:49,844 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:49,846 [IPC Server handler 13 on default port 34317] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:27:49,845 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-43E5EE44C3FB: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10
2021-11-04 10:27:49,849 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-43E5EE44C3FB: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb/sm/snapshot.1_10 took: 5 ms
2021-11-04 10:27:49,850 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:27:49,850 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:27:49,850 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: closes. applyIndex: 10
2021-11-04 10:27:49,850 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:49,852 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB-SegmentedRaftLogWorker close()
2021-11-04 10:27:49,853 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-43E5EE44C3FB: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/c7526eaa-4851-48b1-8bfb-43e5ee44c3fb
2021-11-04 10:27:49,853 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=c7526eaa-4851-48b1-8bfb-43e5ee44c3fb command on datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1.
2021-11-04 10:27:49,853 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: remove    LEADER 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279:t1, leader=0373d4be-9e82-4aa9-834c-daa3ef36e8e1, voted=0373d4be-9e82-4aa9-834c-daa3ef36e8e1, raftlog=0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLog:OPENED:c0, conf=0: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:27:49,854 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: shutdown
2021-11-04 10:27:49,854 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B0DA6274279,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:49,854 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-LeaderStateImpl
2021-11-04 10:27:49,854 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-PendingRequests: sendNotLeaderResponses
2021-11-04 10:27:49,854 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:27:49,854 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4B0DA6274279: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279/sm/snapshot.1_0
2021-11-04 10:27:49,856 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4B0DA6274279: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279/sm/snapshot.1_0 took: 2 ms
2021-11-04 10:27:49,856 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:27:49,856 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:27:49,857 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: closes. applyIndex: 0
2021-11-04 10:27:49,857 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:49,857 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279-SegmentedRaftLogWorker close()
2021-11-04 10:27:49,859 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-4B0DA6274279: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/ff1125a4-c3b2-4356-9664-4b0da6274279
2021-11-04 10:27:49,859 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ff1125a4-c3b2-4356-9664-4b0da6274279 command on datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1.
2021-11-04 10:27:49,859 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:49,859 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:27:49,859 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:27:49,859 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:27:49,860 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:27:49,860 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data-0/containers/hdds/239730f1-1678-483c-be81-cc1397c83434 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:27:49,861 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:27:49,861 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:49,861 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:49,904 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:49,938 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:27:49,938 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:49,939 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ef5f8415-e177-4450-bd6f-185f8d5ff4ee to datanode:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:49,941 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: ef5f8415-e177-4450-bd6f-185f8d5ff4ee, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:49.939Z[Etc/UTC]].
2021-11-04 10:27:49,941 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-11-04 10:27:49,981 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:49,982 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:49,982 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:49,985 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-3C4E26E9F488:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] returns group-3C4E26E9F488:java.util.concurrent.CompletableFuture@a7ad7ef[Not completed]
2021-11-04 10:27:49,985 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-3C4E26E9F488:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: ConfigurationManager, init=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:49,986 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 does not exist. Creating ...
2021-11-04 10:27:49,987 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 has been successfully formatted.
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-3C4E26E9F488: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:49,988 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:49,989 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 380cb0bb-81a4-4ca5-94c6-3c4e26e9f488, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:27:46.989Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:49,990 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:49,989 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:49,992 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:49,993 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:49,994 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:49,994 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:49,995 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: start as a follower, conf=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:27:49,995 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:49,995 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState
2021-11-04 10:27:49,995 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3C4E26E9F488,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:49,997 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488
2021-11-04 10:27:49,997 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488.
2021-11-04 10:27:50,196 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:50,344 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:50,344 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: addNew group-1FFDF3A34FF3:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1] returns group-1FFDF3A34FF3:java.util.concurrent.CompletableFuture@5955e390[Not completed]
2021-11-04 10:27:50,345 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: new RaftServerImpl for group-1FFDF3A34FF3:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:50,345 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:50,345 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis] (custom)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:50,346 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3 does not exist. Creating ...
2021-11-04 10:27:50,347 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:50,349 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3 has been successfully formatted.
2021-11-04 10:27:50,350 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1FFDF3A34FF3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:50,350 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:50,351 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: d49b718e-67c6-41f0-8826-1ffdf3a34ff3, Nodes: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b, CreationTimestamp2021-11-04T10:27:49.444Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:50,352 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:50,352 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:50,353 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:50,354 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:50,354 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:50,354 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:50,354 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:50,355 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:50,355 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,355 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:50,356 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:50,357 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null
2021-11-04 10:27:50,358 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:50,358 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState
2021-11-04 10:27:50,360 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1FFDF3A34FF3,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:50,361 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=d49b718e-67c6-41f0-8826-1ffdf3a34ff3
2021-11-04 10:27:50,362 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=d49b718e-67c6-41f0-8826-1ffdf3a34ff3.
2021-11-04 10:27:50,438 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:27:50,438 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:50,439 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e4cf8ae3-637f-4616-b715-b31c1cc69195 to datanode:0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:50,443 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e4cf8ae3-637f-4616-b715-b31c1cc69195, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:50.439Z[Etc/UTC]].
2021-11-04 10:27:50,443 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b4bfd907-12c3-4d17-b525-60b96425d90c to datanode:0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:50,443 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b4bfd907-12c3-4d17-b525-60b96425d90c to datanode:9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:50,443 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b4bfd907-12c3-4d17-b525-60b96425d90c to datanode:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:50,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b4bfd907-12c3-4d17-b525-60b96425d90c, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:27:50.443Z[Etc/UTC]].
2021-11-04 10:27:50,820 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:50,821 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: addNew group-185F8D5FF4EE:[5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-185F8D5FF4EE:java.util.concurrent.CompletableFuture@7bf48fe5[Not completed]
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: new RaftServerImpl for group-185F8D5FF4EE:[5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: ConfigurationManager, init=-1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:50,822 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis] (custom)
2021-11-04 10:27:50,823 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:50,823 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:50,823 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee does not exist. Creating ...
2021-11-04 10:27:50,824 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:50,825 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee has been successfully formatted.
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-185F8D5FF4EE: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:50,826 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,827 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: ef5f8415-e177-4450-bd6f-185f8d5ff4ee, Nodes: 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:49.939Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:50,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:50,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:50,827 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee
2021-11-04 10:27:50,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:50,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:50,829 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:50,829 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:50,829 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,829 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,830 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:50,831 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:50,831 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:50,831 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:50,831 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:50,831 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:50,832 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: start as a follower, conf=-1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:50,832 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:50,832 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState
2021-11-04 10:27:50,832 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-185F8D5FF4EE,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:50,833 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=ef5f8415-e177-4450-bd6f-185f8d5ff4ee
2021-11-04 10:27:50,833 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=ef5f8415-e177-4450-bd6f-185f8d5ff4ee.
2021-11-04 10:27:50,833 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: addNew group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] returns group-60B96425D90C:java.util.concurrent.CompletableFuture@500c4824[Not completed]
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: new RaftServerImpl for group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:50,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis] (custom)
2021-11-04 10:27:50,835 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:50,835 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:50,835 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c does not exist. Creating ...
2021-11-04 10:27:50,836 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:50,836 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c has been successfully formatted.
2021-11-04 10:27:50,838 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-60B96425D90C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:50,839 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:50,839 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:50,839 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:50,839 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:50,839 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:50,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:50,841 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:50,842 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:50,842 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,842 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,842 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:50,842 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:50,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:50,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:50,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:50,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:50,844 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:50,844 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:50,844 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState
2021-11-04 10:27:50,844 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:50,846 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b4bfd907-12c3-4d17-b525-60b96425d90c
2021-11-04 10:27:50,856 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: addNew group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1] returns group-60B96425D90C:java.util.concurrent.CompletableFuture@7c990ab[Not completed]
2021-11-04 10:27:50,860 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: new RaftServerImpl for group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:50,860 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:50,860 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:50,860 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:50,860 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis] (custom)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:50,861 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c does not exist. Creating ...
2021-11-04 10:27:50,862 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:50,863 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c has been successfully formatted.
2021-11-04 10:27:50,863 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-60B96425D90C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:50,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:50,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:50,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:50,865 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:50,866 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:50,867 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:50,867 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,867 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:50,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:50,869 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:50,869 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:50,869 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:27:50,871 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:50,885 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: addNew group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1] returns group-60B96425D90C:java.util.concurrent.CompletableFuture@6cd06d40[Not completed]
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: new RaftServerImpl for group-60B96425D90C:[9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: ConfigurationManager, init=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis] (custom)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:50,886 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c does not exist. Creating ...
2021-11-04 10:27:50,887 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:50,888 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c has been successfully formatted.
2021-11-04 10:27:50,888 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-60B96425D90C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,889 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:50,890 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:50,891 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:50,891 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,891 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:50,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:50,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:50,893 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:50,893 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:50,893 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:50,893 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:50,894 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: start as a follower, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:50,894 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:50,894 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState
2021-11-04 10:27:50,894 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:50,901 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=b4bfd907-12c3-4d17-b525-60b96425d90c.
2021-11-04 10:27:50,982 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:50,982 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:50,982 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:50,989 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:51,343 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:27:51,344 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: addNew group-B31C1CC69195:[0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1] returns group-B31C1CC69195:java.util.concurrent.CompletableFuture@7f24e95[Not completed]
2021-11-04 10:27:51,344 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: new RaftServerImpl for group-B31C1CC69195:[0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:27:51,344 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: ConfigurationManager, init=-1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis] (custom)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:27:51,345 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195 does not exist. Creating ...
2021-11-04 10:27:51,346 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195 has been successfully formatted.
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B31C1CC69195: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:27:51,347 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:51,348 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: e4cf8ae3-637f-4616-b715-b31c1cc69195, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0373d4be-9e82-4aa9-834c-daa3ef36e8e1, CreationTimestamp2021-11-04T10:27:50.439Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:51,349 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:27:51,350 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:27:51,351 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:27:51,351 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:27:51,352 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:51,352 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:27:51,356 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:27:51,356 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:27:51,357 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:27:51,357 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:27:51,357 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:27:51,357 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:27:51,358 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: start as a follower, conf=-1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null
2021-11-04 10:27:51,358 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:27:51,358 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState
2021-11-04 10:27:51,363 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B31C1CC69195,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:51,363 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e4cf8ae3-637f-4616-b715-b31c1cc69195
2021-11-04 10:27:51,363 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e4cf8ae3-637f-4616-b715-b31c1cc69195.
2021-11-04 10:27:51,403 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:51,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:51,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:51,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:51,991 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:52,196 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:52,404 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:52,945 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:27:52,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:52,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:52,983 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:53,196 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:53,492 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:53,905 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:53,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:53,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:53,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:54,422 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5014405743ns, electionTimeout:5014ms
2021-11-04 10:27:54,422 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:27:54,422 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:54,423 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:54,424 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7
2021-11-04 10:27:54,426 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:27:54,436 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: receive requestVote(ELECTION, 37f749d9-5954-42a1-9f9b-1745bea0223f, group-EC640352D353, 1, (t:0, i:0))
2021-11-04 10:27:54,436 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FOLLOWER: reject ELECTION from 37f749d9-5954-42a1-9f9b-1745bea0223f: our priority 1 > candidate's priority 0
2021-11-04 10:27:54,436 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:54,436 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState
2021-11-04 10:27:54,436 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState
2021-11-04 10:27:54,436 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:54,443 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353 replies to ELECTION vote request: 37f749d9-5954-42a1-9f9b-1745bea0223f<-d5c83119-0170-4c0e-a3d8-2bb84de341da#0:FAIL-t1. Peer's state: d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353:t1, leader=null, voted=null, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 37f749d9-5954-42a1-9f9b-1745bea0223f<-d5c83119-0170-4c0e-a3d8-2bb84de341da#0:FAIL-t1
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7 ELECTION round 0: result REJECTED
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7
2021-11-04 10:27:54,445 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:27:54,452 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: receive requestVote(ELECTION, 37f749d9-5954-42a1-9f9b-1745bea0223f, group-EC640352D353, 1, (t:0, i:0))
2021-11-04 10:27:54,452 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FOLLOWER: accept ELECTION from 37f749d9-5954-42a1-9f9b-1745bea0223f: our priority 0 <= candidate's priority 0
2021-11-04 10:27:54,453 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:54,453 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:27:54,453 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:27:54,453 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:54,455 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353 replies to ELECTION vote request: 37f749d9-5954-42a1-9f9b-1745bea0223f<-c8bf306f-0004-4090-a408-62c5f4c726d4#0:OK-t1. Peer's state: c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353:t1, leader=null, voted=37f749d9-5954-42a1-9f9b-1745bea0223f, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:54,491 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:54,503 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5110055324ns, electionTimeout:5105ms
2021-11-04 10:27:54,503 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState
2021-11-04 10:27:54,503 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:54,503 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:54,503 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8
2021-11-04 10:27:54,507 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-07B228386806 with new leaderId: 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: change Leader from null to 37f749d9-5954-42a1-9f9b-1745bea0223f at term 1 for becomeLeader, leader elected after 5125ms
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:54,508 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:54,509 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderStateImpl
2021-11-04 10:27:54,510 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:54,510 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:54,511 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806/current/log_inprogress_0
2021-11-04 10:27:54,513 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: set configuration 0: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:1], old=null
2021-11-04 10:27:54,842 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5139360480ns, electionTimeout:5139ms
2021-11-04 10:27:54,842 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState
2021-11-04 10:27:54,842 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:54,843 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:54,843 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4638C6CEA1B1 with new leaderId: c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: change Leader from null to c8bf306f-0004-4090-a408-62c5f4c726d4 at term 1 for becomeLeader, leader elected after 5152ms
2021-11-04 10:27:54,846 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:54,847 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderStateImpl
2021-11-04 10:27:54,848 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:54,848 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:54,852 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1/current/log_inprogress_0
2021-11-04 10:27:54,853 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:1], old=null
2021-11-04 10:27:54,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:54,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:54,984 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:55,010 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:55,057 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5061923219ns, electionTimeout:5056ms
2021-11-04 10:27:55,057 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState
2021-11-04 10:27:55,057 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:55,057 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:55,057 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10
2021-11-04 10:27:55,061 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:27:55,061 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:55,061 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10
2021-11-04 10:27:55,061 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:55,061 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-3C4E26E9F488 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:55,062 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for becomeLeader, leader elected after 5073ms
2021-11-04 10:27:55,062 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:55,063 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,063 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:55,063 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:55,063 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:55,063 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:55,064 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,064 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:55,064 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:55,064 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderStateImpl
2021-11-04 10:27:55,064 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:55,069 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: set configuration 0: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:55,071 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488/current/log_inprogress_0
2021-11-04 10:27:55,348 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:55,440 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5082336264ns, electionTimeout:5079ms
2021-11-04 10:27:55,440 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState
2021-11-04 10:27:55,440 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:55,440 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:55,441 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11
2021-11-04 10:27:55,444 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:1], old=null
2021-11-04 10:27:55,444 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:55,444 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11
2021-11-04 10:27:55,444 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:55,444 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1FFDF3A34FF3 with new leaderId: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: change Leader from null to 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b at term 1 for becomeLeader, leader elected after 5094ms
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:55,445 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:55,446 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:55,446 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,446 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:55,446 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderStateImpl
2021-11-04 10:27:55,446 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:55,447 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3/current/log_inprogress_0
2021-11-04 10:27:55,449 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:1], old=null
2021-11-04 10:27:55,933 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5088856435ns, electionTimeout:5088ms
2021-11-04 10:27:55,933 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState
2021-11-04 10:27:55,933 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:55,933 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:55,933 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12
2021-11-04 10:27:55,937 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:55,943 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: receive requestVote(ELECTION, 5053e8fa-b9de-40e0-acab-eef8ee16d020, group-60B96425D90C, 1, (t:0, i:0))
2021-11-04 10:27:55,943 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FOLLOWER: accept ELECTION from 5053e8fa-b9de-40e0-acab-eef8ee16d020: our priority 0 <= candidate's priority 1
2021-11-04 10:27:55,943 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:55,943 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:27:55,943 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:27:55,943 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:55,953 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C replies to ELECTION vote request: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-0373d4be-9e82-4aa9-834c-daa3ef36e8e1#0:OK-t1. Peer's state: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C:t1, leader=null, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLog:OPENED:c-1, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:55,955 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: receive requestVote(ELECTION, 5053e8fa-b9de-40e0-acab-eef8ee16d020, group-60B96425D90C, 1, (t:0, i:0))
2021-11-04 10:27:55,955 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FOLLOWER: accept ELECTION from 5053e8fa-b9de-40e0-acab-eef8ee16d020: our priority 0 <= candidate's priority 1
2021-11-04 10:27:55,955 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:55,955 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState
2021-11-04 10:27:55,955 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: start 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState
2021-11-04 10:27:55,955 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:55,958 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C replies to ELECTION vote request: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-9c23fb6c-dde8-4365-8a38-ecf62c0bac2b#0:OK-t1. Peer's state: 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C:t1, leader=null, voted=5053e8fa-b9de-40e0-acab-eef8ee16d020, raftlog=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLog:OPENED:c-1, conf=-1: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 5053e8fa-b9de-40e0-acab-eef8ee16d020<-0373d4be-9e82-4aa9-834c-daa3ef36e8e1#0:OK-t1
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12 ELECTION round 0: result PASSED
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-60B96425D90C with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for becomeLeader, leader elected after 5120ms
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,960 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:55,961 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:55,962 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:55,963 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:55,963 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:55,963 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderStateImpl
2021-11-04 10:27:55,963 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:55,965 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: b4bfd907-12c3-4d17-b525-60b96425d90c, Nodes: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:5053e8fa-b9de-40e0-acab-eef8ee16d020, CreationTimestamp2021-11-04T10:27:50.443Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:55,965 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/current/log_inprogress_0
2021-11-04 10:27:55,978 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:55,983 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-60B96425D90C with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:55,983 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for appendEntries, leader elected after 5119ms
2021-11-04 10:27:55,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:55,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:55,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:55,986 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-60B96425D90C with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:55,986 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for appendEntries, leader elected after 5097ms
2021-11-04 10:27:55,989 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:55,989 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:55,989 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: set configuration 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:55,989 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:55,991 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/current/log_inprogress_0
2021-11-04 10:27:55,991 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/current/log_inprogress_0
2021-11-04 10:27:56,007 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5175307703ns, electionTimeout:5175ms
2021-11-04 10:27:56,007 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState
2021-11-04 10:27:56,007 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:56,008 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:56,008 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|priority:1], old=null
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-185F8D5FF4EE with new leaderId: 5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: change Leader from null to 5053e8fa-b9de-40e0-acab-eef8ee16d020 at term 1 for becomeLeader, leader elected after 5188ms
2021-11-04 10:27:56,014 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:56,016 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:56,017 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:56,017 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: start 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderStateImpl
2021-11-04 10:27:56,017 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:56,021 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: set configuration 0: [5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:27:56,021 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee/current/log_inprogress_0
2021-11-04 10:27:56,065 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:56,349 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:56,511 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:56,561 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5203445940ns, electionTimeout:5195ms
2021-11-04 10:27:56,561 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState
2021-11-04 10:27:56,562 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:27:56,562 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:56,562 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|priority:1], old=null
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B31C1CC69195 with new leaderId: 0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: change Leader from null to 0373d4be-9e82-4aa9-834c-daa3ef36e8e1 at term 1 for becomeLeader, leader elected after 5218ms
2021-11-04 10:27:56,566 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:56,567 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:56,567 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:56,567 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:56,567 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:56,568 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:56,568 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:56,568 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:56,568 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderStateImpl
2021-11-04 10:27:56,568 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:56,570 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195/current/log_inprogress_0
2021-11-04 10:27:56,570 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: set configuration 0: [0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:1], old=null
2021-11-04 10:27:56,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:56,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:56,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:57,065 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:57,849 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:57,945 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-11-04 10:27:57,945 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:27:57,946 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-11-04 10:27:57,947 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:27:57,947 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:27:57,947 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:27:57,947 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:27:57,947 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:27:57,948 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:27:57,948 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:27:57,948 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:27:57,948 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34317
2021-11-04 10:27:57,949 [IPC Server handler 0 on default port 34317] WARN  ipc.Server (Server.java:processResponse(1717)) - IPC Server handler 0 on default port 34317, call Call#266 Retry#0 org.apache.hadoop.ozone.protocol.StorageContainerDatanodeProtocol.submitRequest from 10.1.0.36:35730: output error
2021-11-04 10:27:57,949 [IPC Server handler 0 on default port 34317] INFO  ipc.Server (Server.java:run(2979)) - IPC Server handler 0 on default port 34317 caught an exception
java.nio.channels.ClosedByInterruptException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:477)
	at org.apache.hadoop.ipc.Server.channelWrite(Server.java:3605)
	at org.apache.hadoop.ipc.Server.access$1700(Server.java:141)
	at org.apache.hadoop.ipc.Server$Responder.processResponse(Server.java:1667)
	at org.apache.hadoop.ipc.Server$Responder.doRespond(Server.java:1737)
	at org.apache.hadoop.ipc.Server$Connection.sendResponse(Server.java:2837)
	at org.apache.hadoop.ipc.Server$Connection.access$300(Server.java:1809)
	at org.apache.hadoop.ipc.Server$RpcCall.doResponse(Server.java:1117)
	at org.apache.hadoop.ipc.Server$Call.doResponse(Server.java:909)
	at org.apache.hadoop.ipc.Server$Call.sendResponse(Server.java:895)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1052)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
2021-11-04 10:27:57,952 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:27:57,952 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:27:57,953 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:34317 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az59-461/10.1.0.36"; destination host is: "0.0.0.0":34317; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-11-04 10:27:57,985 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:57,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:57,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:58,011 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:58,444 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:27:58,445 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:27:58,445 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:27:58,445 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35205
2021-11-04 10:27:58,447 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:27:58,447 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:27:58,447 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35635
2021-11-04 10:27:58,447 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:27:58,448 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:27:58,450 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:27:58,450 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:27:58,482 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:27:58,486 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1e3cd304{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:27:58,496 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@46d5a3cc{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:27:58,496 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:27:58,497 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ebc9207{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:27:58,497 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6c84e567{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:27:58,500 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:27:58,501 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:27:58,507 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:27:58,507 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:27:58,512 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:27:58,512 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:27:58,513 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:27:58,515 [Datanode State Machine Daemon Thread] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:633)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:280)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:468)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-11-04 10:27:58,517 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:27:58,533 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:27:58,533 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-11-04 10:27:58,534 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:27:58,534 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:27:58,534 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:58,535 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-11-04 10:27:58,571 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:27:58,573 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:58,573 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:58,606 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:27:58,606 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:27:58,609 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:58,609 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:27:58,609 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:27:58,610 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:27:58,610 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:58,612 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:27:58,612 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:27:58,612 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:27:58,613 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:27:58,614 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:27:58,614 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:27:58,614 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:27:58,615 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-11-04 10:27:58,615 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 1, healthy pipeline threshold count is 1
2021-11-04 10:27:58,615 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 1, pipeline's with at least one datanode reported threshold count is 1
2021-11-04 10:27:58,617 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-11-04 10:27:58,617 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:58,618 [Socket Reader #1 for port 34317] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 34317
2021-11-04 10:27:58,621 [Listener at 0.0.0.0/34317] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:58,622 [Socket Reader #1 for port 35205] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 35205
2021-11-04 10:27:58,625 [Listener at 0.0.0.0/35205] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:27:58,625 [Socket Reader #1 for port 35635] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 35635
2021-11-04 10:27:58,642 [Listener at 0.0.0.0/35635] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:27:58,642 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:27:58,642 [Listener at 0.0.0.0/35635] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:58,642 [Listener at 0.0.0.0/35635] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:27:58,642 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35635
2021-11-04 10:27:58,644 [Listener at 0.0.0.0/35635] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:27:58,645 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:27:58,645 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:27:58,667 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:27:58,667 [Listener at 0.0.0.0/35635] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:27:58,681 [Listener at 0.0.0.0/35635] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:35635
2021-11-04 10:27:58,681 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:58,681 [IPC Server listener on 35635] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 35635: starting
2021-11-04 10:27:58,692 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:35205
2021-11-04 10:27:58,693 [Listener at 0.0.0.0/35635] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:35205
2021-11-04 10:27:58,693 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:58,693 [IPC Server listener on 35205] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 35205: starting
2021-11-04 10:27:58,699 [Listener at 0.0.0.0/35635] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34317
2021-11-04 10:27:58,699 [Listener at 0.0.0.0/35635] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34317
2021-11-04 10:27:58,700 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:27:58,700 [IPC Server listener on 34317] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 34317: starting
2021-11-04 10:27:58,704 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:39665
2021-11-04 10:27:58,704 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:27:58,709 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@adf6485] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:27:58,710 [Listener at 0.0.0.0/35635] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:27:58,710 [Listener at 0.0.0.0/35635] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:27:58,711 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:27:58,712 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:27:58,712 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:27:58,712 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:27:58,712 [Listener at 0.0.0.0/35635] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39665
2021-11-04 10:27:58,712 [Listener at 0.0.0.0/35635] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:27:58,714 [Listener at 0.0.0.0/35635] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:27:58,714 [Listener at 0.0.0.0/35635] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:27:58,714 [Listener at 0.0.0.0/35635] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:27:58,715 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@19799b6b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:27:58,715 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@38ef4fd2{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:27:58,718 [Listener at 0.0.0.0/35635] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@485f47dd{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:27:58,721 [Listener at 0.0.0.0/35635] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3da2a3b5{HTTP/1.1, (http/1.1)}{0.0.0.0:39665}
2021-11-04 10:27:58,721 [Listener at 0.0.0.0/35635] INFO  server.Server (Server.java:doStart(415)) - Started @36399ms
2021-11-04 10:27:58,721 [Listener at 0.0.0.0/35635] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:27:58,722 [Listener at 0.0.0.0/35635] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:39665
2021-11-04 10:27:58,722 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:27:58,722 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:58,722 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:58,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:58,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:27:58,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:59,017 [EndpointStateMachine task thread for /0.0.0.0:34317 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:34317. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-11-04 10:27:59,021 [IPC Server handler 0 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,022 [IPC Server handler 1 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,024 [IPC Server handler 2 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,024 [IPC Server handler 3 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,025 [IPC Server handler 3 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,025 [IPC Server handler 5 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,026 [IPC Server handler 6 on default port 34317] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:27:59,064 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:59,069 [IPC Server handler 7 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:27:59,069 [IPC Server handler 7 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0373d4be-9e82-4aa9-834c-daa3ef36e8e1{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38613, RATIS=46427, RATIS_ADMIN=46427, RATIS_SERVER=46427, STANDALONE=44577], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:59,074 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-11-04 10:27:59,074 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:27:59,074 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:27:59,077 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:59,078 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (OneReplicaPipelineSafeModeRule.java:process(120)) - SCM in safe mode. Pipelines with at least one datanode reported count is 1, required at least one datanode reported per pipeline count is 1
2021-11-04 10:27:59,083 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:27:59,083 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:59,449 [IPC Server handler 8 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:27:59,450 [IPC Server handler 8 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38055, RATIS=32827, RATIS_ADMIN=32827, RATIS_SERVER=32827, STANDALONE=42573], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:59,450 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:59,451 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:27:59,451 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:27:59,457 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5020709831ns, electionTimeout:5009ms
2021-11-04 10:27:59,457 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState
2021-11-04 10:27:59,457 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:27:59,457 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:59,457 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15
2021-11-04 10:27:59,461 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15 ELECTION round 0: submit vote requests at term 2 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:59,471 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5026170397ns, electionTimeout:5020ms
2021-11-04 10:27:59,471 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:27:59,472 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:27:59,472 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:27:59,472 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection16
2021-11-04 10:27:59,476 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: receive requestVote(ELECTION, d5c83119-0170-4c0e-a3d8-2bb84de341da, group-EC640352D353, 2, (t:0, i:0))
2021-11-04 10:27:59,477 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-CANDIDATE: accept ELECTION from d5c83119-0170-4c0e-a3d8-2bb84de341da: our priority 0 <= candidate's priority 1
2021-11-04 10:27:59,477 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:59,477 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection16
2021-11-04 10:27:59,477 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:27:59,477 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-LeaderElection16: skip running since this is already CLOSING
2021-11-04 10:27:59,479 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353 replies to ELECTION vote request: d5c83119-0170-4c0e-a3d8-2bb84de341da<-37f749d9-5954-42a1-9f9b-1745bea0223f#0:OK-t2. Peer's state: 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353:t2, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:27:59,479 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: receive requestVote(ELECTION, d5c83119-0170-4c0e-a3d8-2bb84de341da, group-EC640352D353, 2, (t:0, i:0))
2021-11-04 10:27:59,479 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FOLLOWER: accept ELECTION from d5c83119-0170-4c0e-a3d8-2bb84de341da: our priority 0 <= candidate's priority 1
2021-11-04 10:27:59,479 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:59,479 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:27:59,479 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:27:59,479 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: d5c83119-0170-4c0e-a3d8-2bb84de341da<-37f749d9-5954-42a1-9f9b-1745bea0223f#0:OK-t2
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15 ELECTION round 0: result PASSED
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:27:59,480 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EC640352D353 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 2 for becomeLeader, leader elected after 9994ms
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:27:59,481 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:59,482 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:27:59,483 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:27:59,492 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:27:59,492 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:27:59,492 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:27:59,492 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:27:59,493 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderStateImpl
2021-11-04 10:27:59,493 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:59,495 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/current/log_inprogress_0
2021-11-04 10:27:59,495 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353 replies to ELECTION vote request: d5c83119-0170-4c0e-a3d8-2bb84de341da<-c8bf306f-0004-4090-a408-62c5f4c726d4#0:OK-t2. Peer's state: c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353:t2, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:59,499 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EC640352D353 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:59,499 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 2 for appendEntries, leader elected after 10096ms
2021-11-04 10:27:59,506 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:59,507 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EC640352D353 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:27:59,507 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 2 for appendEntries, leader elected after 10075ms
2021-11-04 10:27:59,507 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: df7e923b-d6ab-4a6d-8079-ec640352d353, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:27:46.990Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:27:59,508 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:27:59,513 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:59,513 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:27:59,513 [grpc-default-executor-4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:59,513 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:27:59,515 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/current/log_inprogress_0
2021-11-04 10:27:59,515 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/current/log_inprogress_0
2021-11-04 10:27:59,521 [IPC Server handler 9 on default port 34317] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:27:59,521 [IPC Server handler 9 on default port 34317] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 5053e8fa-b9de-40e0-acab-eef8ee16d020{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=34805, RATIS=36095, RATIS_ADMIN=36095, RATIS_SERVER=36095, STANDALONE=34697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:27:59,521 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:27:59,527 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:27:59,527 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:27:59,723 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:59,723 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:27:59,723 [Listener at 0.0.0.0/35635] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:59,724 [Listener at 0.0.0.0/35635] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:86)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPostFinalizeUpgrade(TestHDDSUpgrade.java:742)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:27:59,727 [Listener at 0.0.0.0/35635] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:27:59,727 [Listener at 0.0.0.0/35635] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:27:59,832 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-11-04 10:27:59,832 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-11-04 10:27:59,832 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:27:59,832 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:27:59,833 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42857
2021-11-04 10:27:59,837 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:27:59,837 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:27:59,839 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:27:59,840 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:27:59,840 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:27:59,840 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:27:59,840 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:27:59,845 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-11-04 10:27:59,845 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-11-04 10:27:59,846 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-11-04 10:27:59,846 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-11-04 10:27:59,846 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:27:59,846 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-11-04 10:27:59,846 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:27:59,848 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:27:59,849 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 42887 now
2021-11-04 10:27:59,854 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 42887 successfully
2021-11-04 10:27:59,855 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ebe8543] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:27:59,855 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:27:59,855 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:27:59,856 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:27:59,856 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:27:59,858 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@48fe3514{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:27:59,859 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4a5f2c97{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:27:59,859 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:27:59,860 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2c3d7c5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:27:59,860 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6acb4e1d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:27:59,865 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:27:59,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:27:59,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:27:59,986 [Listener at 127.0.0.1/45315] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:27:59,987 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-11-04 10:27:59,988 [Listener at 127.0.0.1/45315] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:59,990 [Listener at 127.0.0.1/45315] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:27:59,990 [Listener at 127.0.0.1/45315] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:27:59,991 [Listener at 127.0.0.1/45315] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:27:59,991 [Listener at 127.0.0.1/45315] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:00,064 [Listener at 127.0.0.1/45315] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 72 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:00,065 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:00,065 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:00,065 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:00,065 [Listener at 127.0.0.1/45315] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:00,065 [Listener at 127.0.0.1/45315] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,067 [Listener at 127.0.0.1/45315] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,094 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(343)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-11-04 10:28:00,102 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-11-04 10:28:00,115 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(503)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-11-04 10:28:00,137 [IPC Server handler 1 on default port 35191] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-11-04 10:28:00,137 [IPC Server handler 1 on default port 35191] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-11-04 10:28:00,185 [Listener at 127.0.0.1/45315] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:28:00,185 [Listener at 127.0.0.1/45315] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:28:00,193 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,193 [Listener at 127.0.0.1/45315] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,193 [Listener at 127.0.0.1/45315] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:28:00,194 [Listener at 127.0.0.1/45315] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:28:00,195 [Listener at 127.0.0.1/45315] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:28:00,195 [Listener at 127.0.0.1/45315] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:28:00,196 [Listener at 127.0.0.1/45315] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:28:00,197 [Listener at 127.0.0.1/45315] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:00,197 [Listener at 127.0.0.1/45315] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:28:00,197 [Listener at 127.0.0.1/45315] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:28:00,197 [Listener at 127.0.0.1/45315] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:28:00,197 [Listener at 127.0.0.1/45315] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:28:00,201 [Listener at 127.0.0.1/45315] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:28:00,201 [Listener at 127.0.0.1/45315] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:28:00,201 [Listener at 127.0.0.1/45315] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:28:00,202 [Listener at 127.0.0.1/45315] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:28:00,206 [Listener at 127.0.0.1/45315] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:28:00,206 [Listener at 127.0.0.1/45315] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:28:00,207 [Listener at 127.0.0.1/45315] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:28:00,218 [Listener at 127.0.0.1/45315] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:00,220 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:00,222 [Listener at 0.0.0.0/45979] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:00,222 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:00,223 [Listener at 0.0.0.0/43541] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:00,224 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:00,233 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:28:00,254 [Listener at 0.0.0.0/36977] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:00,255 [Listener at 0.0.0.0/36977] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:28:00,255 [Listener at 0.0.0.0/36977] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:00,255 [Listener at 0.0.0.0/36977] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:28:00,261 [Listener at 0.0.0.0/36977] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:00,261 [Listener at 0.0.0.0/36977] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:00,261 [Listener at 0.0.0.0/36977] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:00,262 [Listener at 0.0.0.0/36977] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:36977
2021-11-04 10:28:00,262 [Listener at 0.0.0.0/36977] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-11-04 10:28:00,289 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:00,289 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:28:00,289 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: a61ae003-5de8-4266-b9a6-07b228386806, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:37f749d9-5954-42a1-9f9b-1745bea0223f, CreationTimestamp2021-11-04T10:27:46.383Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:00,290 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 25412572-4e7d-4206-98d0-4638c6cea1b1, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:c8bf306f-0004-4090-a408-62c5f4c726d4, CreationTimestamp2021-11-04T10:27:46.696Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:00,290 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 380cb0bb-81a4-4ca5-94c6-3c4e26e9f488, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:27:46.989Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:00,291 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: df7e923b-d6ab-4a6d-8079-ec640352d353, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:27:46.990Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:00,292 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:28:00,292 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-11-04 10:28:00,294 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-11-04 10:28:00,295 [Listener at 0.0.0.0/36977] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:36977
2021-11-04 10:28:00,295 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:00,299 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:00,303 [Listener at 0.0.0.0/36977] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43541
2021-11-04 10:28:00,303 [Listener at 0.0.0.0/36977] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43541
2021-11-04 10:28:00,303 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:00,305 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:00,312 [Listener at 0.0.0.0/36977] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:45979
2021-11-04 10:28:00,313 [Listener at 0.0.0.0/36977] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:45979
2021-11-04 10:28:00,313 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:00,313 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:00,321 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@60930810] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:00,321 [Listener at 0.0.0.0/36977] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:28:00,321 [Listener at 0.0.0.0/36977] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:00,322 [Listener at 0.0.0.0/36977] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:00,322 [Listener at 0.0.0.0/36977] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:00,324 [Listener at 0.0.0.0/36977] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:00,324 [Listener at 0.0.0.0/36977] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:28:00,324 [Listener at 0.0.0.0/36977] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:00,324 [Listener at 0.0.0.0/36977] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:00,325 [Listener at 0.0.0.0/36977] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43057
2021-11-04 10:28:00,325 [Listener at 0.0.0.0/36977] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:00,329 [Listener at 0.0.0.0/36977] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:00,329 [Listener at 0.0.0.0/36977] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:00,329 [Listener at 0.0.0.0/36977] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:28:00,330 [Listener at 0.0.0.0/36977] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4d817cf5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:00,331 [Listener at 0.0.0.0/36977] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@845e58e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:28:00,335 [Listener at 0.0.0.0/36977] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4f1d0ab3{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:00,338 [Listener at 0.0.0.0/36977] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7725f03c{HTTP/1.1, (http/1.1)}{0.0.0.0:43057}
2021-11-04 10:28:00,338 [Listener at 0.0.0.0/36977] INFO  server.Server (Server.java:doStart(415)) - Started @38016ms
2021-11-04 10:28:00,338 [Listener at 0.0.0.0/36977] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:00,339 [Listener at 0.0.0.0/36977] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:43057
2021-11-04 10:28:00,339 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,340 [Listener at 0.0.0.0/36977] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:28:00,340 [Listener at 0.0.0.0/36977] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:28:00,340 [Listener at 0.0.0.0/36977] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:28:00,340 [Listener at 0.0.0.0/36977] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:28:00,340 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,341 [Listener at 0.0.0.0/36977] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:28:00,394 [Listener at 0.0.0.0/36977] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 53 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:28:00,394 [Listener at 0.0.0.0/36977] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:28:00,394 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,414 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:00,414 [Listener at 0.0.0.0/36977] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:28:00,414 [Listener at 0.0.0.0/36977] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,519 [Listener at 0.0.0.0/36977] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:28:00,521 [Listener at 0.0.0.0/36977] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:44371
2021-11-04 10:28:00,521 [Listener at 0.0.0.0/36977] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 44371 (custom)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 44371 (custom)
2021-11-04 10:28:00,525 [Listener at 0.0.0.0/36977] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 44371 (custom)
2021-11-04 10:28:00,526 [Listener at 0.0.0.0/36977] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:28:00,526 [Listener at 0.0.0.0/36977] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:00,526 [Listener at 0.0.0.0/36977] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:28:00,526 [Listener at 0.0.0.0/36977] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:28:00,527 [Listener at 0.0.0.0/36977] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:00,527 [Listener at 0.0.0.0/36977] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:28:00,527 [Listener at 0.0.0.0/36977] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:00,527 [Listener at 0.0.0.0/36977] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis] (custom)
2021-11-04 10:28:00,529 [Listener at 0.0.0.0/36977] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:44371|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@6eed131c[Not completed]
2021-11-04 10:28:00,529 [Listener at 0.0.0.0/36977] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 44371
2021-11-04 10:28:00,530 [Listener at 0.0.0.0/36977] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:00,531 [pool-306-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:44371|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:28:00,531 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:00,548 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:44371|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis] (custom)
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:00,549 [pool-306-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:28:00,551 [pool-306-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:00,551 [pool-306-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:28:00,552 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:28:00,552 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:00,552 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:00,552 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:00,552 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:00,553 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:00,554 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:28:00,554 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:28:00,554 [pool-306-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:00,554 [pool-306-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:00,564 [Listener at 127.0.0.1/37963] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:28:00,564 [pool-306-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:00,566 [Listener at 127.0.0.1/37963] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:37963
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 44371
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:44371|priority:0], old=null
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:28:00,579 [Listener at 127.0.0.1/37963] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:28:00,589 [Listener at 127.0.0.1/37963] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:28:00,600 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 44371
2021-11-04 10:28:00,602 [Listener at 127.0.0.1/37963] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:28:00,603 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@4723f933] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:28:00,604 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:28:00,604 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:00,605 [Listener at 127.0.0.1/37963] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:00,606 [Listener at 127.0.0.1/37963] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:00,607 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:00,607 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:28:00,607 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:00,607 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:00,608 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32859
2021-11-04 10:28:00,608 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:00,610 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:00,610 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:00,610 [Listener at 127.0.0.1/37963] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:00,612 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5da5b2e5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:00,613 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@cf22bb9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:28:00,615 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@35c7d814{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:28:00,625 [Listener at 127.0.0.1/37963] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3081e9a8{HTTP/1.1, (http/1.1)}{0.0.0.0:32859}
2021-11-04 10:28:00,625 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(415)) - Started @38304ms
2021-11-04 10:28:00,626 [Listener at 127.0.0.1/37963] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:00,626 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:32859
2021-11-04 10:28:00,627 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:00,627 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:00,628 [Listener at 127.0.0.1/37963] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:28:00,644 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@22eacd36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:00,655 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,655 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,655 [Listener at 127.0.0.1/37963] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:00,668 [Listener at 127.0.0.1/37963] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:00,684 [Listener at 127.0.0.1/37963] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:00,726 [Listener at 127.0.0.1/37963] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:00,727 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:00,728 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:00,728 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:00,728 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:00,728 [Listener at 127.0.0.1/37963] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:00,730 [Listener at 127.0.0.1/37963] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:00,730 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:00,730 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:00,737 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:00,750 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis to VolumeSet
2021-11-04 10:28:00,750 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis
2021-11-04 10:28:00,751 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis
2021-11-04 10:28:00,764 [Thread-751] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:00,764 [Listener at 127.0.0.1/37963] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:00,766 [Listener at 127.0.0.1/37963] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:00,767 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:00,768 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:00,769 [Listener at 127.0.0.1/37963] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:00,770 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:00,770 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:00,770 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:00,774 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:00,774 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:00,775 [Listener at 127.0.0.1/37963] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:00,780 [Listener at 127.0.0.1/37963] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:00,781 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:00,781 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:00,781 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:00,781 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:00,782 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38785
2021-11-04 10:28:00,782 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:00,784 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:00,784 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:00,785 [Listener at 127.0.0.1/37963] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:00,785 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@70b5ff74{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:00,785 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3d7aaa51{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:00,828 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@62d04808{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-38785-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-9147556727234903655/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:00,830 [Listener at 127.0.0.1/37963] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@764f92d5{HTTP/1.1, (http/1.1)}{0.0.0.0:38785}
2021-11-04 10:28:00,830 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(415)) - Started @38508ms
2021-11-04 10:28:00,830 [Listener at 127.0.0.1/37963] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:00,831 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:38785
2021-11-04 10:28:00,831 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,831 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:00,831 [Listener at 127.0.0.1/37963] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:00,838 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:00,845 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:00,845 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:00,854 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@48ff2d00] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:00,863 [Listener at 127.0.0.1/37963] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:00,864 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/meta/datanode.id
2021-11-04 10:28:00,881 [Listener at 127.0.0.1/37963] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:00,918 [Listener at 127.0.0.1/37963] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 36 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:00,919 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:00,919 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:00,919 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:00,919 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:00,919 [Listener at 127.0.0.1/37963] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:00,921 [Listener at 127.0.0.1/37963] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:00,921 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:00,921 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:00,925 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:00,938 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis to VolumeSet
2021-11-04 10:28:00,938 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis
2021-11-04 10:28:00,938 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis
2021-11-04 10:28:00,952 [Thread-763] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:00,952 [Listener at 127.0.0.1/37963] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:00,954 [Listener at 127.0.0.1/37963] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:00,955 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:00,956 [Listener at 127.0.0.1/37963] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:00,956 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:00,956 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:00,956 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:00,959 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:00,959 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:00,960 [Listener at 127.0.0.1/37963] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:00,964 [Listener at 127.0.0.1/37963] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:00,965 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:00,965 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:00,965 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:00,965 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:00,966 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 34187
2021-11-04 10:28:00,966 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:00,967 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:00,967 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:00,967 [Listener at 127.0.0.1/37963] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:28:00,968 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1a66b845{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:00,968 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@341edea4{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:01,007 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@38fbf8bd{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-34187-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2109406974012496560/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:01,010 [Listener at 127.0.0.1/37963] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@18607b55{HTTP/1.1, (http/1.1)}{0.0.0.0:34187}
2021-11-04 10:28:01,010 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(415)) - Started @38688ms
2021-11-04 10:28:01,010 [Listener at 127.0.0.1/37963] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:01,011 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:34187
2021-11-04 10:28:01,011 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:01,011 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:01,011 [Listener at 127.0.0.1/37963] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:01,023 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:01,030 [Listener at 127.0.0.1/37963] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:01,050 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:01,050 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:01,054 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@df0a00c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:01,064 [Listener at 127.0.0.1/37963] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:01,066 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/meta/datanode.id
2021-11-04 10:28:01,101 [Listener at 127.0.0.1/37963] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 36 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:01,102 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:01,102 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:01,102 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:01,102 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:01,102 [Listener at 127.0.0.1/37963] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:01,104 [Listener at 127.0.0.1/37963] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:01,104 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:01,104 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:28:01,104 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:28:01,117 [Listener at 127.0.0.1/37963] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis to VolumeSet
2021-11-04 10:28:01,117 [Listener at 127.0.0.1/37963] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis
2021-11-04 10:28:01,117 [Listener at 127.0.0.1/37963] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis
2021-11-04 10:28:01,131 [Thread-777] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:28:01,131 [Listener at 127.0.0.1/37963] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:01,133 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:01,134 [Listener at 127.0.0.1/37963] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:01,134 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:01,134 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:01,135 [Listener at 127.0.0.1/37963] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:28:01,141 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:01,141 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:01,142 [Listener at 127.0.0.1/37963] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:01,142 [Listener at 127.0.0.1/37963] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:01,143 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:01,144 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:01,144 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:01,144 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:01,145 [Listener at 127.0.0.1/37963] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33289
2021-11-04 10:28:01,145 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:01,146 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:01,146 [Listener at 127.0.0.1/37963] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:01,146 [Listener at 127.0.0.1/37963] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:01,149 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@63e40397{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:01,149 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@371a7166{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:01,190 [Listener at 127.0.0.1/37963] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@503ddf9d{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33289-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-4418405876677935275/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:01,192 [Listener at 127.0.0.1/37963] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@63c5f078{HTTP/1.1, (http/1.1)}{0.0.0.0:33289}
2021-11-04 10:28:01,192 [Listener at 127.0.0.1/37963] INFO  server.Server (Server.java:doStart(415)) - Started @38870ms
2021-11-04 10:28:01,192 [Listener at 127.0.0.1/37963] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:01,193 [Listener at 127.0.0.1/37963] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33289
2021-11-04 10:28:01,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:01,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:01,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:01,194 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:01,197 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:01,197 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:01,200 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1142103a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:01,201 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/meta/datanode.id
2021-11-04 10:28:01,574 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,574 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,579 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,579 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,581 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,581 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:01,581 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:01,581 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:01,583 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:28:01,589 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:01,601 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,601 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,603 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:01,604 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:28:01,608 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,608 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,608 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,609 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:01,611 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:01,611 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:01,657 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1078062982ns, electionTimeout:1068ms
2021-11-04 10:28:01,658 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:28:01,658 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:01,658 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:01,658 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection17
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:44371|priority:0], old=null
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection17 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection17
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1110ms
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:01,662 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:28:01,663 [om1@group-C5BA1605619E-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:01,670 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-11-04 10:28:01,670 [om1@group-C5BA1605619E-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:44371|admin:|client:|dataStream:|priority:0], old=null
2021-11-04 10:28:01,674 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:44371"
]
2021-11-04 10:28:02,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:02,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:02,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:02,860 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:02,860 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:02,861 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 36103
2021-11-04 10:28:02,862 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:02,865 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start RPC server
2021-11-04 10:28:02,865 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: GrpcService started, listening on 44435
2021-11-04 10:28:02,866 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS
2021-11-04 10:28:02,866 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS_ADMIN
2021-11-04 10:28:02,866 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7952f6b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-8c3aa67b-d006-4ad9-94aa-959dae79a988: Started
2021-11-04 10:28:02,866 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS_SERVER
2021-11-04 10:28:02,866 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44413
2021-11-04 10:28:03,059 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:03,059 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:03,060 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 40345
2021-11-04 10:28:03,061 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:03,069 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start RPC server
2021-11-04 10:28:03,070 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: GrpcService started, listening on 33593
2021-11-04 10:28:03,070 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS
2021-11-04 10:28:03,070 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS_ADMIN
2021-11-04 10:28:03,070 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS_SERVER
2021-11-04 10:28:03,071 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7cc0372] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-cf7b1b1f-a7a2-453d-9277-ba582b08dea9: Started
2021-11-04 10:28:03,071 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 42651
2021-11-04 10:28:03,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:03,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:03,194 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:03,203 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:03,204 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:03,205 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43079
2021-11-04 10:28:03,207 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:03,209 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start RPC server
2021-11-04 10:28:03,210 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - e8f45799-186c-4d22-9260-bc450be8fd6c: GrpcService started, listening on 33605
2021-11-04 10:28:03,210 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS
2021-11-04 10:28:03,210 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS_ADMIN
2021-11-04 10:28:03,210 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS_SERVER
2021-11-04 10:28:03,210 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 40755
2021-11-04 10:28:03,211 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ae0583a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-e8f45799-186c-4d22-9260-bc450be8fd6c: Started
2021-11-04 10:28:04,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:04,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:04,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:04,855 [IPC Server handler 0 on default port 45979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:04,855 [IPC Server handler 0 on default port 45979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:04,858 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:04,859 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf to datanode:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:04,859 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:28:04,859 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:28:04,861 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:28:04,861 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 9fedb03d-7828-4c24-bc1c-a26fcbffcbbf, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:04.859Z[Etc/UTC]].
2021-11-04 10:28:04,868 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:04,868 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:04,869 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: close
2021-11-04 10:28:04,869 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: shutdown
2021-11-04 10:28:04,869 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:28:04,869 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-LeaderStateImpl
2021-11-04 10:28:04,869 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: close
2021-11-04 10:28:04,869 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:04,869 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:04,870 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-60B96425D90C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0
2021-11-04 10:28:04,870 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:04,869 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: shutdown
2021-11-04 10:28:04,870 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1FFDF3A34FF3,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:28:04,870 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-LeaderStateImpl
2021-11-04 10:28:04,871 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: Completed APPEND_ENTRIES, lastRequest: 5053e8fa-b9de-40e0-acab-eef8ee16d020->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-11-04 10:28:04,870 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: Completed APPEND_ENTRIES, lastRequest: 5053e8fa-b9de-40e0-acab-eef8ee16d020->0373d4be-9e82-4aa9-834c-daa3ef36e8e1#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-11-04 10:28:04,871 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->0373d4be-9e82-4aa9-834c-daa3ef36e8e1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:04,872 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->0373d4be-9e82-4aa9-834c-daa3ef36e8e1: nextIndex: updateUnconditionally 1 -> 0
2021-11-04 10:28:04,872 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:04,872 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C->9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: nextIndex: updateUnconditionally 1 -> 0
2021-11-04 10:28:04,872 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:04,871 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:04,873 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:04,873 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1FFDF3A34FF3: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3/sm/snapshot.1_0
2021-11-04 10:28:04,870 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-60B96425D90C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:04,877 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1FFDF3A34FF3: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/d49b718e-67c6-41f0-8826-1ffdf3a34ff3/sm/snapshot.1_0 took: 3 ms
2021-11-04 10:28:04,877 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:04,877 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:04,877 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:04,877 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:04,877 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C: closes. applyIndex: 0
2021-11-04 10:28:04,877 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3: closes. applyIndex: 0
2021-11-04 10:28:04,877 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:04,878 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:04,878 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-1FFDF3A34FF3-SegmentedRaftLogWorker close()
2021-11-04 10:28:04,879 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-60B96425D90C-SegmentedRaftLogWorker close()
2021-11-04 10:28:04,879 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: shutdown
2021-11-04 10:28:04,879 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=9c23fb6c-dde8-4365-8a38-ecf62c0bac2b
2021-11-04 10:28:04,879 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState
2021-11-04 10:28:04,879 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:04,880 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-60B96425D90C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0
2021-11-04 10:28:04,880 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:04,881 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-60B96425D90C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-1/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:04,881 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: shutdown
2021-11-04 10:28:04,881 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:04,881 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-185F8D5FF4EE,id=5053e8fa-b9de-40e0-acab-eef8ee16d020
2021-11-04 10:28:04,881 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:04,881 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-LeaderStateImpl
2021-11-04 10:28:04,881 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:04,881 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C: closes. applyIndex: 0
2021-11-04 10:28:04,882 [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:04,882 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b@group-60B96425D90C-SegmentedRaftLogWorker close()
2021-11-04 10:28:04,882 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-185F8D5FF4EE: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee/sm/snapshot.1_0
2021-11-04 10:28:04,882 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:04,882 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-185F8D5FF4EE: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-0/data/ratis/ef5f8415-e177-4450-bd6f-185f8d5ff4ee/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:28:04,883 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:04,883 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:04,883 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE: closes. applyIndex: 0
2021-11-04 10:28:04,883 [5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:04,883 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020@group-185F8D5FF4EE-SegmentedRaftLogWorker close()
2021-11-04 10:28:04,884 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown server with port 32827 now
2021-11-04 10:28:04,885 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown server with port 36095 now
2021-11-04 10:28:04,888 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: shutdown server with port 32827 successfully
2021-11-04 10:28:04,889 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@635afec] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-9c23fb6c-dde8-4365-8a38-ecf62c0bac2b: Stopped
2021-11-04 10:28:04,895 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:04,897 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 5053e8fa-b9de-40e0-acab-eef8ee16d020: shutdown server with port 36095 successfully
2021-11-04 10:28:04,898 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3357d605] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-5053e8fa-b9de-40e0-acab-eef8ee16d020: Stopped
2021-11-04 10:28:04,903 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:05,057 [IPC Server handler 1 on default port 45979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:05,058 [IPC Server handler 1 on default port 45979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:05,058 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:05,058 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7 to datanode:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:05,065 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 85575298-bfcc-4214-8642-b8fbc8158dd7, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:05.058Z[Etc/UTC]].
2021-11-04 10:28:05,066 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:28:05,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-11-04 10:28:05,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:05,195 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:05,202 [IPC Server handler 2 on default port 45979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:05,202 [IPC Server handler 2 on default port 45979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:05,202 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:05,202 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa to datanode:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:05,203 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b70e87f9-6939-452e-8046-dadaf2559afa, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:05.202Z[Etc/UTC]].
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:28:05,207 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:05,208 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e to datanode:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:05,208 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e to datanode:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:05,208 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e to datanode:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:05,209 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 74c11855-9c7c-42ab-b3fc-99087d2bba8e, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:05.208Z[Etc/UTC]].
2021-11-04 10:28:05,292 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:28:05,293 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:28:05,293 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:28:05,293 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:28:05,293 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:28:05,295 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44041
2021-11-04 10:28:05,299 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:28:05,302 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:05,607 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:44041 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az59-461/10.1.0.36"; destination host is: "0.0.0.0":44041; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-11-04 10:28:05,778 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:28:05,779 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:28:05,779 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:28:05,780 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35191
2021-11-04 10:28:05,783 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:28:05,784 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:28:05,784 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:28:05,784 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:05,785 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41497
2021-11-04 10:28:05,787 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:28:05,788 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:28:05,788 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:05,794 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@36617c1e{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:05,795 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@536fc515{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:05,795 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:05,796 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@58bf37cb{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:28:05,797 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3f83464e{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:05,798 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:28:05,798 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:05,798 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:05,798 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:28:05,802 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:28:05,802 [Time-limited test] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-11-04 10:28:05,802 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:28:05,804 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:28:05,819 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:28:05,819 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-11-04 10:28:05,819 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:28:05,819 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:28:05,820 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:05,820 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:05,856 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:05,857 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:05,857 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:05,857 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:05,857 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:05,857 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:05,858 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:05,918 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:28:05,918 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:28:05,931 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:05,931 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:05,931 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:28:05,933 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:28:05,934 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:05,934 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:28:05,935 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:28:05,935 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:28:05,936 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:28:05,937 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:28:05,937 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:28:05,937 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:28:05,946 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-11-04 10:28:05,946 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:28:05,946 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:28:05,947 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:05,960 [Socket Reader #1 for port 44041] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 44041
2021-11-04 10:28:05,961 [Listener at 0.0.0.0/44041] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:05,963 [Socket Reader #1 for port 35191] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 35191
2021-11-04 10:28:05,971 [Listener at 0.0.0.0/35191] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:05,972 [Socket Reader #1 for port 41497] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 41497
2021-11-04 10:28:05,992 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-11-04 10:28:05,998 [Listener at 0.0.0.0/41497] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:05,998 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:28:05,998 [Listener at 0.0.0.0/41497] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:05,998 [Listener at 0.0.0.0/41497] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:28:05,999 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:06,004 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:06,004 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:06,004 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41497
2021-11-04 10:28:06,006 [Listener at 0.0.0.0/41497] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:28:06,017 [Listener at 0.0.0.0/41497] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:28:06,017 [Listener at 0.0.0.0/41497] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:28:06,032 [Listener at 0.0.0.0/41497] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:28:06,032 [Listener at 0.0.0.0/41497] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:28:06,094 [Listener at 0.0.0.0/41497] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:41497
2021-11-04 10:28:06,104 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:06,104 [IPC Server listener on 41497] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 41497: starting
2021-11-04 10:28:06,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:06,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:06,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:06,213 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:35191
2021-11-04 10:28:06,213 [Listener at 0.0.0.0/41497] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:35191
2021-11-04 10:28:06,214 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:06,214 [IPC Server listener on 35191] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 35191: starting
2021-11-04 10:28:06,219 [Listener at 0.0.0.0/41497] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:44041
2021-11-04 10:28:06,219 [Listener at 0.0.0.0/41497] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:44041
2021-11-04 10:28:06,220 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:06,220 [IPC Server listener on 44041] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 44041: starting
2021-11-04 10:28:06,231 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:43687
2021-11-04 10:28:06,232 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:06,233 [Listener at 0.0.0.0/41497] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:06,240 [Listener at 0.0.0.0/41497] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:06,242 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:06,243 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:28:06,243 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:06,243 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:06,244 [Listener at 0.0.0.0/41497] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43687
2021-11-04 10:28:06,244 [Listener at 0.0.0.0/41497] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:06,272 [Listener at 0.0.0.0/41497] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:06,272 [Listener at 0.0.0.0/41497] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:06,273 [Listener at 0.0.0.0/41497] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:28:06,273 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@341f2372{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:06,274 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1601c821{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:28:06,276 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@612691ab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:06,280 [Listener at 0.0.0.0/41497] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3cdd2a46{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:06,292 [Listener at 0.0.0.0/41497] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3876d393{HTTP/1.1, (http/1.1)}{0.0.0.0:43687}
2021-11-04 10:28:06,292 [Listener at 0.0.0.0/41497] INFO  server.Server (Server.java:doStart(415)) - Started @43970ms
2021-11-04 10:28:06,292 [Listener at 0.0.0.0/41497] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:06,293 [Listener at 0.0.0.0/41497] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:43687
2021-11-04 10:28:06,293 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:06,293 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:06,293 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:06,618 [EndpointStateMachine task thread for /0.0.0.0:44041 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:44041. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-11-04 10:28:06,644 [IPC Server handler 0 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,645 [IPC Server handler 1 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,646 [IPC Server handler 2 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,646 [IPC Server handler 3 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,653 [IPC Server handler 4 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,655 [IPC Server handler 5 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,656 [IPC Server handler 6 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:06,656 [IPC Server handler 7 on default port 44041] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:28:07,108 [IPC Server handler 8 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:07,109 [IPC Server handler 8 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:07,123 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-11-04 10:28:07,124 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:28:07,124 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:28:07,126 [IPC Server handler 8 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:07,126 [IPC Server handler 8 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:07,137 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:07,138 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:07,138 [IPC Server handler 10 on default port 44041] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:07,138 [IPC Server handler 10 on default port 44041] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:07,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:07,138 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:28:07,138 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:28:07,144 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:07,154 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:28:07,155 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 87eee880-f586-43fb-b1fb-4b100c53b8d1, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.138Z[Etc/UTC]].
2021-11-04 10:28:07,155 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:28:07,156 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:07,156 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:07,156 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:07,157 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 978ebe16-5490-4f9c-9300-4d668bfb0af5, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.156Z[Etc/UTC]].
2021-11-04 10:28:07,157 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:07,158 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b7ef6665-3c8f-4554-8bcf-d360906f4c49, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.157Z[Etc/UTC]].
2021-11-04 10:28:07,158 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:07,158 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 422bd8ca-8e22-4eb5-93c4-759496f3efb7, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.158Z[Etc/UTC]].
2021-11-04 10:28:07,158 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 since it stays at CLOSED stage.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 close command to datanode 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: a61ae003-5de8-4266-b9a6-07b228386806, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:37f749d9-5954-42a1-9f9b-1745bea0223f, CreationTimestamp2021-11-04T10:28:05.934Z[Etc/UTC]] removed.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 since it stays at CLOSED stage.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 close command to datanode c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 25412572-4e7d-4206-98d0-4638c6cea1b1, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:c8bf306f-0004-4090-a408-62c5f4c726d4, CreationTimestamp2021-11-04T10:28:05.934Z[Etc/UTC]] removed.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 since it stays at CLOSED stage.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 380cb0bb-81a4-4ca5-94c6-3c4e26e9f488, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:28:05.934Z[Etc/UTC]] removed.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 since it stays at CLOSED stage.
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 close command to datanode 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 close command to datanode c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:07,159 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: df7e923b-d6ab-4a6d-8079-ec640352d353, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:28:05.934Z[Etc/UTC]] removed.
2021-11-04 10:28:07,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:07,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:07,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:07,293 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:07,294 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:28:07,294 [Listener at 0.0.0.0/41497] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:07,300 [Listener at 0.0.0.0/41497] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:80)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPreFinalizeUpgrade(TestHDDSUpgrade.java:692)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:28:07,300 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:07,300 [Listener at 0.0.0.0/41497] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:28:07,301 [Listener at 0.0.0.0/41497] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 422bd8ca-8e22-4eb5-93c4-759496f3efb7, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.158Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:07,301 [Listener at 0.0.0.0/41497] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: b7ef6665-3c8f-4554-8bcf-d360906f4c49, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.157Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:07,302 [Listener at 0.0.0.0/41497] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 87eee880-f586-43fb-b1fb-4b100c53b8d1, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.138Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:07,302 [Listener at 0.0.0.0/41497] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 978ebe16-5490-4f9c-9300-4d668bfb0af5, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:07.156Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:07,302 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:28:07,608 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:07,608 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 is not found
2021-11-04 10:28:07,625 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:07,625 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 is not found
2021-11-04 10:28:07,858 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-A26FCBFFCBBF:[8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1] returns group-A26FCBFFCBBF:java.util.concurrent.CompletableFuture@41dcc326[Not completed]
2021-11-04 10:28:07,859 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-A26FCBFFCBBF:[8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:07,862 [pool-319-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: ConfigurationManager, init=-1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:07,863 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:07,863 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:07,866 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:07,866 [pool-319-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf does not exist. Creating ...
2021-11-04 10:28:07,868 [pool-319-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:07,869 [pool-319-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf has been successfully formatted.
2021-11-04 10:28:07,872 [pool-319-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A26FCBFFCBBF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:07,872 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:07,872 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:07,872 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:07,872 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:07,873 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:07,873 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 9fedb03d-7828-4c24-bc1c-a26fcbffcbbf, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:8c3aa67b-d006-4ad9-94aa-959dae79a988, CreationTimestamp2021-11-04T10:28:04.859Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:07,883 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:07,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:07,888 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:07,889 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:07,889 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:07,889 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:07,900 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:07,901 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:07,907 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@55b506f9{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:07,908 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: start as a follower, conf=-1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null
2021-11-04 10:28:07,908 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:07,908 [pool-319-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState
2021-11-04 10:28:07,909 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@75790174{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:07,909 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:07,913 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2c0986e5{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:07,913 [pool-319-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A26FCBFFCBBF,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:07,916 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:07,914 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@35a2f08{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:07,925 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf
2021-11-04 10:28:07,925 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf.
2021-11-04 10:28:07,925 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@45e35fc5[Not completed]
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:07,929 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:07,930 [pool-319-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e does not exist. Creating ...
2021-11-04 10:28:07,940 [pool-319-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:07,952 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3c16c170{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:07,953 [pool-319-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e has been successfully formatted.
2021-11-04 10:28:07,953 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1f9606cf{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:07,953 [pool-319-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-99087D2BBA8E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:07,953 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:07,953 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:07,953 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:07,954 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:07,954 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:07,954 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:07,954 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:07,955 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:07,953 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:07,956 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:07,963 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:07,963 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:07,963 [pool-319-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:07,961 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5a531be2{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:07,967 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:07,968 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:07,969 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:07,969 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:07,969 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:07,969 [pool-319-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:07,971 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:07,971 [pool-319-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:07,971 [pool-319-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:07,971 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@53996ef4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:07,976 [pool-319-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:07,994 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:08,012 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@564fe6f3[Not completed]
2021-11-04 10:28:08,013 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,014 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,015 [pool-357-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e does not exist. Creating ...
2021-11-04 10:28:08,017 [pool-357-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,018 [pool-357-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e has been successfully formatted.
2021-11-04 10:28:08,024 [pool-357-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-99087D2BBA8E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,028 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,028 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,028 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,028 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,029 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,030 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,030 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,030 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,030 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,030 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,031 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,031 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,032 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,032 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,045 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,046 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,046 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,046 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,046 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,046 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,047 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:08,047 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,047 [pool-357-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:08,052 [pool-357-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:08,076 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-B8FBC8158DD7:[cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1] returns group-B8FBC8158DD7:java.util.concurrent.CompletableFuture@636018c0[Not completed]
2021-11-04 10:28:08,102 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@4b2fd76a[Not completed]
2021-11-04 10:28:08,103 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-B8FBC8158DD7:[cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: ConfigurationManager, init=-1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,106 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:08,106 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-4B100C53B8D1:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] returns group-4B100C53B8D1:java.util.concurrent.CompletableFuture@6bc9417[Not completed]
2021-11-04 10:28:08,107 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,107 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,107 [pool-338-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7 does not exist. Creating ...
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-4B100C53B8D1:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: ConfigurationManager, init=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,107 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:28:08,108 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,108 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,108 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1 does not exist. Creating ...
2021-11-04 10:28:08,108 [pool-338-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,109 [pool-338-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7 has been successfully formatted.
2021-11-04 10:28:08,112 [pool-338-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B8FBC8158DD7: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,112 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,113 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 85575298-bfcc-4214-8642-b8fbc8158dd7, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:cf7b1b1f-a7a2-453d-9277-ba582b08dea9, CreationTimestamp2021-11-04T10:28:05.058Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:08,113 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,113 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,113 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,113 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,113 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,114 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,114 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1 has been successfully formatted.
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4B100C53B8D1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,115 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,116 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,117 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,117 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,117 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 is not found
2021-11-04 10:28:08,117 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] returns group-4D668BFB0AF5:java.util.concurrent.CompletableFuture@3e5820e[Not completed]
2021-11-04 10:28:08,117 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] returns group-4D668BFB0AF5:java.util.concurrent.CompletableFuture@7c8f1a44[Not completed]
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,118 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 does not exist. Creating ...
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,119 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:28:08,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,120 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 does not exist. Creating ...
2021-11-04 10:28:08,120 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,121 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,121 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 is not found
2021-11-04 10:28:08,121 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,122 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 has been successfully formatted.
2021-11-04 10:28:08,122 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 has been successfully formatted.
2021-11-04 10:28:08,122 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D668BFB0AF5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,123 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,124 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,124 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,124 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,124 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,124 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D668BFB0AF5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,124 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 is not found
2021-11-04 10:28:08,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 is not found
2021-11-04 10:28:08,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,134 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,135 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,135 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,135 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,136 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,137 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,137 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,137 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,138 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,138 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,139 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,139 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,139 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,142 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,143 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: start as a follower, conf=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:08,144 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,144 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState
2021-11-04 10:28:08,154 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B100C53B8D1,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:08,162 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1
2021-11-04 10:28:08,162 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1.
2021-11-04 10:28:08,162 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,162 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,162 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,162 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] returns group-4D668BFB0AF5:java.util.concurrent.CompletableFuture@2dc42675[Not completed]
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-4D668BFB0AF5:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,163 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 does not exist. Creating ...
2021-11-04 10:28:08,162 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,165 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,168 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5 has been successfully formatted.
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,172 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,173 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,173 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,173 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D668BFB0AF5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,173 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,174 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,174 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,175 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 is not found
2021-11-04 10:28:08,175 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,175 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,179 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,180 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,180 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,180 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,180 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,183 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-99087D2BBA8E:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:08,184 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,185 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,185 [pool-338-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e does not exist. Creating ...
2021-11-04 10:28:08,184 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:08,185 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,186 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,186 [pool-338-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,187 [pool-338-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e has been successfully formatted.
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,195 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,196 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:08,196 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,196 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:08,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:08,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:08,196 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-99087D2BBA8E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,201 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,201 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,202 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,203 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,204 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,204 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,205 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,205 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,214 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:08,214 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,214 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,214 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,214 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,222 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,222 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,222 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,222 [pool-338-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,222 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,223 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,223 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,223 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,223 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,223 [pool-338-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,223 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:08,224 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: start as a follower, conf=-1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null
2021-11-04 10:28:08,224 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,224 [pool-338-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState
2021-11-04 10:28:08,224 [pool-338-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8FBC8158DD7,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:08,225 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:08,225 [pool-338-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,225 [pool-338-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:08,225 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7
2021-11-04 10:28:08,225 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7.
2021-11-04 10:28:08,226 [pool-338-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:08,227 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-DADAF2559AFA:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1] returns group-DADAF2559AFA:java.util.concurrent.CompletableFuture@7368916c[Not completed]
2021-11-04 10:28:08,232 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:08,232 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,233 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,234 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:08,234 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,234 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:08,234 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:08,235 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,236 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-DADAF2559AFA:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,244 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,244 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,244 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,244 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,245 [pool-357-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa does not exist. Creating ...
2021-11-04 10:28:08,242 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:08,250 [pool-357-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,251 [pool-357-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa has been successfully formatted.
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-DADAF2559AFA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,252 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,253 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: b70e87f9-6939-452e-8046-dadaf2559afa, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.202Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:08,253 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:08,253 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,254 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,254 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa
2021-11-04 10:28:08,254 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,254 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,255 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,261 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,264 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e.
2021-11-04 10:28:08,273 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,273 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,273 [pool-357-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,273 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,273 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,274 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,274 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,274 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,274 [pool-357-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,275 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null
2021-11-04 10:28:08,275 [pool-357-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,275 [pool-357-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState
2021-11-04 10:28:08,276 [pool-357-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DADAF2559AFA,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:08,282 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa
2021-11-04 10:28:08,282 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa.
2021-11-04 10:28:08,347 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5.
2021-11-04 10:28:08,347 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-D360906F4C49:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] returns group-D360906F4C49:java.util.concurrent.CompletableFuture@63519285[Not completed]
2021-11-04 10:28:08,348 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-D360906F4C49:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,348 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,348 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,348 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: ConfigurationManager, init=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,349 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49 does not exist. Creating ...
2021-11-04 10:28:08,350 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,356 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49 has been successfully formatted.
2021-11-04 10:28:08,356 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D360906F4C49: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,356 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,356 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,357 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 is not found
2021-11-04 10:28:08,358 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,358 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,358 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,364 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,366 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,376 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,376 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,376 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,377 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,377 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,378 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,378 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,388 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,397 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5.
2021-11-04 10:28:08,397 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: remove    LEADER d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488:t1, leader=d5c83119-0170-4c0e-a3d8-2bb84de341da, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLog:OPENED:c0, conf=0: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,397 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: shutdown
2021-11-04 10:28:08,398 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3C4E26E9F488,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:08,398 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-LeaderStateImpl
2021-11-04 10:28:08,398 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:08,398 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-3C4E26E9F488: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488/sm/snapshot.1_0
2021-11-04 10:28:08,399 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:08,399 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-3C4E26E9F488: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:28:08,399 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:08,399 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:08,399 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: start as a follower, conf=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:28:08,399 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,399 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState
2021-11-04 10:28:08,399 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: closes. applyIndex: 0
2021-11-04 10:28:08,412 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,412 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5.
2021-11-04 10:28:08,412 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-759496F3EFB7:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] returns group-759496F3EFB7:java.util.concurrent.CompletableFuture@7dc6e99a[Not completed]
2021-11-04 10:28:08,412 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-759496F3EFB7:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:08,413 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:08,414 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/422bd8ca-8e22-4eb5-93c4-759496f3efb7 does not exist. Creating ...
2021-11-04 10:28:08,416 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-3C4E26E9F488: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/380cb0bb-81a4-4ca5-94c6-3c4e26e9f488
2021-11-04 10:28:08,416 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=380cb0bb-81a4-4ca5-94c6-3c4e26e9f488 command on datanode d5c83119-0170-4c0e-a3d8-2bb84de341da.
2021-11-04 10:28:08,416 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: remove    LEADER d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353:t2, leader=d5c83119-0170-4c0e-a3d8-2bb84de341da, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLog:OPENED:c10, conf=0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,416 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: shutdown
2021-11-04 10:28:08,416 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D360906F4C49,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:08,416 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:08,416 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-LeaderStateImpl
2021-11-04 10:28:08,416 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:08,417 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->37f749d9-5954-42a1-9f9b-1745bea0223f-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->37f749d9-5954-42a1-9f9b-1745bea0223f-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:08,417 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->c8bf306f-0004-4090-a408-62c5f4c726d4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->c8bf306f-0004-4090-a408-62c5f4c726d4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:08,417 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49
2021-11-04 10:28:08,417 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49.
2021-11-04 10:28:08,417 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: remove    LEADER 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806:t1, leader=37f749d9-5954-42a1-9f9b-1745bea0223f, voted=37f749d9-5954-42a1-9f9b-1745bea0223f, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLog:OPENED:c0, conf=0: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,417 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: shutdown
2021-11-04 10:28:08,418 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-07B228386806,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:08,418 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-LeaderStateImpl
2021-11-04 10:28:08,418 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:08,418 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:08,418 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - c8bf306f-0004-4090-a408-62c5f4c726d4: Completed APPEND_ENTRIES, lastRequest: d5c83119-0170-4c0e-a3d8-2bb84de341da->c8bf306f-0004-4090-a408-62c5f4c726d4#170-t2,previous=(t:2, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2021-11-04 10:28:08,418 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-07B228386806: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806/sm/snapshot.1_0
2021-11-04 10:28:08,419 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: Completed APPEND_ENTRIES, lastRequest: d5c83119-0170-4c0e-a3d8-2bb84de341da->37f749d9-5954-42a1-9f9b-1745bea0223f#171-t2,previous=(t:2, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2021-11-04 10:28:08,419 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->c8bf306f-0004-4090-a408-62c5f4c726d4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:08,419 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-07B228386806: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:08,419 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->c8bf306f-0004-4090-a408-62c5f4c726d4: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:08,419 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:08,419 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:08,420 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: closes. applyIndex: 0
2021-11-04 10:28:08,420 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,420 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->37f749d9-5954-42a1-9f9b-1745bea0223f-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:08,420 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353->37f749d9-5954-42a1-9f9b-1745bea0223f: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:08,420 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,420 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/422bd8ca-8e22-4eb5-93c4-759496f3efb7/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:08,425 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-07B228386806: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/a61ae003-5de8-4266-b9a6-07b228386806
2021-11-04 10:28:08,425 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=a61ae003-5de8-4266-b9a6-07b228386806 command on datanode 37f749d9-5954-42a1-9f9b-1745bea0223f.
2021-11-04 10:28:08,426 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: remove  FOLLOWER 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353:t2, leader=d5c83119-0170-4c0e-a3d8-2bb84de341da, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLog:OPENED:c10, conf=0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,426 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: shutdown
2021-11-04 10:28:08,426 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:08,426 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState
2021-11-04 10:28:08,426 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:08,426 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:08,427 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:08,428 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EC640352D353: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10
2021-11-04 10:28:08,429 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/422bd8ca-8e22-4eb5-93c4-759496f3efb7 has been successfully formatted.
2021-11-04 10:28:08,432 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EC640352D353: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10 took: 5 ms
2021-11-04 10:28:08,432 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-759496F3EFB7: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:08,432 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:08,432 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:08,432 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:08,432 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/422bd8ca-8e22-4eb5-93c4-759496f3efb7
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:08,433 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:08,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:08,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:08,434 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 is not found
2021-11-04 10:28:08,434 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 is not found
2021-11-04 10:28:08,435 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: closes. applyIndex: 10
2021-11-04 10:28:08,435 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,434 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:08,434 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EC640352D353: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10
2021-11-04 10:28:08,437 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:08,437 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,437 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:08,437 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EC640352D353: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10 took: 3 ms
2021-11-04 10:28:08,438 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:08,438 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:08,448 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:08,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:08,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:08,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:08,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:08,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:08,455 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null
2021-11-04 10:28:08,455 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:08,455 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-FollowerState
2021-11-04 10:28:08,453 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,448 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: closes. applyIndex: 10
2021-11-04 10:28:08,456 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:08,464 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-759496F3EFB7,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:08,473 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,474 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-EC640352D353: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:28:08,474 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 command on datanode d5c83119-0170-4c0e-a3d8-2bb84de341da.
2021-11-04 10:28:08,480 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7
2021-11-04 10:28:08,480 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7.
2021-11-04 10:28:08,480 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c8bf306f-0004-4090-a408-62c5f4c726d4: remove    LEADER c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1:t1, leader=c8bf306f-0004-4090-a408-62c5f4c726d4, voted=c8bf306f-0004-4090-a408-62c5f4c726d4, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLog:OPENED:c0, conf=0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,480 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: shutdown
2021-11-04 10:28:08,481 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4638C6CEA1B1,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:08,481 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-LeaderStateImpl
2021-11-04 10:28:08,481 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:08,481 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:08,481 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4638C6CEA1B1: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1/sm/snapshot.1_0
2021-11-04 10:28:08,483 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4638C6CEA1B1: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:08,483 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:08,483 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:08,484 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,484 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: closes. applyIndex: 0
2021-11-04 10:28:08,484 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,484 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,490 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-EC640352D353: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:28:08,490 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 command on datanode 37f749d9-5954-42a1-9f9b-1745bea0223f.
2021-11-04 10:28:08,490 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4638C6CEA1B1: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/25412572-4e7d-4206-98d0-4638c6cea1b1
2021-11-04 10:28:08,490 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=25412572-4e7d-4206-98d0-4638c6cea1b1 command on datanode c8bf306f-0004-4090-a408-62c5f4c726d4.
2021-11-04 10:28:08,491 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c8bf306f-0004-4090-a408-62c5f4c726d4: remove  FOLLOWER c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353:t2, leader=d5c83119-0170-4c0e-a3d8-2bb84de341da, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLog:OPENED:c10, conf=0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:08,491 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: shutdown
2021-11-04 10:28:08,491 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC640352D353,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:08,491 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState
2021-11-04 10:28:08,491 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:08,491 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:08,491 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EC640352D353: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10
2021-11-04 10:28:08,492 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EC640352D353: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353/sm/snapshot.2_10 took: 1 ms
2021-11-04 10:28:08,492 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:08,492 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:08,493 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: closes. applyIndex: 10
2021-11-04 10:28:08,493 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:08,495 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353-SegmentedRaftLogWorker close()
2021-11-04 10:28:08,502 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EC640352D353: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/df7e923b-d6ab-4a6d-8079-ec640352d353
2021-11-04 10:28:08,502 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=df7e923b-d6ab-4a6d-8079-ec640352d353 command on datanode c8bf306f-0004-4090-a408-62c5f4c726d4.
2021-11-04 10:28:08,702 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:09,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:09,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:09,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:09,719 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:09,957 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:10,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:10,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:10,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:10,253 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:11,197 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:11,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:11,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:11,243 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:7682773384ns, electionTimeout:5012ms
2021-11-04 10:28:11,244 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:28:11,244 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:28:11,244 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:11,244 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18
2021-11-04 10:28:11,253 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: change Leader from 5053e8fa-b9de-40e0-acab-eef8ee16d020 to null at term 1 for ELECTION
2021-11-04 10:28:11,255 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18 ELECTION round 0: submit vote requests at term 2 for 0: [9c23fb6c-dde8-4365-8a38-ecf62c0bac2b|rpc:10.1.0.36:32827|dataStream:|priority:0, 0373d4be-9e82-4aa9-834c-daa3ef36e8e1|rpc:10.1.0.36:46427|dataStream:|priority:0, 5053e8fa-b9de-40e0-acab-eef8ee16d020|rpc:10.1.0.36:36095|dataStream:|priority:1], old=null
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18 ELECTION round 0: result REJECTED
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18
2021-11-04 10:28:11,294 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: start 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:28:11,456 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:11,719 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:11,758 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:12,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:12,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:12,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:12,302 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:28:12,302 [Listener at 0.0.0.0/41497] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-11-04 10:28:12,303 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-11-04 10:28:12,306 [Listener at 0.0.0.0/41497] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:28:12,309 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:28:12,309 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7 since it stays at CLOSED stage.
2021-11-04 10:28:12,309 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7 close command to datanode c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:12,310 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 422bd8ca-8e22-4eb5-93c4-759496f3efb7, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:c8bf306f-0004-4090-a408-62c5f4c726d4, CreationTimestamp2021-11-04T10:28:07.158Z[Etc/UTC]] removed.
2021-11-04 10:28:12,310 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 since it stays at CLOSED stage.
2021-11-04 10:28:12,310 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 close command to datanode 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:12,310 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: b7ef6665-3c8f-4554-8bcf-d360906f4c49, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:37f749d9-5954-42a1-9f9b-1745bea0223f, CreationTimestamp2021-11-04T10:28:07.157Z[Etc/UTC]] removed.
2021-11-04 10:28:12,310 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:28:12,311 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 since it stays at CLOSED stage.
2021-11-04 10:28:12,311 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 which uses HEALTHY READONLY datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:28:12,311 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:12,311 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:12,312 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 87eee880-f586-43fb-b1fb-4b100c53b8d1, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:28:07.138Z[Etc/UTC]] removed.
2021-11-04 10:28:12,312 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 since it stays at CLOSED stage.
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(225)) - Pipeline 87eee880-f586-43fb-b1fb-4b100c53b8d1 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 which uses HEALTHY READONLY datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 978ebe16-5490-4f9c-9300-4d668bfb0af5, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:, CreationTimestamp2021-11-04T10:28:07.156Z[Etc/UTC]] removed.
2021-11-04 10:28:12,312 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:28:12,313 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:28:12,312 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:12,313 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:12,313 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 close command to datanode d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:12,313 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(225)) - Pipeline 978ebe16-5490-4f9c-9300-4d668bfb0af5 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-11-04 10:28:12,320 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-11-04 10:28:12,358 [IPC Server handler 0 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:12,359 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 is not found
2021-11-04 10:28:12,359 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 is not found
2021-11-04 10:28:12,435 [IPC Server handler 2 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:12,436 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7 is not found
2021-11-04 10:28:12,436 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 is not found
2021-11-04 10:28:12,675 [IPC Server handler 10 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:12,758 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:12,859 [IPC Server handler 11 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:12,935 [IPC Server handler 13 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:12,935 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c8bf306f-0004-4090-a408-62c5f4c726d4: remove  FOLLOWER c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7:t0, leader=null, voted=, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null RUNNING
2021-11-04 10:28:12,935 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: shutdown
2021-11-04 10:28:12,936 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-759496F3EFB7,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:12,936 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-FollowerState
2021-11-04 10:28:12,936 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-StateMachineUpdater: set stopIndex = -1
2021-11-04 10:28:12,936 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:12,938 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: closes. applyIndex: -1
2021-11-04 10:28:12,938 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:12,938 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:12,939 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: close
2021-11-04 10:28:12,939 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7-SegmentedRaftLogWorker close()
2021-11-04 10:28:12,944 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: shutdown
2021-11-04 10:28:12,944 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-60B96425D90C,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:28:12,944 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState
2021-11-04 10:28:12,944 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:12,951 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-759496F3EFB7: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/422bd8ca-8e22-4eb5-93c4-759496f3efb7
2021-11-04 10:28:12,951 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=422bd8ca-8e22-4eb5-93c4-759496f3efb7 command on datanode c8bf306f-0004-4090-a408-62c5f4c726d4.
2021-11-04 10:28:12,951 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c8bf306f-0004-4090-a408-62c5f4c726d4: remove  FOLLOWER c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5:t0, leader=null, voted=, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null RUNNING
2021-11-04 10:28:12,951 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: shutdown
2021-11-04 10:28:12,951 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:12,951 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:12,951 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-StateMachineUpdater: set stopIndex = -1
2021-11-04 10:28:12,951 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:12,952 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-60B96425D90C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0
2021-11-04 10:28:12,952 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:12,952 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5043527573ns, electionTimeout:5026ms
2021-11-04 10:28:12,952 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: closes. applyIndex: -1
2021-11-04 10:28:12,961 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-60B96425D90C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/b4bfd907-12c3-4d17-b525-60b96425d90c/sm/snapshot.1_0 took: 10 ms
2021-11-04 10:28:12,961 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:12,961 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5-SegmentedRaftLogWorker close()
2021-11-04 10:28:12,961 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:12,962 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:12,962 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState
2021-11-04 10:28:12,962 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:12,962 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:12,962 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19
2021-11-04 10:28:12,962 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C: closes. applyIndex: 0
2021-11-04 10:28:12,963 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:12,963 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-60B96425D90C-SegmentedRaftLogWorker close()
2021-11-04 10:28:12,965 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:12,969 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: shutdown
2021-11-04 10:28:12,969 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B31C1CC69195,id=0373d4be-9e82-4aa9-834c-daa3ef36e8e1
2021-11-04 10:28:12,969 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-LeaderStateImpl
2021-11-04 10:28:12,970 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:12,970 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:12,970 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B31C1CC69195: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195/sm/snapshot.1_0
2021-11-04 10:28:12,974 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B31C1CC69195: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-239730f1-1678-483c-be81-cc1397c83434/datanode-2/data/ratis/e4cf8ae3-637f-4616-b715-b31c1cc69195/sm/snapshot.1_0 took: 3 ms
2021-11-04 10:28:12,974 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:12,974 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:12,974 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195: closes. applyIndex: 0
2021-11-04 10:28:12,975 [0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:12,975 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1@group-B31C1CC69195-SegmentedRaftLogWorker close()
2021-11-04 10:28:12,975 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown server with port 46427 now
2021-11-04 10:28:12,976 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-4D668BFB0AF5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:12,976 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 command on datanode c8bf306f-0004-4090-a408-62c5f4c726d4.
2021-11-04 10:28:12,976 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:12,976 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:28:12,976 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:12,976 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:28:12,977 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:28:12,978 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data-0/containers/hdds/ed484777-02ea-468b-bc3d-e936fa0ce588 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:28:12,979 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 0373d4be-9e82-4aa9-834c-daa3ef36e8e1: shutdown server with port 46427 successfully
2021-11-04 10:28:12,979 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@203d4cd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-0373d4be-9e82-4aa9-834c-daa3ef36e8e1: Stopped
2021-11-04 10:28:12,979 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null
2021-11-04 10:28:12,980 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:12,980 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19
2021-11-04 10:28:12,980 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:12,981 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A26FCBFFCBBF with new leaderId: 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:12,981 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: change Leader from null to 8c3aa67b-d006-4ad9-94aa-959dae79a988 at term 1 for becomeLeader, leader elected after 5109ms
2021-11-04 10:28:12,981 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:12,982 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:12,982 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:12,982 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:12,982 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:12,982 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:12,980 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:28:12,983 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:12,983 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:12,983 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderStateImpl
2021-11-04 10:28:12,983 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:12,984 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:12,992 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:12,992 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: set configuration 0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:12,992 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/log_inprogress_0
2021-11-04 10:28:13,043 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5072544829ns, electionTimeout:5059ms
2021-11-04 10:28:13,044 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,044 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,044 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,044 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20
2021-11-04 10:28:13,060 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:13,093 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 1, (t:0, i:0))
2021-11-04 10:28:13,093 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FOLLOWER: reject ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: our priority 1 > candidate's priority 0
2021-11-04 10:28:13,093 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:13,093 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,093 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,093 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:13,107 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 1, (t:0, i:0))
2021-11-04 10:28:13,107 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FOLLOWER: accept ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: our priority 0 <= candidate's priority 0
2021-11-04 10:28:13,107 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:13,107 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,107 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,107 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:13,108 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t1. Peer's state: e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E:t1, leader=null, voted=null, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:13,112 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:OK-t1. Peer's state: cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E:t1, leader=null, voted=8c3aa67b-d006-4ad9-94aa-959dae79a988, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:13,112 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:28:13,114 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t1
2021-11-04 10:28:13,114 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20 ELECTION round 0: result REJECTED
2021-11-04 10:28:13,114 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:28:13,114 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20
2021-11-04 10:28:13,114 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:13,176 [IPC Server handler 14 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:13,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:13,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:13,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:13,219 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:13,243 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5019015967ns, electionTimeout:5018ms
2021-11-04 10:28:13,243 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState
2021-11-04 10:28:13,243 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,243 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,243 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21
2021-11-04 10:28:13,265 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null
2021-11-04 10:28:13,265 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B8FBC8158DD7 with new leaderId: cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: change Leader from null to cf7b1b1f-a7a2-453d-9277-ba582b08dea9 at term 1 for becomeLeader, leader elected after 5152ms
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,266 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:13,267 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:13,267 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:13,267 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:13,267 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:13,268 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,268 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:13,268 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderStateImpl
2021-11-04 10:28:13,268 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:13,269 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/log_inprogress_0
2021-11-04 10:28:13,286 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: set configuration 0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:28:13,322 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5178710629ns, electionTimeout:5168ms
2021-11-04 10:28:13,323 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState
2021-11-04 10:28:13,323 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,323 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,323 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22
2021-11-04 10:28:13,339 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5064425524ns, electionTimeout:5063ms
2021-11-04 10:28:13,340 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState
2021-11-04 10:28:13,340 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,340 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,340 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23
2021-11-04 10:28:13,354 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for -1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4B100C53B8D1 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for becomeLeader, leader elected after 5239ms
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,355 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:13,356 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:13,356 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:13,356 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:13,356 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,356 [IPC Server handler 0 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:13,356 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 is not found
2021-11-04 10:28:13,356 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 is not found
2021-11-04 10:28:13,357 [IPC Server handler 3 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:13,356 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:13,360 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderStateImpl
2021-11-04 10:28:13,361 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:13,361 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null
2021-11-04 10:28:13,361 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:13,361 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23
2021-11-04 10:28:13,361 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:13,361 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-DADAF2559AFA with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:13,362 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1/current/log_inprogress_0
2021-11-04 10:28:13,370 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: set configuration 0: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:13,375 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5179181833ns, electionTimeout:5172ms
2021-11-04 10:28:13,376 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,376 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,376 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,376 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24
2021-11-04 10:28:13,381 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 1 for becomeLeader, leader elected after 5109ms
2021-11-04 10:28:13,381 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:13,382 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,382 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:13,383 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:13,388 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:13,388 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:13,388 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:13,388 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,389 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:13,389 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderStateImpl
2021-11-04 10:28:13,389 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:13,390 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/current/log_inprogress_0
2021-11-04 10:28:13,393 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null
2021-11-04 10:28:13,402 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:13,422 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5187777439ns, electionTimeout:5186ms
2021-11-04 10:28:13,422 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,422 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,422 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,422 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25
2021-11-04 10:28:13,443 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(124)) - c8bf306f-0004-4090-a408-62c5f4c726d4: Failed requestVote 37f749d9-5954-42a1-9f9b-1745bea0223f->c8bf306f-0004-4090-a408-62c5f4c726d4#0
org.apache.ratis.protocol.exceptions.GroupMismatchException: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.get(RaftServerProxy.java:147)
	at org.apache.ratis.server.impl.RaftServerProxy.getImplFuture(RaftServerProxy.java:339)
	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:348)
	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:343)
	at org.apache.ratis.server.impl.RaftServerProxy.requestVote(RaftServerProxy.java:548)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService.requestVote(GrpcServerProtocolService.java:172)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$MethodHandlers.invoke(RaftServerProtocolServiceGrpc.java:394)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:814)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:28:13,445 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: receive requestVote(ELECTION, 37f749d9-5954-42a1-9f9b-1745bea0223f, group-4D668BFB0AF5, 1, (t:0, i:0))
2021-11-04 10:28:13,451 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
2021-11-04 10:28:13,456 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:13,456 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-CANDIDATE: reject ELECTION from 37f749d9-5954-42a1-9f9b-1745bea0223f: already has voted for d5c83119-0170-4c0e-a3d8-2bb84de341da at current term 1
2021-11-04 10:28:13,457 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5 replies to ELECTION vote request: 37f749d9-5954-42a1-9f9b-1745bea0223f<-d5c83119-0170-4c0e-a3d8-2bb84de341da#0:FAIL-t1. Peer's state: d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5:t1, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:13,457 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:28:13,457 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:13,458 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:13,458 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:13.458Z[Etc/UTC]].
2021-11-04 10:28:13,458 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-11-04 10:28:13,467 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24: ELECTION REJECTED received 1 response(s) and 1 exception(s):
2021-11-04 10:28:13,467 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 37f749d9-5954-42a1-9f9b-1745bea0223f<-d5c83119-0170-4c0e-a3d8-2bb84de341da#0:FAIL-t1
2021-11-04 10:28:13,467 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
2021-11-04 10:28:13,479 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24 ELECTION round 0: result REJECTED
2021-11-04 10:28:13,479 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:28:13,479 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24
2021-11-04 10:28:13,479 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,479 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(124)) - c8bf306f-0004-4090-a408-62c5f4c726d4: Failed requestVote d5c83119-0170-4c0e-a3d8-2bb84de341da->c8bf306f-0004-4090-a408-62c5f4c726d4#0
org.apache.ratis.protocol.exceptions.GroupMismatchException: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.get(RaftServerProxy.java:147)
	at org.apache.ratis.server.impl.RaftServerProxy.getImplFuture(RaftServerProxy.java:339)
	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:348)
	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:343)
	at org.apache.ratis.server.impl.RaftServerProxy.requestVote(RaftServerProxy.java:548)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService.requestVote(GrpcServerProtocolService.java:172)
	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$MethodHandlers.invoke(RaftServerProtocolServiceGrpc.java:394)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:814)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:28:13,486 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
2021-11-04 10:28:13,492 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: receive requestVote(ELECTION, d5c83119-0170-4c0e-a3d8-2bb84de341da, group-4D668BFB0AF5, 1, (t:0, i:0))
2021-11-04 10:28:13,492 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FOLLOWER: reject ELECTION from d5c83119-0170-4c0e-a3d8-2bb84de341da: already has voted for 37f749d9-5954-42a1-9f9b-1745bea0223f at current term 1
2021-11-04 10:28:13,492 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5 replies to ELECTION vote request: d5c83119-0170-4c0e-a3d8-2bb84de341da<-37f749d9-5954-42a1-9f9b-1745bea0223f#0:FAIL-t1. Peer's state: 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5:t1, leader=null, voted=37f749d9-5954-42a1-9f9b-1745bea0223f, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null
2021-11-04 10:28:13,493 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25: ELECTION REJECTED received 1 response(s) and 1 exception(s):
2021-11-04 10:28:13,493 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: d5c83119-0170-4c0e-a3d8-2bb84de341da<-37f749d9-5954-42a1-9f9b-1745bea0223f#0:FAIL-t1
2021-11-04 10:28:13,494 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: c8bf306f-0004-4090-a408-62c5f4c726d4: group-4D668BFB0AF5 not found.
2021-11-04 10:28:13,494 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25 ELECTION round 0: result REJECTED
2021-11-04 10:28:13,494 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:28:13,494 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25
2021-11-04 10:28:13,494 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,567 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5167621288ns, electionTimeout:5147ms
2021-11-04 10:28:13,567 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState
2021-11-04 10:28:13,567 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:13,567 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:13,568 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26
2021-11-04 10:28:13,603 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:28:13,603 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:13,603 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26
2021-11-04 10:28:13,603 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:13,603 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-D360906F4C49 with new leaderId: 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: change Leader from null to 37f749d9-5954-42a1-9f9b-1745bea0223f at term 1 for becomeLeader, leader elected after 5247ms
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:13,604 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:13,604 [IPC Server handler 4 on default port 44041] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:28:13,605 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:13,605 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:13,605 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:13,605 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderStateImpl
2021-11-04 10:28:13,606 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 is not found
2021-11-04 10:28:13,606 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 is not found
2021-11-04 10:28:13,607 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:13,608 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49/current/log_inprogress_0
2021-11-04 10:28:13,627 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: set configuration 0: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:1], old=null
2021-11-04 10:28:13,675 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: remove    LEADER d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1:t1, leader=d5c83119-0170-4c0e-a3d8-2bb84de341da, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLog:OPENED:c0, conf=0: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:13,675 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: shutdown
2021-11-04 10:28:13,675 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B100C53B8D1,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:13,675 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-LeaderStateImpl
2021-11-04 10:28:13,675 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:13,676 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:13,676 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4B100C53B8D1: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1/sm/snapshot.1_0
2021-11-04 10:28:13,677 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4B100C53B8D1: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:28:13,677 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:13,677 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:13,678 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: closes. applyIndex: 0
2021-11-04 10:28:13,678 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:13,679 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1-SegmentedRaftLogWorker close()
2021-11-04 10:28:13,681 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4B100C53B8D1: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/87eee880-f586-43fb-b1fb-4b100c53b8d1
2021-11-04 10:28:13,681 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=87eee880-f586-43fb-b1fb-4b100c53b8d1 command on datanode d5c83119-0170-4c0e-a3d8-2bb84de341da.
2021-11-04 10:28:13,681 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: remove  FOLLOWER d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5:t1, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null RUNNING
2021-11-04 10:28:13,681 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: shutdown
2021-11-04 10:28:13,681 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:13,681 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,681 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:13,682 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-StateMachineUpdater: set stopIndex = -1
2021-11-04 10:28:13,683 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: closes. applyIndex: -1
2021-11-04 10:28:13,683 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:13,683 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5-SegmentedRaftLogWorker close()
2021-11-04 10:28:13,684 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-4D668BFB0AF5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:13,684 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 command on datanode d5c83119-0170-4c0e-a3d8-2bb84de341da.
2021-11-04 10:28:13,685 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:13,685 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:28:13,685 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:13,685 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:28:13,686 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:28:13,686 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data-0/containers/hdds/ed484777-02ea-468b-bc3d-e936fa0ce588 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:28:13,690 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:28:13,690 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:13,857 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: remove    LEADER 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49:t1, leader=37f749d9-5954-42a1-9f9b-1745bea0223f, voted=37f749d9-5954-42a1-9f9b-1745bea0223f, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLog:OPENED:c0, conf=0: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:28:13,858 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: shutdown
2021-11-04 10:28:13,858 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D360906F4C49,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:13,858 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-LeaderStateImpl
2021-11-04 10:28:13,858 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:13,858 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:13,858 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-D360906F4C49: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49/sm/snapshot.1_0
2021-11-04 10:28:13,860 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-D360906F4C49: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:13,860 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:13,860 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:13,860 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: closes. applyIndex: 0
2021-11-04 10:28:13,860 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:13,862 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49-SegmentedRaftLogWorker close()
2021-11-04 10:28:13,867 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-D360906F4C49: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/b7ef6665-3c8f-4554-8bcf-d360906f4c49
2021-11-04 10:28:13,867 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=b7ef6665-3c8f-4554-8bcf-d360906f4c49 command on datanode 37f749d9-5954-42a1-9f9b-1745bea0223f.
2021-11-04 10:28:13,868 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: remove  FOLLOWER 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5:t1, leader=null, voted=37f749d9-5954-42a1-9f9b-1745bea0223f, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:0], old=null RUNNING
2021-11-04 10:28:13,868 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: shutdown
2021-11-04 10:28:13,868 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D668BFB0AF5,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:13,868 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState
2021-11-04 10:28:13,868 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-StateMachineUpdater: set stopIndex = -1
2021-11-04 10:28:13,868 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: closes. applyIndex: -1
2021-11-04 10:28:13,868 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:13,868 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:13,869 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5-SegmentedRaftLogWorker close()
2021-11-04 10:28:13,873 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-4D668BFB0AF5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/978ebe16-5490-4f9c-9300-4d668bfb0af5
2021-11-04 10:28:13,873 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=978ebe16-5490-4f9c-9300-4d668bfb0af5 command on datanode 37f749d9-5954-42a1-9f9b-1745bea0223f.
2021-11-04 10:28:13,873 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:13,873 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:28:13,873 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:13,873 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:28:13,874 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:28:13,874 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data-0/containers/hdds/ed484777-02ea-468b-bc3d-e936fa0ce588 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:28:13,876 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:28:13,877 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:13,877 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:13,941 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:28:13,941 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:13,941 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=605338da-06c6-4510-a6ab-05b7fed5fdb7 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:13,942 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 605338da-06c6-4510-a6ab-05b7fed5fdb7, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:13.941Z[Etc/UTC]].
2021-11-04 10:28:13,942 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-11-04 10:28:14,198 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:14,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:14,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:14,383 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:14,434 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:14,435 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-EA5D3D8ED9C0:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] returns group-EA5D3D8ED9C0:java.util.concurrent.CompletableFuture@3048afa9[Not completed]
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-EA5D3D8ED9C0:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:14,436 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0 does not exist. Creating ...
2021-11-04 10:28:14,438 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:14,439 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0 has been successfully formatted.
2021-11-04 10:28:14,439 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EA5D3D8ED9C0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:14,443 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:28:14,443 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:14,443 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0, Nodes: c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:c8bf306f-0004-4090-a408-62c5f4c726d4, CreationTimestamp2021-11-04T10:28:13.458Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:14,443 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=08ddaab3-985d-4380-83a3-08cdaf424f8f to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:14,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 08ddaab3-985d-4380-83a3-08cdaf424f8f, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:14.443Z[Etc/UTC]].
2021-11-04 10:28:14,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f3217396-8582-403a-b5cb-497c53210e92 to datanode:37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:14,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f3217396-8582-403a-b5cb-497c53210e92 to datanode:c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:14,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f3217396-8582-403a-b5cb-497c53210e92 to datanode:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:14,444 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f3217396-8582-403a-b5cb-497c53210e92, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:14.444Z[Etc/UTC]].
2021-11-04 10:28:14,449 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:14,449 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:14,449 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:14,449 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:14,450 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,450 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:14,450 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:14,451 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:14,452 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:14,452 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:14,453 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,453 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:14,454 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:14,455 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null
2021-11-04 10:28:14,455 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:14,456 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState
2021-11-04 10:28:14,459 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EA5D3D8ED9C0,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:14,460 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0
2021-11-04 10:28:14,460 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0.
2021-11-04 10:28:14,767 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:14,855 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:14,855 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-05B7FED5FDB7:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] returns group-05B7FED5FDB7:java.util.concurrent.CompletableFuture@4cdf1f06[Not completed]
2021-11-04 10:28:14,856 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-05B7FED5FDB7:[d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: ConfigurationManager, init=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:14,857 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7 does not exist. Creating ...
2021-11-04 10:28:14,863 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:14,864 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7 has been successfully formatted.
2021-11-04 10:28:14,865 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 605338da-06c6-4510-a6ab-05b7fed5fdb7, Nodes: d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:28:13.941Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:14,865 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-05B7FED5FDB7: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7
2021-11-04 10:28:14,866 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:14,867 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:14,868 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:14,868 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,868 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:14,873 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:14,876 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: start as a follower, conf=-1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:14,876 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:14,876 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState
2021-11-04 10:28:14,876 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-05B7FED5FDB7,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:14,880 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=605338da-06c6-4510-a6ab-05b7fed5fdb7
2021-11-04 10:28:14,880 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=605338da-06c6-4510-a6ab-05b7fed5fdb7.
2021-11-04 10:28:14,880 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: addNew group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] returns group-497C53210E92:java.util.concurrent.CompletableFuture@696365f6[Not completed]
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: new RaftServerImpl for group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:14,881 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis] (custom)
2021-11-04 10:28:14,882 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:14,882 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:14,882 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 does not exist. Creating ...
2021-11-04 10:28:14,882 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:14,884 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 has been successfully formatted.
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-497C53210E92: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92
2021-11-04 10:28:14,885 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:14,886 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:14,887 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,887 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:14,892 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:14,893 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:14,893 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:14,893 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState
2021-11-04 10:28:14,896 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:14,898 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=f3217396-8582-403a-b5cb-497c53210e92
2021-11-04 10:28:14,908 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] returns group-497C53210E92:java.util.concurrent.CompletableFuture@5bd19021[Not completed]
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:14,908 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:14,909 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:14,909 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:28:14,909 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:14,909 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:14,909 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 does not exist. Creating ...
2021-11-04 10:28:14,910 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 has been successfully formatted.
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-497C53210E92: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:14,911 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:14,912 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:14,915 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:14,915 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:14,915 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,915 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,926 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:14,927 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:14,927 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:14,927 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:14,927 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:14,927 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:14,928 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:14,928 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:14,928 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState
2021-11-04 10:28:14,930 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:14,968 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c8bf306f-0004-4090-a408-62c5f4c726d4: addNew group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] returns group-497C53210E92:java.util.concurrent.CompletableFuture@201c334c[Not completed]
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - c8bf306f-0004-4090-a408-62c5f4c726d4: new RaftServerImpl for group-497C53210E92:[c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: ConfigurationManager, init=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:14,969 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis] (custom)
2021-11-04 10:28:14,970 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:14,970 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:14,970 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 does not exist. Creating ...
2021-11-04 10:28:14,973 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:14,977 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92 has been successfully formatted.
2021-11-04 10:28:14,977 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-497C53210E92: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:14,977 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:14,977 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:14,978 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:14,979 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:14,980 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:14,982 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,982 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:14,983 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:14,991 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:14,992 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: start as a follower, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:14,992 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:14,992 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState
2021-11-04 10:28:14,996 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:15,009 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=f3217396-8582-403a-b5cb-497c53210e92.
2021-11-04 10:28:15,104 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:28:15,104 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: addNew group-08CDAF424F8F:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] returns group-08CDAF424F8F:java.util.concurrent.CompletableFuture@408c5792[Not completed]
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: new RaftServerImpl for group-08CDAF424F8F:[37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:15,105 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: ConfigurationManager, init=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:15,106 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis] (custom)
2021-11-04 10:28:15,106 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:15,106 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:15,106 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f does not exist. Creating ...
2021-11-04 10:28:15,107 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:15,108 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f has been successfully formatted.
2021-11-04 10:28:15,108 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-08CDAF424F8F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:15,108 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:15,108 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:15,109 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:15,109 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:15,109 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:15,110 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 08ddaab3-985d-4380-83a3-08cdaf424f8f, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:37f749d9-5954-42a1-9f9b-1745bea0223f, CreationTimestamp2021-11-04T10:28:14.443Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:15,111 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:15,112 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:15,112 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:15,112 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:15,113 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:15,113 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:15,120 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:15,121 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: start as a follower, conf=-1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:28:15,121 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:15,121 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState
2021-11-04 10:28:15,121 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-08CDAF424F8F,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:15,124 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=08ddaab3-985d-4380-83a3-08cdaf424f8f
2021-11-04 10:28:15,124 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=08ddaab3-985d-4380-83a3-08cdaf424f8f.
2021-11-04 10:28:15,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:15,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:15,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:15,384 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:16,001 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:16,006 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@44359cea{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:16,007 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@692c4b3e{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:16,007 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:16,011 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6263caca{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:16,013 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@51ab00a9{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:16,037 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:28:16,037 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:28:16,037 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:28:16,037 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:28:16,037 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:28:16,039 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:28:16,040 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:28:16,040 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:28:16,040 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:28:16,041 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34317
2021-11-04 10:28:16,043 [IPC Server listener on 34317] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 34317
2021-11-04 10:28:16,044 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:16,125 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:28:16,125 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:28:16,125 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:28:16,135 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35205
2021-11-04 10:28:16,142 [IPC Server listener on 35205] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 35205
2021-11-04 10:28:16,142 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:28:16,142 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:28:16,142 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:16,151 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35635
2021-11-04 10:28:16,185 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:28:16,185 [IPC Server listener on 35635] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 35635
2021-11-04 10:28:16,185 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:16,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:16,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:16,199 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:16,200 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@485f47dd{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:16,201 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3da2a3b5{HTTP/1.1, (http/1.1)}{0.0.0.0:39665}
2021-11-04 10:28:16,201 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:16,205 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@38ef4fd2{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:28:16,206 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@19799b6b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:16,209 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:28:16,209 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:16,209 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:16,209 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:28:16,212 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:28:16,212 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:28:16,212 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:28:16,213 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-11-04 10:28:16,220 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:28:16,221 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-11-04 10:28:16,272 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:16,490 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:16,884 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:17,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:17,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:17,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:17,309 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:28:17,774 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:17,986 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:18,156 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5042025665ns, electionTimeout:5038ms
2021-11-04 10:28:18,156 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,156 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:28:18,156 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:18,156 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27
2021-11-04 10:28:18,174 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27 ELECTION round 0: submit vote requests at term 2 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:18,189 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5095278217ns, electionTimeout:5063ms
2021-11-04 10:28:18,189 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,189 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:28:18,189 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:18,189 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection28
2021-11-04 10:28:18,194 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 2, (t:0, i:0))
2021-11-04 10:28:18,194 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-CANDIDATE: reject ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: our priority 1 > candidate's priority 0
2021-11-04 10:28:18,194 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:18,195 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection28
2021-11-04 10:28:18,195 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,202 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection28: skip running since this is already CLOSING
2021-11-04 10:28:18,203 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 2, (t:0, i:0))
2021-11-04 10:28:18,204 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FOLLOWER: accept ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: our priority 0 <= candidate's priority 0
2021-11-04 10:28:18,204 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:18,204 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,204 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,204 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:18,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:18,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:18,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:18,210 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:OK-t2. Peer's state: cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E:t2, leader=null, voted=8c3aa67b-d006-4ad9-94aa-959dae79a988, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:18,207 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t2. Peer's state: e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E:t2, leader=null, voted=null, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t2
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27 ELECTION round 0: result REJECTED
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27
2021-11-04 10:28:18,215 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:18,383 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:18,990 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:19,213 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:19,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:19,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:19,599 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5143650087ns, electionTimeout:5140ms
2021-11-04 10:28:19,599 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState
2021-11-04 10:28:19,599 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:19,600 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:19,600 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:1], old=null
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EA5D3D8ED9C0 with new leaderId: c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:19,616 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: change Leader from null to c8bf306f-0004-4090-a408-62c5f4c726d4 at term 1 for becomeLeader, leader elected after 5167ms
2021-11-04 10:28:19,617 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:19,617 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,617 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderStateImpl
2021-11-04 10:28:19,618 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:19,619 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0/current/log_inprogress_0
2021-11-04 10:28:19,630 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:1], old=null
2021-11-04 10:28:19,775 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:19,937 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5061171568ns, electionTimeout:5060ms
2021-11-04 10:28:19,937 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState
2021-11-04 10:28:19,937 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:19,937 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:19,937 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5060247957ns, electionTimeout:5057ms
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30 ELECTION round 0: submit vote requests at term 1 for -1: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:19,954 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-05B7FED5FDB7 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:19,955 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for becomeLeader, leader elected after 5088ms
2021-11-04 10:28:19,955 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:19,955 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,955 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderStateImpl
2021-11-04 10:28:19,956 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:19,958 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7/current/log_inprogress_0
2021-11-04 10:28:19,971 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: set configuration 0: [d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:19,972 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31 ELECTION round 0: submit vote requests at term 1 for -1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|priority:1], old=null
2021-11-04 10:28:19,979 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: receive requestVote(ELECTION, d5c83119-0170-4c0e-a3d8-2bb84de341da, group-497C53210E92, 1, (t:0, i:0))
2021-11-04 10:28:19,979 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FOLLOWER: accept ELECTION from d5c83119-0170-4c0e-a3d8-2bb84de341da: our priority 0 <= candidate's priority 1
2021-11-04 10:28:19,979 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:19,979 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState
2021-11-04 10:28:19,979 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c8bf306f-0004-4090-a408-62c5f4c726d4: start c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState
2021-11-04 10:28:19,980 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:19,983 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92 replies to ELECTION vote request: d5c83119-0170-4c0e-a3d8-2bb84de341da<-c8bf306f-0004-4090-a408-62c5f4c726d4#0:OK-t1. Peer's state: c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92:t1, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:19,985 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:28:19,985 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: d5c83119-0170-4c0e-a3d8-2bb84de341da<-c8bf306f-0004-4090-a408-62c5f4c726d4#0:OK-t1
2021-11-04 10:28:19,985 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31 ELECTION round 0: result PASSED
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-497C53210E92 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for becomeLeader, leader elected after 5100ms
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:19,986 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:19,987 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:19,988 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:19,989 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: f3217396-8582-403a-b5cb-497c53210e92, Nodes: 37f749d9-5954-42a1-9f9b-1745bea0223f{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=42575, RATIS=45489, RATIS_ADMIN=45489, RATIS_SERVER=45489, STANDALONE=36939], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c8bf306f-0004-4090-a408-62c5f4c726d4{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=41545, RATIS=36233, RATIS_ADMIN=36233, RATIS_SERVER=36233, STANDALONE=44663], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d5c83119-0170-4c0e-a3d8-2bb84de341da{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38157, RATIS=38067, RATIS_ADMIN=38067, RATIS_SERVER=38067, STANDALONE=34747], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:d5c83119-0170-4c0e-a3d8-2bb84de341da, CreationTimestamp2021-11-04T10:28:14.444Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:19,990 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl
2021-11-04 10:28:19,991 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:19,992 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:19,993 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/current/log_inprogress_0
2021-11-04 10:28:19,994 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: receive requestVote(ELECTION, d5c83119-0170-4c0e-a3d8-2bb84de341da, group-497C53210E92, 1, (t:0, i:0))
2021-11-04 10:28:19,994 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FOLLOWER: accept ELECTION from d5c83119-0170-4c0e-a3d8-2bb84de341da: our priority 0 <= candidate's priority 1
2021-11-04 10:28:19,994 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:19,994 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState
2021-11-04 10:28:19,995 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState
2021-11-04 10:28:19,995 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:20,017 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:20,018 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-497C53210E92 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:20,018 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for appendEntries, leader elected after 5040ms
2021-11-04 10:28:20,019 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92 replies to ELECTION vote request: d5c83119-0170-4c0e-a3d8-2bb84de341da<-37f749d9-5954-42a1-9f9b-1745bea0223f#0:OK-t1. Peer's state: 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92:t1, leader=null, voted=d5c83119-0170-4c0e-a3d8-2bb84de341da, raftlog=37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLog:OPENED:c-1, conf=-1: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:20,019 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-497C53210E92 with new leaderId: d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:20,019 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: change Leader from null to d5c83119-0170-4c0e-a3d8-2bb84de341da at term 1 for appendEntries, leader elected after 5108ms
2021-11-04 10:28:20,023 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:20,031 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:20,032 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: set configuration 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:20,032 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:20,034 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/current/log_inprogress_0
2021-11-04 10:28:20,041 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/current/log_inprogress_0
2021-11-04 10:28:20,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:20,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:20,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:20,239 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5117911960ns, electionTimeout:5117ms
2021-11-04 10:28:20,239 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState
2021-11-04 10:28:20,239 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:20,239 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:20,239 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32
2021-11-04 10:28:20,254 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32 ELECTION round 0: submit vote requests at term 1 for -1: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|priority:1], old=null
2021-11-04 10:28:20,254 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:20,254 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32
2021-11-04 10:28:20,254 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:20,254 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-08CDAF424F8F with new leaderId: 37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: change Leader from null to 37f749d9-5954-42a1-9f9b-1745bea0223f at term 1 for becomeLeader, leader elected after 5145ms
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:20,255 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:20,256 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:20,256 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: start 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderStateImpl
2021-11-04 10:28:20,263 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:20,265 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f/current/log_inprogress_0
2021-11-04 10:28:20,282 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: set configuration 0: [37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:1], old=null
2021-11-04 10:28:20,384 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:20,783 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:21,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:21,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:21,214 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:21,383 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:21,492 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:22,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:22,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:22,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:22,289 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:22,310 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-11-04 10:28:22,310 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:28:22,310 [Listener at 0.0.0.0/41497] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:28:22,310 [Listener at 0.0.0.0/41497] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:28:22,310 [Listener at 0.0.0.0/41497] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:28:22,413 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-11-04 10:28:22,413 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-11-04 10:28:22,413 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:28:22,413 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:28:22,414 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45315
2021-11-04 10:28:22,417 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:22,417 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:28:22,418 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:28:22,419 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:28:22,419 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-11-04 10:28:22,419 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:28:22,419 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:22,422 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-11-04 10:28:22,422 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-11-04 10:28:22,423 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-11-04 10:28:22,423 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-11-04 10:28:22,423 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:28:22,423 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-11-04 10:28:22,423 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:22,425 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:28:22,425 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 45899 now
2021-11-04 10:28:22,428 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 45899 successfully
2021-11-04 10:28:22,428 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1bd96697] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:28:22,428 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:28:22,428 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:28:22,432 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:28:22,433 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:28:22,440 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@33a8d99c{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:28:22,445 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5373a7ad{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:22,445 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:22,450 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4fb57898{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:28:22,454 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@521cd74c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:22,462 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:28:22,991 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:23,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:23,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:23,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:23,326 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5118966218ns, electionTimeout:5118ms
2021-11-04 10:28:23,326 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,326 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:28:23,326 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:23,326 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33
2021-11-04 10:28:23,337 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33 ELECTION round 0: submit vote requests at term 3 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:23,349 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5133515197ns, electionTimeout:5126ms
2021-11-04 10:28:23,349 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,349 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:28:23,350 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: receive requestVote(ELECTION, cf7b1b1f-a7a2-453d-9277-ba582b08dea9, group-99087D2BBA8E, 3, (t:0, i:0))
2021-11-04 10:28:23,350 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FOLLOWER: reject ELECTION from cf7b1b1f-a7a2-453d-9277-ba582b08dea9: our priority 1 > candidate's priority 0
2021-11-04 10:28:23,350 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:23,350 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,351 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:23,351 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:23,351 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34
2021-11-04 10:28:23,351 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,361 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E replies to ELECTION vote request: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t3. Peer's state: e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E:t3, leader=null, voted=null, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t3
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33 ELECTION round 0: result REJECTED
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33
2021-11-04 10:28:23,364 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,364 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34 ELECTION round 0: submit vote requests at term 3 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:23,364 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: receive requestVote(ELECTION, cf7b1b1f-a7a2-453d-9277-ba582b08dea9, group-99087D2BBA8E, 3, (t:0, i:0))
2021-11-04 10:28:23,364 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-CANDIDATE: reject ELECTION from cf7b1b1f-a7a2-453d-9277-ba582b08dea9: already has voted for 8c3aa67b-d006-4ad9-94aa-959dae79a988 at current term 3
2021-11-04 10:28:23,364 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E replies to ELECTION vote request: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-8c3aa67b-d006-4ad9-94aa-959dae79a988#0:FAIL-t3. Peer's state: 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E:t3, leader=null, voted=8c3aa67b-d006-4ad9-94aa-959dae79a988, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:23,370 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 3, (t:0, i:0))
2021-11-04 10:28:23,371 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FOLLOWER: reject ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: our priority 1 > candidate's priority 0
2021-11-04 10:28:23,371 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:23,371 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,375 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: receive requestVote(ELECTION, 8c3aa67b-d006-4ad9-94aa-959dae79a988, group-99087D2BBA8E, 3, (t:0, i:0))
2021-11-04 10:28:23,375 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FOLLOWER: reject ELECTION from 8c3aa67b-d006-4ad9-94aa-959dae79a988: already has voted for cf7b1b1f-a7a2-453d-9277-ba582b08dea9 at current term 3
2021-11-04 10:28:23,376 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:FAIL-t3. Peer's state: cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E:t3, leader=null, voted=cf7b1b1f-a7a2-453d-9277-ba582b08dea9, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:23,380 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:23,380 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:23,384 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:23,387 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E replies to ELECTION vote request: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t3. Peer's state: e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E:t3, leader=null, voted=null, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t3
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 8c3aa67b-d006-4ad9-94aa-959dae79a988<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:FAIL-t3
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34 ELECTION round 0: result REJECTED
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34
2021-11-04 10:28:23,388 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:24,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:24,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:24,215 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:24,285 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:24,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:24,991 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:25,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:25,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:25,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:25,786 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:25,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:25,991 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:26,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:26,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:26,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:27,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:27,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:27,216 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:27,292 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:27,464 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:27,465 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - c8bf306f-0004-4090-a408-62c5f4c726d4: close
2021-11-04 10:28:27,465 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: shutdown
2021-11-04 10:28:27,465 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EA5D3D8ED9C0,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:27,465 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-LeaderStateImpl
2021-11-04 10:28:27,465 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:27,466 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:27,466 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EA5D3D8ED9C0: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0/sm/snapshot.1_0
2021-11-04 10:28:27,468 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EA5D3D8ED9C0: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/01acc52b-7bcf-4f3f-807e-ea5d3d8ed9c0/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:27,468 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:27,468 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:27,468 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:27,472 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: close
2021-11-04 10:28:27,473 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: shutdown
2021-11-04 10:28:27,473 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-08CDAF424F8F,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:27,473 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-LeaderStateImpl
2021-11-04 10:28:27,473 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:27,473 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:27,474 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-08CDAF424F8F: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f/sm/snapshot.1_0
2021-11-04 10:28:27,474 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0: closes. applyIndex: 0
2021-11-04 10:28:27,474 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-08CDAF424F8F: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/08ddaab3-985d-4380-83a3-08cdaf424f8f/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:27,474 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:27,474 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:27,475 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F: closes. applyIndex: 0
2021-11-04 10:28:27,475 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:27,476 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-08CDAF424F8F-SegmentedRaftLogWorker close()
2021-11-04 10:28:27,478 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: shutdown
2021-11-04 10:28:27,478 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=37f749d9-5954-42a1-9f9b-1745bea0223f
2021-11-04 10:28:27,478 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState
2021-11-04 10:28:27,478 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:27,478 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:27,479 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-497C53210E92: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0
2021-11-04 10:28:27,479 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:27,480 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-EA5D3D8ED9C0-SegmentedRaftLogWorker close()
2021-11-04 10:28:27,480 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-497C53210E92: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-0/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:27,480 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:27,480 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:27,481 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92: closes. applyIndex: 0
2021-11-04 10:28:27,481 [37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:27,482 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: shutdown
2021-11-04 10:28:27,484 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=c8bf306f-0004-4090-a408-62c5f4c726d4
2021-11-04 10:28:27,484 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState
2021-11-04 10:28:27,484 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:27,484 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-497C53210E92: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0
2021-11-04 10:28:27,485 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:27,485 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 37f749d9-5954-42a1-9f9b-1745bea0223f@group-497C53210E92-SegmentedRaftLogWorker close()
2021-11-04 10:28:27,489 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown server with port 45489 now
2021-11-04 10:28:27,493 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: installSnapshot onError, lastRequest: d5c83119-0170-4c0e-a3d8-2bb84de341da->37f749d9-5954-42a1-9f9b-1745bea0223f#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:28:27,493 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-497C53210E92: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-1/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0 took: 9 ms
2021-11-04 10:28:27,493 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:27,493 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:27,494 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92: closes. applyIndex: 0
2021-11-04 10:28:27,494 [c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:27,496 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:28:27,496 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f(c0,m0,n1, attendVote=true, lastRpcSendTime=2426, lastRpcResponseTime=2420) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:27,499 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:27,499 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c8bf306f-0004-4090-a408-62c5f4c726d4@group-497C53210E92-SegmentedRaftLogWorker close()
2021-11-04 10:28:27,504 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown server with port 36233 now
2021-11-04 10:28:27,505 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 37f749d9-5954-42a1-9f9b-1745bea0223f: shutdown server with port 45489 successfully
2021-11-04 10:28:27,505 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@56fd167d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-37f749d9-5954-42a1-9f9b-1745bea0223f: Stopped
2021-11-04 10:28:27,513 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - c8bf306f-0004-4090-a408-62c5f4c726d4: installSnapshot onError, lastRequest: d5c83119-0170-4c0e-a3d8-2bb84de341da->c8bf306f-0004-4090-a408-62c5f4c726d4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:28:27,514 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - c8bf306f-0004-4090-a408-62c5f4c726d4: shutdown server with port 36233 successfully
2021-11-04 10:28:27,514 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:28:27,514 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4(c0,m0,n1, attendVote=true, lastRpcSendTime=2460, lastRpcResponseTime=2443) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:27,514 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6bd7c0e5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-c8bf306f-0004-4090-a408-62c5f4c726d4: Stopped
2021-11-04 10:28:27,525 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:27,526 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:27,594 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:27,595 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=2523) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:27,600 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:27,601 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=2524) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:27,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:28,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:28,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:28,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:28,293 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:28,437 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5057263075ns, electionTimeout:5050ms
2021-11-04 10:28:28,438 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:28,438 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-11-04 10:28:28,438 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:28,438 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35
2021-11-04 10:28:28,454 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35 ELECTION round 0: submit vote requests at term 4 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:28,523 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: receive requestVote(ELECTION, e8f45799-186c-4d22-9260-bc450be8fd6c, group-99087D2BBA8E, 4, (t:0, i:0))
2021-11-04 10:28:28,523 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FOLLOWER: accept ELECTION from e8f45799-186c-4d22-9260-bc450be8fd6c: our priority 0 <= candidate's priority 1
2021-11-04 10:28:28,523 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:28,523 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:28,523 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:28,523 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:28,551 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E replies to ELECTION vote request: e8f45799-186c-4d22-9260-bc450be8fd6c<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:OK-t4. Peer's state: cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E:t4, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:28,552 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5163356672ns, electionTimeout:5159ms
2021-11-04 10:28:28,552 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:28,552 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-11-04 10:28:28,552 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:28,552 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection36
2021-11-04 10:28:28,554 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: receive requestVote(ELECTION, e8f45799-186c-4d22-9260-bc450be8fd6c, group-99087D2BBA8E, 4, (t:0, i:0))
2021-11-04 10:28:28,560 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-CANDIDATE: accept ELECTION from e8f45799-186c-4d22-9260-bc450be8fd6c: our priority 0 <= candidate's priority 1
2021-11-04 10:28:28,560 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from CANDIDATE to FOLLOWER at term 4 for candidate:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:28,560 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection36
2021-11-04 10:28:28,561 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:28,561 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:28:28,561 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: e8f45799-186c-4d22-9260-bc450be8fd6c<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:OK-t4
2021-11-04 10:28:28,561 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-LeaderElection36: skip running since this is already CLOSING
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35 ELECTION round 0: result PASSED
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-99087D2BBA8E with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 4 for becomeLeader, leader elected after 20540ms
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:28,569 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:28,569 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E replies to ELECTION vote request: e8f45799-186c-4d22-9260-bc450be8fd6c<-8c3aa67b-d006-4ad9-94aa-959dae79a988#0:OK-t4. Peer's state: 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E:t4, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:28,570 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:28,571 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:28,572 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderStateImpl
2021-11-04 10:28:28,572 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:28,590 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:28:28,621 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-99087D2BBA8E with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:28,621 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 4 for appendEntries, leader elected after 20667ms
2021-11-04 10:28:28,633 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:28,635 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 74c11855-9c7c-42ab-b3fc-99087d2bba8e, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.208Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:28:28,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:28:28,650 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-99087D2BBA8E with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:28,650 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 4 for appendEntries, leader elected after 20449ms
2021-11-04 10:28:28,677 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:28,678 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:28,679 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:28:28,690 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:28,690 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:28,708 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:28:29,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:29,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:28:29,217 [Listener at 127.0.0.1/37963] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:29,218 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-11-04 10:28:29,219 [Listener at 127.0.0.1/37963] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:29,235 [Listener at 127.0.0.1/37963] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:28:29,235 [Listener at 127.0.0.1/37963] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:28:29,235 [Listener at 127.0.0.1/37963] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:29,236 [Listener at 127.0.0.1/37963] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:29,439 [Listener at 127.0.0.1/37963] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 202 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:29,440 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:29,440 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:29,440 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:29,440 [Listener at 127.0.0.1/37963] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:29,440 [Listener at 127.0.0.1/37963] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:29,441 [Listener at 127.0.0.1/37963] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:29,502 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(343)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-11-04 10:28:29,589 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-11-04 10:28:29,737 [Listener at 127.0.0.1/37963] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:28:29,738 [Listener at 127.0.0.1/37963] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:28:29,740 [Listener at 127.0.0.1/37963] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:28:29,741 [Listener at 127.0.0.1/37963] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:28:29,741 [Listener at 127.0.0.1/37963] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:29,741 [Listener at 127.0.0.1/37963] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:28:29,741 [Listener at 127.0.0.1/37963] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:28:29,742 [Listener at 127.0.0.1/37963] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:28:29,742 [Listener at 127.0.0.1/37963] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:28:29,743 [Listener at 127.0.0.1/37963] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:28:29,744 [Listener at 127.0.0.1/37963] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:28:29,744 [Listener at 127.0.0.1/37963] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:28:29,744 [Listener at 127.0.0.1/37963] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:28:29,751 [Listener at 127.0.0.1/37963] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:28:29,751 [Listener at 127.0.0.1/37963] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:28:29,751 [Listener at 127.0.0.1/37963] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:28:29,756 [Listener at 127.0.0.1/37963] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:29,764 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:29,769 [Listener at 0.0.0.0/40731] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:29,775 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:29,776 [Listener at 0.0.0.0/40343] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:29,778 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:29,829 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:28:29,834 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(503)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-11-04 10:28:29,843 [Listener at 0.0.0.0/38075] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:28:29,879 [Listener at 0.0.0.0/38075] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:29,880 [Listener at 0.0.0.0/38075] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38075
2021-11-04 10:28:29,881 [Listener at 0.0.0.0/38075] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:28:29,888 [Listener at 0.0.0.0/38075] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:28:29,888 [Listener at 0.0.0.0/38075] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:28:29,904 [IPC Server handler 1 on default port 43541] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-11-04 10:28:29,904 [IPC Server handler 1 on default port 43541] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-11-04 10:28:29,905 [Listener at 0.0.0.0/38075] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:28:29,909 [Listener at 0.0.0.0/38075] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:28:30,101 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:30,101 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:30,102 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4(c0,m0,n1, attendVote=true, lastRpcSendTime=2507, lastRpcResponseTime=5031) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:30,104 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f-GrpcLogAppender: Leader has not got in touch with Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f(c0,m0,n1, attendVote=true, lastRpcSendTime=2504, lastRpcResponseTime=5028) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:28:30,175 [Listener at 0.0.0.0/38075] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:38075
2021-11-04 10:28:30,195 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:30,208 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:30,336 [Listener at 0.0.0.0/38075] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40343
2021-11-04 10:28:30,336 [Listener at 0.0.0.0/38075] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40343
2021-11-04 10:28:30,340 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:30,346 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:30,424 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(974)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 5200ms. In charge for: 10438ms. Conf: 0: [c8bf306f-0004-4090-a408-62c5f4c726d4|rpc:10.1.0.36:36233|dataStream:|priority:0, 37f749d9-5954-42a1-9f9b-1745bea0223f|rpc:10.1.0.36:45489|dataStream:|priority:0, d5c83119-0170-4c0e-a3d8-2bb84de341da|rpc:10.1.0.36:38067|dataStream:|priority:1], old=null
2021-11-04 10:28:30,425 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(978)) - Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->c8bf306f-0004-4090-a408-62c5f4c726d4(c0,m0,n1, attendVote=true, lastRpcSendTime=322, lastRpcResponseTime=5354)
2021-11-04 10:28:30,425 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(978)) - Follower d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92->37f749d9-5954-42a1-9f9b-1745bea0223f(c0,m0,n1, attendVote=true, lastRpcSendTime=318, lastRpcResponseTime=5349)
2021-11-04 10:28:30,425 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2021-11-04 10:28:30,425 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl
2021-11-04 10:28:30,493 [Listener at 0.0.0.0/38075] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:40731
2021-11-04 10:28:30,493 [Listener at 0.0.0.0/38075] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:40731
2021-11-04 10:28:30,493 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:30,497 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:30,545 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:30,545 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:30,565 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1380db91{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:30,565 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@35191ec8{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:30,566 [Listener at 0.0.0.0/38075] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:28:30,566 [Listener at 0.0.0.0/38075] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:30,567 [Listener at 0.0.0.0/38075] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:30,570 [Listener at 0.0.0.0/38075] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:30,571 [Listener at 0.0.0.0/38075] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:30,571 [Listener at 0.0.0.0/38075] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:28:30,571 [Listener at 0.0.0.0/38075] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:30,571 [Listener at 0.0.0.0/38075] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:30,572 [Listener at 0.0.0.0/38075] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36347
2021-11-04 10:28:30,572 [Listener at 0.0.0.0/38075] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:30,627 [Listener at 0.0.0.0/38075] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:30,628 [Listener at 0.0.0.0/38075] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:30,628 [Listener at 0.0.0.0/38075] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:30,633 [Listener at 0.0.0.0/38075] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@148059cb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:30,633 [Listener at 0.0.0.0/38075] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ed539e7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:28:30,636 [Listener at 0.0.0.0/38075] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1974652d{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:30,638 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@13ef8e75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:30,657 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@41f2b5e5{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:30,657 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:30,657 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2bc30a11{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:30,657 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:30,657 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@45d29672{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:30,658 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@334eadfa{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:30,658 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:30,658 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: start d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState
2021-11-04 10:28:30,673 [Listener at 0.0.0.0/38075] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@30f52f99{HTTP/1.1, (http/1.1)}{0.0.0.0:36347}
2021-11-04 10:28:30,684 [Listener at 0.0.0.0/38075] INFO  server.Server (Server.java:doStart(415)) - Started @68362ms
2021-11-04 10:28:30,684 [Listener at 0.0.0.0/38075] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:30,685 [Listener at 0.0.0.0/38075] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:36347
2021-11-04 10:28:30,685 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:30,710 [Listener at 0.0.0.0/38075] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:28:30,710 [Listener at 0.0.0.0/38075] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:28:30,710 [Listener at 0.0.0.0/38075] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:28:30,710 [Listener at 0.0.0.0/38075] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:28:30,710 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:30,711 [Listener at 0.0.0.0/38075] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:28:30,738 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@13376db5{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:30,738 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@139fce34{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:30,798 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:28:30,798 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:28:30,798 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 74c11855-9c7c-42ab-b3fc-99087d2bba8e, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.208Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:30,811 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: b70e87f9-6939-452e-8046-dadaf2559afa, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.202Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:30,812 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 85575298-bfcc-4214-8642-b8fbc8158dd7, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:cf7b1b1f-a7a2-453d-9277-ba582b08dea9, CreationTimestamp2021-11-04T10:28:05.058Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:30,812 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 9fedb03d-7828-4c24-bc1c-a26fcbffcbbf, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:8c3aa67b-d006-4ad9-94aa-959dae79a988, CreationTimestamp2021-11-04T10:28:04.859Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:28:30,812 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:28:30,813 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-11-04 10:28:30,821 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-11-04 10:28:30,879 [Listener at 0.0.0.0/38075] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 168 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:28:30,879 [Listener at 0.0.0.0/38075] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:28:30,880 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:30,894 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:28:30,894 [Listener at 0.0.0.0/38075] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:28:30,894 [Listener at 0.0.0.0/38075] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:28:31,171 [Listener at 0.0.0.0/38075] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:28:31,171 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:28:31,171 [Listener at 0.0.0.0/38075] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:28:31,171 [Listener at 0.0.0.0/38075] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,172 [Listener at 0.0.0.0/38075] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,172 [Listener at 0.0.0.0/38075] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:28:31,180 [Listener at 0.0.0.0/38075] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:46883
2021-11-04 10:28:31,180 [Listener at 0.0.0.0/38075] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:28:31,180 [Listener at 0.0.0.0/38075] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 46883 (custom)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 46883 (custom)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 46883 (custom)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:28:31,181 [Listener at 0.0.0.0/38075] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:28:31,182 [Listener at 0.0.0.0/38075] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:31,182 [Listener at 0.0.0.0/38075] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:28:31,182 [Listener at 0.0.0.0/38075] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:31,182 [Listener at 0.0.0.0/38075] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis] (custom)
2021-11-04 10:28:31,193 [Listener at 0.0.0.0/38075] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:46883|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@7dc5f4ef[Not completed]
2021-11-04 10:28:31,194 [Listener at 0.0.0.0/38075] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 46883
2021-11-04 10:28:31,194 [pool-456-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:46883|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:28:31,201 [Listener at 0.0.0.0/38075] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:28:31,201 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:28:31,201 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:28:31,201 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:31,201 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:46883|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis] (custom)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:31,202 [pool-456-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:28:31,203 [pool-456-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:31,204 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:31,225 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:31,226 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:31,227 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:28:31,227 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:28:31,227 [pool-456-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:31,227 [pool-456-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:31,236 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:31,236 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:28:31,237 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:28:31,237 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:28:31,237 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:28:31,237 [pool-456-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:31,276 [Listener at 127.0.0.1/41699] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:28:31,280 [Listener at 127.0.0.1/41699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:28:31,311 [Listener at 127.0.0.1/41699] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:41699
2021-11-04 10:28:31,327 [Listener at 127.0.0.1/41699] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 46883
2021-11-04 10:28:31,331 [Listener at 127.0.0.1/41699] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:46883|priority:0], old=null
2021-11-04 10:28:31,331 [Listener at 127.0.0.1/41699] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:31,331 [Listener at 127.0.0.1/41699] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:28:31,332 [Listener at 127.0.0.1/41699] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:524)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1331)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:28:31,333 [Listener at 127.0.0.1/41699] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-11-04 10:28:31,333 [Listener at 127.0.0.1/41699] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:28:31,335 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 46883
2021-11-04 10:28:31,343 [Listener at 127.0.0.1/41699] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:28:31,344 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@696cc624] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:28:31,350 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:28:31,350 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:31,351 [Listener at 127.0.0.1/41699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:31,352 [Listener at 127.0.0.1/41699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:31,353 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:31,354 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:28:31,354 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:31,354 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:31,355 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 41701
2021-11-04 10:28:31,355 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:31,413 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:31,413 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:31,413 [Listener at 127.0.0.1/41699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:28:31,414 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1bc610e4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:31,414 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@27574905{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:28:31,417 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5e64e1c3{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:28:31,443 [Listener at 127.0.0.1/41699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@72435c54{HTTP/1.1, (http/1.1)}{0.0.0.0:41701}
2021-11-04 10:28:31,443 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(415)) - Started @69121ms
2021-11-04 10:28:31,443 [Listener at 127.0.0.1/41699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:31,444 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:41701
2021-11-04 10:28:31,480 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:28:31,487 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:28:31,547 [Listener at 127.0.0.1/41699] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:28:31,561 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@57c7e949] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:31,580 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,581 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,581 [Listener at 127.0.0.1/41699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:31,602 [Listener at 127.0.0.1/41699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:31,649 [Listener at 127.0.0.1/41699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:31,710 [Listener at 127.0.0.1/41699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 60 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:31,711 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:31,712 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:31,712 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:31,725 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:31,725 [Listener at 127.0.0.1/41699] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:31,741 [Listener at 127.0.0.1/41699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:31,741 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:31,741 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:28:31,752 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:28:31,783 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis to VolumeSet
2021-11-04 10:28:31,784 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis
2021-11-04 10:28:31,784 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis
2021-11-04 10:28:31,826 [Thread-1199] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:28:31,826 [Listener at 127.0.0.1/41699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:31,829 [Listener at 127.0.0.1/41699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:31,830 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:31,831 [Listener at 127.0.0.1/41699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:31,832 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:31,832 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:31,832 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:28:31,856 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:31,856 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:31,857 [Listener at 127.0.0.1/41699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:31,863 [Listener at 127.0.0.1/41699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:31,863 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:31,864 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:31,864 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:31,864 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:31,864 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42457
2021-11-04 10:28:31,864 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:31,866 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:31,866 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:31,866 [Listener at 127.0.0.1/41699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:31,867 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3ab95757{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:31,867 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@732d2eed{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:31,954 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6c40f2a5{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42457-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5095048026518333051/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:31,963 [Listener at 127.0.0.1/41699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@69644e99{HTTP/1.1, (http/1.1)}{0.0.0.0:42457}
2021-11-04 10:28:31,963 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(415)) - Started @69641ms
2021-11-04 10:28:31,963 [Listener at 127.0.0.1/41699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:31,964 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42457
2021-11-04 10:28:31,967 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,967 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:31,967 [Listener at 127.0.0.1/41699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:31,968 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:31,998 [Listener at 127.0.0.1/41699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:32,022 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:32,022 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:32,022 [Listener at 127.0.0.1/41699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:32,032 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@21caf66f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:32,049 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/meta/datanode.id
2021-11-04 10:28:32,120 [pool-384-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,120 [pool-384-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,123 [pool-390-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,123 [pool-384-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:32,123 [pool-390-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,133 [Listener at 127.0.0.1/41699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 110 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:32,156 [pool-383-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,156 [pool-383-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:28:32,159 [pool-383-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:32,159 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:32,151 [pool-390-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:28:32,138 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:28:32,160 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:32,161 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:32,161 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:32,161 [Listener at 127.0.0.1/41699] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:32,171 [Listener at 127.0.0.1/41699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:32,171 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:32,172 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:28:32,212 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:28:32,229 [pool-384-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,230 [pool-384-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,234 [pool-384-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:32,255 [pool-383-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,255 [pool-383-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,258 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis to VolumeSet
2021-11-04 10:28:32,258 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis
2021-11-04 10:28:32,258 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis
2021-11-04 10:28:32,258 [pool-383-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:32,259 [pool-390-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,259 [pool-390-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:28:32,260 [pool-390-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:28:32,260 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:28:32,314 [Thread-1219] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:28:32,314 [Listener at 127.0.0.1/41699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:32,320 [Listener at 127.0.0.1/41699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:32,322 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:32,323 [Listener at 127.0.0.1/41699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:32,325 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:32,326 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:32,326 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:28:32,330 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:32,330 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:32,335 [Listener at 127.0.0.1/41699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:32,336 [Listener at 127.0.0.1/41699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:32,337 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:32,345 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:32,345 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:32,345 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:32,348 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46489
2021-11-04 10:28:32,348 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:32,356 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:32,356 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:32,360 [Listener at 127.0.0.1/41699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:32,377 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@41517a18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:32,377 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@51eca71c{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:32,439 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6df75208{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-46489-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3710683003444997314/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:32,443 [Listener at 127.0.0.1/41699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4a9abf6b{HTTP/1.1, (http/1.1)}{0.0.0.0:46489}
2021-11-04 10:28:32,448 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(415)) - Started @70126ms
2021-11-04 10:28:32,455 [Listener at 127.0.0.1/41699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:32,456 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:46489
2021-11-04 10:28:32,456 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:32,456 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:32,456 [Listener at 127.0.0.1/41699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:32,464 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:32,509 [Listener at 127.0.0.1/41699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:32,516 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:32,516 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:32,520 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1188757120ns, electionTimeout:1187ms
2021-11-04 10:28:32,520 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:28:32,520 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:32,521 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7fad4734] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:32,522 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:32,522 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection37
2021-11-04 10:28:32,532 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/meta/datanode.id
2021-11-04 10:28:32,542 [om1@group-C5BA1605619E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection37 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:46883|priority:0], old=null
2021-11-04 10:28:32,542 [om1@group-C5BA1605619E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection37 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:32,542 [om1@group-C5BA1605619E-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection37
2021-11-04 10:28:32,542 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:32,542 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1317ms
2021-11-04 10:28:32,544 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:32,545 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:28:32,546 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:28:32,545 [Listener at 127.0.0.1/41699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:32,546 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-11-04 10:28:32,547 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:32,547 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:32,547 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:28:32,547 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:32,547 [om1@group-C5BA1605619E-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:28:32,560 [om1@group-C5BA1605619E-LeaderElection37] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:32,567 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-11-04 10:28:32,583 [om1@group-C5BA1605619E-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:46883|admin:|client:|dataStream:|priority:0], old=null
2021-11-04 10:28:32,587 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:46883"
]
2021-11-04 10:28:32,626 [Listener at 127.0.0.1/41699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 77 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:32,636 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:32,637 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:32,637 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:32,637 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:32,637 [Listener at 127.0.0.1/41699] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:32,639 [Listener at 127.0.0.1/41699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:32,639 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:32,639 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:28:32,640 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:28:32,652 [Listener at 127.0.0.1/41699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis to VolumeSet
2021-11-04 10:28:32,653 [Listener at 127.0.0.1/41699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis
2021-11-04 10:28:32,653 [Listener at 127.0.0.1/41699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis
2021-11-04 10:28:32,672 [Thread-1233] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:28:32,673 [Listener at 127.0.0.1/41699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:32,687 [Listener at 127.0.0.1/41699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:32,687 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:32,687 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:32,688 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:32,692 [Listener at 127.0.0.1/41699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:32,695 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:32,696 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:32,696 [Listener at 127.0.0.1/41699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:28:32,704 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:28:32,704 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:32,705 [Listener at 127.0.0.1/41699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:32,716 [Listener at 127.0.0.1/41699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:32,717 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:32,718 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:32,718 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:32,718 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:32,718 [Listener at 127.0.0.1/41699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42343
2021-11-04 10:28:32,718 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:32,720 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:32,720 [Listener at 127.0.0.1/41699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:32,720 [Listener at 127.0.0.1/41699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:32,733 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2fad286d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:32,733 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3399d0e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:32,805 [Listener at 127.0.0.1/41699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@63c8d716{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42343-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5297299670992187733/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:32,823 [Listener at 127.0.0.1/41699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1c1b9d05{HTTP/1.1, (http/1.1)}{0.0.0.0:42343}
2021-11-04 10:28:32,823 [Listener at 127.0.0.1/41699] INFO  server.Server (Server.java:doStart(415)) - Started @70501ms
2021-11-04 10:28:32,823 [Listener at 127.0.0.1/41699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:32,824 [Listener at 127.0.0.1/41699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42343
2021-11-04 10:28:32,836 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:32,836 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:32,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:32,838 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:32,860 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:32,860 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:32,879 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@65833155] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:32,886 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/meta/datanode.id
2021-11-04 10:28:33,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:33,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:33,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:34,061 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:34,061 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:34,063 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 35653
2021-11-04 10:28:34,064 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:34,084 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start RPC server
2021-11-04 10:28:34,085 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: GrpcService started, listening on 46133
2021-11-04 10:28:34,092 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS
2021-11-04 10:28:34,092 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS_ADMIN
2021-11-04 10:28:34,092 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS_SERVER
2021-11-04 10:28:34,098 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 34291
2021-11-04 10:28:34,106 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@2b79c460] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-972d567e-6cad-4d89-81ac-1eb9b77d1b68: Started
2021-11-04 10:28:34,538 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:34,538 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:34,546 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 36881
2021-11-04 10:28:34,558 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:34,565 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start RPC server
2021-11-04 10:28:34,567 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: GrpcService started, listening on 39169
2021-11-04 10:28:34,568 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS
2021-11-04 10:28:34,568 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS_ADMIN
2021-11-04 10:28:34,568 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS_SERVER
2021-11-04 10:28:34,569 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39107
2021-11-04 10:28:34,587 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@31e96f9a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-846193e6-4976-43ef-8cfc-af101cd55fb8: Started
2021-11-04 10:28:34,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:34,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:34,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:34,896 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:34,896 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:34,897 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 36807
2021-11-04 10:28:34,899 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:34,904 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start RPC server
2021-11-04 10:28:34,904 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: GrpcService started, listening on 38669
2021-11-04 10:28:34,905 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS
2021-11-04 10:28:34,905 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS_ADMIN
2021-11-04 10:28:34,905 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS_SERVER
2021-11-04 10:28:34,905 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38515
2021-11-04 10:28:34,906 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@32318eb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-17000f6a-7be3-454d-a73d-93c4d36d04d2: Started
2021-11-04 10:28:35,736 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:35,737 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: close
2021-11-04 10:28:35,737 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: shutdown
2021-11-04 10:28:35,737 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: shutdown
2021-11-04 10:28:35,737 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-497C53210E92,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:35,737 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState
2021-11-04 10:28:35,737 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:35,738 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-497C53210E92: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0
2021-11-04 10:28:35,737 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-05B7FED5FDB7,id=d5c83119-0170-4c0e-a3d8-2bb84de341da
2021-11-04 10:28:35,738 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-LeaderStateImpl
2021-11-04 10:28:35,738 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:35,739 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-497C53210E92: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/f3217396-8582-403a-b5cb-497c53210e92/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:35,741 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:35,742 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:35,742 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:35,743 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92: closes. applyIndex: 0
2021-11-04 10:28:35,743 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:35,745 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-497C53210E92-SegmentedRaftLogWorker close()
2021-11-04 10:28:35,748 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:35,749 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-05B7FED5FDB7: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7/sm/snapshot.1_0
2021-11-04 10:28:35,751 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-05B7FED5FDB7: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ed484777-02ea-468b-bc3d-e936fa0ce588/datanode-2/data/ratis/605338da-06c6-4510-a6ab-05b7fed5fdb7/sm/snapshot.1_0 took: 3 ms
2021-11-04 10:28:35,751 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:35,751 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:35,752 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7: closes. applyIndex: 0
2021-11-04 10:28:35,752 [d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:35,754 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d5c83119-0170-4c0e-a3d8-2bb84de341da@group-05B7FED5FDB7-SegmentedRaftLogWorker close()
2021-11-04 10:28:35,755 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown server with port 38067 now
2021-11-04 10:28:35,770 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - d5c83119-0170-4c0e-a3d8-2bb84de341da: shutdown server with port 38067 successfully
2021-11-04 10:28:35,771 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@53b7882d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-d5c83119-0170-4c0e-a3d8-2bb84de341da: Stopped
2021-11-04 10:28:35,787 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:35,812 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:28:35,812 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:35,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:28:35,837 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:35,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:36,034 [IPC Server handler 1 on default port 40731] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:36,035 [IPC Server handler 1 on default port 40731] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:36,062 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:28:36,063 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:36,063 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 to datanode:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:36,063 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:28:36,076 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b8f6d54f-db52-44ee-8c1a-59d7ccb0a710, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:36.063Z[Etc/UTC]].
2021-11-04 10:28:36,081 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:28:36,522 [IPC Server handler 3 on default port 40731] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:36,523 [IPC Server handler 3 on default port 40731] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:36,523 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:36,523 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 to datanode:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:36,529 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 0cdf1ada-f89d-42d8-887e-c6f894ed6119, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:36.523Z[Etc/UTC]].
2021-11-04 10:28:36,529 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:28:36,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-11-04 10:28:36,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:36,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:36,881 [IPC Server handler 0 on default port 40731] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:36,881 [IPC Server handler 0 on default port 40731] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:28:36,881 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:36,882 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 to datanode:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:36,882 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f0fd2ff2-6c1c-418d-b4c2-24efb92ac542, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:36.882Z[Etc/UTC]].
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:28:36,885 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:28:36,886 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 to datanode:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:36,886 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 to datanode:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:36,886 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 to datanode:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:36,887 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 444163ad-47bc-437d-b6e5-a4af9724cb48, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:28:36.886Z[Etc/UTC]].
2021-11-04 10:28:37,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:37,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:37,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:38,799 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:38,802 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@76f4ba2a{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:38,803 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@43adf733{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:38,803 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:38,803 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@d87efaf{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:38,803 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@d0808cc{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:28:38,805 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:28:38,812 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:28:38,812 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:28:38,812 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:28:38,822 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44041
2021-11-04 10:28:38,822 [IPC Server listener on 44041] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 44041
2021-11-04 10:28:38,838 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:38,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:38,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:38,844 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:38,962 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:28:38,962 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:28:38,962 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:28:38,964 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35191
2021-11-04 10:28:38,985 [IPC Server listener on 35191] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 35191
2021-11-04 10:28:38,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:38,985 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:28:38,986 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:28:38,988 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41497
2021-11-04 10:28:38,994 [IPC Server listener on 41497] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 41497
2021-11-04 10:28:39,005 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:28:39,005 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:28:39,014 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3cdd2a46{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:28:39,020 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3876d393{HTTP/1.1, (http/1.1)}{0.0.0.0:43687}
2021-11-04 10:28:39,021 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:39,021 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1601c821{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:28:39,021 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@341f2372{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:39,025 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:28:39,025 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:39,025 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:28:39,025 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:28:39,030 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:28:39,031 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:28:39,031 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:28:39,031 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:28:39,032 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:28:39,040 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-59D7CCB0A710:[972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1] returns group-59D7CCB0A710:java.util.concurrent.CompletableFuture@2e85a00d[Not completed]
2021-11-04 10:28:39,048 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-11-04 10:28:39,058 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-59D7CCB0A710:[972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,064 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,064 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,064 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: ConfigurationManager, init=-1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,065 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,078 [pool-469-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 does not exist. Creating ...
2021-11-04 10:28:39,080 [pool-469-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,082 [pool-469-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 has been successfully formatted.
2021-11-04 10:28:39,088 [pool-469-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-59D7CCB0A710: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,090 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: b8f6d54f-db52-44ee-8c1a-59d7ccb0a710, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:972d567e-6cad-4d89-81ac-1eb9b77d1b68, CreationTimestamp2021-11-04T10:28:36.063Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:39,100 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:39,104 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,104 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,104 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,104 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,105 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,106 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,107 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,109 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,109 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,124 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,126 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: start as a follower, conf=-1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null
2021-11-04 10:28:39,126 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,126 [pool-469-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState
2021-11-04 10:28:39,132 [pool-469-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59D7CCB0A710,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:39,146 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710
2021-11-04 10:28:39,146 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710.
2021-11-04 10:28:39,146 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@2aba2105[Not completed]
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:28:39,147 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,148 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,148 [pool-469-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 does not exist. Creating ...
2021-11-04 10:28:39,150 [pool-469-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,151 [pool-469-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 has been successfully formatted.
2021-11-04 10:28:39,151 [pool-469-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4AF9724CB48: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,151 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,152 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,153 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,153 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:39,153 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,153 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,157 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,157 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,157 [pool-469-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,176 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,176 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,176 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,177 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,177 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,177 [pool-469-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,178 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:39,178 [pool-469-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,178 [pool-469-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:39,178 [pool-469-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:39,189 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:28:39,213 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@4c430239[Not completed]
2021-11-04 10:28:39,229 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,233 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,236 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,238 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,238 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,239 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,239 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,239 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,239 [pool-488-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,239 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:28:39,240 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,240 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,241 [pool-488-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 does not exist. Creating ...
2021-11-04 10:28:39,242 [pool-488-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,261 [pool-488-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 has been successfully formatted.
2021-11-04 10:28:39,276 [pool-488-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4AF9724CB48: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,277 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,277 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,279 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,279 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,279 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,280 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,280 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,280 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:28:39,280 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,280 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,281 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,282 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,282 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,282 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,282 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,282 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,287 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,288 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,288 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,289 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,295 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,295 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,295 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,295 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,295 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,296 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,297 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:39,297 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,297 [pool-488-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:39,300 [pool-488-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:39,368 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@327ec015[Not completed]
2021-11-04 10:28:39,370 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-A4AF9724CB48:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,383 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,384 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:28:39,385 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,386 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,386 [pool-507-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 does not exist. Creating ...
2021-11-04 10:28:39,388 [pool-507-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,398 [pool-507-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48 has been successfully formatted.
2021-11-04 10:28:39,400 [pool-507-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4AF9724CB48: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,400 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,401 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,402 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,403 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,403 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,403 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,403 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,404 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,404 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,405 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,405 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,405 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,405 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,406 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:39,406 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,406 [pool-507-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:39,408 [pool-507-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:39,437 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48.
2021-11-04 10:28:39,521 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-C6F894ED6119:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1] returns group-C6F894ED6119:java.util.concurrent.CompletableFuture@507a468c[Not completed]
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-C6F894ED6119:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,522 [pool-488-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119 does not exist. Creating ...
2021-11-04 10:28:39,523 [pool-488-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,527 [pool-488-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119 has been successfully formatted.
2021-11-04 10:28:39,528 [pool-488-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C6F894ED6119: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,528 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,528 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,529 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 0cdf1ada-f89d-42d8-887e-c6f894ed6119, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:28:36.523Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:39,529 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,530 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,531 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,532 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,532 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,533 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,533 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,533 [pool-488-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,536 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,542 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,542 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,543 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,543 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,543 [pool-488-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,544 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null
2021-11-04 10:28:39,544 [pool-488-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,544 [pool-488-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState
2021-11-04 10:28:39,544 [pool-488-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C6F894ED6119,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:39,545 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119
2021-11-04 10:28:39,545 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119.
2021-11-04 10:28:39,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:39,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:39,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:39,880 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-24EFB92AC542:[17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] returns group-24EFB92AC542:java.util.concurrent.CompletableFuture@291219fc[Not completed]
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-24EFB92AC542:[17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: ConfigurationManager, init=-1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:39,881 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:28:39,882 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:39,882 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:39,882 [pool-507-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 does not exist. Creating ...
2021-11-04 10:28:39,883 [pool-507-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:39,884 [pool-507-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 has been successfully formatted.
2021-11-04 10:28:39,885 [pool-507-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-24EFB92AC542: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:28:39,886 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:39,886 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:39,886 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:39,886 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:39,887 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: f0fd2ff2-6c1c-418d-b4c2-24efb92ac542, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:17000f6a-7be3-454d-a73d-93c4d36d04d2, CreationTimestamp2021-11-04T10:28:36.882Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:28:39,888 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:39,888 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,888 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:39,889 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:39,890 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:39,891 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:39,891 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:39,893 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:39,893 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,893 [pool-507-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:39,894 [pool-507-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:39,895 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: start as a follower, conf=-1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:39,895 [pool-507-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:28:39,895 [pool-507-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState
2021-11-04 10:28:39,904 [pool-507-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-24EFB92AC542,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:39,914 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542
2021-11-04 10:28:39,914 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542.
2021-11-04 10:28:40,533 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:40,653 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:40,816 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:40,817 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: close
2021-11-04 10:28:40,817 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: shutdown
2021-11-04 10:28:40,817 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: shutdown
2021-11-04 10:28:40,817 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:40,817 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A26FCBFFCBBF,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:40,818 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderStateImpl
2021-11-04 10:28:40,818 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:40,818 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:40,818 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:40,818 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:40,818 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A26FCBFFCBBF: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/sm/snapshot.1_0
2021-11-04 10:28:40,818 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:40,819 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A26FCBFFCBBF: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:40,818 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-99087D2BBA8E: Taking a snapshot at:(t:4, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10
2021-11-04 10:28:40,819 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:40,819 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:40,820 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: closes. applyIndex: 0
2021-11-04 10:28:40,820 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:40,820 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-99087D2BBA8E: Finished taking a snapshot at:(t:4, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10 took: 2 ms
2021-11-04 10:28:40,820 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:40,820 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:40,821 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:28:40,822 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker close()
2021-11-04 10:28:40,827 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:40,830 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:28:40,831 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown server with port 44435 now
2021-11-04 10:28:40,836 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:28:40,836 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:40,837 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown server with port 44435 successfully
2021-11-04 10:28:40,838 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7952f6b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-8c3aa67b-d006-4ad9-94aa-959dae79a988: Stopped
2021-11-04 10:28:40,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:40,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:40,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:40,848 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: installSnapshot onError, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->8c3aa67b-d006-4ad9-94aa-959dae79a988#251-t4,previous=(t:4, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:4, i:10), METADATAENTRY(c:9): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:28:40,852 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:40,860 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:40,860 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:40,887 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:41,654 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:41,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:41,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:41,839 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:42,029 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:42,387 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:42,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:42,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:42,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:43,153 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:43,340 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:43,341 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:43,393 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:43,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:43,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:43,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:43,863 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:43,869 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@62d04808{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:43,876 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@764f92d5{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:43,877 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:43,877 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3d7aaa51{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:43,877 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@70b5ff74{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:43,880 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:43,881 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:43,882 [Time-limited test] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-11-04 10:28:43,896 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:28:43,896 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-11-04 10:28:43,908 [Time-limited test] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:28:43,909 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:28:44,033 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:44,096 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:44,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5011312452ns, electionTimeout:5004ms
2021-11-04 10:28:44,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState
2021-11-04 10:28:44,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:44,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:44,138 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38
2021-11-04 10:28:44,156 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:44,168 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38 ELECTION round 0: submit vote requests at term 1 for -1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null
2021-11-04 10:28:44,168 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:44,168 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38
2021-11-04 10:28:44,169 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:44,169 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-59D7CCB0A710 with new leaderId: 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:44,169 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: change Leader from null to 972d567e-6cad-4d89-81ac-1eb9b77d1b68 at term 1 for becomeLeader, leader elected after 5064ms
2021-11-04 10:28:44,169 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:44,170 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:44,171 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderStateImpl
2021-11-04 10:28:44,171 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:44,172 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:44,173 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/log_inprogress_0
2021-11-04 10:28:44,192 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: set configuration 0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:28:44,240 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5062076269ns, electionTimeout:5058ms
2021-11-04 10:28:44,240 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,240 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:44,240 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:44,241 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39
2021-11-04 10:28:44,256 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39 ELECTION round 0: submit vote requests at term 1 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:44,274 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 115 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:44,284 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:44,288 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 1, (t:0, i:0))
2021-11-04 10:28:44,298 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:28:44,298 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:44,298 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,298 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,297 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:44,299 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:44,299 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:44,300 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:44,301 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 1, (t:0, i:0))
2021-11-04 10:28:44,301 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:28:44,301 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:44,301 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,302 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:44,323 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t1. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t1, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:44,329 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,330 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:44,338 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t1. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t1, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:44,330 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:44,339 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:44,340 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:44,346 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t1
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t1
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39 ELECTION round 0: result REJECTED
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39
2021-11-04 10:28:44,369 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:44,441 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis to VolumeSet
2021-11-04 10:28:44,441 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis
2021-11-04 10:28:44,441 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis
2021-11-04 10:28:44,514 [Thread-1297] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:44,620 [Thread-1297] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds
2021-11-04 10:28:44,621 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:44,623 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:44,623 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:44,625 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 44435 (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 44435 (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 44435 (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:44,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:44,626 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:44,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:44,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:44,628 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:44,628 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:44,629 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-99087D2BBA8E:[] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@6cdef6a5[Not completed]
2021-11-04 10:28:44,629 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf
2021-11-04 10:28:44,629 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-A26FCBFFCBBF:[] returns group-A26FCBFFCBBF:java.util.concurrent.CompletableFuture@37eb9d81[Not completed]
2021-11-04 10:28:44,637 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5092778337ns, electionTimeout:5092ms
2021-11-04 10:28:44,637 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState
2021-11-04 10:28:44,637 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:44,637 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:44,637 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40
2021-11-04 10:28:44,654 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-99087D2BBA8E:[] with ContainerStateMachine:uninitialized
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:44,663 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:44,669 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:38785
2021-11-04 10:28:44,669 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:44,672 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40 ELECTION round 0: submit vote requests at term 1 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C6F894ED6119 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 1 for becomeLeader, leader elected after 5144ms
2021-11-04 10:28:44,673 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:44,674 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:44,678 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:44,679 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:44,679 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:44,679 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:44,679 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:44,679 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:44,679 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:44,680 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:44,680 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:44,682 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderStateImpl
2021-11-04 10:28:44,682 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:44,680 [pool-538-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=4, votedFor=e8f45799-186c-4d22-9260-bc450be8fd6c} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/raft-meta
2021-11-04 10:28:44,688 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:44,689 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:44,689 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:44,690 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:44,690 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:44,690 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38785
2021-11-04 10:28:44,690 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:44,715 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:44,715 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:44,715 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:28:44,716 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7e8d4eef{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:44,716 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7127fea9{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:44,722 [pool-538-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-99087D2BBA8E: Setting the last applied index to (t:4, i:10)
2021-11-04 10:28:44,723 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/log_inprogress_0
2021-11-04 10:28:44,729 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:28:44,760 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:44,760 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:44,760 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:44,760 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:44,760 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:44,761 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:44,762 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:44,762 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:44,762 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:44,763 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:44,825 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:44,826 [pool-538-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:28:44,828 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 10
2021-11-04 10:28:44,828 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:44,833 [pool-538-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLog: commitIndex: updateToMax old=10, new=9, updated? false
2021-11-04 10:28:44,833 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:44,833 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:44,834 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:44,834 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:44,834 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:44,834 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:44,837 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-A26FCBFFCBBF:[] with ContainerStateMachine:uninitialized
2021-11-04 10:28:44,840 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:44,848 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:44,848 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:44,848 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:44,848 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:44,848 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:44,848 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:44,849 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:44,850 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:44,855 [pool-538-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=8c3aa67b-d006-4ad9-94aa-959dae79a988} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/raft-meta
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-A26FCBFFCBBF: Setting the last applied index to (t:1, i:0)
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: set configuration 0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:44,856 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:44,857 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:44,858 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:44,858 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:44,859 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: set configuration 0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:44,859 [pool-538-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/log_inprogress_0
2021-11-04 10:28:44,859 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:28:44,859 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:44,862 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:44,863 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:44,863 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:44,863 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:44,863 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:44,863 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:44,865 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@41b704c8{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-38785-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3368957511104277904/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:44,883 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6a40a81f{HTTP/1.1, (http/1.1)}{0.0.0.0:38785}
2021-11-04 10:28:44,888 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @82566ms
2021-11-04 10:28:44,888 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:44,892 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:38785
2021-11-04 10:28:44,926 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:44,926 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:44,929 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:44,929 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:44,957 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@10535dad] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:44,974 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5078762861ns, electionTimeout:5069ms
2021-11-04 10:28:44,974 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState
2021-11-04 10:28:44,974 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:28:44,974 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:44,974 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41 ELECTION round 0: submit vote requests at term 1 for -1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-24EFB92AC542 with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 1 for becomeLeader, leader elected after 5114ms
2021-11-04 10:28:45,000 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:45,001 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderStateImpl
2021-11-04 10:28:45,002 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:28:45,002 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:45,006 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/current/log_inprogress_0
2021-11-04 10:28:45,017 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: set configuration 0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:45,502 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:45,675 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:45,840 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:45,841 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:45,852 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:45,852 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:45,852 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:46,175 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:46,505 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:46,674 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:46,852 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:46,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:46,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:46,963 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:46,964 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:46,966 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43869
2021-11-04 10:28:46,966 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:46,978 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: start as a follower, conf=0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:46,979 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:28:46,979 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState
2021-11-04 10:28:46,979 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: start as a follower, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:46,979 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 4 for startAsFollower
2021-11-04 10:28:46,979 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A26FCBFFCBBF,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:46,980 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:46,980 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:46,981 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start RPC server
2021-11-04 10:28:46,982 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: GrpcService started, listening on 44435
2021-11-04 10:28:46,991 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS
2021-11-04 10:28:46,992 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS_ADMIN
2021-11-04 10:28:46,992 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 8c3aa67b-d006-4ad9-94aa-959dae79a988 is started using port 44435 for RATIS_SERVER
2021-11-04 10:28:46,993 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6770e6b8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-8c3aa67b-d006-4ad9-94aa-959dae79a988: Started
2021-11-04 10:28:47,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:47,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:47,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:48,005 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:48,181 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:48,341 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:48,342 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:48,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:48,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:48,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:48,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:49,174 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:49,399 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5029598290ns, electionTimeout:5010ms
2021-11-04 10:28:49,399 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,399 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:28:49,399 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:49,399 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42
2021-11-04 10:28:49,410 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42 ELECTION round 0: submit vote requests at term 2 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:49,412 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 2, (t:0, i:0))
2021-11-04 10:28:49,415 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:28:49,415 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:49,415 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,415 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,415 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:49,419 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t2. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t2, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:49,442 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 2, (t:0, i:0))
2021-11-04 10:28:49,442 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:28:49,442 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:49,442 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,442 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,444 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:49,453 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t2. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t2, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:49,454 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:28:49,454 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t2
2021-11-04 10:28:49,454 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t2
2021-11-04 10:28:49,454 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42 ELECTION round 0: result REJECTED
2021-11-04 10:28:49,455 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-11-04 10:28:49,455 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42
2021-11-04 10:28:49,455 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:49,505 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:49,853 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:49,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:49,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:49,926 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:49,927 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: close
2021-11-04 10:28:49,927 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: shutdown
2021-11-04 10:28:49,927 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:49,928 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:49,928 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:49,928 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: shutdown
2021-11-04 10:28:49,928 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8FBC8158DD7,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:49,928 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderStateImpl
2021-11-04 10:28:49,928 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:49,928 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:49,928 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:49,929 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-99087D2BBA8E: Taking a snapshot at:(t:4, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10
2021-11-04 10:28:49,929 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B8FBC8158DD7: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/sm/snapshot.1_0
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B8FBC8158DD7: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-99087D2BBA8E: Finished taking a snapshot at:(t:4, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10 took: 1 ms
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:49,930 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:49,931 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: closes. applyIndex: 0
2021-11-04 10:28:49,931 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:49,935 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker close()
2021-11-04 10:28:49,952 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:28:49,952 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:49,953 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:28:49,953 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown server with port 33593 now
2021-11-04 10:28:49,967 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: installSnapshot onError, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->cf7b1b1f-a7a2-453d-9277-ba582b08dea9#261-t4,previous=(t:4, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:4, i:10), METADATAENTRY(c:9): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:28:49,967 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:28:49,968 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:49,976 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown server with port 33593 successfully
2021-11-04 10:28:49,977 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7cc0372] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-cf7b1b1f-a7a2-453d-9277-ba582b08dea9: Stopped
2021-11-04 10:28:49,979 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:49,979 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:49,983 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:50,175 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:50,185 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:50,845 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-99087D2BBA8E with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:50,845 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 4 for appendEntries, leader elected after 6084ms
2021-11-04 10:28:50,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:50,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:50,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:50,858 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: Failed appendEntries: the first entry (index 10) is already in snapshot (snapshot index: 10)
2021-11-04 10:28:50,858 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: inconsistency entries. Reply:e8f45799-186c-4d22-9260-bc450be8fd6c<-8c3aa67b-d006-4ad9-94aa-959dae79a988#507:FAIL-t4,INCONSISTENCY,nextIndex=11,followerCommit=10
2021-11-04 10:28:50,860 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 11
2021-11-04 10:28:51,005 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:51,189 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:51,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:51,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:51,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:52,051 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5072305466ns, electionTimeout:5071ms
2021-11-04 10:28:52,051 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState
2021-11-04 10:28:52,051 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:28:52,051 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:52,051 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43
2021-11-04 10:28:52,065 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43 ELECTION round 0: submit vote requests at term 2 for 0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:52,065 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43 ELECTION round 0: result PASSED (term=2)
2021-11-04 10:28:52,065 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43
2021-11-04 10:28:52,065 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:28:52,065 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A26FCBFFCBBF with new leaderId: 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:28:52,069 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: change Leader from null to 8c3aa67b-d006-4ad9-94aa-959dae79a988 at term 2 for becomeLeader, leader elected after 7208ms
2021-11-04 10:28:52,069 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:28:52,069 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:28:52,070 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderStateImpl
2021-11-04 10:28:52,071 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-11-04 10:28:52,076 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/log_0-0
2021-11-04 10:28:52,076 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: set configuration 1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:28:52,078 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/current/log_inprogress_1
2021-11-04 10:28:52,177 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:52,479 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:52,480 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:52,690 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:52,854 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:52,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:52,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:52,984 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:28:52,988 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@38fbf8bd{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:52,988 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@18607b55{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:28:52,988 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:28:52,989 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@341edea4{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:28:52,989 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1a66b845{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:28:52,995 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:52,995 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:28:52,996 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:28:53,008 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:53,052 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:28:53,108 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:28:53,169 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 58 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:28:53,170 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:28:53,170 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:28:53,170 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:28:53,170 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:28:53,171 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:28:53,172 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:28:53,172 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:28:53,172 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:53,173 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:53,219 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis to VolumeSet
2021-11-04 10:28:53,219 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis
2021-11-04 10:28:53,219 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis
2021-11-04 10:28:53,252 [Thread-1335] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:53,323 [Thread-1335] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds
2021-11-04 10:28:53,323 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:28:53,324 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:28:53,325 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:28:53,325 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 33593 (custom)
2021-11-04 10:28:53,325 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 33593 (custom)
2021-11-04 10:28:53,325 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33593 (custom)
2021-11-04 10:28:53,325 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:28:53,325 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:53,325 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:28:53,326 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:28:53,327 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:28:53,327 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:53,327 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:53,327 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:53,337 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:53,360 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-99087D2BBA8E:[] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@2f4fc500[Not completed]
2021-11-04 10:28:53,360 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7
2021-11-04 10:28:53,360 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-B8FBC8158DD7:[] returns group-B8FBC8158DD7:java.util.concurrent.CompletableFuture@f0842d5[Not completed]
2021-11-04 10:28:53,361 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-99087D2BBA8E:[] with ContainerStateMachine:uninitialized
2021-11-04 10:28:53,366 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:34187
2021-11-04 10:28:53,367 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:28:53,367 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:53,368 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:53,369 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:28:53,369 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:53,369 [pool-565-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=4, votedFor=e8f45799-186c-4d22-9260-bc450be8fd6c} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/raft-meta
2021-11-04 10:28:53,370 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:28:53,370 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:28:53,370 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:28:53,370 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:28:53,371 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 34187
2021-11-04 10:28:53,371 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:28:53,372 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:28:53,372 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:28:53,372 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:28:53,373 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@32514194{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:28:53,373 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6021aafb{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:28:53,379 [pool-565-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-99087D2BBA8E: Setting the last applied index to (t:4, i:10)
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:53,380 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:53,381 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:53,382 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:53,382 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:53,397 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:53,397 [pool-565-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:28:53,401 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 10
2021-11-04 10:28:53,401 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:53,404 [pool-565-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog: commitIndex: updateToMax old=10, new=9, updated? false
2021-11-04 10:28:53,429 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:53,429 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:53,429 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:53,429 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:53,448 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:53,448 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-B8FBC8158DD7:[] with ContainerStateMachine:uninitialized
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:28:53,450 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:28:53,451 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:28:53,451 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:28:53,451 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:28:53,452 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:28:53,453 [pool-565-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=cf7b1b1f-a7a2-453d-9277-ba582b08dea9} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/raft-meta
2021-11-04 10:28:53,453 [pool-565-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-B8FBC8158DD7: Setting the last applied index to (t:1, i:0)
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: set configuration 0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:28:53,454 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:53,455 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:28:53,456 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:28:53,458 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:28:53,459 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:28:53,460 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:28:53,473 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: set configuration 0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:28:53,480 [pool-565-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/log_inprogress_0
2021-11-04 10:28:53,480 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:28:53,480 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:28:53,500 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:28:53,500 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:28:53,500 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:28:53,500 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:28:53,501 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:28:53,501 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:28:53,532 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3d82a79e{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-34187-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1030236547056344690/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:28:53,539 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6a7388ce{HTTP/1.1, (http/1.1)}{0.0.0.0:34187}
2021-11-04 10:28:53,539 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @91217ms
2021-11-04 10:28:53,539 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:28:53,549 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:34187
2021-11-04 10:28:53,572 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:53,572 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:28:53,628 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:28:53,628 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:28:53,636 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4cdbd926] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:28:53,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:53,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:53,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:53,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:54,020 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:54,200 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:54,439 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5019556086ns, electionTimeout:5002ms
2021-11-04 10:28:54,439 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,439 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:28:54,439 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:54,439 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44
2021-11-04 10:28:54,452 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44 ELECTION round 0: submit vote requests at term 3 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:54,467 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-A4AF9724CB48, 3, (t:0, i:0))
2021-11-04 10:28:54,467 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 0 <= candidate's priority 0
2021-11-04 10:28:54,467 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:54,468 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,468 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,473 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:54,496 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t3. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48:t3, leader=null, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:54,506 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-A4AF9724CB48, 3, (t:0, i:0))
2021-11-04 10:28:54,506 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 1 > candidate's priority 0
2021-11-04 10:28:54,506 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:28:54,506 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,506 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,506 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:54,524 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t3. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t3, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:54,525 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t3
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t3
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44 ELECTION round 0: result REJECTED
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44
2021-11-04 10:28:54,526 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:54,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:54,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:54,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:54,979 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:28:54,979 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:55,513 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:55,643 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:28:55,643 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:28:55,661 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 34699
2021-11-04 10:28:55,664 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:55,675 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: start as a follower, conf=0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:28:55,675 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:28:55,675 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState
2021-11-04 10:28:55,676 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: start as a follower, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:28:55,676 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 4 for startAsFollower
2021-11-04 10:28:55,676 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8FBC8158DD7,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:55,690 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:55,696 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:28:55,697 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:28:55,701 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start RPC server
2021-11-04 10:28:55,702 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: GrpcService started, listening on 33593
2021-11-04 10:28:55,702 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS
2021-11-04 10:28:55,702 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS_ADMIN
2021-11-04 10:28:55,702 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis cf7b1b1f-a7a2-453d-9277-ba582b08dea9 is started using port 33593 for RATIS_SERVER
2021-11-04 10:28:55,724 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@e477ae5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-cf7b1b1f-a7a2-453d-9277-ba582b08dea9: Started
2021-11-04 10:28:55,855 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:55,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:55,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:56,195 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:56,514 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:56,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:56,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:56,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:57,193 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:57,485 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-99087D2BBA8E with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:57,485 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 4 for appendEntries, leader elected after 4104ms
2021-11-04 10:28:57,489 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: Failed appendEntries: the first entry (index 10) is already in snapshot (snapshot index: 10)
2021-11-04 10:28:57,489 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: inconsistency entries. Reply:e8f45799-186c-4d22-9260-bc450be8fd6c<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#510:FAIL-t4,INCONSISTENCY,nextIndex=11,followerCommit=10
2021-11-04 10:28:57,492 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9: nextIndex: updateUnconditionally 11 -> 11
2021-11-04 10:28:57,684 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:57,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:57,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:57,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:58,193 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:58,514 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:58,573 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:28:58,573 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - e8f45799-186c-4d22-9260-bc450be8fd6c: close
2021-11-04 10:28:58,574 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: shutdown
2021-11-04 10:28:58,574 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:58,574 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-LeaderStateImpl
2021-11-04 10:28:58,574 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:58,576 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:28:58,577 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-99087D2BBA8E: Taking a snapshot at:(t:4, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10
2021-11-04 10:28:58,578 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-99087D2BBA8E: Finished taking a snapshot at:(t:4, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/sm/snapshot.4_10 took: 2 ms
2021-11-04 10:28:58,578 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater: Took a snapshot at index 10
2021-11-04 10:28:58,578 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-11-04 10:28:58,580 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:28:58,580 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:58,581 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:28:58,581 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: shutdown
2021-11-04 10:28:58,581 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DADAF2559AFA,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:28:58,581 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-LeaderStateImpl
2021-11-04 10:28:58,581 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-PendingRequests: sendNotLeaderResponses
2021-11-04 10:28:58,588 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-DADAF2559AFA: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/sm/snapshot.1_0
2021-11-04 10:28:58,588 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:28:58,589 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-DADAF2559AFA: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:28:58,589 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:28:58,589 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:28:58,590 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: closes. applyIndex: 0
2021-11-04 10:28:58,590 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:28:58,590 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker close()
2021-11-04 10:28:58,590 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown server with port 33605 now
2021-11-04 10:28:58,603 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:58,603 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:28:58,603 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: Completed APPEND_ENTRIES, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->8c3aa67b-d006-4ad9-94aa-959dae79a988#507-t4,previous=(t:4, i:9),leaderCommit=10,initializing? true,entries: size=1, first=(t:4, i:10), METADATAENTRY(c:9)
2021-11-04 10:28:58,604 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: Completed APPEND_ENTRIES, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->cf7b1b1f-a7a2-453d-9277-ba582b08dea9#510-t4,previous=(t:4, i:9),leaderCommit=10,initializing? true,entries: size=1, first=(t:4, i:10), METADATAENTRY(c:9)
2021-11-04 10:28:58,605 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:58,605 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(116)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Failed to getClient for cf7b1b1f-a7a2-453d-9277-ba582b08dea9
org.apache.ratis.protocol.exceptions.AlreadyClosedException: e8f45799-186c-4d22-9260-bc450be8fd6c is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:95)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:100)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:53)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:347)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:476)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:616)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:802)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:781)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:28:58,605 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:28:58,606 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E->8c3aa67b-d006-4ad9-94aa-959dae79a988: nextIndex: updateUnconditionally 11 -> 10
2021-11-04 10:28:58,620 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown server with port 33605 successfully
2021-11-04 10:28:58,624 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ae0583a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-e8f45799-186c-4d22-9260-bc450be8fd6c: Stopped
2021-11-04 10:28:58,639 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:28:58,689 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:58,856 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:58,857 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:58,857 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:28:59,521 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:59,585 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5089490752ns, electionTimeout:5081ms
2021-11-04 10:28:59,586 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,586 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-11-04 10:28:59,586 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:28:59,586 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45
2021-11-04 10:28:59,595 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45 ELECTION round 0: submit vote requests at term 4 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:28:59,601 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 4, (t:0, i:0))
2021-11-04 10:28:59,601 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:28:59,601 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:59,601 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,602 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:59,602 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,604 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 4, (t:0, i:0))
2021-11-04 10:28:59,604 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:28:59,604 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:28:59,604 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,622 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,622 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:28:59,623 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t4. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t4, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:59,631 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t4. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t4, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:28:59,632 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t4
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t4
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45 ELECTION round 0: result REJECTED
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 4 for REJECTED
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45
2021-11-04 10:28:59,633 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:28:59,697 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:28:59,857 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:28:59,857 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:28:59,857 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:00,197 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:00,777 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5101287177ns, electionTimeout:5100ms
2021-11-04 10:29:00,777 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState
2021-11-04 10:29:00,777 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:29:00,777 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:00,777 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46
2021-11-04 10:29:00,804 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46 ELECTION round 0: submit vote requests at term 2 for 0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:29:00,805 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46 ELECTION round 0: result PASSED (term=2)
2021-11-04 10:29:00,805 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46
2021-11-04 10:29:00,805 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:29:00,805 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B8FBC8158DD7 with new leaderId: cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:00,805 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: change Leader from null to cf7b1b1f-a7a2-453d-9277-ba582b08dea9 at term 2 for becomeLeader, leader elected after 7350ms
2021-11-04 10:29:00,806 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:00,806 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:00,806 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:00,806 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:00,807 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:00,807 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:00,807 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:00,807 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:00,807 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderStateImpl
2021-11-04 10:29:00,808 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-11-04 10:29:00,810 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/log_0-0
2021-11-04 10:29:00,821 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: set configuration 1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:29:00,832 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/current/log_inprogress_1
2021-11-04 10:29:00,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:00,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:00,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:01,024 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:01,641 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:01,645 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@503ddf9d{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:01,652 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@63c5f078{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:01,652 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:01,653 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@371a7166{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:01,653 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@63e40397{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:01,655 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:01,655 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:01,655 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:01,691 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:01,705 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:01,711 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:01,773 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 60 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:01,774 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:01,774 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:01,774 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:01,774 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:01,774 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:01,776 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:01,776 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:01,776 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:29:01,778 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:29:01,805 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis to VolumeSet
2021-11-04 10:29:01,816 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis
2021-11-04 10:29:01,817 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis
2021-11-04 10:29:01,848 [Thread-1375] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:29:01,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:01,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:01,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:01,895 [Thread-1375] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds
2021-11-04 10:29:01,896 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:01,897 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:01,897 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:01,897 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 33605 (custom)
2021-11-04 10:29:01,897 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 33605 (custom)
2021-11-04 10:29:01,898 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33605 (custom)
2021-11-04 10:29:01,898 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:01,898 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:01,898 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:01,898 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:01,899 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:01,899 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:01,899 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:01,899 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:29:01,899 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - e8f45799-186c-4d22-9260-bc450be8fd6c: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:29:01,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-99087D2BBA8E:[] returns group-99087D2BBA8E:java.util.concurrent.CompletableFuture@4e847ad5[Not completed]
2021-11-04 10:29:01,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - e8f45799-186c-4d22-9260-bc450be8fd6c: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa
2021-11-04 10:29:01,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-DADAF2559AFA:[] returns group-DADAF2559AFA:java.util.concurrent.CompletableFuture@24b62955[Not completed]
2021-11-04 10:29:01,905 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-99087D2BBA8E:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:01,913 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:01,916 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:01,917 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:29:01,917 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:33289
2021-11-04 10:29:01,928 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:01,928 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:01,928 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:01,930 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:01,930 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:01,931 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:01,931 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:01,931 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:01,931 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:01,932 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33289
2021-11-04 10:29:01,932 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:01,937 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:01,938 [pool-592-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=4, votedFor=e8f45799-186c-4d22-9260-bc450be8fd6c} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/raft-meta
2021-11-04 10:29:01,953 [pool-592-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-99087D2BBA8E: Setting the last applied index to (t:4, i:10)
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:01,954 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:01,955 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:01,956 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:01,956 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:01,957 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:01,957 [pool-592-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e/current/log_inprogress_0
2021-11-04 10:29:01,958 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 10
2021-11-04 10:29:01,958 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:01,968 [pool-592-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog: commitIndex: updateToMax old=10, new=9, updated? false
2021-11-04 10:29:01,968 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:01,968 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:01,968 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:01,968 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:01,996 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:01,996 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:01,997 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:02,003 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6ac421df{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:02,004 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@340d2cd3{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:02,013 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:02,013 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-DADAF2559AFA:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:02,015 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:29:02,016 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:02,016 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:02,022 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:02,022 [pool-592-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=e8f45799-186c-4d22-9260-bc450be8fd6c} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/current/raft-meta
2021-11-04 10:29:02,022 [pool-592-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-DADAF2559AFA: Setting the last applied index to (t:1, i:0)
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:02,023 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:02,024 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:02,025 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:02,025 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:02,026 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:02,026 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:02,027 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null
2021-11-04 10:29:02,030 [pool-592-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa/current/log_inprogress_0
2021-11-04 10:29:02,030 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:29:02,030 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:02,060 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:02,060 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:02,060 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:02,060 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:02,060 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:02,061 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:02,119 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5017469b{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33289-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7322433633411290423/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:02,132 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6c4b76cd{HTTP/1.1, (http/1.1)}{0.0.0.0:33289}
2021-11-04 10:29:02,133 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @99811ms
2021-11-04 10:29:02,133 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:02,133 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33289
2021-11-04 10:29:02,138 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:02,138 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:02,138 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:29:02,138 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:02,138 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-11-04 10:29:02,143 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:02,143 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:02,152 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-11-04 10:29:02,154 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@51c38ccd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:02,162 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:29:02,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:29:02,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e which uses HEALTHY READONLY datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:29:02,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e close command to datanode e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:02,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e close command to datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:02,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e close command to datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:02,180 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 74c11855-9c7c-42ab-b3fc-99087d2bba8e, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.208Z[Etc/UTC]] removed.
2021-11-04 10:29:02,181 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa which uses HEALTHY READONLY datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa close command to datanode e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: b70e87f9-6939-452e-8046-dadaf2559afa, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:28:05.202Z[Etc/UTC]] removed.
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7 which uses HEALTHY READONLY datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7 close command to datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 85575298-bfcc-4214-8642-b8fbc8158dd7, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:cf7b1b1f-a7a2-453d-9277-ba582b08dea9, CreationTimestamp2021-11-04T10:28:05.058Z[Etc/UTC]] removed.
2021-11-04 10:29:02,181 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:29:02,182 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf which uses HEALTHY READONLY datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:29:02,182 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf close command to datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:02,182 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 9fedb03d-7828-4c24-bc1c-a26fcbffcbbf, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:8c3aa67b-d006-4ad9-94aa-959dae79a988, CreationTimestamp2021-11-04T10:28:04.859Z[Etc/UTC]] removed.
2021-11-04 10:29:02,183 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-11-04 10:29:02,192 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:02,306 [IPC Server handler 15 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:02,521 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:02,595 [IPC Server handler 4 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:02,806 [IPC Server handler 3 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:02,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:02,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:02,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:03,095 [IPC Server handler 8 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:03,193 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:03,205 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:03,306 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: remove  FOLLOWER cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E:t4, leader=e8f45799-186c-4d22-9260-bc450be8fd6c, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c10, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:29:03,306 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: shutdown
2021-11-04 10:29:03,306 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:03,307 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState
2021-11-04 10:29:03,307 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:29:03,307 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:03,308 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:29:03,308 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:03,309 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:29:03,311 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-99087D2BBA8E: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:29:03,311 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e command on datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9.
2021-11-04 10:29:03,312 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: remove    LEADER cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7:t2, leader=cf7b1b1f-a7a2-453d-9277-ba582b08dea9, voted=cf7b1b1f-a7a2-453d-9277-ba582b08dea9, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLog:OPENED:c2, conf=1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:29:03,312 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: shutdown
2021-11-04 10:29:03,312 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B8FBC8158DD7,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:03,312 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-LeaderStateImpl
2021-11-04 10:29:03,312 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:03,324 [IPC Server handler 0 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:03,325 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e is not found
2021-11-04 10:29:03,325 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7 is not found
2021-11-04 10:29:03,341 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: set stopIndex = 2
2021-11-04 10:29:03,341 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B8FBC8158DD7: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/sm/snapshot.2_2
2021-11-04 10:29:03,342 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B8FBC8158DD7: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7/sm/snapshot.2_2 took: 1 ms
2021-11-04 10:29:03,342 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: Took a snapshot at index 2
2021-11-04 10:29:03,342 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-11-04 10:29:03,342 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: closes. applyIndex: 2
2021-11-04 10:29:03,343 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:03,347 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7-SegmentedRaftLogWorker close()
2021-11-04 10:29:03,354 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-B8FBC8158DD7: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/85575298-bfcc-4214-8642-b8fbc8158dd7
2021-11-04 10:29:03,354 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=85575298-bfcc-4214-8642-b8fbc8158dd7 command on datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9.
2021-11-04 10:29:03,354 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:03,354 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:29:03,354 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:29:03,363 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:29:03,370 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:29:03,370 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data-0/containers/hdds/9d1f2c8e-8381-440d-8774-3b0bbb2a76b2 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:29:03,373 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:29:03,373 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:03,522 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:03,595 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: remove  FOLLOWER 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E:t4, leader=e8f45799-186c-4d22-9260-bc450be8fd6c, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c10, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:29:03,595 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: shutdown
2021-11-04 10:29:03,595 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:03,595 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState
2021-11-04 10:29:03,595 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:29:03,596 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:03,597 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:29:03,597 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:03,597 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:29:03,597 [IPC Server handler 3 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:03,598 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e is not found
2021-11-04 10:29:03,598 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf is not found
2021-11-04 10:29:03,601 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-99087D2BBA8E: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:29:03,601 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e command on datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988.
2021-11-04 10:29:03,601 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: remove    LEADER 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF:t2, leader=8c3aa67b-d006-4ad9-94aa-959dae79a988, voted=8c3aa67b-d006-4ad9-94aa-959dae79a988, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLog:OPENED:c2, conf=1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:29:03,601 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: shutdown
2021-11-04 10:29:03,601 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A26FCBFFCBBF,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:03,601 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-LeaderStateImpl
2021-11-04 10:29:03,601 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:03,613 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: set stopIndex = 2
2021-11-04 10:29:03,613 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A26FCBFFCBBF: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/sm/snapshot.2_2
2021-11-04 10:29:03,614 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A26FCBFFCBBF: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf/sm/snapshot.2_2 took: 1 ms
2021-11-04 10:29:03,614 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: Took a snapshot at index 2
2021-11-04 10:29:03,614 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-11-04 10:29:03,615 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: closes. applyIndex: 2
2021-11-04 10:29:03,616 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:03,620 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF-SegmentedRaftLogWorker close()
2021-11-04 10:29:03,633 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-A26FCBFFCBBF: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/9fedb03d-7828-4c24-bc1c-a26fcbffcbbf
2021-11-04 10:29:03,633 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=9fedb03d-7828-4c24-bc1c-a26fcbffcbbf command on datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988.
2021-11-04 10:29:03,633 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:03,633 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:29:03,633 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:29:03,633 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:29:03,643 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:29:03,643 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data-0/containers/hdds/9d1f2c8e-8381-440d-8774-3b0bbb2a76b2 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:29:03,644 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:29:03,644 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:03,858 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:03,859 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:03,859 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:04,196 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:04,197 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:04,197 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:04,198 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38703
2021-11-04 10:29:04,198 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:04,208 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: start as a follower, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null
2021-11-04 10:29:04,208 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:29:04,208 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState
2021-11-04 10:29:04,209 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: start as a follower, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:04,209 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: changes role from      null to FOLLOWER at term 4 for startAsFollower
2021-11-04 10:29:04,224 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DADAF2559AFA,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:04,239 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:29:04,239 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:04,240 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start RPC server
2021-11-04 10:29:04,241 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - e8f45799-186c-4d22-9260-bc450be8fd6c: GrpcService started, listening on 33605
2021-11-04 10:29:04,255 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS
2021-11-04 10:29:04,255 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS_ADMIN
2021-11-04 10:29:04,255 [EndpointStateMachine task thread for /0.0.0.0:45979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e8f45799-186c-4d22-9260-bc450be8fd6c is started using port 33605 for RATIS_SERVER
2021-11-04 10:29:04,262 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:29:04,262 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:04,262 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9 to datanode:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:04,263 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:04.262Z[Etc/UTC]].
2021-11-04 10:29:04,263 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-11-04 10:29:04,263 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=5e298ab2-75a4-47e5-9f00-390ecebf9209 to datanode:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:04,263 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 5e298ab2-75a4-47e5-9f00-390ecebf9209, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:04.263Z[Etc/UTC]].
2021-11-04 10:29:04,263 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:29:04,264 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:04,264 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-11-04 10:29:04,276 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7191f82c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-e8f45799-186c-4d22-9260-bc450be8fd6c: Started
2021-11-04 10:29:04,521 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:04,709 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:04,728 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5095589245ns, electionTimeout:5080ms
2021-11-04 10:29:04,728 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,728 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2021-11-04 10:29:04,729 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:04,729 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47
2021-11-04 10:29:04,741 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47 ELECTION round 0: submit vote requests at term 5 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:29:04,756 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5132819996ns, electionTimeout:5132ms
2021-11-04 10:29:04,756 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,756 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 5, (t:0, i:0))
2021-11-04 10:29:04,756 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2021-11-04 10:29:04,758 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:04,758 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection48
2021-11-04 10:29:04,759 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-CANDIDATE: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:29:04,759 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 5 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:04,759 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection48
2021-11-04 10:29:04,759 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,759 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection48: skip running since this is already CLOSING
2021-11-04 10:29:04,765 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 5, (t:0, i:0))
2021-11-04 10:29:04,767 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:29:04,767 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:04,767 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,767 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,767 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:04,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t5. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t5, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:04,781 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t5. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t5, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t5
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47 ELECTION round 0: result REJECTED
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 5 for REJECTED
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47
2021-11-04 10:29:04,782 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:04,806 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:04,807 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-8DDA909CD4E9:[cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1] returns group-8DDA909CD4E9:java.util.concurrent.CompletableFuture@6725d744[Not completed]
2021-11-04 10:29:04,807 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-8DDA909CD4E9:[cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:04,807 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: ConfigurationManager, init=-1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:04,808 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9 does not exist. Creating ...
2021-11-04 10:29:04,809 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:04,816 [pool-565-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9 has been successfully formatted.
2021-11-04 10:29:04,816 [pool-565-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8DDA909CD4E9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:04,817 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:04,818 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:04,819 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:04,819 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:04,819 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:04,819 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:04,822 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9, Nodes: cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:cf7b1b1f-a7a2-453d-9277-ba582b08dea9, CreationTimestamp2021-11-04T10:29:04.262Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:04,844 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:04,846 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: start as a follower, conf=-1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null
2021-11-04 10:29:04,846 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:04,846 [pool-565-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState
2021-11-04 10:29:04,848 [pool-565-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8DDA909CD4E9,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:04,854 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9
2021-11-04 10:29:04,854 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9.
2021-11-04 10:29:04,859 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:04,859 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:04,859 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:05,094 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:05,095 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-390ECEBF9209:[8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1] returns group-390ECEBF9209:java.util.concurrent.CompletableFuture@7c0dbe11[Not completed]
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-390ECEBF9209:[8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:05,095 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:05,096 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: ConfigurationManager, init=-1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:05,096 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:29:05,096 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:05,096 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:05,096 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209 does not exist. Creating ...
2021-11-04 10:29:05,101 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:05,104 [pool-538-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209 has been successfully formatted.
2021-11-04 10:29:05,105 [pool-538-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-390ECEBF9209: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:05,105 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 5e298ab2-75a4-47e5-9f00-390ecebf9209, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:8c3aa67b-d006-4ad9-94aa-959dae79a988, CreationTimestamp2021-11-04T10:29:04.263Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:05,106 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:05,106 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:05,112 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:05,112 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:05,112 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:05,113 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:05,114 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:05,116 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:05,117 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:05,117 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:05,126 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:05,126 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:05,126 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:05,126 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:05,126 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:05,127 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:05,128 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: start as a follower, conf=-1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null
2021-11-04 10:29:05,128 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:05,128 [pool-538-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState
2021-11-04 10:29:05,129 [pool-538-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-390ECEBF9209,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:05,135 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=5e298ab2-75a4-47e5-9f00-390ecebf9209
2021-11-04 10:29:05,135 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=5e298ab2-75a4-47e5-9f00-390ecebf9209.
2021-11-04 10:29:05,197 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:05,713 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:05,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:05,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:05,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:06,165 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e is not found
2021-11-04 10:29:06,165 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa is not found
2021-11-04 10:29:06,522 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:06,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:06,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:06,860 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:07,182 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:29:07,199 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:07,221 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:07,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:07,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:07,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:08,021 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:08,161 [IPC Server handler 11 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:08,161 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e is not found
2021-11-04 10:29:08,162 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa is not found
2021-11-04 10:29:08,200 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:08,220 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:08,655 [IPC Server handler 8 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:08,655 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e is not found
2021-11-04 10:29:08,655 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa is not found
2021-11-04 10:29:08,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:08,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:08,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:09,153 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - e8f45799-186c-4d22-9260-bc450be8fd6c: remove  FOLLOWER e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E:t4, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLog:OPENED:c10, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:29:09,154 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: shutdown
2021-11-04 10:29:09,154 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-99087D2BBA8E,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:09,154 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState
2021-11-04 10:29:09,154 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-StateMachineUpdater: set stopIndex = 10
2021-11-04 10:29:09,154 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:09,154 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: closes. applyIndex: 10
2021-11-04 10:29:09,154 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:09,155 [IPC Server handler 13 on default port 45979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:29:09,157 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E-SegmentedRaftLogWorker close()
2021-11-04 10:29:09,159 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-99087D2BBA8E: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/74c11855-9c7c-42ab-b3fc-99087d2bba8e
2021-11-04 10:29:09,159 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=74c11855-9c7c-42ab-b3fc-99087d2bba8e command on datanode e8f45799-186c-4d22-9260-bc450be8fd6c.
2021-11-04 10:29:09,159 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - e8f45799-186c-4d22-9260-bc450be8fd6c: remove  FOLLOWER e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA:t1, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLog:OPENED:c0, conf=0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:29:09,159 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: shutdown
2021-11-04 10:29:09,159 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DADAF2559AFA,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:09,159 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState
2021-11-04 10:29:09,159 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:09,160 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:09,160 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: closes. applyIndex: 0
2021-11-04 10:29:09,160 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:09,169 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA-SegmentedRaftLogWorker close()
2021-11-04 10:29:09,185 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-DADAF2559AFA: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b70e87f9-6939-452e-8046-dadaf2559afa
2021-11-04 10:29:09,185 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=b70e87f9-6939-452e-8046-dadaf2559afa command on datanode e8f45799-186c-4d22-9260-bc450be8fd6c.
2021-11-04 10:29:09,185 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:09,185 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:29:09,185 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:29:09,185 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:29:09,186 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:29:09,186 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data-0/containers/hdds/9d1f2c8e-8381-440d-8774-3b0bbb2a76b2 -> 85418516-f0f6-4dcf-8de4-aa379faa5828 as part of SCM HA finalization for datanode.
2021-11-04 10:29:09,193 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:29:09,193 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:09,699 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:09,723 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:09,768 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:29:09,768 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:09,770 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=783dc22e-8d45-466e-b0dc-e7054f4c5b77 to datanode:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:09,770 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 783dc22e-8d45-466e-b0dc-e7054f4c5b77, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:09.770Z[Etc/UTC]].
2021-11-04 10:29:09,771 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b7abf078-ffde-4a3f-8fd2-37895806f27c to datanode:8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:09,771 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b7abf078-ffde-4a3f-8fd2-37895806f27c to datanode:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:09,771 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b7abf078-ffde-4a3f-8fd2-37895806f27c to datanode:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:09,771 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b7abf078-ffde-4a3f-8fd2-37895806f27c, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:09.771Z[Etc/UTC]].
2021-11-04 10:29:09,842 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5059715829ns, electionTimeout:5053ms
2021-11-04 10:29:09,842 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,842 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2021-11-04 10:29:09,842 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:09,842 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49
2021-11-04 10:29:09,855 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49 ELECTION round 0: submit vote requests at term 6 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:29:09,858 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 6, (t:0, i:0))
2021-11-04 10:29:09,858 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:29:09,858 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:09,858 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:09,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:09,861 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:09,882 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,882 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:09,885 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-A4AF9724CB48, 6, (t:0, i:0))
2021-11-04 10:29:09,885 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:29:09,885 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:09,885 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,897 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,897 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:09,899 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t6. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t6, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:09,912 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t6. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t6, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t6
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t6
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49 ELECTION round 0: result REJECTED
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 6 for REJECTED
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49
2021-11-04 10:29:09,913 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:09,994 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5147871095ns, electionTimeout:5145ms
2021-11-04 10:29:09,994 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState
2021-11-04 10:29:09,994 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:09,994 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:09,994 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50 ELECTION round 0: submit vote requests at term 1 for -1: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:1], old=null
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-8DDA909CD4E9 with new leaderId: cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: change Leader from null to cf7b1b1f-a7a2-453d-9277-ba582b08dea9 at term 1 for becomeLeader, leader elected after 5207ms
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:10,024 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderStateImpl
2021-11-04 10:29:10,025 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:10,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:10,027 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9/current/log_inprogress_0
2021-11-04 10:29:10,050 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: set configuration 0: [cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:1], old=null
2021-11-04 10:29:10,139 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5010748831ns, electionTimeout:5009ms
2021-11-04 10:29:10,139 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState
2021-11-04 10:29:10,139 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:10,139 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:10,139 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51 ELECTION round 0: submit vote requests at term 1 for -1: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:1], old=null
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-390ECEBF9209 with new leaderId: 8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: change Leader from null to 8c3aa67b-d006-4ad9-94aa-959dae79a988 at term 1 for becomeLeader, leader elected after 5076ms
2021-11-04 10:29:10,182 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderStateImpl
2021-11-04 10:29:10,183 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:10,186 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209/current/log_inprogress_0
2021-11-04 10:29:10,198 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: set configuration 0: [8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:1], old=null
2021-11-04 10:29:10,325 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: addNew group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0] returns group-37895806F27C:java.util.concurrent.CompletableFuture@69e235d0[Not completed]
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: new RaftServerImpl for group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:10,326 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:10,327 [pool-565-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:10,327 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis] (custom)
2021-11-04 10:29:10,327 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:10,327 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:10,327 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c does not exist. Creating ...
2021-11-04 10:29:10,332 [pool-565-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:10,334 [pool-565-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c has been successfully formatted.
2021-11-04 10:29:10,334 [pool-565-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-37895806F27C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:10,335 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,336 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:10,336 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:10,336 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:10,336 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:10,336 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:10,337 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:10,339 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:10,339 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,339 [pool-565-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,355 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:10,355 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:10,355 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:10,355 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:10,356 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:10,356 [pool-565-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:10,357 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:29:10,357 [pool-565-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:10,357 [pool-565-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:10,363 [pool-565-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:10,373 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b7abf078-ffde-4a3f-8fd2-37895806f27c
2021-11-04 10:29:10,380 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: addNew group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] returns group-37895806F27C:java.util.concurrent.CompletableFuture@379106d9[Not completed]
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: new RaftServerImpl for group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:10,380 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis] (custom)
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:10,381 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c does not exist. Creating ...
2021-11-04 10:29:10,382 [pool-538-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c has been successfully formatted.
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-37895806F27C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:10,383 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:10,384 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:10,385 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:10,385 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:10,385 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,385 [pool-538-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:10,388 [pool-538-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:10,389 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:10,389 [pool-538-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:10,389 [pool-538-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:10,428 [pool-538-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:10,451 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] returns group-37895806F27C:java.util.concurrent.CompletableFuture@4c38ed9c[Not completed]
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-37895806F27C:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:10,452 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:29:10,453 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:10,453 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:10,453 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c does not exist. Creating ...
2021-11-04 10:29:10,454 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:10,454 [pool-592-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c has been successfully formatted.
2021-11-04 10:29:10,455 [pool-592-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-37895806F27C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:10,455 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:10,455 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:10,455 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:10,455 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:10,456 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:10,457 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:10,457 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:10,458 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:10,458 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,458 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:10,464 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:10,466 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:10,466 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:10,466 [pool-592-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState
2021-11-04 10:29:10,476 [pool-592-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:10,493 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=b7abf078-ffde-4a3f-8fd2-37895806f27c.
2021-11-04 10:29:10,655 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:29:10,655 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e8f45799-186c-4d22-9260-bc450be8fd6c: addNew group-E7054F4C5B77:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1] returns group-E7054F4C5B77:java.util.concurrent.CompletableFuture@4471f2dc[Not completed]
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e8f45799-186c-4d22-9260-bc450be8fd6c: new RaftServerImpl for group-E7054F4C5B77:[e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: ConfigurationManager, init=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis] (custom)
2021-11-04 10:29:10,656 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:10,657 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:10,657 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77 does not exist. Creating ...
2021-11-04 10:29:10,658 [pool-592-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:10,660 [pool-592-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77 has been successfully formatted.
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-E7054F4C5B77: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:10,661 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:10,662 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:10,663 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:10,663 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:10,663 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,663 [pool-592-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:10,664 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 783dc22e-8d45-466e-b0dc-e7054f4c5b77, Nodes: e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:29:09.770Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:10,688 [pool-592-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:10,690 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: start as a follower, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null
2021-11-04 10:29:10,690 [pool-592-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:10,690 [pool-592-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState
2021-11-04 10:29:10,704 [pool-592-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7054F4C5B77,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:10,718 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=783dc22e-8d45-466e-b0dc-e7054f4c5b77
2021-11-04 10:29:10,718 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=783dc22e-8d45-466e-b0dc-e7054f4c5b77.
2021-11-04 10:29:10,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:10,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:10,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:11,203 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:11,526 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:11,724 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:11,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:11,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:11,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:12,187 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:29:12,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:12,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:12,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:13,028 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:13,207 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:13,220 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:13,862 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:13,863 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:13,863 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:14,535 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:14,710 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:14,726 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:14,865 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:14,865 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:14,865 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:15,002 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5103098173ns, electionTimeout:5102ms
2021-11-04 10:29:15,002 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,003 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2021-11-04 10:29:15,003 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:15,003 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52
2021-11-04 10:29:15,015 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52 ELECTION round 0: submit vote requests at term 7 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:15,017 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-A4AF9724CB48, 7, (t:0, i:0))
2021-11-04 10:29:15,017 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 0 <= candidate's priority 0
2021-11-04 10:29:15,017 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:15,017 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,024 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,024 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:15,027 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t7. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48:t7, leader=null, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:29:15,032 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5135180361ns, electionTimeout:5119ms
2021-11-04 10:29:15,032 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,032 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2021-11-04 10:29:15,032 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:15,032 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection53
2021-11-04 10:29:15,047 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-A4AF9724CB48, 7, (t:0, i:0))
2021-11-04 10:29:15,054 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-CANDIDATE: reject ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 1 > candidate's priority 0
2021-11-04 10:29:15,054 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 7 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:15,054 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection53
2021-11-04 10:29:15,054 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,054 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection53: skip running since this is already CLOSING
2021-11-04 10:29:15,059 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t7. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t7, leader=null, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t7
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t7
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52 ELECTION round 0: result REJECTED
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52
2021-11-04 10:29:15,060 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:15,488 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5131271807ns, electionTimeout:5120ms
2021-11-04 10:29:15,488 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:15,489 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:15,489 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:15,489 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54
2021-11-04 10:29:15,498 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54 ELECTION round 0: submit vote requests at term 1 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:29:15,506 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: receive requestVote(ELECTION, cf7b1b1f-a7a2-453d-9277-ba582b08dea9, group-37895806F27C, 1, (t:0, i:0))
2021-11-04 10:29:15,506 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FOLLOWER: reject ELECTION from cf7b1b1f-a7a2-453d-9277-ba582b08dea9: our priority 1 > candidate's priority 0
2021-11-04 10:29:15,506 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:15,506 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState
2021-11-04 10:29:15,506 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState
2021-11-04 10:29:15,506 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:15,513 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: receive requestVote(ELECTION, cf7b1b1f-a7a2-453d-9277-ba582b08dea9, group-37895806F27C, 1, (t:0, i:0))
2021-11-04 10:29:15,513 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FOLLOWER: accept ELECTION from cf7b1b1f-a7a2-453d-9277-ba582b08dea9: our priority 0 <= candidate's priority 0
2021-11-04 10:29:15,513 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:15,513 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:15,513 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:15,514 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:15,531 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C replies to ELECTION vote request: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t1. Peer's state: e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C:t1, leader=null, voted=null, raftlog=e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:15,534 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C replies to ELECTION vote request: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-8c3aa67b-d006-4ad9-94aa-959dae79a988#0:OK-t1. Peer's state: 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C:t1, leader=null, voted=cf7b1b1f-a7a2-453d-9277-ba582b08dea9, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: cf7b1b1f-a7a2-453d-9277-ba582b08dea9<-e8f45799-186c-4d22-9260-bc450be8fd6c#0:FAIL-t1
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54 ELECTION round 0: result REJECTED
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54
2021-11-04 10:29:15,534 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:15,866 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:15,867 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:15,867 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:15,870 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5180022490ns, electionTimeout:5160ms
2021-11-04 10:29:15,870 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState
2021-11-04 10:29:15,870 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:15,870 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:15,870 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55 ELECTION round 0: submit vote requests at term 1 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1], old=null
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-E7054F4C5B77 with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 1 for becomeLeader, leader elected after 5259ms
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:15,921 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderStateImpl
2021-11-04 10:29:15,922 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:15,925 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1], old=null
2021-11-04 10:29:15,937 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77/current/log_inprogress_0
2021-11-04 10:29:16,038 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:16,211 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:16,225 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:16,870 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:16,870 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:16,870 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:17,187 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:29:17,538 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:17,712 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:17,729 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:17,871 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:17,871 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:17,871 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:18,711 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:18,880 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:18,880 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:18,880 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:19,041 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:19,728 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:19,882 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:19,882 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:19,882 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:20,082 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5027301879ns, electionTimeout:5024ms
2021-11-04 10:29:20,082 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:20,082 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2021-11-04 10:29:20,082 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:20,082 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56
2021-11-04 10:29:20,094 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56 ELECTION round 0: submit vote requests at term 8 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:20,100 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: receive requestVote(ELECTION, 17000f6a-7be3-454d-a73d-93c4d36d04d2, group-A4AF9724CB48, 8, (t:0, i:0))
2021-11-04 10:29:20,100 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 17000f6a-7be3-454d-a73d-93c4d36d04d2: our priority 0 <= candidate's priority 1
2021-11-04 10:29:20,100 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:20,100 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:20,101 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:20,101 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:20,118 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: receive requestVote(ELECTION, 17000f6a-7be3-454d-a73d-93c4d36d04d2, group-A4AF9724CB48, 8, (t:0, i:0))
2021-11-04 10:29:20,124 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 17000f6a-7be3-454d-a73d-93c4d36d04d2: our priority 0 <= candidate's priority 1
2021-11-04 10:29:20,124 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:20,124 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:20,124 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:20,128 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:20,137 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48 replies to ELECTION vote request: 17000f6a-7be3-454d-a73d-93c4d36d04d2<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t8. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48:t8, leader=null, voted=17000f6a-7be3-454d-a73d-93c4d36d04d2, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 17000f6a-7be3-454d-a73d-93c4d36d04d2<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t8
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56 ELECTION round 0: result PASSED
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 8 for becomeLeader, leader elected after 40738ms
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:20,139 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:20,140 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:20,141 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:20,141 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:20,141 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:20,141 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:20,141 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:20,142 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:20,143 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 444163ad-47bc-437d-b6e5-a4af9724cb48, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:17000f6a-7be3-454d-a73d-93c4d36d04d2, CreationTimestamp2021-11-04T10:28:36.886Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:29:20,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:29:20,147 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderStateImpl
2021-11-04 10:29:20,147 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,148 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48 replies to ELECTION vote request: 17000f6a-7be3-454d-a73d-93c4d36d04d2<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:OK-t8. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t8, leader=null, voted=17000f6a-7be3-454d-a73d-93c4d36d04d2, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:20,150 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:20,162 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:20,162 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 8 for appendEntries, leader elected after 41010ms
2021-11-04 10:29:20,169 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:20,184 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:20,184 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 8 for appendEntries, leader elected after 40907ms
2021-11-04 10:29:20,207 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:20,208 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,231 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:20,231 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:20,249 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,252 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:20,539 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5032812639ns, electionTimeout:5028ms
2021-11-04 10:29:20,539 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState
2021-11-04 10:29:20,539 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:29:20,539 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:20,539 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57
2021-11-04 10:29:20,560 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57 ELECTION round 0: submit vote requests at term 2 for -1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:20,596 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: receive requestVote(ELECTION, e8f45799-186c-4d22-9260-bc450be8fd6c, group-37895806F27C, 2, (t:0, i:0))
2021-11-04 10:29:20,596 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FOLLOWER: accept ELECTION from e8f45799-186c-4d22-9260-bc450be8fd6c: our priority 0 <= candidate's priority 1
2021-11-04 10:29:20,596 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:20,596 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:20,596 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: start cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:20,596 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:20,598 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: receive requestVote(ELECTION, e8f45799-186c-4d22-9260-bc450be8fd6c, group-37895806F27C, 2, (t:0, i:0))
2021-11-04 10:29:20,598 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FOLLOWER: accept ELECTION from e8f45799-186c-4d22-9260-bc450be8fd6c: our priority 0 <= candidate's priority 1
2021-11-04 10:29:20,598 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:20,598 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:20,601 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: start 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:20,601 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:20,603 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C replies to ELECTION vote request: e8f45799-186c-4d22-9260-bc450be8fd6c<-8c3aa67b-d006-4ad9-94aa-959dae79a988#0:OK-t2. Peer's state: 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C:t2, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:20,604 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: e8f45799-186c-4d22-9260-bc450be8fd6c<-8c3aa67b-d006-4ad9-94aa-959dae79a988#0:OK-t2
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57 ELECTION round 0: result PASSED
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-37895806F27C with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 2 for becomeLeader, leader elected after 10149ms
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:20,605 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:20,606 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:20,607 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:20,608 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e8f45799-186c-4d22-9260-bc450be8fd6c: start e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderStateImpl
2021-11-04 10:29:20,609 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: b7abf078-ffde-4a3f-8fd2-37895806f27c, Nodes: 8c3aa67b-d006-4ad9-94aa-959dae79a988{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36103, RATIS=44435, RATIS_ADMIN=44435, RATIS_SERVER=44435, STANDALONE=44413], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e8f45799-186c-4d22-9260-bc450be8fd6c{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=43079, RATIS=33605, RATIS_ADMIN=33605, RATIS_SERVER=33605, STANDALONE=40755], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}cf7b1b1f-a7a2-453d-9277-ba582b08dea9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=40345, RATIS=33593, RATIS_ADMIN=33593, RATIS_SERVER=33593, STANDALONE=42651], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:e8f45799-186c-4d22-9260-bc450be8fd6c, CreationTimestamp2021-11-04T10:29:09.771Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:20,610 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,611 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/current/log_inprogress_0
2021-11-04 10:29:20,624 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C replies to ELECTION vote request: e8f45799-186c-4d22-9260-bc450be8fd6c<-cf7b1b1f-a7a2-453d-9277-ba582b08dea9#0:OK-t2. Peer's state: cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C:t2, leader=null, voted=e8f45799-186c-4d22-9260-bc450be8fd6c, raftlog=cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLog:OPENED:c-1, conf=-1: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|priority:0], old=null
2021-11-04 10:29:20,645 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-37895806F27C with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:20,645 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 2 for appendEntries, leader elected after 10309ms
2021-11-04 10:29:20,630 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:20,664 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-37895806F27C with new leaderId: e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:20,664 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: change Leader from null to e8f45799-186c-4d22-9260-bc450be8fd6c at term 2 for appendEntries, leader elected after 10280ms
2021-11-04 10:29:20,686 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:20,687 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,689 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/current/log_inprogress_0
2021-11-04 10:29:20,727 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: set configuration 0: [e8f45799-186c-4d22-9260-bc450be8fd6c|rpc:10.1.0.36:33605|dataStream:|priority:1, cf7b1b1f-a7a2-453d-9277-ba582b08dea9|rpc:10.1.0.36:33593|dataStream:|priority:0, 8c3aa67b-d006-4ad9-94aa-959dae79a988|rpc:10.1.0.36:44435|dataStream:|priority:0], old=null
2021-11-04 10:29:20,728 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:20,729 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/current/log_inprogress_0
2021-11-04 10:29:20,882 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:20,882 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:29:20,883 [Listener at 127.0.0.1/41699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:20,884 [Listener at 127.0.0.1/41699] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:20,885 [Listener at 127.0.0.1/41699] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:29:20,885 [Listener at 127.0.0.1/41699] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:29:20,886 [Listener at 127.0.0.1/41699] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:20,888 [Listener at 127.0.0.1/41699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:20,985 [Listener at 127.0.0.1/41699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 96 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:20,987 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:20,987 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:20,987 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:20,987 [Listener at 127.0.0.1/41699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:20,987 [Listener at 127.0.0.1/41699] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:20,988 [Listener at 127.0.0.1/41699] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:21,213 [Listener at 127.0.0.1/41699] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:29:21,214 [Listener at 127.0.0.1/41699] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:29:21,216 [Listener at 127.0.0.1/41699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:29:21,217 [Listener at 127.0.0.1/41699] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:29:21,217 [Listener at 127.0.0.1/41699] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:29:21,218 [Listener at 127.0.0.1/41699] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:29:21,218 [Listener at 127.0.0.1/41699] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:29:21,218 [Listener at 127.0.0.1/41699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:29:21,218 [Listener at 127.0.0.1/41699] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:29:21,219 [Listener at 127.0.0.1/41699] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:29:21,219 [Listener at 127.0.0.1/41699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:29:21,219 [Listener at 127.0.0.1/41699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:29:21,219 [Listener at 127.0.0.1/41699] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:29:21,245 [Listener at 127.0.0.1/41699] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:29:21,245 [Listener at 127.0.0.1/41699] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:29:21,245 [Listener at 127.0.0.1/41699] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:29:21,246 [Listener at 127.0.0.1/41699] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:21,247 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:21,248 [Listener at 0.0.0.0/36119] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:21,253 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:29:21,283 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:21,286 [Listener at 0.0.0.0/43703] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:21,303 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:21,421 [Listener at 0.0.0.0/38401] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:29:21,421 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:29:21,421 [Listener at 0.0.0.0/38401] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:29:21,421 [Listener at 0.0.0.0/38401] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:29:21,425 [Listener at 0.0.0.0/38401] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:21,425 [Listener at 0.0.0.0/38401] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:21,425 [Listener at 0.0.0.0/38401] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:21,425 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38401
2021-11-04 10:29:21,425 [Listener at 0.0.0.0/38401] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-11-04 10:29:21,487 [Listener at 0.0.0.0/38401] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:38401
2021-11-04 10:29:21,498 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:21,501 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:21,505 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43703
2021-11-04 10:29:21,505 [Listener at 0.0.0.0/38401] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43703
2021-11-04 10:29:21,508 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:21,511 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:21,522 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:36119
2021-11-04 10:29:21,522 [Listener at 0.0.0.0/38401] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:36119
2021-11-04 10:29:21,529 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:21,529 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:21,539 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@22461717] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:21,539 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:29:21,539 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:21,540 [Listener at 0.0.0.0/38401] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:21,555 [Listener at 0.0.0.0/38401] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:21,555 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:21,556 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:29:21,556 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:21,556 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:21,576 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44745
2021-11-04 10:29:21,576 [Listener at 0.0.0.0/38401] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:21,677 [Listener at 0.0.0.0/38401] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:21,677 [Listener at 0.0.0.0/38401] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:21,678 [Listener at 0.0.0.0/38401] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:21,679 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@274ff868{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:21,680 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@566c1ebc{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:29:21,682 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6affb9c1{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:29:21,694 [Listener at 0.0.0.0/38401] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@21bca94c{HTTP/1.1, (http/1.1)}{0.0.0.0:44745}
2021-11-04 10:29:21,694 [Listener at 0.0.0.0/38401] INFO  server.Server (Server.java:doStart(415)) - Started @119372ms
2021-11-04 10:29:21,694 [Listener at 0.0.0.0/38401] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:21,694 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:44745
2021-11-04 10:29:21,694 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:21,696 [Listener at 0.0.0.0/38401] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:29:21,696 [Listener at 0.0.0.0/38401] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:29:21,696 [Listener at 0.0.0.0/38401] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:29:21,696 [Listener at 0.0.0.0/38401] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:29:21,697 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:21,698 [Listener at 0.0.0.0/38401] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:29:21,805 [Listener at 0.0.0.0/38401] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 106 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:29:21,806 [Listener at 0.0.0.0/38401] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:29:21,806 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:21,848 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:21,849 [Listener at 0.0.0.0/38401] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:29:21,849 [Listener at 0.0.0.0/38401] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:29:22,111 [Listener at 0.0.0.0/38401] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:29:22,112 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:29:22,117 [Listener at 0.0.0.0/38401] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:29:22,117 [Listener at 0.0.0.0/38401] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:22,117 [Listener at 0.0.0.0/38401] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:22,117 [Listener at 0.0.0.0/38401] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:29:22,121 [Listener at 0.0.0.0/38401] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:37543
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37543 (custom)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37543 (custom)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37543 (custom)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:29:22,127 [Listener at 0.0.0.0/38401] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:22,128 [Listener at 0.0.0.0/38401] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:29:22,128 [Listener at 0.0.0.0/38401] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:29:22,137 [Listener at 0.0.0.0/38401] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:22,137 [Listener at 0.0.0.0/38401] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:29:22,137 [Listener at 0.0.0.0/38401] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:22,137 [Listener at 0.0.0.0/38401] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis] (custom)
2021-11-04 10:29:22,154 [Listener at 0.0.0.0/38401] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:37543|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@319901ae[Not completed]
2021-11-04 10:29:22,154 [Listener at 0.0.0.0/38401] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 37543
2021-11-04 10:29:22,155 [Listener at 0.0.0.0/38401] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:22,156 [pool-645-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:37543|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:29:22,171 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:22,182 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:22,187 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-11-04 10:29:22,188 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:29:22,188 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:29:22,205 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:29:22,205 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:29:22,205 [pool-645-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:37543|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:22,205 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis] (custom)
2021-11-04 10:29:22,205 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:22,205 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:22,206 [pool-645-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:29:22,206 [pool-645-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:22,207 [pool-645-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:29:22,208 [pool-645-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:22,209 [pool-645-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:29:22,216 [pool-645-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:22,224 [Listener at 127.0.0.1/33049] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:29:22,225 [Listener at 127.0.0.1/33049] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:29:22,238 [Listener at 127.0.0.1/33049] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:33049
2021-11-04 10:29:22,238 [Listener at 127.0.0.1/33049] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 37543
2021-11-04 10:29:22,238 [Listener at 127.0.0.1/33049] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:37543|priority:0], old=null
2021-11-04 10:29:22,238 [Listener at 127.0.0.1/33049] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:22,238 [Listener at 127.0.0.1/33049] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:29:22,250 [Listener at 127.0.0.1/33049] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:524)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1331)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:22,250 [Listener at 127.0.0.1/33049] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:524)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1331)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:22,253 [Listener at 127.0.0.1/33049] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:29:22,259 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 37543
2021-11-04 10:29:22,265 [Listener at 127.0.0.1/33049] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:29:22,265 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1729a6d9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:29:22,299 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:29:22,299 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:22,300 [Listener at 127.0.0.1/33049] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:22,328 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-11-04 10:29:22,329 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-11-04 10:29:22,329 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:29:22,329 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:29:22,330 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37963
2021-11-04 10:29:22,333 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:22,333 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:22,334 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:29:22,340 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:29:22,340 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:29:22,340 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:29:22,340 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:22,341 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-11-04 10:29:22,341 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-11-04 10:29:22,341 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-11-04 10:29:22,341 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-11-04 10:29:22,341 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:29:22,343 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-11-04 10:29:22,343 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:22,345 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:29:22,345 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 44371 now
2021-11-04 10:29:22,347 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 44371 successfully
2021-11-04 10:29:22,347 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@4723f933] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:29:22,347 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:29:22,347 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:29:22,356 [Listener at 127.0.0.1/33049] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:22,357 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:22,357 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:29:22,357 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:29:22,357 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:22,357 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:22,358 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46419
2021-11-04 10:29:22,358 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:22,364 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-11-04 10:29:22,385 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:29:22,429 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@35c7d814{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:29:22,497 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:22,497 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:22,497 [Listener at 127.0.0.1/33049] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:22,510 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3081e9a8{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:22,510 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:22,517 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@32b3c51a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:22,517 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@11a46856{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:29:22,522 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@45eeac53{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:29:22,524 [Listener at 127.0.0.1/33049] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7a1a5adb{HTTP/1.1, (http/1.1)}{0.0.0.0:46419}
2021-11-04 10:29:22,524 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(415)) - Started @120202ms
2021-11-04 10:29:22,524 [Listener at 127.0.0.1/33049] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:22,530 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@cf22bb9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:29:22,530 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5da5b2e5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:22,534 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:46419
2021-11-04 10:29:22,557 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:22,557 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:22,588 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:29:22,601 [Listener at 127.0.0.1/33049] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:29:22,604 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6126115d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:22,685 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:22,685 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:22,685 [Listener at 127.0.0.1/33049] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:22,762 [Listener at 127.0.0.1/33049] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:22,795 [Listener at 127.0.0.1/33049] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:22,862 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(343)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-11-04 10:29:22,888 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-11-04 10:29:22,966 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(503)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-11-04 10:29:22,995 [Listener at 127.0.0.1/33049] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 199 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:23,013 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:23,014 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:23,014 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:23,014 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:23,014 [Listener at 127.0.0.1/33049] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:23,015 [Listener at 127.0.0.1/33049] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:23,015 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:23,015 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds
2021-11-04 10:29:23,044 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds
2021-11-04 10:29:23,054 [IPC Server handler 1 on default port 40343] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-11-04 10:29:23,054 [IPC Server handler 1 on default port 40343] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-11-04 10:29:23,140 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis to VolumeSet
2021-11-04 10:29:23,141 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis
2021-11-04 10:29:23,141 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis
2021-11-04 10:29:23,183 [Thread-1606] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds
2021-11-04 10:29:23,183 [Listener at 127.0.0.1/33049] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:23,185 [Listener at 127.0.0.1/33049] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:23,185 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:23,185 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:23,186 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:23,188 [Listener at 127.0.0.1/33049] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:23,188 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:23,188 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:23,188 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis] (custom)
2021-11-04 10:29:23,244 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:29:23,244 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:23,245 [Listener at 127.0.0.1/33049] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:23,248 [Listener at 127.0.0.1/33049] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:23,249 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:23,250 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:23,250 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:23,250 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:23,269 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35401
2021-11-04 10:29:23,269 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:23,281 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:23,281 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:23,281 [Listener at 127.0.0.1/33049] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:23,281 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3c21cdb8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:23,282 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7fba1c12{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:23,378 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1140155544ns, electionTimeout:1094ms
2021-11-04 10:29:23,378 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:29:23,378 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:23,378 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:23,378 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection58
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection58 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:37543|priority:0], old=null
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection58 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection58
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1224ms
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:23,432 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:29:23,433 [om1@group-C5BA1605619E-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:23,440 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-11-04 10:29:23,464 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:37543|admin:|client:|dataStream:|priority:0], old=null
2021-11-04 10:29:23,484 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4e2b91f1{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-35401-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7739198335034252616/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:23,485 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:37543"
]
2021-11-04 10:29:23,495 [Listener at 127.0.0.1/33049] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@325aeadd{HTTP/1.1, (http/1.1)}{0.0.0.0:35401}
2021-11-04 10:29:23,498 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(415)) - Started @121176ms
2021-11-04 10:29:23,498 [Listener at 127.0.0.1/33049] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:23,499 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:35401
2021-11-04 10:29:23,499 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:23,499 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:23,499 [Listener at 127.0.0.1/33049] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:23,507 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:23,540 [Listener at 127.0.0.1/33049] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:23,545 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:23,546 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:23,561 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@acab7c9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:23,566 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/meta/datanode.id
2021-11-04 10:29:23,569 [Listener at 127.0.0.1/33049] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:23,638 [Listener at 127.0.0.1/33049] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 64 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:23,639 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:23,639 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:23,639 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:23,639 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:23,639 [Listener at 127.0.0.1/33049] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:23,640 [Listener at 127.0.0.1/33049] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:23,640 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:23,640 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds
2021-11-04 10:29:23,645 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds
2021-11-04 10:29:23,681 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis to VolumeSet
2021-11-04 10:29:23,692 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis
2021-11-04 10:29:23,692 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis
2021-11-04 10:29:23,729 [Thread-1628] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds
2021-11-04 10:29:23,729 [Listener at 127.0.0.1/33049] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:23,736 [Listener at 127.0.0.1/33049] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:23,736 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:23,736 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:23,740 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:23,741 [Listener at 127.0.0.1/33049] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:23,741 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:23,741 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:23,741 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis] (custom)
2021-11-04 10:29:23,755 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:29:23,755 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:23,756 [Listener at 127.0.0.1/33049] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:23,777 [Listener at 127.0.0.1/33049] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:23,778 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:23,778 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:23,778 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:23,778 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:23,779 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 37507
2021-11-04 10:29:23,779 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:23,828 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:23,828 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:23,828 [Listener at 127.0.0.1/33049] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:29:23,829 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2899e480{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:23,829 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4dcb0253{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:23,888 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7707c5df{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-37507-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3002696242345951122/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:23,949 [Listener at 127.0.0.1/33049] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@597cc0c4{HTTP/1.1, (http/1.1)}{0.0.0.0:37507}
2021-11-04 10:29:23,949 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(415)) - Started @121628ms
2021-11-04 10:29:24,017 [Listener at 127.0.0.1/33049] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:24,024 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:37507
2021-11-04 10:29:24,036 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:24,036 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:24,036 [Listener at 127.0.0.1/33049] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:24,040 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:24,073 [Listener at 127.0.0.1/33049] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:24,106 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:24,106 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:24,128 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2f63c38e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:24,138 [Listener at 127.0.0.1/33049] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:24,161 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/meta/datanode.id
2021-11-04 10:29:24,296 [Listener at 127.0.0.1/33049] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 144 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:24,297 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:24,297 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:24,297 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:24,297 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:24,298 [Listener at 127.0.0.1/33049] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:24,299 [Listener at 127.0.0.1/33049] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:24,299 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:24,299 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds
2021-11-04 10:29:24,324 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds
2021-11-04 10:29:24,344 [Listener at 127.0.0.1/33049] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis to VolumeSet
2021-11-04 10:29:24,351 [Listener at 127.0.0.1/33049] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis
2021-11-04 10:29:24,351 [Listener at 127.0.0.1/33049] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis
2021-11-04 10:29:24,371 [Thread-1640] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds
2021-11-04 10:29:24,371 [Listener at 127.0.0.1/33049] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:24,373 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:24,374 [Listener at 127.0.0.1/33049] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:24,374 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:24,374 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:24,374 [Listener at 127.0.0.1/33049] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis] (custom)
2021-11-04 10:29:24,395 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-11-04 10:29:24,395 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:24,396 [Listener at 127.0.0.1/33049] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:24,400 [Listener at 127.0.0.1/33049] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36171
2021-11-04 10:29:24,401 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:24,402 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:24,403 [Listener at 127.0.0.1/33049] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:24,403 [Listener at 127.0.0.1/33049] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:24,403 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6fe1e0a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:24,403 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5b3f10a0{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:24,522 [Listener at 127.0.0.1/33049] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@bcf2ec3{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36171-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2524838448996966016/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:24,533 [Listener at 127.0.0.1/33049] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3a16d132{HTTP/1.1, (http/1.1)}{0.0.0.0:36171}
2021-11-04 10:29:24,533 [Listener at 127.0.0.1/33049] INFO  server.Server (Server.java:doStart(415)) - Started @122211ms
2021-11-04 10:29:24,533 [Listener at 127.0.0.1/33049] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:24,534 [Listener at 127.0.0.1/33049] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36171
2021-11-04 10:29:24,536 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:29:24,536 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:24,536 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:24,536 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:24,582 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:24,582 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:24,590 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5a0d09d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:24,620 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/meta/datanode.id
2021-11-04 10:29:25,536 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:29:25,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:25,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:25,609 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:25,609 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:25,610 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 45515
2021-11-04 10:29:25,611 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:25,617 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start RPC server
2021-11-04 10:29:25,621 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: GrpcService started, listening on 44165
2021-11-04 10:29:25,622 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 1528c4d2-af24-4f5c-9fbb-bf358b31659b is started using port 44165 for RATIS
2021-11-04 10:29:25,622 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 1528c4d2-af24-4f5c-9fbb-bf358b31659b is started using port 44165 for RATIS_ADMIN
2021-11-04 10:29:25,622 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 1528c4d2-af24-4f5c-9fbb-bf358b31659b is started using port 44165 for RATIS_SERVER
2021-11-04 10:29:25,624 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 1528c4d2-af24-4f5c-9fbb-bf358b31659b is started using port 34193
2021-11-04 10:29:25,636 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@39e2ae0c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-1528c4d2-af24-4f5c-9fbb-bf358b31659b: Started
2021-11-04 10:29:26,174 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:26,174 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:26,176 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38931
2021-11-04 10:29:26,177 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:26,193 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start RPC server
2021-11-04 10:29:26,194 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 671e72df-a771-4e49-9664-49193e3bb5a9: GrpcService started, listening on 42439
2021-11-04 10:29:26,209 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 671e72df-a771-4e49-9664-49193e3bb5a9 is started using port 42439 for RATIS
2021-11-04 10:29:26,209 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 671e72df-a771-4e49-9664-49193e3bb5a9 is started using port 42439 for RATIS_ADMIN
2021-11-04 10:29:26,209 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 671e72df-a771-4e49-9664-49193e3bb5a9 is started using port 42439 for RATIS_SERVER
2021-11-04 10:29:26,210 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 671e72df-a771-4e49-9664-49193e3bb5a9 is started using port 43611
2021-11-04 10:29:26,222 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1f52ae5b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-671e72df-a771-4e49-9664-49193e3bb5a9: Started
2021-11-04 10:29:26,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:29:26,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:26,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:26,604 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:26,604 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:26,605 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 44721
2021-11-04 10:29:26,629 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:26,659 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - abf54110-b118-445d-9ffa-0513a506dd37: start RPC server
2021-11-04 10:29:26,659 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - abf54110-b118-445d-9ffa-0513a506dd37: GrpcService started, listening on 46671
2021-11-04 10:29:26,660 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis abf54110-b118-445d-9ffa-0513a506dd37 is started using port 46671 for RATIS
2021-11-04 10:29:26,660 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis abf54110-b118-445d-9ffa-0513a506dd37 is started using port 46671 for RATIS_ADMIN
2021-11-04 10:29:26,660 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis abf54110-b118-445d-9ffa-0513a506dd37 is started using port 46671 for RATIS_SERVER
2021-11-04 10:29:26,661 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc abf54110-b118-445d-9ffa-0513a506dd37 is started using port 41391
2021-11-04 10:29:26,661 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@e973be4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-abf54110-b118-445d-9ffa-0513a506dd37: Started
2021-11-04 10:29:27,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:29:27,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:27,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:27,566 [IPC Server handler 14 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:27,566 [IPC Server handler 14 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:29:27,579 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:29:27,579 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:29:27,594 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:27,594 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec to datanode:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:27,594 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:29:27,596 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: cc5edeba-899f-4228-a6e4-eb7984a82aec, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:27.594Z[Etc/UTC]].
2021-11-04 10:29:27,654 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:27,655 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: close
2021-11-04 10:29:27,655 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: shutdown
2021-11-04 10:29:27,655 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:27,655 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState
2021-11-04 10:29:27,656 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:27,656 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:27,656 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-37895806F27C: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0
2021-11-04 10:29:27,657 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-37895806F27C: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:29:27,657 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:27,657 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:27,657 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C: closes. applyIndex: 0
2021-11-04 10:29:27,657 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:27,662 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-37895806F27C-SegmentedRaftLogWorker close()
2021-11-04 10:29:27,665 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: shutdown
2021-11-04 10:29:27,665 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8DDA909CD4E9,id=cf7b1b1f-a7a2-453d-9277-ba582b08dea9
2021-11-04 10:29:27,665 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-LeaderStateImpl
2021-11-04 10:29:27,665 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:27,666 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:27,666 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-8DDA909CD4E9: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9/sm/snapshot.1_0
2021-11-04 10:29:27,667 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-8DDA909CD4E9: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-1/data/ratis/5ef0aaf5-366c-4a80-a8d8-8dda909cd4e9/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:29:27,667 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:27,667 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:27,667 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9: closes. applyIndex: 0
2021-11-04 10:29:27,667 [cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:27,668 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9@group-8DDA909CD4E9-SegmentedRaftLogWorker close()
2021-11-04 10:29:27,671 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown server with port 33593 now
2021-11-04 10:29:27,672 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: installSnapshot onError, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->cf7b1b1f-a7a2-453d-9277-ba582b08dea9#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:29:27,672 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:29:27,673 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9(c0,m0,n1, attendVote=true, lastRpcSendTime=1825, lastRpcResponseTime=1817) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:27,684 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:27,685 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - cf7b1b1f-a7a2-453d-9277-ba582b08dea9: shutdown server with port 33593 successfully
2021-11-04 10:29:27,685 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: close
2021-11-04 10:29:27,685 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: shutdown
2021-11-04 10:29:27,685 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-390ECEBF9209,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:27,685 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-LeaderStateImpl
2021-11-04 10:29:27,685 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:27,686 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:27,686 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@e477ae5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-cf7b1b1f-a7a2-453d-9277-ba582b08dea9: Stopped
2021-11-04 10:29:27,686 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-390ECEBF9209: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209/sm/snapshot.1_0
2021-11-04 10:29:27,687 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-390ECEBF9209: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/5e298ab2-75a4-47e5-9f00-390ecebf9209/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:29:27,687 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:27,687 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:27,687 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209: closes. applyIndex: 0
2021-11-04 10:29:27,688 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:27,691 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-390ECEBF9209-SegmentedRaftLogWorker close()
2021-11-04 10:29:27,712 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: shutdown
2021-11-04 10:29:27,712 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=8c3aa67b-d006-4ad9-94aa-959dae79a988
2021-11-04 10:29:27,712 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState
2021-11-04 10:29:27,712 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:27,713 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:27,713 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-37895806F27C: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0
2021-11-04 10:29:27,714 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-37895806F27C: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-0/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:29:27,714 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:27,714 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:27,716 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C: closes. applyIndex: 0
2021-11-04 10:29:27,716 [8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:27,724 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988@group-37895806F27C-SegmentedRaftLogWorker close()
2021-11-04 10:29:27,730 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:27,731 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown server with port 44435 now
2021-11-04 10:29:27,733 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: installSnapshot onError, lastRequest: e8f45799-186c-4d22-9260-bc450be8fd6c->8c3aa67b-d006-4ad9-94aa-959dae79a988#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:29:27,733 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:29:27,733 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988(c0,m0,n1, attendVote=true, lastRpcSendTime=1847, lastRpcResponseTime=1837) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:27,733 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 8c3aa67b-d006-4ad9-94aa-959dae79a988: shutdown server with port 44435 successfully
2021-11-04 10:29:27,752 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6770e6b8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-8c3aa67b-d006-4ad9-94aa-959dae79a988: Stopped
2021-11-04 10:29:27,752 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:28,131 [IPC Server handler 1 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:28,131 [IPC Server handler 1 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:29:28,131 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:28,131 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c to datanode:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:28,156 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3ac1bc24-ba32-4650-8323-7e4c18b8537c, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:28.131Z[Etc/UTC]].
2021-11-04 10:29:28,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:29:28,388 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:28,389 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9(c0,m0,n1, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=2533) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:28,404 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:28,405 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988(c0,m0,n1, attendVote=true, lastRpcSendTime=1, lastRpcResponseTime=2508) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:28,537 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-11-04 10:29:28,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:28,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:28,594 [IPC Server handler 10 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:28,594 [IPC Server handler 10 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:29:28,595 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:28,595 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 to datanode:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:28,595 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3a0844c0-83e8-4394-bfd4-cd268df9df89, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:28.595Z[Etc/UTC]].
2021-11-04 10:29:28,644 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:29:28,644 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:29:28,644 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:29:28,645 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:29:28,645 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:29:28,645 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:29:28,645 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 to datanode:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:28,645 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 to datanode:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:28,645 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 to datanode:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:28,646 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b2ca1f1-053c-45e0-8df7-b4f4460509a2, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:29:28.645Z[Etc/UTC]].
2021-11-04 10:29:29,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:29,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:29,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:30,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:30,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:30,538 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:30,566 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: addNew group-EB7984A82AEC:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1] returns group-EB7984A82AEC:java.util.concurrent.CompletableFuture@6e272fe[Not completed]
2021-11-04 10:29:30,599 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: new RaftServerImpl for group-EB7984A82AEC:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:30,608 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis] (custom)
2021-11-04 10:29:30,609 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:30,609 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:30,609 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec does not exist. Creating ...
2021-11-04 10:29:30,616 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:30,617 [pool-680-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec has been successfully formatted.
2021-11-04 10:29:30,624 [pool-680-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EB7984A82AEC: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:30,624 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:30,624 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:30,627 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: cc5edeba-899f-4228-a6e4-eb7984a82aec, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:1528c4d2-af24-4f5c-9fbb-bf358b31659b, CreationTimestamp2021-11-04T10:29:27.594Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:30,627 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:30,627 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:30,627 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:30,628 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:30,630 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:30,630 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:30,631 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:30,669 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:30,669 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:30,669 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:30,671 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:30,688 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:30,690 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null
2021-11-04 10:29:30,690 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:30,690 [pool-680-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState
2021-11-04 10:29:30,693 [pool-680-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EB7984A82AEC,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:30,708 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec
2021-11-04 10:29:30,708 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec.
2021-11-04 10:29:30,723 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: addNew group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0] returns group-B4F4460509A2:java.util.concurrent.CompletableFuture@2ddf6fa[Not completed]
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: new RaftServerImpl for group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis] (custom)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:30,729 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 does not exist. Creating ...
2021-11-04 10:29:30,736 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:30,772 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 has been successfully formatted.
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B4F4460509A2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:30,781 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:30,782 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:30,783 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:30,784 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:30,786 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:30,795 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:30,795 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:30,795 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:30,795 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:30,797 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:30,808 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3d82a79e{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:30,809 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6a7388ce{HTTP/1.1, (http/1.1)}{0.0.0.0:34187}
2021-11-04 10:29:30,809 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:30,814 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6021aafb{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:30,815 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@32514194{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:30,836 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:29:30,836 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:30,836 [pool-680-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:30,852 [pool-680-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:30,862 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:30,868 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:29:30,888 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:30,889 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9(c0,m0,n1, attendVote=true, lastRpcSendTime=2503, lastRpcResponseTime=5033) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:30,912 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:30,913 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988(c0,m0,n1, attendVote=true, lastRpcSendTime=2509, lastRpcResponseTime=5016) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:30,924 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 671e72df-a771-4e49-9664-49193e3bb5a9: addNew group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] returns group-B4F4460509A2:java.util.concurrent.CompletableFuture@387be1ec[Not completed]
2021-11-04 10:29:30,931 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@41b704c8{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:30,932 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6a40a81f{HTTP/1.1, (http/1.1)}{0.0.0.0:38785}
2021-11-04 10:29:30,932 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:30,945 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7127fea9{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:30,948 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7e8d4eef{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:30,950 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 671e72df-a771-4e49-9664-49193e3bb5a9: new RaftServerImpl for group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:30,964 [pool-699-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:30,965 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis] (custom)
2021-11-04 10:29:30,965 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:30,965 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:30,965 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 does not exist. Creating ...
2021-11-04 10:29:30,981 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:30,981 [pool-699-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 has been successfully formatted.
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B4F4460509A2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:31,011 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:31,012 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:31,013 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:31,014 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:31,014 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,014 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:31,015 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:31,016 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:31,017 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:31,017 [pool-699-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:31,017 [pool-699-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:31,066 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:31,092 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - abf54110-b118-445d-9ffa-0513a506dd37: addNew group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] returns group-B4F4460509A2:java.util.concurrent.CompletableFuture@dcc2fdc[Not completed]
2021-11-04 10:29:31,093 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - abf54110-b118-445d-9ffa-0513a506dd37: new RaftServerImpl for group-B4F4460509A2:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:29:31,095 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:31,095 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:31,095 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:31,095 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:31,095 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis] (custom)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:31,096 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 does not exist. Creating ...
2021-11-04 10:29:31,097 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:31,104 [pool-718-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2 has been successfully formatted.
2021-11-04 10:29:31,109 [pool-718-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B4F4460509A2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:31,109 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:31,109 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:31,110 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:31,111 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:31,111 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:31,111 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:31,112 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:31,114 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:31,114 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:31,114 [pool-718-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:31,114 [pool-718-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:31,128 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 671e72df-a771-4e49-9664-49193e3bb5a9: addNew group-7E4C18B8537C:[671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1] returns group-7E4C18B8537C:java.util.concurrent.CompletableFuture@6a4865b0[Not completed]
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 671e72df-a771-4e49-9664-49193e3bb5a9: new RaftServerImpl for group-7E4C18B8537C:[671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: ConfigurationManager, init=-1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis] (custom)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:31,141 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c does not exist. Creating ...
2021-11-04 10:29:31,142 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:31,145 [pool-699-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c has been successfully formatted.
2021-11-04 10:29:31,145 [pool-699-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-7E4C18B8537C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:31,146 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:31,146 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:31,146 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:31,146 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:31,146 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 3ac1bc24-ba32-4650-8323-7e4c18b8537c, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.131Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:31,147 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:31,147 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:31,148 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:31,148 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:31,149 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:31,149 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:31,149 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,152 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:31,183 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:31,216 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2.
2021-11-04 10:29:31,230 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: start as a follower, conf=-1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null
2021-11-04 10:29:31,230 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:31,230 [pool-699-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState
2021-11-04 10:29:31,244 [pool-699-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7E4C18B8537C,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:31,248 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c
2021-11-04 10:29:31,248 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c.
2021-11-04 10:29:31,540 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:31,540 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:31,540 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:31,592 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - abf54110-b118-445d-9ffa-0513a506dd37: addNew group-CD268DF9DF89:[abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1] returns group-CD268DF9DF89:java.util.concurrent.CompletableFuture@132d1f2c[Not completed]
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - abf54110-b118-445d-9ffa-0513a506dd37: new RaftServerImpl for group-CD268DF9DF89:[abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:31,593 [pool-718-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: ConfigurationManager, init=-1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:31,594 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis] (custom)
2021-11-04 10:29:31,594 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:31,594 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:31,594 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89 does not exist. Creating ...
2021-11-04 10:29:31,595 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89 has been successfully formatted.
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CD268DF9DF89: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:31,596 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,597 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 3a0844c0-83e8-4394-bfd4-cd268df9df89, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:abf54110-b118-445d-9ffa-0513a506dd37, CreationTimestamp2021-11-04T10:29:28.595Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:31,597 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:31,597 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:31,597 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89
2021-11-04 10:29:31,597 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:31,598 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:31,598 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:31,599 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:31,599 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:31,599 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,599 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:31,605 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:31,606 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: start as a follower, conf=-1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null
2021-11-04 10:29:31,606 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:31,606 [pool-718-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState
2021-11-04 10:29:31,617 [pool-718-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD268DF9DF89,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:31,665 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89
2021-11-04 10:29:31,665 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89.
2021-11-04 10:29:31,783 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:32,104 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:32,546 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:32,546 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:32,546 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:32,656 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:33,101 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:33,390 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:33,391 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9(c0,m0,n1, attendVote=true, lastRpcSendTime=2501, lastRpcResponseTime=7535) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:33,419 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:33,420 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988-GrpcLogAppender: Leader has not got in touch with Follower e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->8c3aa67b-d006-4ad9-94aa-959dae79a988(c0,m0,n1, attendVote=true, lastRpcSendTime=2504, lastRpcResponseTime=7524) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:33,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:33,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:33,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:33,653 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:33,785 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:34,105 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:34,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:34,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:34,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:34,786 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:35,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:35,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:35,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:35,547 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:35,651 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:35,787 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:35,853 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:35,853 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - e8f45799-186c-4d22-9260-bc450be8fd6c: close
2021-11-04 10:29:35,861 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5171501676ns, electionTimeout:5168ms
2021-11-04 10:29:35,862 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState
2021-11-04 10:29:35,862 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:35,875 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: shutdown
2021-11-04 10:29:35,875 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-37895806F27C,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:35,875 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-LeaderStateImpl
2021-11-04 10:29:35,875 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:35,876 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:35,876 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:35,876 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59
2021-11-04 10:29:35,876 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-37895806F27C: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0
2021-11-04 10:29:35,877 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: shutdown
2021-11-04 10:29:35,877 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E7054F4C5B77,id=e8f45799-186c-4d22-9260-bc450be8fd6c
2021-11-04 10:29:35,890 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5053908461ns, electionTimeout:5038ms
2021-11-04 10:29:35,899 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:35,899 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:35,899 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:35,899 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60
2021-11-04 10:29:35,878 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-37895806F27C: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/b7abf078-ffde-4a3f-8fd2-37895806f27c/sm/snapshot.2_0 took: 2 ms
2021-11-04 10:29:35,900 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:35,900 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:35,900 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C: closes. applyIndex: 0
2021-11-04 10:29:35,900 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-LeaderStateImpl
2021-11-04 10:29:35,900 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:35,901 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-E7054F4C5B77: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77/sm/snapshot.1_0
2021-11-04 10:29:35,901 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:35,901 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(335)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender is stopped
2021-11-04 10:29:35,902 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59 ELECTION round 0: submit vote requests at term 1 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null
2021-11-04 10:29:35,902 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-E7054F4C5B77: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-9d1f2c8e-8381-440d-8774-3b0bbb2a76b2/datanode-2/data/ratis/783dc22e-8d45-466e-b0dc-e7054f4c5b77/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:29:35,902 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:35,902 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:35,902 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77: closes. applyIndex: 0
2021-11-04 10:29:35,902 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender-LogAppenderDaemon] ERROR leader.LogAppenderDaemon (LogAppenderDaemon.java:run(86)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C->cf7b1b1f-a7a2-453d-9277-ba582b08dea9-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalArgumentException: e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:107)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:339)
	at org.apache.ratis.server.raftlog.RaftLog.getNextIndex(RaftLog.java:83)
	at org.apache.ratis.server.leader.LogAppender.hasAppendEntries(LogAppender.java:159)
	at org.apache.ratis.server.leader.LogAppender.shouldSendAppendEntries(LogAppender.java:154)
	at org.apache.ratis.grpc.server.GrpcLogAppender.shouldSendAppendEntries(GrpcLogAppender.java:191)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getWaitTimeMs(GrpcLogAppender.java:159)
	at org.apache.ratis.grpc.server.GrpcLogAppender.mayWait(GrpcLogAppender.java:167)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:127)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:356)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:505)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:421)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$4(RaftServerImpl.java:434)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:129)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:117)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.concurrent.ConcurrentHashMap$EntrySpliterator.forEachRemaining(ConcurrentHashMap.java:3606)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:117)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$close$6(RaftServerProxy.java:392)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerProxy.close(RaftServerProxy.java:390)
	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.stop(XceiverServerRatis.java:516)
	at org.apache.hadoop.ozone.container.ozoneimpl.OzoneContainer.stop(OzoneContainer.java:328)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.close(DatanodeStateMachine.java:380)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.stopDaemon(DatanodeStateMachine.java:525)
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:587)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:535)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.pollAndExecCC(ForkJoinPool.java:1190)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1879)
	at java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)
	at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:405)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:529)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stop(MiniOzoneClusterImpl.java:470)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.shutdown(MiniOzoneClusterImpl.java:457)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$reapClusters$0(MiniOzoneClusterProvider.java:202)
	... 1 more
2021-11-04 10:29:35,909 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:35,909 [e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:35,902 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:35,911 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-37895806F27C-SegmentedRaftLogWorker close()
2021-11-04 10:29:35,927 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EB7984A82AEC with new leaderId: 1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: change Leader from null to 1528c4d2-af24-4f5c-9fbb-bf358b31659b at term 1 for becomeLeader, leader elected after 5303ms
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:35,928 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:35,929 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:35,929 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:35,929 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderStateImpl
2021-11-04 10:29:35,929 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:35,957 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:35,957 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec/current/log_inprogress_0
2021-11-04 10:29:35,957 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:1], old=null
2021-11-04 10:29:35,958 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e8f45799-186c-4d22-9260-bc450be8fd6c@group-E7054F4C5B77-SegmentedRaftLogWorker close()
2021-11-04 10:29:35,961 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown server with port 33605 now
2021-11-04 10:29:35,965 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60 ELECTION round 0: submit vote requests at term 1 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:29:36,031 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - e8f45799-186c-4d22-9260-bc450be8fd6c: shutdown server with port 33605 successfully
2021-11-04 10:29:36,031 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@7191f82c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-e8f45799-186c-4d22-9260-bc450be8fd6c: Stopped
2021-11-04 10:29:36,040 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: receive requestVote(ELECTION, 1528c4d2-af24-4f5c-9fbb-bf358b31659b, group-B4F4460509A2, 1, (t:0, i:0))
2021-11-04 10:29:36,040 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FOLLOWER: reject ELECTION from 1528c4d2-af24-4f5c-9fbb-bf358b31659b: our priority 1 > candidate's priority 0
2021-11-04 10:29:36,041 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:36,041 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:36,041 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:36,041 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:36,049 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2 replies to ELECTION vote request: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t1. Peer's state: 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2:t1, leader=null, voted=null, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:36,053 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:36,053 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t1
2021-11-04 10:29:36,054 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60 ELECTION round 0: result REJECTED
2021-11-04 10:29:36,054 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:29:36,054 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60
2021-11-04 10:29:36,054 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:36,072 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:36,093 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: receive requestVote(ELECTION, 1528c4d2-af24-4f5c-9fbb-bf358b31659b, group-B4F4460509A2, 1, (t:0, i:0))
2021-11-04 10:29:36,093 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FOLLOWER: accept ELECTION from 1528c4d2-af24-4f5c-9fbb-bf358b31659b: our priority 0 <= candidate's priority 0
2021-11-04 10:29:36,093 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:36,093 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:36,093 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:36,093 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:36,094 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:36,105 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: close
2021-11-04 10:29:36,105 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: shutdown
2021-11-04 10:29:36,105 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59D7CCB0A710,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:36,105 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderStateImpl
2021-11-04 10:29:36,106 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:36,106 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:36,107 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-59D7CCB0A710: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/sm/snapshot.1_0
2021-11-04 10:29:36,107 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-59D7CCB0A710: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:29:36,107 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:36,107 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:36,108 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2 replies to ELECTION vote request: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-abf54110-b118-445d-9ffa-0513a506dd37#0:OK-t1. Peer's state: abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2:t1, leader=null, voted=1528c4d2-af24-4f5c-9fbb-bf358b31659b, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:36,109 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: closes. applyIndex: 0
2021-11-04 10:29:36,109 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:36,109 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker close()
2021-11-04 10:29:36,137 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: shutdown
2021-11-04 10:29:36,137 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:36,137 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:36,137 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 6
2021-11-04 10:29:36,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:36,137 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:8, i:6) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6
2021-11-04 10:29:36,139 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:8, i:6) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6 took: 1 ms
2021-11-04 10:29:36,139 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 6
2021-11-04 10:29:36,139 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-11-04 10:29:36,139 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: closes. applyIndex: 6
2021-11-04 10:29:36,140 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:36,148 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:29:36,150 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown server with port 46133 now
2021-11-04 10:29:36,156 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:29:36,156 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: installSnapshot onError, lastRequest: 17000f6a-7be3-454d-a73d-93c4d36d04d2->972d567e-6cad-4d89-81ac-1eb9b77d1b68#67-t8,previous=(t:8, i:5),leaderCommit=4,initializing? true,entries: size=1, first=(t:8, i:6), METADATAENTRY(c:4): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:29:36,156 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:36,178 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown server with port 46133 successfully
2021-11-04 10:29:36,179 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@2b79c460] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-972d567e-6cad-4d89-81ac-1eb9b77d1b68: Stopped
2021-11-04 10:29:36,179 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:36,193 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:36,193 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:36,410 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5179590165ns, electionTimeout:5164ms
2021-11-04 10:29:36,410 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState
2021-11-04 10:29:36,410 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:36,410 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:36,410 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61 ELECTION round 0: submit vote requests at term 1 for -1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-7E4C18B8537C with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 1 for becomeLeader, leader elected after 5309ms
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:36,455 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderStateImpl
2021-11-04 10:29:36,456 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:36,461 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c/current/log_inprogress_0
2021-11-04 10:29:36,466 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:36,467 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: set configuration 0: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1], old=null
2021-11-04 10:29:36,548 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:36,548 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:36,548 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:36,784 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5177897840ns, electionTimeout:5167ms
2021-11-04 10:29:36,785 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState
2021-11-04 10:29:36,785 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:29:36,785 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:36,785 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62
2021-11-04 10:29:36,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62 ELECTION round 0: submit vote requests at term 1 for -1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null
2021-11-04 10:29:36,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:29:36,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62
2021-11-04 10:29:36,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:29:36,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CD268DF9DF89 with new leaderId: abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:29:36,795 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: change Leader from null to abf54110-b118-445d-9ffa-0513a506dd37 at term 1 for becomeLeader, leader elected after 5198ms
2021-11-04 10:29:36,795 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:36,795 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:36,795 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:36,795 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:36,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderStateImpl
2021-11-04 10:29:36,797 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:36,798 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89/current/log_inprogress_0
2021-11-04 10:29:36,804 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: set configuration 0: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:1], old=null
2021-11-04 10:29:37,295 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:37,447 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:37,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:37,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:37,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:38,300 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:38,459 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:38,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:38,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:38,551 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:38,686 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:38,686 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:38,947 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:39,080 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:39,084 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5017469b{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:39,085 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6c4b76cd{HTTP/1.1, (http/1.1)}{0.0.0.0:33289}
2021-11-04 10:29:39,085 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:39,089 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@340d2cd3{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:39,093 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6ac421df{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:29:39,110 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:29:39,122 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45979
2021-11-04 10:29:39,128 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:39,128 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:39,274 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:39,282 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6c40f2a5{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:39,282 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@69644e99{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:39,283 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:39,312 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@732d2eed{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:39,316 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3ab95757{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:39,325 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:29:39,326 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:29:39,326 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:29:39,329 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43541
2021-11-04 10:29:39,343 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:39,343 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:39,343 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:39,360 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:29:39,360 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:29:39,360 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:39,360 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:39,364 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 36977
2021-11-04 10:29:39,368 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:39,368 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:29:39,369 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:39,417 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:39,439 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4f1d0ab3{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:29:39,449 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7725f03c{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:39,449 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:39,449 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@845e58e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:29:39,449 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4d817cf5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:39,452 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:29:39,452 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:29:39,456 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:29:39,456 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:29:39,486 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:29:39,487 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:29:39,487 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:29:39,487 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:29:39,489 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:29:39,491 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-11-04 10:29:39,492 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:39,500 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:39,552 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:39,552 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:39,552 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:39,705 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 200 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:39,708 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:39,708 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:39,708 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:39,708 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:39,708 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:39,710 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:39,710 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:39,710 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:29:39,718 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:29:39,732 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis to VolumeSet
2021-11-04 10:29:39,733 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis
2021-11-04 10:29:39,733 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis
2021-11-04 10:29:39,765 [Thread-1718] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:29:39,805 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:39,846 [Thread-1718] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds
2021-11-04 10:29:39,846 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:39,848 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:39,848 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:39,848 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 46133 (custom)
2021-11-04 10:29:39,848 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 46133 (custom)
2021-11-04 10:29:39,849 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 46133 (custom)
2021-11-04 10:29:39,849 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:39,849 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:39,849 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:39,849 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:39,850 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:39,850 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:39,855 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:39,855 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:29:39,855 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710
2021-11-04 10:29:39,856 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-59D7CCB0A710:[] returns group-59D7CCB0A710:java.util.concurrent.CompletableFuture@43028351[Not completed]
2021-11-04 10:29:39,856 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:39,856 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-A4AF9724CB48:[] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@31ff7b59[Not completed]
2021-11-04 10:29:39,877 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-59D7CCB0A710:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:39,886 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:39,887 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:42457
2021-11-04 10:29:39,887 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:39,888 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:39,888 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:39,889 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:39,890 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:39,890 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:39,890 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:39,890 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:39,890 [pool-750-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=972d567e-6cad-4d89-81ac-1eb9b77d1b68} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/raft-meta
2021-11-04 10:29:39,892 [pool-750-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-59D7CCB0A710: Setting the last applied index to (t:1, i:0)
2021-11-04 10:29:39,892 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: set configuration 0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:29:39,892 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:39,892 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:39,892 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:39,893 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:39,894 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:39,895 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:39,902 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42457
2021-11-04 10:29:39,903 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:39,903 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: set configuration 0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:29:39,908 [pool-750-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/log_inprogress_0
2021-11-04 10:29:39,908 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:29:39,908 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:39,927 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:39,928 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:39,928 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:29:39,928 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4b885b14{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:39,929 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7db89d15{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:39,964 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:39,964 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:39,964 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:39,964 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:39,964 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:39,965 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:39,966 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-A4AF9724CB48:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:39,967 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:39,969 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:39,981 [pool-750-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=8, votedFor=17000f6a-7be3-454d-a73d-93c4d36d04d2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/raft-meta
2021-11-04 10:29:39,989 [pool-750-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-A4AF9724CB48: Setting the last applied index to (t:8, i:6)
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:40,004 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:40,005 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:40,006 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:40,007 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:40,008 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:40,008 [pool-750-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:40,009 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 6
2021-11-04 10:29:40,009 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:40,028 [pool-750-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog: commitIndex: updateToMax old=6, new=4, updated? false
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:40,029 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:40,076 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3e8d4573{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42457-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6808738109243848410/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:40,088 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3ce12b38{HTTP/1.1, (http/1.1)}{0.0.0.0:42457}
2021-11-04 10:29:40,088 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @137766ms
2021-11-04 10:29:40,088 [Time-limited test] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:start(281)) - HttpServer failed to start.
java.lang.NullPointerException: config
	at org.apache.hadoop.thirdparty.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:899)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.registerSink(MetricsSystemImpl.java:298)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.register(MetricsSystemImpl.java:277)
	at org.apache.hadoop.hdds.server.http.BaseHttpServer.start(BaseHttpServer.java:300)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:279)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:207)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.restartHddsDatanode(MiniOzoneClusterImpl.java:423)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.restartHddsDatanode(MiniOzoneClusterImpl.java:433)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.injectDataNodeFailureDuringSCMUpgrade(TestHDDSUpgrade.java:549)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.lambda$testAllDataNodeFailuresBeforeScmPreFinalizeUpgrade$8(TestHDDSUpgrade.java:765)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:123)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:74)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testAllDataNodeFailuresBeforeScmPreFinalizeUpgrade(TestHDDSUpgrade.java:767)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:40,099 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:40,099 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:40,100 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:40,100 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:40,151 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@321d6299] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:40,456 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:40,461 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:40,552 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:40,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:40,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:41,069 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5015412122ns, electionTimeout:5012ms
2021-11-04 10:29:41,069 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,069 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:29:41,069 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:41,069 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63
2021-11-04 10:29:41,089 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63 ELECTION round 0: submit vote requests at term 2 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:29:41,095 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: receive requestVote(ELECTION, 1528c4d2-af24-4f5c-9fbb-bf358b31659b, group-B4F4460509A2, 2, (t:0, i:0))
2021-11-04 10:29:41,109 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FOLLOWER: reject ELECTION from 1528c4d2-af24-4f5c-9fbb-bf358b31659b: our priority 1 > candidate's priority 0
2021-11-04 10:29:41,109 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:41,109 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,109 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,112 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:41,117 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: receive requestVote(ELECTION, 1528c4d2-af24-4f5c-9fbb-bf358b31659b, group-B4F4460509A2, 2, (t:0, i:0))
2021-11-04 10:29:41,123 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FOLLOWER: accept ELECTION from 1528c4d2-af24-4f5c-9fbb-bf358b31659b: our priority 0 <= candidate's priority 0
2021-11-04 10:29:41,123 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:29:41,123 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,123 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:41,125 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2 replies to ELECTION vote request: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-abf54110-b118-445d-9ffa-0513a506dd37#0:OK-t2. Peer's state: abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2:t2, leader=null, voted=1528c4d2-af24-4f5c-9fbb-bf358b31659b, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:41,135 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2 replies to ELECTION vote request: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t2. Peer's state: 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2:t2, leader=null, voted=null, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t2
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 1528c4d2-af24-4f5c-9fbb-bf358b31659b<-abf54110-b118-445d-9ffa-0513a506dd37#0:OK-t2
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63 ELECTION round 0: result REJECTED
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63
2021-11-04 10:29:41,146 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:41,186 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:41,187 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:41,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:41,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:41,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:41,805 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:41,948 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:42,165 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:42,165 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:42,165 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 42441
2021-11-04 10:29:42,165 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:42,214 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: start as a follower, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:42,214 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 8 for startAsFollower
2021-11-04 10:29:42,214 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:42,214 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: start as a follower, conf=0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:29:42,214 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:29:42,217 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:42,243 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState
2021-11-04 10:29:42,251 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59D7CCB0A710,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:42,252 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start RPC server
2021-11-04 10:29:42,253 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: GrpcService started, listening on 46133
2021-11-04 10:29:42,253 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS
2021-11-04 10:29:42,253 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS_ADMIN
2021-11-04 10:29:42,253 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 972d567e-6cad-4d89-81ac-1eb9b77d1b68 is started using port 46133 for RATIS_SERVER
2021-11-04 10:29:42,254 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@78672271] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-972d567e-6cad-4d89-81ac-1eb9b77d1b68: Started
2021-11-04 10:29:42,459 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:42,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:42,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:42,553 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:43,307 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:43,460 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:43,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:43,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:43,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:43,687 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:43,688 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:43,952 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:44,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:44,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:44,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:44,949 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:45,103 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:45,103 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: close
2021-11-04 10:29:45,103 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: shutdown
2021-11-04 10:29:45,104 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C6F894ED6119,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:45,104 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderStateImpl
2021-11-04 10:29:45,104 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:45,104 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: shutdown
2021-11-04 10:29:45,104 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:45,104 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:45,104 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 6
2021-11-04 10:29:45,105 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:45,105 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C6F894ED6119: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/sm/snapshot.1_0
2021-11-04 10:29:45,105 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:45,106 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:8, i:6) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6
2021-11-04 10:29:45,106 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C6F894ED6119: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:29:45,106 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:45,106 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:45,106 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: closes. applyIndex: 0
2021-11-04 10:29:45,106 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:45,107 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker close()
2021-11-04 10:29:45,110 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:8, i:6) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6 took: 4 ms
2021-11-04 10:29:45,110 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 6
2021-11-04 10:29:45,110 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-11-04 10:29:45,110 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: closes. applyIndex: 6
2021-11-04 10:29:45,112 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:45,130 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:29:45,134 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown server with port 39169 now
2021-11-04 10:29:45,138 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:29:45,138 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:45,138 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown server with port 39169 successfully
2021-11-04 10:29:45,140 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: installSnapshot onError, lastRequest: 17000f6a-7be3-454d-a73d-93c4d36d04d2->846193e6-4976-43ef-8cfc-af101cd55fb8#63-t8,previous=(t:8, i:5),leaderCommit=4,initializing? true,entries: size=1, first=(t:8, i:6), METADATAENTRY(c:4): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:29:45,143 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:45,144 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:45,146 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@31e96f9a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-846193e6-4976-43ef-8cfc-af101cd55fb8: Stopped
2021-11-04 10:29:45,147 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:45,309 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:45,463 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:29:45,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:45,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:29:45,554 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:46,201 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:46,201 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 8 for appendEntries, leader elected after 6196ms
2021-11-04 10:29:46,202 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5093125180ns, electionTimeout:5057ms
2021-11-04 10:29:46,202 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState
2021-11-04 10:29:46,202 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:29:46,214 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: Failed appendEntries: the first entry (index 6) is already in snapshot (snapshot index: 6)
2021-11-04 10:29:46,214 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: inconsistency entries. Reply:17000f6a-7be3-454d-a73d-93c4d36d04d2<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#813:FAIL-t8,INCONSISTENCY,nextIndex=7,followerCommit=6
2021-11-04 10:29:46,215 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:46,215 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64
2021-11-04 10:29:46,215 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 7
2021-11-04 10:29:46,275 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64 ELECTION round 0: submit vote requests at term 3 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:46,290 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: receive requestVote(ELECTION, 671e72df-a771-4e49-9664-49193e3bb5a9, group-B4F4460509A2, 3, (t:0, i:0))
2021-11-04 10:29:46,290 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FOLLOWER: accept ELECTION from 671e72df-a771-4e49-9664-49193e3bb5a9: our priority 0 <= candidate's priority 1
2021-11-04 10:29:46,290 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:46,290 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:46,290 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:29:46,290 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:46,293 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2 replies to ELECTION vote request: 671e72df-a771-4e49-9664-49193e3bb5a9<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:OK-t3. Peer's state: 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2:t3, leader=null, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 671e72df-a771-4e49-9664-49193e3bb5a9<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:OK-t3
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64 ELECTION round 0: result PASSED
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B4F4460509A2 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 3 for becomeLeader, leader elected after 15285ms
2021-11-04 10:29:46,296 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: receive requestVote(ELECTION, 671e72df-a771-4e49-9664-49193e3bb5a9, group-B4F4460509A2, 3, (t:0, i:0))
2021-11-04 10:29:46,296 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FOLLOWER: accept ELECTION from 671e72df-a771-4e49-9664-49193e3bb5a9: our priority 0 <= candidate's priority 1
2021-11-04 10:29:46,296 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:46,296 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:46,297 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:29:46,296 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:46,297 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:46,301 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 4b2ca1f1-053c-45e0-8df7-b4f4460509a2, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.645Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:29:46,301 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:29:46,308 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2 replies to ELECTION vote request: 671e72df-a771-4e49-9664-49193e3bb5a9<-abf54110-b118-445d-9ffa-0513a506dd37#0:OK-t3. Peer's state: abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2:t3, leader=null, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:46,338 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:46,339 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:46,339 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:46,339 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:46,339 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:46,340 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:46,341 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderStateImpl
2021-11-04 10:29:46,341 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:46,348 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/current/log_inprogress_0
2021-11-04 10:29:46,354 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B4F4460509A2 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:46,354 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 3 for appendEntries, leader elected after 15244ms
2021-11-04 10:29:46,363 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:46,372 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:46,373 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:46,376 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/current/log_inprogress_0
2021-11-04 10:29:46,388 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B4F4460509A2 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:29:46,388 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 3 for appendEntries, leader elected after 15607ms
2021-11-04 10:29:46,415 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:29:46,416 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:29:46,421 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/current/log_inprogress_0
2021-11-04 10:29:46,555 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:46,555 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:29:46,555 [Listener at 127.0.0.1/33049] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:46,556 [Listener at 127.0.0.1/33049] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:46,557 [Listener at 127.0.0.1/33049] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:29:46,558 [Listener at 127.0.0.1/33049] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:29:46,558 [Listener at 127.0.0.1/33049] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:46,558 [Listener at 127.0.0.1/33049] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:46,626 [Listener at 127.0.0.1/33049] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 66 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:46,628 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:46,628 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:46,628 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:46,629 [Listener at 127.0.0.1/33049] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:46,629 [Listener at 127.0.0.1/33049] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:46,630 [Listener at 127.0.0.1/33049] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:46,825 [Listener at 127.0.0.1/33049] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:29:46,828 [Listener at 127.0.0.1/33049] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-11-04 10:29:46,830 [Listener at 127.0.0.1/33049] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:29:46,831 [Listener at 127.0.0.1/33049] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:29:46,832 [Listener at 127.0.0.1/33049] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:29:46,832 [Listener at 127.0.0.1/33049] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:29:46,833 [Listener at 127.0.0.1/33049] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:29:46,833 [Listener at 127.0.0.1/33049] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:29:46,833 [Listener at 127.0.0.1/33049] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-11-04 10:29:46,833 [Listener at 127.0.0.1/33049] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:29:46,833 [Listener at 127.0.0.1/33049] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:29:46,834 [Listener at 127.0.0.1/33049] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:46,834 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:46,835 [Listener at 0.0.0.0/32877] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:46,835 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:46,836 [Listener at 0.0.0.0/46351] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:46,853 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:46,855 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-11-04 10:29:46,917 [Listener at 0.0.0.0/37939] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:46,918 [Listener at 0.0.0.0/37939] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:37939
2021-11-04 10:29:46,920 [Listener at 0.0.0.0/37939] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:29:46,938 [Listener at 0.0.0.0/37939] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:29:46,938 [Listener at 0.0.0.0/37939] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:29:46,964 [Listener at 0.0.0.0/37939] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:29:46,964 [Listener at 0.0.0.0/37939] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:29:47,049 [Listener at 0.0.0.0/37939] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:37939
2021-11-04 10:29:47,053 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:47,063 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:47,118 [Listener at 0.0.0.0/37939] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46351
2021-11-04 10:29:47,118 [Listener at 0.0.0.0/37939] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:46351
2021-11-04 10:29:47,119 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:47,119 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:47,120 [Listener at 0.0.0.0/37939] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:32877
2021-11-04 10:29:47,120 [Listener at 0.0.0.0/37939] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:32877
2021-11-04 10:29:47,139 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:47,148 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:47,203 [Listener at 0.0.0.0/37939] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-11-04 10:29:47,203 [Listener at 0.0.0.0/37939] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:47,204 [Listener at 0.0.0.0/37939] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:47,205 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2729df78] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:47,209 [Listener at 0.0.0.0/37939] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:47,209 [Listener at 0.0.0.0/37939] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:47,210 [Listener at 0.0.0.0/37939] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:29:47,210 [Listener at 0.0.0.0/37939] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:47,210 [Listener at 0.0.0.0/37939] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:47,210 [Listener at 0.0.0.0/37939] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 34781
2021-11-04 10:29:47,210 [Listener at 0.0.0.0/37939] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:47,230 [Listener at 0.0.0.0/37939] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:47,231 [Listener at 0.0.0.0/37939] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:47,231 [Listener at 0.0.0.0/37939] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:47,231 [Listener at 0.0.0.0/37939] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@471ad198{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:47,232 [Listener at 0.0.0.0/37939] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2f13e6a7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:29:47,234 [Listener at 0.0.0.0/37939] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2bd80db7{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:29:47,259 [Listener at 0.0.0.0/37939] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1125d2f3{HTTP/1.1, (http/1.1)}{0.0.0.0:34781}
2021-11-04 10:29:47,259 [Listener at 0.0.0.0/37939] INFO  server.Server (Server.java:doStart(415)) - Started @144937ms
2021-11-04 10:29:47,259 [Listener at 0.0.0.0/37939] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:47,260 [Listener at 0.0.0.0/37939] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:34781
2021-11-04 10:29:47,260 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:47,264 [Listener at 0.0.0.0/37939] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-11-04 10:29:47,264 [Listener at 0.0.0.0/37939] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-11-04 10:29:47,264 [Listener at 0.0.0.0/37939] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-11-04 10:29:47,264 [Listener at 0.0.0.0/37939] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-11-04 10:29:47,264 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:47,265 [Listener at 0.0.0.0/37939] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-11-04 10:29:47,323 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5080275210ns, electionTimeout:5071ms
2021-11-04 10:29:47,323 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState
2021-11-04 10:29:47,323 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:29:47,324 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:47,324 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65
2021-11-04 10:29:47,332 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65 ELECTION round 0: submit vote requests at term 2 for 0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:29:47,332 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65 ELECTION round 0: result PASSED (term=2)
2021-11-04 10:29:47,332 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65
2021-11-04 10:29:47,333 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:29:47,333 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-59D7CCB0A710 with new leaderId: 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: change Leader from null to 972d567e-6cad-4d89-81ac-1eb9b77d1b68 at term 2 for becomeLeader, leader elected after 7440ms
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:47,334 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:47,335 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:47,335 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:47,335 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:47,335 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderStateImpl
2021-11-04 10:29:47,335 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-11-04 10:29:47,337 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/log_0-0
2021-11-04 10:29:47,365 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/current/log_inprogress_1
2021-11-04 10:29:47,378 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: set configuration 1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:29:47,436 [Listener at 0.0.0.0/37939] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 171 ms to scan 2 urls, producing 131 keys and 344 values [using 2 cores]
2021-11-04 10:29:47,437 [Listener at 0.0.0.0/37939] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-11-04 10:29:47,437 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:47,524 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:29:47,525 [Listener at 0.0.0.0/37939] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-11-04 10:29:47,525 [Listener at 0.0.0.0/37939] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-11-04 10:29:47,643 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:47,643 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:47,813 [Listener at 0.0.0.0/37939] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3456)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-11-04 10:29:47,813 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:29:47,814 [Listener at 0.0.0.0/37939] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-11-04 10:29:47,814 [Listener at 0.0.0.0/37939] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:47,814 [Listener at 0.0.0.0/37939] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:47,814 [Listener at 0.0.0.0/37939] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-11-04 10:29:47,815 [Listener at 0.0.0.0/37939] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:45485
2021-11-04 10:29:47,815 [Listener at 0.0.0.0/37939] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45485 (custom)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45485 (custom)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45485 (custom)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-11-04 10:29:47,816 [Listener at 0.0.0.0/37939] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-11-04 10:29:47,817 [Listener at 0.0.0.0/37939] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:47,817 [Listener at 0.0.0.0/37939] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:29:47,817 [Listener at 0.0.0.0/37939] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:47,818 [Listener at 0.0.0.0/37939] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis] (custom)
2021-11-04 10:29:47,818 [Listener at 0.0.0.0/37939] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:45485|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@127597bd[Not completed]
2021-11-04 10:29:47,818 [Listener at 0.0.0.0/37939] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1638)) - OzoneManager Ratis server initialized at port 45485
2021-11-04 10:29:47,819 [Listener at 0.0.0.0/37939] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:29:47,819 [pool-796-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:45485|priority:0] with OzoneManagerStateMachine:uninitialized
2021-11-04 10:29:47,820 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:45485|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis] (custom)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:47,822 [pool-796-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-11-04 10:29:47,824 [pool-796-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:47,824 [pool-796-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-11-04 10:29:47,825 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-11-04 10:29:47,825 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:47,825 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:47,826 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:47,826 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-3d0b85f1-c11c-479f-80a3-481dff9204a2/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:47,827 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:47,834 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-11-04 10:29:47,835 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-11-04 10:29:47,835 [pool-796-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:47,835 [pool-796-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-11-04 10:29:47,841 [pool-796-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:47,892 [Listener at 127.0.0.1/40499] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(3662)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-11-04 10:29:47,900 [Listener at 127.0.0.1/40499] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-11-04 10:29:47,935 [Listener at 127.0.0.1/40499] INFO  om.OzoneManager (OzoneManager.java:start(1322)) - OzoneManager RPC server is listening at localhost/127.0.0.1:40499
2021-11-04 10:29:47,953 [Listener at 127.0.0.1/40499] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(522)) - Starting OzoneManagerRatisServer om1 at port 45485
2021-11-04 10:29:47,954 [Listener at 127.0.0.1/40499] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:45485|priority:0], old=null
2021-11-04 10:29:47,954 [Listener at 127.0.0.1/40499] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:29:47,954 [Listener at 127.0.0.1/40499] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-11-04 10:29:47,973 [Listener at 127.0.0.1/40499] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:29:47,978 [Listener at 127.0.0.1/40499] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-11-04 10:29:47,979 [Listener at 127.0.0.1/40499] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 45485
2021-11-04 10:29:48,003 [Listener at 127.0.0.1/40499] INFO  om.OzoneManager (OzoneManager.java:start(1340)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-11-04 10:29:48,004 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@5e722834] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-11-04 10:29:48,019 [Listener at 127.0.0.1/40499] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-11-04 10:29:48,019 [Listener at 127.0.0.1/40499] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:48,020 [Listener at 127.0.0.1/40499] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:48,025 [Listener at 127.0.0.1/40499] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:48,025 [Listener at 127.0.0.1/40499] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:48,026 [Listener at 127.0.0.1/40499] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-11-04 10:29:48,026 [Listener at 127.0.0.1/40499] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:48,026 [Listener at 127.0.0.1/40499] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:48,026 [Listener at 127.0.0.1/40499] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39035
2021-11-04 10:29:48,026 [Listener at 127.0.0.1/40499] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:48,061 [Listener at 127.0.0.1/40499] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:48,061 [Listener at 127.0.0.1/40499] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:48,061 [Listener at 127.0.0.1/40499] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:48,062 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@375febbf{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:48,062 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4280d727{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:29:48,064 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2c221157{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:29:48,066 [Listener at 127.0.0.1/40499] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@534bd2a4{HTTP/1.1, (http/1.1)}{0.0.0.0:39035}
2021-11-04 10:29:48,066 [Listener at 127.0.0.1/40499] INFO  server.Server (Server.java:doStart(415)) - Started @145745ms
2021-11-04 10:29:48,067 [Listener at 127.0.0.1/40499] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:48,067 [Listener at 127.0.0.1/40499] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:39035
2021-11-04 10:29:48,070 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:29:48,077 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-11-04 10:29:48,120 [Listener at 127.0.0.1/40499] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1596)) - Trash Interval set to 0. Files deleted will not move to trash
2021-11-04 10:29:48,161 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@13b02458] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:48,169 [Listener at 127.0.0.1/40499] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:48,170 [Listener at 127.0.0.1/40499] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:48,170 [Listener at 127.0.0.1/40499] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:48,176 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:48,181 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6df75208{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:48,187 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4a9abf6b{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:48,187 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:48,189 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@51eca71c{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:48,195 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@41517a18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:48,210 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:48,210 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:48,210 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-11-04 10:29:48,254 [Listener at 127.0.0.1/40499] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:48,314 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:48,365 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:48,369 [Listener at 127.0.0.1/40499] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:48,428 [Listener at 127.0.0.1/40499] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:29:48,428 [Listener at 127.0.0.1/40499] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:29:48,428 [Listener at 127.0.0.1/40499] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40499
2021-11-04 10:29:48,429 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:48,430 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:48,430 [Listener at 127.0.0.1/40499] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:29:48,431 [Listener at 127.0.0.1/40499] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:29:48,431 [Listener at 127.0.0.1/40499] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-11-04 10:29:48,431 [Listener at 127.0.0.1/40499] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-11-04 10:29:48,431 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - om1@group-C5BA1605619E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:48,431 [Listener at 127.0.0.1/40499] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = -1
2021-11-04 10:29:48,431 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:29:48,460 [Listener at 127.0.0.1/40499] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: -1
2021-11-04 10:29:48,460 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:48,460 [Listener at 127.0.0.1/40499] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:29:48,472 [Listener at 127.0.0.1/40499] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 45485 now
2021-11-04 10:29:48,473 [Listener at 127.0.0.1/40499] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 45485 successfully
2021-11-04 10:29:48,473 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@5e722834] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:29:48,473 [Listener at 127.0.0.1/40499] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:29:48,473 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:29:48,473 [Listener at 127.0.0.1/40499] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:29:48,473 [Listener at 127.0.0.1/40499] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:29:48,474 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2c221157{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:29:48,474 [Listener at 127.0.0.1/40499] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@534bd2a4{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:48,474 [Listener at 127.0.0.1/40499] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:48,475 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4280d727{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:29:48,475 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@375febbf{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:48,491 [Listener at 127.0.0.1/40499] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:29:48,491 [Listener at 127.0.0.1/40499] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:stop(601)) - Datanode CRL store stop failed
java.lang.NullPointerException
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:599)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:535)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:529)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.access$300(MiniOzoneClusterImpl.java:108)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:622)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:48,491 [Listener at 127.0.0.1/40499] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:stop(601)) - Datanode CRL store stop failed
java.lang.NullPointerException
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:599)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:535)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1870)
	at java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)
	at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:405)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:529)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.access$300(MiniOzoneClusterImpl.java:108)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:622)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:29:48,492 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:29:48,493 [Listener at 127.0.0.1/40499] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:29:48,493 [Listener at 127.0.0.1/40499] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 32877
2021-11-04 10:29:48,493 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:48,523 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:48,581 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 213 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:48,585 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:48,585 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:48,585 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:48,585 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:48,585 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:48,596 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:48,597 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:48,597 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:29:48,614 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:29:48,632 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis to VolumeSet
2021-11-04 10:29:48,632 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis
2021-11-04 10:29:48,633 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis
2021-11-04 10:29:48,649 [Thread-1886] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:29:48,696 [Thread-1886] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds
2021-11-04 10:29:48,701 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:48,703 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:48,703 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:48,703 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 39169 (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 39169 (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 39169 (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:48,703 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:48,713 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:48,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:48,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:48,719 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:29:48,719 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119
2021-11-04 10:29:48,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-C6F894ED6119:[] returns group-C6F894ED6119:java.util.concurrent.CompletableFuture@78dc50ee[Not completed]
2021-11-04 10:29:48,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:48,730 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-A4AF9724CB48:[] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@5bed5ba6[Not completed]
2021-11-04 10:29:48,733 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-C6F894ED6119:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:48,781 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:48,782 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:48,783 [pool-818-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=846193e6-4976-43ef-8cfc-af101cd55fb8} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/raft-meta
2021-11-04 10:29:48,831 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:29:48,831 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:29:48,831 [Listener at 127.0.0.1/40499] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:29:48,831 [Listener at 127.0.0.1/40499] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46351
2021-11-04 10:29:48,832 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:46489
2021-11-04 10:29:48,832 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:48,833 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:48,834 [pool-818-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-C6F894ED6119: Setting the last applied index to (t:1, i:0)
2021-11-04 10:29:48,834 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:48,835 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:48,836 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:48,840 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:48,843 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:48,844 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:48,844 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:48,844 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:29:48,844 [Listener at 127.0.0.1/40499] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:29:48,844 [Listener at 127.0.0.1/40499] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37939
2021-11-04 10:29:48,844 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:48,849 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:29:48,850 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:48,854 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:48,860 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:48,860 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:48,852 [pool-818-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/log_inprogress_0
2021-11-04 10:29:48,861 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:29:48,862 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:48,862 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46489
2021-11-04 10:29:48,862 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:48,863 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-A4AF9724CB48:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:48,865 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:48,866 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:48,867 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:48,867 [pool-818-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=8, votedFor=17000f6a-7be3-454d-a73d-93c4d36d04d2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/raft-meta
2021-11-04 10:29:48,867 [pool-818-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-A4AF9724CB48: Setting the last applied index to (t:8, i:6)
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:48,868 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:48,869 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:48,870 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:48,871 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:48,871 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 6
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog: commitIndex: updateToMax old=6, new=4, updated? false
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:48,872 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:48,893 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:29:48,893 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:48,894 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:48,894 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:29:48,894 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1b593f48{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:48,895 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@203b962e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:48,905 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:29:48,905 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2bd80db7{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:29:48,905 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:29:48,912 [Listener at 127.0.0.1/40499] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1125d2f3{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:48,912 [Listener at 127.0.0.1/40499] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:48,913 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2f13e6a7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:29:48,913 [Listener at 127.0.0.1/40499] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@471ad198{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:48,920 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:29:48,920 [Listener at 127.0.0.1/40499] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:29:48,961 [Listener at 127.0.0.1/40499] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:29:48,961 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:29:48,982 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:29:48,982 [Listener at 127.0.0.1/40499] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:29:48,984 [Listener at 127.0.0.1/40499] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:29:48,985 [Listener at 127.0.0.1/40499] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:29:48,993 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:29:48,993 [Listener at 127.0.0.1/40499] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
Exception in thread "Listener at 127.0.0.1/40499" java.lang.IllegalStateException: zip file closed
	at java.util.zip.ZipFile.ensureOpen(ZipFile.java:686)
	at java.util.zip.ZipFile.access$200(ZipFile.java:60)
	at java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:508)
	at java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:503)
	at java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:253)
	at java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:262)
	at org.reflections.vfs.ZipDir$1$1.computeNext(ZipDir.java:30)
	at org.reflections.vfs.ZipDir$1$1.computeNext(ZipDir.java:26)
	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:141)
	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:136)
	at org.reflections.Reflections.scan(Reflections.java:243)
	at org.reflections.Reflections.scan(Reflections.java:202)
	at org.reflections.Reflections.<init>(Reflections.java:123)
	at org.reflections.Reflections.<init>(Reflections.java:168)
	at org.apache.hadoop.hdds.upgrade.HDDSLayoutVersionManager.registerUpgradeActions(HDDSLayoutVersionManager.java:64)
	at org.apache.hadoop.hdds.upgrade.HDDSLayoutVersionManager.<init>(HDDSLayoutVersionManager.java:51)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.<init>(DatanodeStateMachine.java:137)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:275)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.lambda$startHddsDatanodes$4(MiniOzoneClusterImpl.java:490)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.startHddsDatanodes(MiniOzoneClusterImpl.java:488)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:613)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:49,108 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4d75a8de{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-46489-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-673295897066335407/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:49,124 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5369c627{HTTP/1.1, (http/1.1)}{0.0.0.0:46489}
2021-11-04 10:29:49,125 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @146803ms
2021-11-04 10:29:49,125 [Time-limited test] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:start(281)) - HttpServer failed to start.
java.lang.NullPointerException: config
	at org.apache.hadoop.thirdparty.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:899)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.registerSink(MetricsSystemImpl.java:298)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.register(MetricsSystemImpl.java:277)
	at org.apache.hadoop.hdds.server.http.BaseHttpServer.start(BaseHttpServer.java:300)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:279)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:207)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.restartHddsDatanode(MiniOzoneClusterImpl.java:423)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.restartHddsDatanode(MiniOzoneClusterImpl.java:433)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.injectDataNodeFailureDuringSCMUpgrade(TestHDDSUpgrade.java:549)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.lambda$testAllDataNodeFailuresBeforeScmPreFinalizeUpgrade$8(TestHDDSUpgrade.java:765)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:123)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:74)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testAllDataNodeFailuresBeforeScmPreFinalizeUpgrade(TestHDDSUpgrade.java:767)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:29:49,137 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:49,138 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:49,141 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:49,141 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:49,144 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@30d6dace] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:50,068 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@696cc624] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-om1: Detected pause in JVM or host machine (eg GC): pause of approximately 135027305ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=180ms
GC pool 'PS Scavenge' had collection(s): count=1 time=23ms
2021-11-04 10:29:50,143 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:50,145 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:51,152 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:29:51,152 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:29:51,153 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 46457
2021-11-04 10:29:51,153 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:51,171 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: start as a follower, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:51,172 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 8 for startAsFollower
2021-11-04 10:29:51,172 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:51,172 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: start as a follower, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:29:51,172 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:29:51,172 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:51,173 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState
2021-11-04 10:29:51,173 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C6F894ED6119,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:51,174 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start RPC server
2021-11-04 10:29:51,175 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: GrpcService started, listening on 39169
2021-11-04 10:29:51,175 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS
2021-11-04 10:29:51,175 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS_ADMIN
2021-11-04 10:29:51,175 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 846193e6-4976-43ef-8cfc-af101cd55fb8 is started using port 39169 for RATIS_SERVER
2021-11-04 10:29:51,177 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6888df6b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-846193e6-4976-43ef-8cfc-af101cd55fb8: Started
2021-11-04 10:29:52,644 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:52,645 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:54,138 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:29:54,139 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: close
2021-11-04 10:29:54,139 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: shutdown
2021-11-04 10:29:54,139 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:54,139 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-LeaderStateImpl
2021-11-04 10:29:54,140 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:54,146 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 6
2021-11-04 10:29:54,146 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:8, i:6) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6
2021-11-04 10:29:54,149 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->846193e6-4976-43ef-8cfc-af101cd55fb8-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:29:54,150 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:8, i:6) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.8_6 took: 4 ms
2021-11-04 10:29:54,150 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 6
2021-11-04 10:29:54,150 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-11-04 10:29:54,151 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: closes. applyIndex: 6
2021-11-04 10:29:54,151 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:54,154 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:29:54,156 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: shutdown
2021-11-04 10:29:54,156 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-24EFB92AC542,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:29:54,156 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-LeaderStateImpl
2021-11-04 10:29:54,156 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-PendingRequests: sendNotLeaderResponses
2021-11-04 10:29:54,160 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-24EFB92AC542: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/sm/snapshot.1_0
2021-11-04 10:29:54,160 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:29:54,163 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: Completed APPEND_ENTRIES, lastRequest: 17000f6a-7be3-454d-a73d-93c4d36d04d2->972d567e-6cad-4d89-81ac-1eb9b77d1b68#813-t8,previous=(t:8, i:5),leaderCommit=6,initializing? true,entries: size=1, first=(t:8, i:6), METADATAENTRY(c:4)
2021-11-04 10:29:54,163 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:29:54,164 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-24EFB92AC542: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/sm/snapshot.1_0 took: 4 ms
2021-11-04 10:29:54,164 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:29:54,164 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:29:54,165 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:29:54,165 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 7 -> 6
2021-11-04 10:29:54,166 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: closes. applyIndex: 0
2021-11-04 10:29:54,168 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:29:54,169 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker close()
2021-11-04 10:29:54,170 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown server with port 38669 now
2021-11-04 10:29:54,175 [grpc-default-executor-1] WARN  client.GrpcClientProtocolService (LogUtils.java:warn(122)) - 2-UnorderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:29:54,182 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown server with port 38669 successfully
2021-11-04 10:29:54,185 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@32318eb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-17000f6a-7be3-454d-a73d-93c4d36d04d2: Stopped
2021-11-04 10:29:54,195 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:29:56,322 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5149106603ns, electionTimeout:5148ms
2021-11-04 10:29:56,322 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState
2021-11-04 10:29:56,322 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:29:56,323 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:56,323 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66
2021-11-04 10:29:56,332 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66 ELECTION round 0: submit vote requests at term 2 for 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:29:56,332 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66 ELECTION round 0: result PASSED (term=2)
2021-11-04 10:29:56,332 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66
2021-11-04 10:29:56,332 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:29:56,333 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C6F894ED6119 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5166384309ns, electionTimeout:5165ms
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 2 for becomeLeader, leader elected after 7498ms
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:29:56,338 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67
2021-11-04 10:29:56,373 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67 ELECTION round 0: submit vote requests at term 9 for 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:56,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:56,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderStateImpl
2021-11-04 10:29:56,429 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-11-04 10:29:56,430 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/log_0-0
2021-11-04 10:29:56,433 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/current/log_inprogress_1
2021-11-04 10:29:56,441 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: set configuration 1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:29:56,471 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-A4AF9724CB48, 9, (t:8, i:6))
2021-11-04 10:29:56,471 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FOLLOWER: accept ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 0 <= candidate's priority 0
2021-11-04 10:29:56,472 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: change Leader from 17000f6a-7be3-454d-a73d-93c4d36d04d2 to null at term 9 for updateCurrentTerm
2021-11-04 10:29:56,472 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:56,472 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:56,472 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:29:56,472 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:29:56,479 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:56,479 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t9. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48:t9, leader=null, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c6, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67: ELECTION PASSED received 1 response(s) and 1 exception(s):
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t9
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67 ELECTION round 0: result PASSED
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 9 for becomeLeader, leader elected after 7616ms
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:56,484 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:56,485 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:56,486 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:29:56,486 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:56,487 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:29:56,487 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:29:56,487 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:56,487 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:56,488 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderStateImpl
2021-11-04 10:29:56,489 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-11-04 10:29:56,489 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_0-6
2021-11-04 10:29:56,493 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_7
2021-11-04 10:29:56,496 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:56,496 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n7, attendVote=true, lastRpcSendTime=5211, lastRpcResponseTime=5211) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:56,509 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:56,510 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n8, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5224) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:56,521 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: set configuration 7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:56,542 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:29:56,542 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 9 for appendEntries, leader elected after 70ms
2021-11-04 10:29:56,550 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: set configuration 7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:56,551 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-11-04 10:29:56,552 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_0-6
2021-11-04 10:29:56,553 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_7
2021-11-04 10:29:56,652 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:56,653 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n9, attendVote=true, lastRpcSendTime=1, lastRpcResponseTime=5368) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:29:57,200 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:29:57,203 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@63c8d716{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:57,209 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1c1b9d05{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:29:57,209 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:29:57,211 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3399d0e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:29:57,212 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2fad286d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:29:57,253 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:57,253 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:29:57,255 [Time-limited test] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-11-04 10:29:57,288 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:29:57,288 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-11-04 10:29:57,302 [Time-limited test] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:29:57,302 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:29:57,437 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net ip:10.1.0.36
2021-11-04 10:29:57,496 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-11-04 10:29:57,749 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 210 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:29:57,753 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-11-04 10:29:57,753 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-11-04 10:29:57,753 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-11-04 10:29:57,754 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-11-04 10:29:57,754 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-11-04 10:29:57,789 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-11-04 10:29:57,789 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds to VolumeSet
2021-11-04 10:29:57,789 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:29:57,816 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:29:57,879 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis to VolumeSet
2021-11-04 10:29:57,879 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis
2021-11-04 10:29:57,889 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis
2021-11-04 10:29:58,018 [Thread-1931] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:29:58,101 [Thread-1931] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds
2021-11-04 10:29:58,101 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-11-04 10:29:58,103 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-11-04 10:29:58,103 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-11-04 10:29:58,103 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 38669 (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 38669 (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 38669 (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-11-04 10:29:58,103 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:29:58,113 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-11-04 10:29:58,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:58,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:58,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:29:58,113 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542
2021-11-04 10:29:58,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-24EFB92AC542:[] returns group-24EFB92AC542:java.util.concurrent.CompletableFuture@6454e141[Not completed]
2021-11-04 10:29:58,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:58,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-A4AF9724CB48:[] returns group-A4AF9724CB48:java.util.concurrent.CompletableFuture@6369de22[Not completed]
2021-11-04 10:29:58,116 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-24EFB92AC542:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:58,140 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:58,141 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:29:58,141 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:58,141 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:58,164 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:42343
2021-11-04 10:29:58,164 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:29:58,165 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:29:58,172 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:58,172 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:29:58,172 [pool-846-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=17000f6a-7be3-454d-a73d-93c4d36d04d2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/current/raft-meta
2021-11-04 10:29:58,173 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:29:58,173 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-11-04 10:29:58,174 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:29:58,174 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:29:58,174 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42343
2021-11-04 10:29:58,174 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:29:58,232 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:29:58,233 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:29:58,233 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-11-04 10:29:58,233 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@ce45c89{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:29:58,234 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@b3c125e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-11-04 10:29:58,260 [pool-846-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-24EFB92AC542: Setting the last applied index to (t:1, i:0)
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: set configuration 0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:58,261 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:58,262 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:58,281 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:58,281 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:58,282 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: set configuration 0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:58,283 [pool-846-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542/current/log_inprogress_0
2021-11-04 10:29:58,283 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-11-04 10:29:58,283 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:58,307 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:58,307 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:58,308 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:58,308 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:58,308 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:58,308 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:58,310 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-A4AF9724CB48:[] with ContainerStateMachine:uninitialized
2021-11-04 10:29:58,314 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:29:58,314 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:29:58,314 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:29:58,314 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:29:58,320 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:29:58,320 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:29:58,320 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:29:58,321 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-11-04 10:29:58,321 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:29:58,321 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:29:58,326 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:29:58,327 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:29:58,327 [pool-846-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=8, votedFor=17000f6a-7be3-454d-a73d-93c4d36d04d2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/raft-meta
2021-11-04 10:29:58,327 [pool-846-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-A4AF9724CB48: Setting the last applied index to (t:8, i:6)
2021-11-04 10:29:58,328 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:58,329 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:29:58,330 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:29:58,331 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:29:58,331 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:29:58,332 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:29:58,333 [pool-846-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0
2021-11-04 10:29:58,333 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 6
2021-11-04 10:29:58,333 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog: commitIndex: updateToMax old=6, new=4, updated? false
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:29:58,346 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:29:58,474 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@543036ad{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42343-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7149505462502384926/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:29:58,482 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3992c226{HTTP/1.1, (http/1.1)}{0.0.0.0:42343}
2021-11-04 10:29:58,482 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @156160ms
2021-11-04 10:29:58,482 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:29:58,483 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42343
2021-11-04 10:29:58,512 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:29:58,512 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:29:58,512 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:29:58,513 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:29:58,513 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:29:58,513 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 0cdf1ada-f89d-42d8-887e-c6f894ed6119, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:28:36.523Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:29:58,514 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: b8f6d54f-db52-44ee-8c1a-59d7ccb0a710, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:972d567e-6cad-4d89-81ac-1eb9b77d1b68, CreationTimestamp2021-11-04T10:28:36.063Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:29:58,514 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: f0fd2ff2-6c1c-418d-b4c2-24efb92ac542, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:17000f6a-7be3-454d-a73d-93c4d36d04d2, CreationTimestamp2021-11-04T10:28:36.882Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:29:58,514 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 444163ad-47bc-437d-b6e5-a4af9724cb48, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:28:36.886Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:29:58,514 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-11-04 10:29:58,539 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:29:58,539 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-11-04 10:29:58,540 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-11-04 10:29:58,684 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-11-04 10:29:58,684 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-11-04 10:29:58,698 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@571670fe] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:29:59,160 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:29:59,160 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n9, attendVote=true, lastRpcSendTime=2508, lastRpcResponseTime=7875) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:00,020 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:00,021 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n10, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=8736) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:00,052 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:00,053 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n11, attendVote=true, lastRpcSendTime=8, lastRpcResponseTime=8767) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:00,080 [pool-825-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:00,080 [pool-825-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:00,104 [pool-825-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:00,115 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:30:00,120 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:00,121 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n12, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=8836) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:00,165 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:00,165 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Leader has not got in touch with Follower 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2(c-1,m0,n13, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=8880) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:00,166 [pool-757-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:00,166 [pool-757-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:00,169 [pool-757-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:00,217 [pool-825-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:00,217 [pool-825-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:00,219 [pool-825-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:00,220 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:30:00,266 [pool-757-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:00,266 [pool-757-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:00,273 [pool-757-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:00,748 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-11-04 10:30:00,749 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-11-04 10:30:00,749 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 32831
2021-11-04 10:30:00,749 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:00,814 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: start as a follower, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:30:00,814 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: changes role from      null to FOLLOWER at term 8 for startAsFollower
2021-11-04 10:30:00,814 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:30:00,814 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: start as a follower, conf=0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:30:00,814 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-11-04 10:30:00,829 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:00,848 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState
2021-11-04 10:30:00,853 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-24EFB92AC542,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:00,882 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start RPC server
2021-11-04 10:30:00,883 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: GrpcService started, listening on 38669
2021-11-04 10:30:00,894 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS
2021-11-04 10:30:00,895 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS_ADMIN
2021-11-04 10:30:00,895 [EndpointStateMachine task thread for /0.0.0.0:40731 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 17000f6a-7be3-454d-a73d-93c4d36d04d2 is started using port 38669 for RATIS_SERVER
2021-11-04 10:30:00,895 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ad4f468] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-17000f6a-7be3-454d-a73d-93c4d36d04d2: Started
2021-11-04 10:30:02,677 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4AF9724CB48 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:02,677 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 9 for appendEntries, leader elected after 4348ms
2021-11-04 10:30:02,677 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1322)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: Failed appendEntries as previous log entry ((t:9, i:12)) is not found
2021-11-04 10:30:02,677 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: inconsistency entries. Reply:846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#5517712:FAIL-t8,INCONSISTENCY,nextIndex=7,followerCommit=6
2021-11-04 10:30:02,681 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2: nextIndex: updateUnconditionally 13 -> 7
2021-11-04 10:30:02,693 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: set configuration 7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:30:02,694 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-11-04 10:30:02,700 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_0-6
2021-11-04 10:30:02,704 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/current/log_inprogress_7
2021-11-04 10:30:02,913 [pool-853-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:02,914 [pool-853-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:02,920 [pool-853-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:02,965 [pool-853-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:02,965 [pool-853-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:02,969 [pool-853-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:03,539 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:30:03,540 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-11-04 10:30:03,544 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-11-04 10:30:03,555 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:30:03,555 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:03,557 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 which uses HEALTHY READONLY datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:03,557 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 close command to datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:03,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: f0fd2ff2-6c1c-418d-b4c2-24efb92ac542, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:17000f6a-7be3-454d-a73d-93c4d36d04d2, CreationTimestamp2021-11-04T10:28:36.882Z[Etc/UTC]] removed.
2021-11-04 10:30:03,593 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 which uses HEALTHY READONLY datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:03,593 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:30:03,593 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 close command to datanode 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:03,593 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 close command to datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:03,593 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 close command to datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:03,594 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 444163ad-47bc-437d-b6e5-a4af9724cb48, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:28:36.886Z[Etc/UTC]] removed.
2021-11-04 10:30:03,594 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:03,594 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 which uses HEALTHY READONLY datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:03,594 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 close command to datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:03,594 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: b8f6d54f-db52-44ee-8c1a-59d7ccb0a710, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:972d567e-6cad-4d89-81ac-1eb9b77d1b68, CreationTimestamp2021-11-04T10:28:36.063Z[Etc/UTC]] removed.
2021-11-04 10:30:03,595 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:03,595 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 which uses HEALTHY READONLY datanode 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:03,608 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 close command to datanode 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:03,600 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(390)) - Scrubbing pipeline: id: PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 since it stays at CLOSED stage.
2021-11-04 10:30:03,608 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 close command to datanode 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:03,609 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 0cdf1ada-f89d-42d8-887e-c6f894ed6119, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:28:36.523Z[Etc/UTC]] removed.
2021-11-04 10:30:03,627 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-11-04 10:30:03,631 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(225)) - Pipeline 0cdf1ada-f89d-42d8-887e-c6f894ed6119 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-11-04 10:30:03,722 [IPC Server handler 14 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:03,722 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 is not found
2021-11-04 10:30:03,722 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 is not found
2021-11-04 10:30:03,778 [IPC Server handler 11 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:03,970 [IPC Server handler 12 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,222 [IPC Server handler 4 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,280 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: remove  FOLLOWER 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48:t9, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c12, conf=7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,280 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: shutdown
2021-11-04 10:30:04,280 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:04,280 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState
2021-11-04 10:30:04,281 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 12
2021-11-04 10:30:04,281 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:9, i:12) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12
2021-11-04 10:30:04,281 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:04,282 [IPC Server handler 7 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,283 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:9, i:12) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12 took: 2 ms
2021-11-04 10:30:04,283 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 12
2021-11-04 10:30:04,283 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 12
2021-11-04 10:30:04,284 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: closes. applyIndex: 12
2021-11-04 10:30:04,284 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,286 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,290 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-A4AF9724CB48: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:30:04,290 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 command on datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68.
2021-11-04 10:30:04,290 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: remove    LEADER 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710:t2, leader=972d567e-6cad-4d89-81ac-1eb9b77d1b68, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLog:OPENED:c2, conf=1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,291 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: shutdown
2021-11-04 10:30:04,291 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59D7CCB0A710,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:04,291 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-LeaderStateImpl
2021-11-04 10:30:04,291 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:04,301 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: set stopIndex = 2
2021-11-04 10:30:04,301 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-59D7CCB0A710: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/sm/snapshot.2_2
2021-11-04 10:30:04,302 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-59D7CCB0A710: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710/sm/snapshot.2_2 took: 1 ms
2021-11-04 10:30:04,302 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: Took a snapshot at index 2
2021-11-04 10:30:04,302 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-11-04 10:30:04,304 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: closes. applyIndex: 2
2021-11-04 10:30:04,304 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,305 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,305 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-59D7CCB0A710: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/b8f6d54f-db52-44ee-8c1a-59d7ccb0a710
2021-11-04 10:30:04,305 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=b8f6d54f-db52-44ee-8c1a-59d7ccb0a710 command on datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68.
2021-11-04 10:30:04,305 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:04,305 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:04,305 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:04,305 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:04,312 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:04,312 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data-0/containers/hdds/45668470-fb21-479b-a310-ee77c3cc331e. No action required for SCM HA finalization.
2021-11-04 10:30:04,321 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:04,470 [IPC Server handler 0 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,471 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 is not found
2021-11-04 10:30:04,471 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 is not found
2021-11-04 10:30:04,722 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: remove    LEADER 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48:t9, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c12, conf=7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,722 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: shutdown
2021-11-04 10:30:04,722 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:04,722 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-LeaderStateImpl
2021-11-04 10:30:04,722 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:04,723 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 12
2021-11-04 10:30:04,723 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:04,723 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:04,723 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:9, i:12) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12
2021-11-04 10:30:04,724 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: Completed APPEND_ENTRIES, lastRequest: 846193e6-4976-43ef-8cfc-af101cd55fb8->972d567e-6cad-4d89-81ac-1eb9b77d1b68#242-t9,previous=(t:9, i:11),leaderCommit=11,initializing? true,entries: size=1, first=(t:9, i:12), METADATAENTRY(c:11)
2021-11-04 10:30:04,725 [IPC Server handler 17 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,725 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:04,725 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: Completed APPEND_ENTRIES, lastRequest: 846193e6-4976-43ef-8cfc-af101cd55fb8->17000f6a-7be3-454d-a73d-93c4d36d04d2#5517719-t9,previous=(t:9, i:11),leaderCommit=12,initializing? true,entries: size=1, first=(t:9, i:12), METADATAENTRY(c:11)
2021-11-04 10:30:04,725 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 13 -> 12
2021-11-04 10:30:04,726 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:04,726 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48->17000f6a-7be3-454d-a73d-93c4d36d04d2: nextIndex: updateUnconditionally 13 -> 12
2021-11-04 10:30:04,727 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:9, i:12) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12 took: 3 ms
2021-11-04 10:30:04,727 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 12
2021-11-04 10:30:04,727 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 12
2021-11-04 10:30:04,727 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: closes. applyIndex: 12
2021-11-04 10:30:04,727 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,729 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,730 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-A4AF9724CB48: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:30:04,730 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 command on datanode 846193e6-4976-43ef-8cfc-af101cd55fb8.
2021-11-04 10:30:04,730 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: remove    LEADER 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119:t2, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLog:OPENED:c2, conf=1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,730 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: shutdown
2021-11-04 10:30:04,730 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C6F894ED6119,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:04,730 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-LeaderStateImpl
2021-11-04 10:30:04,730 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:04,731 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: set stopIndex = 2
2021-11-04 10:30:04,731 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C6F894ED6119: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/sm/snapshot.2_2
2021-11-04 10:30:04,731 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C6F894ED6119: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119/sm/snapshot.2_2 took: 1 ms
2021-11-04 10:30:04,732 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: Took a snapshot at index 2
2021-11-04 10:30:04,732 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-11-04 10:30:04,732 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: closes. applyIndex: 2
2021-11-04 10:30:04,732 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,733 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,734 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-C6F894ED6119: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/0cdf1ada-f89d-42d8-887e-c6f894ed6119
2021-11-04 10:30:04,734 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=0cdf1ada-f89d-42d8-887e-c6f894ed6119 command on datanode 846193e6-4976-43ef-8cfc-af101cd55fb8.
2021-11-04 10:30:04,734 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:04,734 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:04,734 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:04,734 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:04,739 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:04,739 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data-0/containers/hdds/45668470-fb21-479b-a310-ee77c3cc331e. No action required for SCM HA finalization.
2021-11-04 10:30:04,740 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:04,740 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:04,970 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: remove  FOLLOWER 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542:t1, leader=null, voted=17000f6a-7be3-454d-a73d-93c4d36d04d2, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLog:OPENED:c0, conf=0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,970 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: shutdown
2021-11-04 10:30:04,970 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-24EFB92AC542,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:04,970 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState
2021-11-04 10:30:04,970 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:04,970 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:04,970 [IPC Server handler 12 on default port 40731] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:04,972 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: closes. applyIndex: 0
2021-11-04 10:30:04,972 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,975 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,977 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-24EFB92AC542: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/f0fd2ff2-6c1c-418d-b4c2-24efb92ac542
2021-11-04 10:30:04,977 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=f0fd2ff2-6c1c-418d-b4c2-24efb92ac542 command on datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2.
2021-11-04 10:30:04,977 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: remove  FOLLOWER 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48:t9, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=null, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLog:OPENED:c12, conf=7: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:0, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:04,977 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: shutdown
2021-11-04 10:30:04,977 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4AF9724CB48,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:04,977 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState
2021-11-04 10:30:04,977 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: set stopIndex = 12
2021-11-04 10:30:04,977 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:04,977 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4AF9724CB48: Taking a snapshot at:(t:9, i:12) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12
2021-11-04 10:30:04,978 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4AF9724CB48: Finished taking a snapshot at:(t:9, i:12) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48/sm/snapshot.9_12 took: 1 ms
2021-11-04 10:30:04,979 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: Took a snapshot at index 12
2021-11-04 10:30:04,979 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 12
2021-11-04 10:30:04,979 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: closes. applyIndex: 12
2021-11-04 10:30:04,979 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:04,988 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48-SegmentedRaftLogWorker close()
2021-11-04 10:30:04,990 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-A4AF9724CB48: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/444163ad-47bc-437d-b6e5-a4af9724cb48
2021-11-04 10:30:04,990 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=444163ad-47bc-437d-b6e5-a4af9724cb48 command on datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2.
2021-11-04 10:30:04,990 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:04,990 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:04,990 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:04,990 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:04,995 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:04,995 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data-0/containers/hdds/45668470-fb21-479b-a310-ee77c3cc331e. No action required for SCM HA finalization.
2021-11-04 10:30:05,000 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:05,000 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:05,089 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:05,089 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:05,089 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05 to datanode:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:05,090 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:05.089Z[Etc/UTC]].
2021-11-04 10:30:05,090 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-11-04 10:30:05,589 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:05,589 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:05,589 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:05,589 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:05,590 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=fef44d6a-16b0-404f-80bc-eac619b6a5ba to datanode:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:05,590 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: fef44d6a-16b0-404f-80bc-eac619b6a5ba, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:05.590Z[Etc/UTC]].
2021-11-04 10:30:05,590 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c805bc4f-d2e3-4261-9165-5fbdcefc9871 to datanode:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:05,590 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c805bc4f-d2e3-4261-9165-5fbdcefc9871 to datanode:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:05,591 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c805bc4f-d2e3-4261-9165-5fbdcefc9871 to datanode:17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:05,591 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c805bc4f-d2e3-4261-9165-5fbdcefc9871, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:05.590Z[Etc/UTC]].
2021-11-04 10:30:05,591 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=39c5c9c7-4c47-4671-88c1-ab64ddede298 to datanode:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:05,591 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 39c5c9c7-4c47-4671-88c1-ab64ddede298, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:05.591Z[Etc/UTC]].
2021-11-04 10:30:05,777 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:05,777 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-3E7C0C4D3E05:[972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1] returns group-3E7C0C4D3E05:java.util.concurrent.CompletableFuture@6e3a075b[Not completed]
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-3E7C0C4D3E05:[972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: ConfigurationManager, init=-1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:30:05,778 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:05,779 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:05,779 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05 does not exist. Creating ...
2021-11-04 10:30:05,783 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05 has been successfully formatted.
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-3E7C0C4D3E05: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:05,784 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:05,785 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,785 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:05,786 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:05,787 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:05,788 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:05,788 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05, Nodes: 972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:972d567e-6cad-4d89-81ac-1eb9b77d1b68, CreationTimestamp2021-11-04T10:30:05.089Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:05,796 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,796 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,829 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:05,830 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:05,830 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:05,830 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:05,830 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:05,830 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:05,831 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: start as a follower, conf=-1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null
2021-11-04 10:30:05,832 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:05,833 [pool-750-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState
2021-11-04 10:30:05,842 [pool-750-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3E7C0C4D3E05,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:05,854 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05
2021-11-04 10:30:05,854 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05.
2021-11-04 10:30:05,854 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: addNew group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0] returns group-5FBDCEFC9871:java.util.concurrent.CompletableFuture@7da36190[Not completed]
2021-11-04 10:30:05,854 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: new RaftServerImpl for group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:05,855 [pool-750-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:05,858 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis] (custom)
2021-11-04 10:30:05,858 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:05,858 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:05,858 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 does not exist. Creating ...
2021-11-04 10:30:05,859 [pool-750-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 has been successfully formatted.
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5FBDCEFC9871: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:05,874 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:05,875 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:05,883 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:05,889 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:05,892 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,892 [pool-750-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,902 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:05,902 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:05,902 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:05,902 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:05,903 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:05,903 [pool-750-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:05,904 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0], old=null
2021-11-04 10:30:05,904 [pool-750-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:05,904 [pool-750-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:05,914 [pool-750-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:05,922 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c805bc4f-d2e3-4261-9165-5fbdcefc9871
2021-11-04 10:30:05,957 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0] returns group-5FBDCEFC9871:java.util.concurrent.CompletableFuture@53b5d2d7[Not completed]
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:05,958 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:05,959 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:30:05,959 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:05,959 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:05,959 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 does not exist. Creating ...
2021-11-04 10:30:05,960 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 has been successfully formatted.
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5FBDCEFC9871: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:05,961 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:05,962 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:05,963 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:05,964 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:05,964 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,964 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:05,996 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:05,997 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:05,997 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:05,998 [pool-818-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:06,008 [pool-818-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:06,037 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0] returns group-5FBDCEFC9871:java.util.concurrent.CompletableFuture@27b83d0a[Not completed]
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-5FBDCEFC9871:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:30:06,038 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:06,039 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:06,039 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 does not exist. Creating ...
2021-11-04 10:30:06,046 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871 has been successfully formatted.
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5FBDCEFC9871: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:06,048 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:06,050 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:06,051 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:06,051 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:06,052 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,052 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,059 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:06,067 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:06,067 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:06,067 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:06,067 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:06,067 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:06,069 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:06,069 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:06,069 [pool-846-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:06,069 [pool-846-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:06,076 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c805bc4f-d2e3-4261-9165-5fbdcefc9871.
2021-11-04 10:30:06,223 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:06,223 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: addNew group-AB64DDEDE298:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1] returns group-AB64DDEDE298:java.util.concurrent.CompletableFuture@59218ab9[Not completed]
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: new RaftServerImpl for group-AB64DDEDE298:[846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:06,224 [pool-818-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: ConfigurationManager, init=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:06,225 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis] (custom)
2021-11-04 10:30:06,225 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:06,225 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:06,225 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298 does not exist. Creating ...
2021-11-04 10:30:06,226 [pool-818-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:06,231 [pool-818-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298 has been successfully formatted.
2021-11-04 10:30:06,232 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 39c5c9c7-4c47-4671-88c1-ab64ddede298, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:30:05.591Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-AB64DDEDE298: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:06,233 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:06,234 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:06,235 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:06,238 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:06,238 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,238 [pool-818-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,253 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:06,253 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:06,253 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:06,253 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:06,254 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:06,254 [pool-818-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:06,255 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: start as a follower, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null
2021-11-04 10:30:06,255 [pool-818-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:06,255 [pool-818-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState
2021-11-04 10:30:06,256 [pool-818-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB64DDEDE298,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:06,257 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=39c5c9c7-4c47-4671-88c1-ab64ddede298
2021-11-04 10:30:06,257 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=39c5c9c7-4c47-4671-88c1-ab64ddede298.
2021-11-04 10:30:06,469 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:06,469 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: addNew group-EAC619B6A5BA:[17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] returns group-EAC619B6A5BA:java.util.concurrent.CompletableFuture@4cc1235a[Not completed]
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: new RaftServerImpl for group-EAC619B6A5BA:[17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: ConfigurationManager, init=-1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:06,470 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis] (custom)
2021-11-04 10:30:06,471 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:06,471 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:06,471 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba does not exist. Creating ...
2021-11-04 10:30:06,472 [pool-846-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba has been successfully formatted.
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EAC619B6A5BA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:06,473 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:06,474 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:06,475 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:06,476 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:06,476 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,476 [pool-846-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:06,477 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: fef44d6a-16b0-404f-80bc-eac619b6a5ba, Nodes: 17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:17000f6a-7be3-454d-a73d-93c4d36d04d2, CreationTimestamp2021-11-04T10:30:05.590Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:06,490 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:06,490 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:06,490 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:06,490 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:06,490 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:06,491 [pool-846-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:06,492 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: start as a follower, conf=-1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:30:06,492 [pool-846-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:06,492 [pool-846-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState
2021-11-04 10:30:06,505 [pool-846-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EAC619B6A5BA,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:06,505 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=fef44d6a-16b0-404f-80bc-eac619b6a5ba
2021-11-04 10:30:06,505 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=fef44d6a-16b0-404f-80bc-eac619b6a5ba.
2021-11-04 10:30:08,593 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:30:10,898 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5065046391ns, electionTimeout:5056ms
2021-11-04 10:30:10,898 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState
2021-11-04 10:30:10,899 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:10,899 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:10,899 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68
2021-11-04 10:30:10,917 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5012948669ns, electionTimeout:5003ms
2021-11-04 10:30:10,918 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:10,918 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:10,918 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:10,918 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68 ELECTION round 0: submit vote requests at term 1 for -1: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:1], old=null
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-3E7C0C4D3E05 with new leaderId: 972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: change Leader from null to 972d567e-6cad-4d89-81ac-1eb9b77d1b68 at term 1 for becomeLeader, leader elected after 5148ms
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:10,933 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:10,934 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderStateImpl
2021-11-04 10:30:10,938 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:10,939 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05/current/log_inprogress_0
2021-11-04 10:30:10,983 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: set configuration 0: [972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:1], old=null
2021-11-04 10:30:10,984 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69 ELECTION round 0: submit vote requests at term 1 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0], old=null
2021-11-04 10:30:11,036 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-5FBDCEFC9871, 1, (t:0, i:0))
2021-11-04 10:30:11,037 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FOLLOWER: reject ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 1 > candidate's priority 0
2021-11-04 10:30:11,037 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:11,037 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:11,037 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:11,038 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:FAIL-t1. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871:t1, leader=null, voted=null, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:11,048 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:30:11,048 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:FAIL-t1
2021-11-04 10:30:11,048 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69 ELECTION round 0: result REJECTED
2021-11-04 10:30:11,048 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:30:11,048 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69
2021-11-04 10:30:11,049 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:11,065 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:11,085 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: receive requestVote(ELECTION, 972d567e-6cad-4d89-81ac-1eb9b77d1b68, group-5FBDCEFC9871, 1, (t:0, i:0))
2021-11-04 10:30:11,085 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FOLLOWER: accept ELECTION from 972d567e-6cad-4d89-81ac-1eb9b77d1b68: our priority 0 <= candidate's priority 0
2021-11-04 10:30:11,085 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:11,085 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:11,085 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:11,085 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:11,092 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871 replies to ELECTION vote request: 972d567e-6cad-4d89-81ac-1eb9b77d1b68<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:OK-t1. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871:t1, leader=null, voted=972d567e-6cad-4d89-81ac-1eb9b77d1b68, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:11,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5172550565ns, electionTimeout:5171ms
2021-11-04 10:30:11,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState
2021-11-04 10:30:11,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:11,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:11,428 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70 ELECTION round 0: submit vote requests at term 1 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1], old=null
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-AB64DDEDE298 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:11,453 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 1 for becomeLeader, leader elected after 5220ms
2021-11-04 10:30:11,454 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:11,454 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:11,456 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:11,456 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:11,456 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:11,457 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:11,457 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:11,457 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:11,457 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderStateImpl
2021-11-04 10:30:11,457 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:11,458 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298/current/log_inprogress_0
2021-11-04 10:30:11,476 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1], old=null
2021-11-04 10:30:11,567 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5075066501ns, electionTimeout:5062ms
2021-11-04 10:30:11,568 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState
2021-11-04 10:30:11,568 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:11,568 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:11,568 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71
2021-11-04 10:30:11,605 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71 ELECTION round 0: submit vote requests at term 1 for -1: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:1], old=null
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EAC619B6A5BA with new leaderId: 17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: change Leader from null to 17000f6a-7be3-454d-a73d-93c4d36d04d2 at term 1 for becomeLeader, leader elected after 5132ms
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:11,606 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderStateImpl
2021-11-04 10:30:11,607 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:11,609 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba/current/log_inprogress_0
2021-11-04 10:30:11,638 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: set configuration 0: [17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:1], old=null
2021-11-04 10:30:13,594 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-11-04 10:30:16,155 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5117713145ns, electionTimeout:5112ms
2021-11-04 10:30:16,155 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:16,155 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:30:16,155 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:16,155 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72
2021-11-04 10:30:16,203 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72 ELECTION round 0: submit vote requests at term 2 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,210 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-5FBDCEFC9871, 2, (t:0, i:0))
2021-11-04 10:30:16,210 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FOLLOWER: accept ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: our priority 0 <= candidate's priority 1
2021-11-04 10:30:16,210 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:16,211 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:16,238 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5145503675ns, electionTimeout:5105ms
2021-11-04 10:30:16,238 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: start 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:16,238 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:16,238 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:30:16,238 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:16,238 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73
2021-11-04 10:30:16,238 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:16,242 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t2. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871:t2, leader=null, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=-1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|priority:0], old=null
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 846193e6-4976-43ef-8cfc-af101cd55fb8<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:OK-t2
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72 ELECTION round 0: result PASSED
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5FBDCEFC9871 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 2 for becomeLeader, leader elected after 10294ms
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:16,256 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:30:16,257 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:30:16,259 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:16,260 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: start 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderStateImpl
2021-11-04 10:30:16,275 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: c805bc4f-d2e3-4261-9165-5fbdcefc9871, Nodes: 846193e6-4976-43ef-8cfc-af101cd55fb8{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36881, RATIS=39169, RATIS_ADMIN=39169, RATIS_SERVER=39169, STANDALONE=39107], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}972d567e-6cad-4d89-81ac-1eb9b77d1b68{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=35653, RATIS=46133, RATIS_ADMIN=46133, RATIS_SERVER=46133, STANDALONE=34291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}17000f6a-7be3-454d-a73d-93c4d36d04d2{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=36807, RATIS=38669, RATIS_ADMIN=38669, RATIS_SERVER=38669, STANDALONE=38515], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:846193e6-4976-43ef-8cfc-af101cd55fb8, CreationTimestamp2021-11-04T10:30:05.590Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:16,279 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:16,279 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73 ELECTION round 0: submit vote requests at term 2 for -1: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,281 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/current/log_inprogress_0
2021-11-04 10:30:16,283 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from CANDIDATE to FOLLOWER at term 2 for appendEntries
2021-11-04 10:30:16,284 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73
2021-11-04 10:30:16,284 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:16,285 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5FBDCEFC9871 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:16,285 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 2 for appendEntries, leader elected after 10236ms
2021-11-04 10:30:16,289 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,290 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:16,290 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: receive requestVote(ELECTION, 846193e6-4976-43ef-8cfc-af101cd55fb8, group-5FBDCEFC9871, 2, (t:0, i:0))
2021-11-04 10:30:16,290 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FOLLOWER: reject ELECTION from 846193e6-4976-43ef-8cfc-af101cd55fb8: already has voted for 17000f6a-7be3-454d-a73d-93c4d36d04d2 at current term 2
2021-11-04 10:30:16,291 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871 replies to ELECTION vote request: 846193e6-4976-43ef-8cfc-af101cd55fb8<-17000f6a-7be3-454d-a73d-93c4d36d04d2#0:FAIL-t2. Peer's state: 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871:t2, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=17000f6a-7be3-454d-a73d-93c4d36d04d2, raftlog=17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,292 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/current/log_inprogress_0
2021-11-04 10:30:16,341 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5FBDCEFC9871 with new leaderId: 846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:16,341 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: change Leader from null to 846193e6-4976-43ef-8cfc-af101cd55fb8 at term 2 for appendEntries, leader elected after 10466ms
2021-11-04 10:30:16,348 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73: ELECTION REJECTED received 0 response(s) and 0 exception(s):
2021-11-04 10:30:16,348 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection73 ELECTION round 0: result REJECTED
2021-11-04 10:30:16,360 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: receive requestVote(ELECTION, 17000f6a-7be3-454d-a73d-93c4d36d04d2, group-5FBDCEFC9871, 2, (t:0, i:0))
2021-11-04 10:30:16,368 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,368 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LEADER: reject ELECTION from 17000f6a-7be3-454d-a73d-93c4d36d04d2: already has voted for 846193e6-4976-43ef-8cfc-af101cd55fb8 at current term 2
2021-11-04 10:30:16,368 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871 replies to ELECTION vote request: 17000f6a-7be3-454d-a73d-93c4d36d04d2<-846193e6-4976-43ef-8cfc-af101cd55fb8#0:FAIL-t2. Peer's state: 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871:t2, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,396 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: set configuration 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,397 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:16,398 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: receive requestVote(ELECTION, 17000f6a-7be3-454d-a73d-93c4d36d04d2, group-5FBDCEFC9871, 2, (t:0, i:0))
2021-11-04 10:30:16,398 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FOLLOWER: reject ELECTION from 17000f6a-7be3-454d-a73d-93c4d36d04d2: already has voted for 846193e6-4976-43ef-8cfc-af101cd55fb8 at current term 2
2021-11-04 10:30:16,398 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871 replies to ELECTION vote request: 17000f6a-7be3-454d-a73d-93c4d36d04d2<-972d567e-6cad-4d89-81ac-1eb9b77d1b68#0:FAIL-t2. Peer's state: 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871:t2, leader=846193e6-4976-43ef-8cfc-af101cd55fb8, voted=846193e6-4976-43ef-8cfc-af101cd55fb8, raftlog=972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLog:OPENED:c-1, conf=0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:16,419 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/current/log_inprogress_0
2021-11-04 10:30:18,596 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-11-04 10:30:18,596 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:18,596 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:18,596 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:30:18,596 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:30:18,701 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-11-04 10:30:18,701 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-11-04 10:30:18,701 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:30:18,701 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:30:18,720 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41699
2021-11-04 10:30:18,722 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:18,722 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:30:18,722 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:30:18,722 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-11-04 10:30:18,722 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:30:18,722 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:18,723 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-11-04 10:30:18,723 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-11-04 10:30:18,723 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-11-04 10:30:18,723 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-11-04 10:30:18,723 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:30:18,724 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-11-04 10:30:18,724 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:18,724 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:18,725 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:30:18,725 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 46883 now
2021-11-04 10:30:18,725 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 46883 successfully
2021-11-04 10:30:18,725 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@696cc624] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:30:18,725 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:30:18,725 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:30:18,726 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:30:18,727 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:30:18,745 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5e64e1c3{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:30:18,748 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@72435c54{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:18,748 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:18,751 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@27574905{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:30:18,751 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1bc610e4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:18,757 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:30:18,758 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-11-04 10:30:18,769 [Datanode State Machine Daemon Thread] WARN  statemachine.StateContext (StateContext.java:setState(249)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-11-04 10:30:19,181 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(343)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-11-04 10:30:19,210 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-11-04 10:30:19,251 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(503)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-11-04 10:30:19,337 [IPC Server handler 1 on default port 43703] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-11-04 10:30:19,337 [IPC Server handler 1 on default port 43703] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-11-04 10:30:19,847 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:19,847 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:30:19,848 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 4b2ca1f1-053c-45e0-8df7-b4f4460509a2, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.645Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:30:19,858 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 3a0844c0-83e8-4394-bfd4-cd268df9df89, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:abf54110-b118-445d-9ffa-0513a506dd37, CreationTimestamp2021-11-04T10:29:28.595Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:30:19,858 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: cc5edeba-899f-4228-a6e4-eb7984a82aec, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:1528c4d2-af24-4f5c-9fbb-bf358b31659b, CreationTimestamp2021-11-04T10:29:27.594Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:30:19,858 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(349)) - Pipeline Pipeline[ Id: 3ac1bc24-ba32-4650-8323-7e4c18b8537c, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.131Z[Etc/UTC]] moved to CLOSED state
2021-11-04 10:30:19,858 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-11-04 10:30:19,858 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-11-04 10:30:19,859 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-11-04 10:30:21,117 [pool-728-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,118 [pool-728-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,129 [pool-728-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:21,161 [pool-729-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,161 [pool-729-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,173 [pool-729-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:21,206 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:30:21,221 [pool-727-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,221 [pool-727-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-11-04 10:30:21,229 [pool-727-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-11-04 10:30:21,263 [pool-728-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,263 [pool-728-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,265 [pool-728-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:21,280 [pool-729-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,281 [pool-729-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,282 [pool-729-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:21,309 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-11-04 10:30:21,350 [pool-727-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,350 [pool-727-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-11-04 10:30:21,354 [pool-727-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-11-04 10:30:23,766 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:23,766 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:23,791 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: close
2021-11-04 10:30:23,792 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: shutdown
2021-11-04 10:30:23,792 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:23,792 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:23,792 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:23,792 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:23,795 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5FBDCEFC9871: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0
2021-11-04 10:30:23,798 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5FBDCEFC9871: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0 took: 3 ms
2021-11-04 10:30:23,799 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:23,799 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:23,799 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871: closes. applyIndex: 0
2021-11-04 10:30:23,802 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:23,803 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: close
2021-11-04 10:30:23,803 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: shutdown
2021-11-04 10:30:23,803 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AB64DDEDE298,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:23,803 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-LeaderStateImpl
2021-11-04 10:30:23,803 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:23,804 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:23,804 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-AB64DDEDE298: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298/sm/snapshot.1_0
2021-11-04 10:30:23,805 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-AB64DDEDE298: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/39c5c9c7-4c47-4671-88c1-ab64ddede298/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:30:23,805 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:23,805 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:23,805 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298: closes. applyIndex: 0
2021-11-04 10:30:23,808 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:23,810 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-5FBDCEFC9871-SegmentedRaftLogWorker close()
2021-11-04 10:30:23,810 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-AB64DDEDE298-SegmentedRaftLogWorker close()
2021-11-04 10:30:23,812 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: shutdown
2021-11-04 10:30:23,812 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3E7C0C4D3E05,id=972d567e-6cad-4d89-81ac-1eb9b77d1b68
2021-11-04 10:30:23,812 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-LeaderStateImpl
2021-11-04 10:30:23,812 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:23,813 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:23,813 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-3E7C0C4D3E05: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05/sm/snapshot.1_0
2021-11-04 10:30:23,814 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: shutdown
2021-11-04 10:30:23,814 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=846193e6-4976-43ef-8cfc-af101cd55fb8
2021-11-04 10:30:23,814 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-LeaderStateImpl
2021-11-04 10:30:23,814 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->17000f6a-7be3-454d-a73d-93c4d36d04d2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:23,814 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-3E7C0C4D3E05: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-0/data/ratis/351b9dae-d1ec-4619-bd2b-3e7c0c4d3e05/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:30:23,814 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->972d567e-6cad-4d89-81ac-1eb9b77d1b68-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:23,814 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:23,814 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:23,815 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: Completed APPEND_ENTRIES, lastRequest: 846193e6-4976-43ef-8cfc-af101cd55fb8->972d567e-6cad-4d89-81ac-1eb9b77d1b68#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-11-04 10:30:23,815 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->972d567e-6cad-4d89-81ac-1eb9b77d1b68-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:23,815 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: Completed APPEND_ENTRIES, lastRequest: 846193e6-4976-43ef-8cfc-af101cd55fb8->17000f6a-7be3-454d-a73d-93c4d36d04d2#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-11-04 10:30:23,815 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->972d567e-6cad-4d89-81ac-1eb9b77d1b68: nextIndex: updateUnconditionally 1 -> 0
2021-11-04 10:30:23,816 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->17000f6a-7be3-454d-a73d-93c4d36d04d2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:23,817 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871->17000f6a-7be3-454d-a73d-93c4d36d04d2: nextIndex: updateUnconditionally 1 -> 0
2021-11-04 10:30:23,816 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:23,816 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05: closes. applyIndex: 0
2021-11-04 10:30:23,818 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:23,818 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5FBDCEFC9871: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0
2021-11-04 10:30:23,818 [972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:23,819 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5FBDCEFC9871: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-1/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:30:23,819 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:23,819 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:23,819 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871: closes. applyIndex: 0
2021-11-04 10:30:23,820 [846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:23,828 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68@group-3E7C0C4D3E05-SegmentedRaftLogWorker close()
2021-11-04 10:30:23,828 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 846193e6-4976-43ef-8cfc-af101cd55fb8@group-5FBDCEFC9871-SegmentedRaftLogWorker close()
2021-11-04 10:30:23,864 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown server with port 46133 now
2021-11-04 10:30:23,865 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown server with port 39169 now
2021-11-04 10:30:23,894 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 972d567e-6cad-4d89-81ac-1eb9b77d1b68: shutdown server with port 46133 successfully
2021-11-04 10:30:23,896 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@78672271] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-972d567e-6cad-4d89-81ac-1eb9b77d1b68: Stopped
2021-11-04 10:30:23,925 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 846193e6-4976-43ef-8cfc-af101cd55fb8: shutdown server with port 39169 successfully
2021-11-04 10:30:23,925 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@6888df6b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-846193e6-4976-43ef-8cfc-af101cd55fb8: Stopped
2021-11-04 10:30:23,931 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:23,940 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:24,858 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-11-04 10:30:24,858 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-11-04 10:30:24,859 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-11-04 10:30:24,861 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:30:24,861 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:30:24,861 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:30:24,861 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:30:24,861 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 36119
2021-11-04 10:30:24,883 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:24,883 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:24,928 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:30:24,929 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:24,929 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 which uses HEALTHY READONLY datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:24,929 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 close command to datanode 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:24,930 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 close command to datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:24,930 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 close command to datanode abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:24,930 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:30:24,931 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:30:24,931 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43703
2021-11-04 10:30:24,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 4b2ca1f1-053c-45e0-8df7-b4f4460509a2, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.645Z[Etc/UTC]] removed.
2021-11-04 10:30:24,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec which uses HEALTHY READONLY datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:24,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec close command to datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:24,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: cc5edeba-899f-4228-a6e4-eb7984a82aec, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:1528c4d2-af24-4f5c-9fbb-bf358b31659b, CreationTimestamp2021-11-04T10:29:27.594Z[Etc/UTC]] removed.
2021-11-04 10:30:24,965 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:24,965 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c which uses HEALTHY READONLY datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:24,965 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c close command to datanode 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:24,966 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 3ac1bc24-ba32-4650-8323-7e4c18b8537c, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:29:28.131Z[Etc/UTC]] removed.
2021-11-04 10:30:24,966 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-11-04 10:30:24,966 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 which uses HEALTHY READONLY datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-11-04 10:30:24,966 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 close command to datanode abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:24,966 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(223)) - Pipeline Pipeline[ Id: 3a0844c0-83e8-4394-bfd4-cd268df9df89, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:abf54110-b118-445d-9ffa-0513a506dd37, CreationTimestamp2021-11-04T10:29:28.595Z[Etc/UTC]] removed.
2021-11-04 10:30:24,964 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:30:24,966 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:30:24,966 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38401
2021-11-04 10:30:24,966 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:24,968 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:30:24,969 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6affb9c1{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:30:24,969 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:24,972 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@21bca94c{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:24,972 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:24,973 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@566c1ebc{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:30:24,973 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@274ff868{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:24,990 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:25,003 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:25,003 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:30:25,004 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:25,008 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:25,008 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:30:25,010 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:30:25,010 [Time-limited test] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-11-04 10:30:25,010 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:30:25,011 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-11-04 10:30:25,049 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:30:25,057 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-11-04 10:30:25,074 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-11-04 10:30:25,074 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-11-04 10:30:25,075 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:30:25,075 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-11-04 10:30:25,181 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 103 ms to scan 7 urls, producing 119 keys and 279 values 
2021-11-04 10:30:25,182 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:30:25,189 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-11-04 10:30:25,295 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:36119 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az59-461/10.1.0.36"; destination host is: "0.0.0.0":36119; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-11-04 10:30:25,338 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-11-04 10:30:25,338 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-11-04 10:30:25,356 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:30:25,356 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-11-04 10:30:25,357 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-11-04 10:30:25,357 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-11-04 10:30:25,357 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:30:25,358 [Time-limited test] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-11-04 10:30:25,358 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-11-04 10:30:25,358 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-11-04 10:30:25,358 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-11-04 10:30:25,359 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-11-04 10:30:25,359 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-11-04 10:30:25,359 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-11-04 10:30:25,359 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-11-04 10:30:25,360 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-11-04 10:30:25,361 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-11-04 10:30:25,361 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-11-04 10:30:25,363 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:30:25,364 [Socket Reader #1 for port 36119] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 36119
2021-11-04 10:30:25,365 [Listener at 0.0.0.0/36119] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:30:25,379 [Socket Reader #1 for port 43703] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 43703
2021-11-04 10:30:25,417 [Listener at 0.0.0.0/43703] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-11-04 10:30:25,443 [Socket Reader #1 for port 38401] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 38401
2021-11-04 10:30:25,451 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-11-04 10:30:25,573 [Listener at 0.0.0.0/38401] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-11-04 10:30:25,578 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-11-04 10:30:25,578 [Listener at 0.0.0.0/38401] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:30:25,578 [Listener at 0.0.0.0/38401] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-11-04 10:30:25,578 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38401
2021-11-04 10:30:25,618 [Listener at 0.0.0.0/38401] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-11-04 10:30:25,634 [Listener at 0.0.0.0/38401] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-11-04 10:30:25,635 [Listener at 0.0.0.0/38401] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-11-04 10:30:25,711 [Listener at 0.0.0.0/38401] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-11-04 10:30:25,712 [Listener at 0.0.0.0/38401] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-11-04 10:30:25,771 [Listener at 0.0.0.0/38401] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:38401
2021-11-04 10:30:25,777 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:30:25,820 [IPC Server listener on 38401] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 38401: starting
2021-11-04 10:30:25,863 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43703
2021-11-04 10:30:25,863 [Listener at 0.0.0.0/38401] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43703
2021-11-04 10:30:25,864 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:30:25,864 [IPC Server listener on 43703] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 43703: starting
2021-11-04 10:30:25,865 [Listener at 0.0.0.0/38401] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:36119
2021-11-04 10:30:25,865 [Listener at 0.0.0.0/38401] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:36119
2021-11-04 10:30:25,901 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-11-04 10:30:25,932 [IPC Server listener on 36119] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 36119: starting
2021-11-04 10:30:25,973 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2bd53af4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-11-04 10:30:25,973 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:44745
2021-11-04 10:30:25,974 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-11-04 10:30:25,975 [Listener at 0.0.0.0/38401] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-11-04 10:30:26,004 [Listener at 0.0.0.0/38401] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-11-04 10:30:26,005 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-11-04 10:30:26,005 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-11-04 10:30:26,005 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-11-04 10:30:26,005 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-11-04 10:30:26,006 [Listener at 0.0.0.0/38401] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44745
2021-11-04 10:30:26,006 [Listener at 0.0.0.0/38401] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-11-04 10:30:26,034 [Listener at 0.0.0.0/38401] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-11-04 10:30:26,034 [Listener at 0.0.0.0/38401] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-11-04 10:30:26,034 [Listener at 0.0.0.0/38401] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-11-04 10:30:26,035 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@308c790c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-11-04 10:30:26,035 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@46ca5995{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-11-04 10:30:26,044 [Listener at 0.0.0.0/38401] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4f1fa14f{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:30:26,085 [Listener at 0.0.0.0/38401] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@21320681{HTTP/1.1, (http/1.1)}{0.0.0.0:44745}
2021-11-04 10:30:26,085 [Listener at 0.0.0.0/38401] INFO  server.Server (Server.java:doStart(415)) - Started @183763ms
2021-11-04 10:30:26,085 [Listener at 0.0.0.0/38401] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-11-04 10:30:26,087 [Listener at 0.0.0.0/38401] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:44745
2021-11-04 10:30:26,087 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:30:26,087 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:26,087 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:26,369 [EndpointStateMachine task thread for /0.0.0.0:36119 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:36119. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-11-04 10:30:26,426 [IPC Server handler 0 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,426 [IPC Server handler 1 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,426 [IPC Server handler 2 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,439 [IPC Server handler 3 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,440 [IPC Server handler 3 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,440 [IPC Server handler 3 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,444 [IPC Server handler 5 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,444 [IPC Server handler 6 on default port 36119] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-11-04 10:30:26,794 [IPC Server handler 8 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:26,795 [IPC Server handler 8 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:30:26,805 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-11-04 10:30:26,805 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-11-04 10:30:26,805 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-11-04 10:30:26,805 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:26,866 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 is not found
2021-11-04 10:30:26,866 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-11-04 10:30:26,866 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:26,867 [IPC Server handler 9 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:26,867 [IPC Server handler 9 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:30:26,867 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:26,868 [IPC Server handler 10 on default port 36119] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:26,868 [IPC Server handler 10 on default port 36119] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-11-04 10:30:26,868 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:26,873 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-11-04 10:30:26,873 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:26,893 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec is not found
2021-11-04 10:30:26,916 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:26,916 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c is not found
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-11-04 10:30:26,916 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:26,917 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-11-04 10:30:26,958 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:26,961 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3e8d4573{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:26,962 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3ce12b38{HTTP/1.1, (http/1.1)}{0.0.0.0:42457}
2021-11-04 10:30:26,962 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:26,962 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7db89d15{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:26,962 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4b885b14{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:27,001 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:27,004 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4d75a8de{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:27,039 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5369c627{HTTP/1.1, (http/1.1)}{0.0.0.0:46489}
2021-11-04 10:30:27,039 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:27,039 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@203b962e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:27,039 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1b593f48{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:27,092 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:30:27,092 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:27,092 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:27,293 [IPC Server handler 0 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,364 [IPC Server handler 2 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,365 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:27,365 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec is not found
2021-11-04 10:30:27,372 [IPC Server handler 1 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,793 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - abf54110-b118-445d-9ffa-0513a506dd37: remove  FOLLOWER abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2:t3, leader=671e72df-a771-4e49-9664-49193e3bb5a9, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLog:OPENED:c9, conf=0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:30:27,793 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: shutdown
2021-11-04 10:30:27,793 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:27,793 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState
2021-11-04 10:30:27,793 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater: set stopIndex = 9
2021-11-04 10:30:27,793 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:27,794 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B4F4460509A2: Taking a snapshot at:(t:3, i:9) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9
2021-11-04 10:30:27,793 [IPC Server handler 8 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,795 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:27,795 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 is not found
2021-11-04 10:30:27,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B4F4460509A2: Finished taking a snapshot at:(t:3, i:9) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9 took: 2 ms
2021-11-04 10:30:27,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater: Took a snapshot at index 9
2021-11-04 10:30:27,796 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 9
2021-11-04 10:30:27,797 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: closes. applyIndex: 9
2021-11-04 10:30:27,797 [abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:27,798 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2-SegmentedRaftLogWorker close()
2021-11-04 10:30:27,799 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - abf54110-b118-445d-9ffa-0513a506dd37@group-B4F4460509A2: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:30:27,799 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 command on datanode abf54110-b118-445d-9ffa-0513a506dd37.
2021-11-04 10:30:27,799 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - abf54110-b118-445d-9ffa-0513a506dd37: remove    LEADER abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89:t1, leader=abf54110-b118-445d-9ffa-0513a506dd37, voted=abf54110-b118-445d-9ffa-0513a506dd37, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLog:OPENED:c0, conf=0: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:27,799 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: shutdown
2021-11-04 10:30:27,799 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CD268DF9DF89,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:27,799 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-LeaderStateImpl
2021-11-04 10:30:27,799 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:27,800 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CD268DF9DF89: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89/sm/snapshot.1_0
2021-11-04 10:30:27,800 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:27,801 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CD268DF9DF89: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:30:27,801 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:27,801 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:27,808 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: closes. applyIndex: 0
2021-11-04 10:30:27,809 [abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:27,814 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89-SegmentedRaftLogWorker close()
2021-11-04 10:30:27,814 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - abf54110-b118-445d-9ffa-0513a506dd37@group-CD268DF9DF89: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/3a0844c0-83e8-4394-bfd4-cd268df9df89
2021-11-04 10:30:27,814 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3a0844c0-83e8-4394-bfd4-cd268df9df89 command on datanode abf54110-b118-445d-9ffa-0513a506dd37.
2021-11-04 10:30:27,814 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:27,814 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:27,814 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:27,814 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:27,832 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:27,832 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data-0/containers/hdds/c69fe9d1-f624-4a36-9679-d242b03940b1. No action required for SCM HA finalization.
2021-11-04 10:30:27,835 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:27,857 [IPC Server handler 9 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,875 [IPC Server handler 10 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:27,876 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 is not found
2021-11-04 10:30:27,876 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c is not found
2021-11-04 10:30:28,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-11-04 10:30:28,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:28,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:28,354 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: remove  FOLLOWER 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2:t3, leader=671e72df-a771-4e49-9664-49193e3bb5a9, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLog:OPENED:c9, conf=0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:30:28,355 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: shutdown
2021-11-04 10:30:28,355 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:28,355 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState
2021-11-04 10:30:28,355 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater: set stopIndex = 9
2021-11-04 10:30:28,355 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:28,355 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B4F4460509A2: Taking a snapshot at:(t:3, i:9) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9
2021-11-04 10:30:28,360 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B4F4460509A2: Finished taking a snapshot at:(t:3, i:9) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9 took: 5 ms
2021-11-04 10:30:28,360 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater: Took a snapshot at index 9
2021-11-04 10:30:28,360 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 9
2021-11-04 10:30:28,361 [IPC Server handler 2 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:28,361 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: closes. applyIndex: 9
2021-11-04 10:30:28,362 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:28,366 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 671e72df-a771-4e49-9664-49193e3bb5a9: remove    LEADER 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2:t3, leader=671e72df-a771-4e49-9664-49193e3bb5a9, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLog:OPENED:c9, conf=0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null RUNNING
2021-11-04 10:30:28,367 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: shutdown
2021-11-04 10:30:28,367 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B4F4460509A2,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:28,367 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-LeaderStateImpl
2021-11-04 10:30:28,372 [IPC Server handler 1 on default port 36119] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-11-04 10:30:28,374 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:28,374 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:28,375 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=12c6e306-268a-4988-be2a-c5e538c9aca9 to datanode:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:28,375 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 12c6e306-268a-4988-be2a-c5e538c9aca9, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:28.375Z[Etc/UTC]].
2021-11-04 10:30:28,375 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-11-04 10:30:28,388 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2-SegmentedRaftLogWorker close()
2021-11-04 10:30:28,389 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-B4F4460509A2: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:30:28,389 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 command on datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b.
2021-11-04 10:30:28,389 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: remove    LEADER 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC:t1, leader=1528c4d2-af24-4f5c-9fbb-bf358b31659b, voted=1528c4d2-af24-4f5c-9fbb-bf358b31659b, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLog:OPENED:c0, conf=0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:28,389 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: shutdown
2021-11-04 10:30:28,389 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EB7984A82AEC,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:28,389 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-LeaderStateImpl
2021-11-04 10:30:28,389 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:28,390 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:28,390 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EB7984A82AEC: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec/sm/snapshot.1_0
2021-11-04 10:30:28,391 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:28,392 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - abf54110-b118-445d-9ffa-0513a506dd37: Completed APPEND_ENTRIES, lastRequest: 671e72df-a771-4e49-9664-49193e3bb5a9->abf54110-b118-445d-9ffa-0513a506dd37#234-t3,previous=(t:3, i:8),leaderCommit=8,initializing? true,entries: size=1, first=(t:3, i:9), METADATAENTRY(c:8)
2021-11-04 10:30:28,393 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater: set stopIndex = 9
2021-11-04 10:30:28,394 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B4F4460509A2: Taking a snapshot at:(t:3, i:9) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9
2021-11-04 10:30:28,396 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B4F4460509A2: Finished taking a snapshot at:(t:3, i:9) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2/sm/snapshot.3_9 took: 2 ms
2021-11-04 10:30:28,396 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater: Took a snapshot at index 9
2021-11-04 10:30:28,396 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 9
2021-11-04 10:30:28,396 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: closes. applyIndex: 9
2021-11-04 10:30:28,397 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:28,397 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->abf54110-b118-445d-9ffa-0513a506dd37-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:28,397 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->abf54110-b118-445d-9ffa-0513a506dd37: nextIndex: updateUnconditionally 10 -> 9
2021-11-04 10:30:28,401 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2-SegmentedRaftLogWorker close()
2021-11-04 10:30:28,402 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/4b2ca1f1-053c-45e0-8df7-b4f4460509a2
2021-11-04 10:30:28,402 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=4b2ca1f1-053c-45e0-8df7-b4f4460509a2 command on datanode 671e72df-a771-4e49-9664-49193e3bb5a9.
2021-11-04 10:30:28,402 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 671e72df-a771-4e49-9664-49193e3bb5a9: remove    LEADER 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C:t1, leader=671e72df-a771-4e49-9664-49193e3bb5a9, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLog:OPENED:c0, conf=0: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1], old=null RUNNING
2021-11-04 10:30:28,402 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: shutdown
2021-11-04 10:30:28,402 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7E4C18B8537C,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:28,402 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-LeaderStateImpl
2021-11-04 10:30:28,402 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:28,403 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:28,403 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-7E4C18B8537C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c/sm/snapshot.1_0
2021-11-04 10:30:28,404 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-7E4C18B8537C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:30:28,404 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:28,404 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:28,404 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: closes. applyIndex: 0
2021-11-04 10:30:28,404 [671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:28,404 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C-SegmentedRaftLogWorker close()
2021-11-04 10:30:28,405 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-7E4C18B8537C: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/3ac1bc24-ba32-4650-8323-7e4c18b8537c
2021-11-04 10:30:28,405 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3ac1bc24-ba32-4650-8323-7e4c18b8537c command on datanode 671e72df-a771-4e49-9664-49193e3bb5a9.
2021-11-04 10:30:28,405 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:28,405 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:28,405 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:28,405 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:28,408 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:28,408 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data-0/containers/hdds/c69fe9d1-f624-4a36-9679-d242b03940b1. No action required for SCM HA finalization.
2021-11-04 10:30:28,409 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:28,409 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:28,431 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EB7984A82AEC: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec/sm/snapshot.1_0 took: 40 ms
2021-11-04 10:30:28,431 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:28,431 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:28,432 [671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->1528c4d2-af24-4f5c-9fbb-bf358b31659b-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->1528c4d2-af24-4f5c-9fbb-bf358b31659b-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:28,432 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: closes. applyIndex: 0
2021-11-04 10:30:28,432 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:28,432 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC-SegmentedRaftLogWorker close()
2021-11-04 10:30:28,433 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-EB7984A82AEC: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/cc5edeba-899f-4228-a6e4-eb7984a82aec
2021-11-04 10:30:28,433 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=cc5edeba-899f-4228-a6e4-eb7984a82aec command on datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b.
2021-11-04 10:30:28,433 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:28,433 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-11-04 10:30:28,433 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-11-04 10:30:28,433 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-11-04 10:30:28,434 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: Completed APPEND_ENTRIES, lastRequest: 671e72df-a771-4e49-9664-49193e3bb5a9->1528c4d2-af24-4f5c-9fbb-bf358b31659b#241-t3,previous=(t:3, i:8),leaderCommit=8,initializing? true,entries: size=1, first=(t:3, i:9), METADATAENTRY(c:8)
2021-11-04 10:30:28,434 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->1528c4d2-af24-4f5c-9fbb-bf358b31659b-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:28,434 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-B4F4460509A2->1528c4d2-af24-4f5c-9fbb-bf358b31659b: nextIndex: updateUnconditionally 10 -> 9
2021-11-04 10:30:28,450 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-11-04 10:30:28,450 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data-0/containers/hdds/c69fe9d1-f624-4a36-9679-d242b03940b1. No action required for SCM HA finalization.
2021-11-04 10:30:28,451 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-11-04 10:30:28,451 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:28,873 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:28,874 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:28,874 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-11-04 10:30:28,874 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-11-04 10:30:28,874 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=99dce67d-35e8-4781-905d-8c0f0f498a07 to datanode:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:28,874 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 99dce67d-35e8-4781-905d-8c0f0f498a07, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:28.874Z[Etc/UTC]].
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d469eca8-9865-41e0-a382-948ee27786c1 to datanode:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d469eca8-9865-41e0-a382-948ee27786c1 to datanode:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d469eca8-9865-41e0-a382-948ee27786c1 to datanode:1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d469eca8-9865-41e0-a382-948ee27786c1, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:28.875Z[Etc/UTC]].
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d7c21670-6724-4866-80fe-39d8c305e7a9 to datanode:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:28,875 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d7c21670-6724-4866-80fe-39d8c305e7a9, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-11-04T10:30:28.875Z[Etc/UTC]].
2021-11-04 10:30:29,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:29,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:29,093 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:29,293 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:29,293 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - abf54110-b118-445d-9ffa-0513a506dd37: addNew group-C5E538C9ACA9:[abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1] returns group-C5E538C9ACA9:java.util.concurrent.CompletableFuture@35a939c6[Not completed]
2021-11-04 10:30:29,294 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - abf54110-b118-445d-9ffa-0513a506dd37: new RaftServerImpl for group-C5E538C9ACA9:[abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,294 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: ConfigurationManager, init=-1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis] (custom)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,295 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9 does not exist. Creating ...
2021-11-04 10:30:29,297 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,310 [pool-718-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9 has been successfully formatted.
2021-11-04 10:30:29,311 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 12c6e306-268a-4988-be2a-c5e538c9aca9, Nodes: abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:abf54110-b118-445d-9ffa-0513a506dd37, CreationTimestamp2021-11-04T10:30:28.375Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C5E538C9ACA9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,311 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,312 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,322 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,328 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,328 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,329 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,335 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,337 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: start as a follower, conf=-1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null
2021-11-04 10:30:29,337 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,337 [pool-718-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState
2021-11-04 10:30:29,348 [pool-718-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5E538C9ACA9,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:29,362 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=12c6e306-268a-4988-be2a-c5e538c9aca9
2021-11-04 10:30:29,362 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=12c6e306-268a-4988-be2a-c5e538c9aca9.
2021-11-04 10:30:29,362 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - abf54110-b118-445d-9ffa-0513a506dd37: addNew group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0] returns group-948EE27786C1:java.util.concurrent.CompletableFuture@41966008[Not completed]
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - abf54110-b118-445d-9ffa-0513a506dd37: new RaftServerImpl for group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis] (custom)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,369 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 does not exist. Creating ...
2021-11-04 10:30:29,370 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:29,372 [pool-718-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,379 [pool-718-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 has been successfully formatted.
2021-11-04 10:30:29,379 [pool-718-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-948EE27786C1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,379 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,379 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,380 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:29,380 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,380 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,384 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,385 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,386 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,386 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,386 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,387 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,396 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,396 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,400 [pool-718-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,420 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,420 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,420 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,420 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,420 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,421 [pool-718-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,422 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:30:29,422 [pool-718-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,422 [pool-718-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:29,447 [pool-718-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:29,466 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=d469eca8-9865-41e0-a382-948ee27786c1
2021-11-04 10:30:29,518 [grpc-default-executor-6] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 671e72df-a771-4e49-9664-49193e3bb5a9: addNew group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] returns group-948EE27786C1:java.util.concurrent.CompletableFuture@1d40ca97[Not completed]
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 671e72df-a771-4e49-9664-49193e3bb5a9: new RaftServerImpl for group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis] (custom)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,519 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 does not exist. Creating ...
2021-11-04 10:30:29,520 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 has been successfully formatted.
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-948EE27786C1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,522 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,523 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,525 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,525 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,526 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,526 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,569 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,570 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,570 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,570 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,570 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,570 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,571 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:29,571 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,572 [pool-699-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState
2021-11-04 10:30:29,576 [pool-699-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:29,606 [grpc-default-executor-6] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: addNew group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] returns group-948EE27786C1:java.util.concurrent.CompletableFuture@1387274f[Not completed]
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: new RaftServerImpl for group-948EE27786C1:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,606 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis] (custom)
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,607 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 does not exist. Creating ...
2021-11-04 10:30:29,613 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1 has been successfully formatted.
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-948EE27786C1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,661 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,662 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,664 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,664 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,664 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,664 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,676 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,678 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:29,678 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,678 [pool-680-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:29,680 [pool-680-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:29,693 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=d469eca8-9865-41e0-a382-948ee27786c1.
2021-11-04 10:30:29,862 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:29,862 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: addNew group-8C0F0F498A07:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1] returns group-8C0F0F498A07:java.util.concurrent.CompletableFuture@5b83cf1b[Not completed]
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: new RaftServerImpl for group-8C0F0F498A07:[1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: ConfigurationManager, init=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,863 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis] (custom)
2021-11-04 10:30:29,864 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,864 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,864 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07 does not exist. Creating ...
2021-11-04 10:30:29,865 [pool-680-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,868 [pool-680-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07 has been successfully formatted.
2021-11-04 10:30:29,869 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: 99dce67d-35e8-4781-905d-8c0f0f498a07, Nodes: 1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:1528c4d2-af24-4f5c-9fbb-bf358b31659b, CreationTimestamp2021-11-04T10:30:28.874Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:29,869 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8C0F0F498A07: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,871 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,872 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,872 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 671e72df-a771-4e49-9664-49193e3bb5a9: new RaftServerImpl for group-39D8C305E7A9:[671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1] with ContainerStateMachine:uninitialized
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: ConfigurationManager, init=-1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null, confs=<EMPTY_MAP>
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis] (custom)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-11-04 10:30:29,873 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9 does not exist. Creating ...
2021-11-04 10:30:29,872 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 671e72df-a771-4e49-9664-49193e3bb5a9: addNew group-39D8C305E7A9:[671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1] returns group-39D8C305E7A9:java.util.concurrent.CompletableFuture@69ca7670[Not completed]
2021-11-04 10:30:29,874 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,876 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,876 [pool-699-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9/in_use.lock acquired by nodename 20216@fv-az59-461
2021-11-04 10:30:29,881 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,881 [pool-680-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,881 [pool-699-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9 has been successfully formatted.
2021-11-04 10:30:29,882 [pool-699-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-39D8C305E7A9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,882 [pool-680-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,884 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: start as a follower, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null
2021-11-04 10:30:29,884 [pool-680-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,884 [pool-680-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState
2021-11-04 10:30:29,884 [pool-680-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C0F0F498A07,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:29,885 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=99dce67d-35e8-4781-905d-8c0f0f498a07
2021-11-04 10:30:29,885 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=99dce67d-35e8-4781-905d-8c0f0f498a07.
2021-11-04 10:30:29,888 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-11-04 10:30:29,888 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-11-04 10:30:29,888 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-11-04 10:30:29,888 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:29,888 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-11-04 10:30:29,889 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-11-04 10:30:29,890 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-11-04 10:30:29,893 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: d7c21670-6724-4866-80fe-39d8c305e7a9, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:30:28.875Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:29,894 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:29,900 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-11-04 10:30:29,900 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,900 [pool-699-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-11-04 10:30:29,904 [pool-699-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-11-04 10:30:29,905 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: start as a follower, conf=-1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null
2021-11-04 10:30:29,905 [pool-699-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-11-04 10:30:29,906 [pool-699-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState
2021-11-04 10:30:29,906 [pool-699-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-39D8C305E7A9,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:29,907 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=d7c21670-6724-4866-80fe-39d8c305e7a9
2021-11-04 10:30:29,907 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=d7c21670-6724-4866-80fe-39d8c305e7a9.
2021-11-04 10:30:30,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:30,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:30,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:30,884 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:31,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:31,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:31,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:31,376 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:31,390 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:31,427 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState: change to CANDIDATE, lastRpcElapsedTime:10045386582ns, electionTimeout:5019ms
2021-11-04 10:30:31,427 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:31,427 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:30:31,427 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:31,428 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74
2021-11-04 10:30:31,441 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: change Leader from 846193e6-4976-43ef-8cfc-af101cd55fb8 to null at term 2 for ELECTION
2021-11-04 10:30:31,442 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74 ELECTION round 0: submit vote requests at term 3 for 0: [846193e6-4976-43ef-8cfc-af101cd55fb8|rpc:10.1.0.36:39169|dataStream:|priority:1, 972d567e-6cad-4d89-81ac-1eb9b77d1b68|rpc:10.1.0.36:46133|dataStream:|priority:0, 17000f6a-7be3-454d-a73d-93c4d36d04d2|rpc:10.1.0.36:38669|dataStream:|priority:0], old=null
2021-11-04 10:30:31,446 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:31,447 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:31,447 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-11-04 10:30:31,447 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:31,448 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:31,448 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74 ELECTION round 0: result REJECTED
2021-11-04 10:30:31,448 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-11-04 10:30:31,448 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74
2021-11-04 10:30:31,448 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: start 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:31,881 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:31,964 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:31,965 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: close
2021-11-04 10:30:31,965 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: shutdown
2021-11-04 10:30:31,965 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EAC619B6A5BA,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:31,965 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-LeaderStateImpl
2021-11-04 10:30:31,966 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:31,966 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:31,967 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EAC619B6A5BA: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba/sm/snapshot.1_0
2021-11-04 10:30:31,967 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EAC619B6A5BA: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/fef44d6a-16b0-404f-80bc-eac619b6a5ba/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:30:31,968 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:31,968 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:31,968 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA: closes. applyIndex: 0
2021-11-04 10:30:31,968 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:31,974 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-EAC619B6A5BA-SegmentedRaftLogWorker close()
2021-11-04 10:30:31,976 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: shutdown
2021-11-04 10:30:31,976 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5FBDCEFC9871,id=17000f6a-7be3-454d-a73d-93c4d36d04d2
2021-11-04 10:30:31,976 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState
2021-11-04 10:30:31,976 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:31,976 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:31,976 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5FBDCEFC9871: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0
2021-11-04 10:30:31,977 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5FBDCEFC9871: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-45668470-fb21-479b-a310-ee77c3cc331e/datanode-2/data/ratis/c805bc4f-d2e3-4261-9165-5fbdcefc9871/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:30:31,977 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:31,977 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:31,978 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871: closes. applyIndex: 0
2021-11-04 10:30:31,978 [17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:31,979 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2@group-5FBDCEFC9871-SegmentedRaftLogWorker close()
2021-11-04 10:30:31,988 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown server with port 38669 now
2021-11-04 10:30:32,029 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 17000f6a-7be3-454d-a73d-93c4d36d04d2: shutdown server with port 38669 successfully
2021-11-04 10:30:32,029 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@3ad4f468] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-17000f6a-7be3-454d-a73d-93c4d36d04d2: Stopped
2021-11-04 10:30:32,054 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:32,094 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:32,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:32,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:32,876 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:32,882 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:32,896 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:33,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:33,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:33,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:33,876 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:33,893 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:34,095 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:34,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:34,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:34,385 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:34,392 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5055636959ns, electionTimeout:5036ms
2021-11-04 10:30:34,393 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState
2021-11-04 10:30:34,393 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:34,393 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:34,393 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75 ELECTION round 0: submit vote requests at term 1 for -1: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:1], old=null
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C5E538C9ACA9 with new leaderId: abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:34,445 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: change Leader from null to abf54110-b118-445d-9ffa-0513a506dd37 at term 1 for becomeLeader, leader elected after 5134ms
2021-11-04 10:30:34,446 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:34,446 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:34,448 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:34,451 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:34,451 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:34,451 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:34,452 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:34,452 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:34,452 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:34,452 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderStateImpl
2021-11-04 10:30:34,452 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:34,484 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: set configuration 0: [abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:1], old=null
2021-11-04 10:30:34,485 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9/current/log_inprogress_0
2021-11-04 10:30:34,585 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5162521725ns, electionTimeout:5137ms
2021-11-04 10:30:34,585 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,585 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:34,585 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:34,585 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76
2021-11-04 10:30:34,625 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76 ELECTION round 0: submit vote requests at term 1 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:30:34,664 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: receive requestVote(ELECTION, abf54110-b118-445d-9ffa-0513a506dd37, group-948EE27786C1, 1, (t:0, i:0))
2021-11-04 10:30:34,664 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FOLLOWER: reject ELECTION from abf54110-b118-445d-9ffa-0513a506dd37: our priority 1 > candidate's priority 0
2021-11-04 10:30:34,664 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:34,664 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,664 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,664 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:34,667 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: receive requestVote(ELECTION, abf54110-b118-445d-9ffa-0513a506dd37, group-948EE27786C1, 1, (t:0, i:0))
2021-11-04 10:30:34,667 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FOLLOWER: accept ELECTION from abf54110-b118-445d-9ffa-0513a506dd37: our priority 0 <= candidate's priority 0
2021-11-04 10:30:34,667 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:34,667 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,682 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,688 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1 replies to ELECTION vote request: abf54110-b118-445d-9ffa-0513a506dd37<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t1. Peer's state: 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1:t1, leader=null, voted=null, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: abf54110-b118-445d-9ffa-0513a506dd37<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t1
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76 ELECTION round 0: result REJECTED
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76
2021-11-04 10:30:34,696 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:34,696 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:34,697 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1 replies to ELECTION vote request: abf54110-b118-445d-9ffa-0513a506dd37<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:OK-t1. Peer's state: 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1:t1, leader=null, voted=abf54110-b118-445d-9ffa-0513a506dd37, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:34,896 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:34,973 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5067068887ns, electionTimeout:5066ms
2021-11-04 10:30:34,973 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState
2021-11-04 10:30:34,973 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:34,973 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:34,973 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77 ELECTION round 0: submit vote requests at term 1 for -1: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1], old=null
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-39D8C305E7A9 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 1 for becomeLeader, leader elected after 5120ms
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:35,009 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderStateImpl
2021-11-04 10:30:35,010 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:35,016 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:35,017 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9/current/log_inprogress_0
2021-11-04 10:30:35,019 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5135025193ns, electionTimeout:5134ms
2021-11-04 10:30:35,019 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState
2021-11-04 10:30:35,019 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-11-04 10:30:35,042 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:35,042 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78
2021-11-04 10:30:35,042 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: set configuration 0: [671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1], old=null
2021-11-04 10:30:35,064 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:35,067 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@543036ad{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:35,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:35,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:35,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:35,096 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3992c226{HTTP/1.1, (http/1.1)}{0.0.0.0:42343}
2021-11-04 10:30:35,097 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:35,097 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@b3c125e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:35,097 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@ce45c89{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:30:35,098 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40731
2021-11-04 10:30:35,126 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:35,126 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:35,127 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:30:35,127 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:30:35,127 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:30:35,127 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40343
2021-11-04 10:30:35,136 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:30:35,136 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:30:35,136 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38075
2021-11-04 10:30:35,136 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:35,137 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78 ELECTION round 0: submit vote requests at term 1 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:1], old=null
2021-11-04 10:30:35,137 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78 ELECTION round 0: result PASSED (term=1)
2021-11-04 10:30:35,137 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78
2021-11-04 10:30:35,138 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-11-04 10:30:35,138 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-8C0F0F498A07 with new leaderId: 1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:35,139 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:35,139 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:35,139 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: change Leader from null to 1528c4d2-af24-4f5c-9fbb-bf358b31659b at term 1 for becomeLeader, leader elected after 5266ms
2021-11-04 10:30:35,139 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:35,140 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:35,161 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:35,161 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:35,162 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:35,162 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:35,162 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:35,163 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:35,164 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:35,162 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:30:35,164 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:35,164 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderStateImpl
2021-11-04 10:30:35,165 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1974652d{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:30:35,165 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:35,165 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@30f52f99{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:35,165 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:35,165 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ed539e7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:30:35,165 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@148059cb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:35,167 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07/current/log_inprogress_0
2021-11-04 10:30:35,183 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:1], old=null
2021-11-04 10:30:35,186 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:30:35,186 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:35,193 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:35,193 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:30:35,211 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:30:35,211 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:30:35,211 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:30:35,212 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-11-04 10:30:35,214 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-11-04 10:30:35,228 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-11-04 10:30:35,446 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:35,639 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:36,013 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:36,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:36,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:36,096 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:36,645 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:36,952 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:37,097 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:37,097 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:37,097 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:37,950 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:38,020 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:38,097 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:38,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:38,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:38,144 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:39,020 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:39,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:39,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-11-04 10:30:39,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:39,139 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:39,456 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:39,754 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5058291719ns, electionTimeout:5030ms
2021-11-04 10:30:39,754 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:39,754 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:30:39,755 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:39,755 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79
2021-11-04 10:30:39,763 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5099086403ns, electionTimeout:5076ms
2021-11-04 10:30:39,764 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState
2021-11-04 10:30:39,764 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-11-04 10:30:39,764 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:39,764 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80
2021-11-04 10:30:39,788 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80 ELECTION round 0: submit vote requests at term 2 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,788 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79 ELECTION round 0: submit vote requests at term 2 for -1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:30:39,795 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: receive requestVote(ELECTION, 671e72df-a771-4e49-9664-49193e3bb5a9, group-948EE27786C1, 2, (t:0, i:0))
2021-11-04 10:30:39,795 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(48)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FOLLOWER: accept ELECTION from 671e72df-a771-4e49-9664-49193e3bb5a9: our priority 0 <= candidate's priority 1
2021-11-04 10:30:39,796 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:39,796 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:39,803 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: receive requestVote(ELECTION, 671e72df-a771-4e49-9664-49193e3bb5a9, group-948EE27786C1, 2, (t:0, i:0))
2021-11-04 10:30:39,803 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-CANDIDATE: reject ELECTION from 671e72df-a771-4e49-9664-49193e3bb5a9: already has voted for abf54110-b118-445d-9ffa-0513a506dd37 at current term 2
2021-11-04 10:30:39,803 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1 replies to ELECTION vote request: 671e72df-a771-4e49-9664-49193e3bb5a9<-abf54110-b118-445d-9ffa-0513a506dd37#0:FAIL-t2. Peer's state: abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1:t2, leader=null, voted=abf54110-b118-445d-9ffa-0513a506dd37, raftlog=abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|priority:0], old=null
2021-11-04 10:30:39,806 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: start 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:39,810 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: receive requestVote(ELECTION, abf54110-b118-445d-9ffa-0513a506dd37, group-948EE27786C1, 2, (t:0, i:0))
2021-11-04 10:30:39,834 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:39,871 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1 replies to ELECTION vote request: 671e72df-a771-4e49-9664-49193e3bb5a9<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:OK-t2. Peer's state: 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1:t2, leader=null, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,871 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FOLLOWER: reject ELECTION from abf54110-b118-445d-9ffa-0513a506dd37: already has voted for 671e72df-a771-4e49-9664-49193e3bb5a9 at current term 2
2021-11-04 10:30:39,871 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1 replies to ELECTION vote request: abf54110-b118-445d-9ffa-0513a506dd37<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:FAIL-t2. Peer's state: 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1:t2, leader=null, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLog:OPENED:c-1, conf=-1: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80: ELECTION PASSED received 2 response(s) and 0 exception(s):
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 671e72df-a771-4e49-9664-49193e3bb5a9<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:OK-t2
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 671e72df-a771-4e49-9664-49193e3bb5a9<-abf54110-b118-445d-9ffa-0513a506dd37#0:FAIL-t2
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80 ELECTION round 0: result PASSED
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-11-04 10:30:39,872 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-948EE27786C1 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 2 for becomeLeader, leader elected after 10350ms
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-11-04 10:30:39,873 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:30:39,874 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-11-04 10:30:39,875 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-11-04 10:30:39,877 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(289)) - Pipeline Pipeline[ Id: d469eca8-9865-41e0-a382-948ee27786c1, Nodes: 671e72df-a771-4e49-9664-49193e3bb5a9{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=38931, RATIS=42439, RATIS_ADMIN=42439, RATIS_SERVER=42439, STANDALONE=43611], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}abf54110-b118-445d-9ffa-0513a506dd37{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=44721, RATIS=46671, RATIS_ADMIN=46671, RATIS_SERVER=46671, STANDALONE=41391], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}1528c4d2-af24-4f5c-9fbb-bf358b31659b{ip: 10.1.0.36, host: fv-az59-461.csjynl4pkq3e1pkirw3ssqjfoh.cx.internal.cloudapp.net, ports: [REPLICATION=45515, RATIS=44165, RATIS_ADMIN=44165, RATIS_SERVER=44165, STANDALONE=34193], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:671e72df-a771-4e49-9664-49193e3bb5a9, CreationTimestamp2021-11-04T10:30:28.875Z[Etc/UTC]] moved to OPEN state
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-11-04 10:30:39,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-11-04 10:30:39,879 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: receive requestVote(ELECTION, abf54110-b118-445d-9ffa-0513a506dd37, group-948EE27786C1, 2, (t:0, i:0))
2021-11-04 10:30:39,880 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 671e72df-a771-4e49-9664-49193e3bb5a9: start 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderStateImpl
2021-11-04 10:30:39,880 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:39,882 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/current/log_inprogress_0
2021-11-04 10:30:39,913 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,914 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LEADER: reject ELECTION from abf54110-b118-445d-9ffa-0513a506dd37: already has voted for 671e72df-a771-4e49-9664-49193e3bb5a9 at current term 2
2021-11-04 10:30:39,914 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1 replies to ELECTION vote request: abf54110-b118-445d-9ffa-0513a506dd37<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t2. Peer's state: 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1:t2, leader=671e72df-a771-4e49-9664-49193e3bb5a9, voted=671e72df-a771-4e49-9664-49193e3bb5a9, raftlog=671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLog:OPENED:c0, conf=0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: abf54110-b118-445d-9ffa-0513a506dd37<-1528c4d2-af24-4f5c-9fbb-bf358b31659b#0:FAIL-t2
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: abf54110-b118-445d-9ffa-0513a506dd37<-671e72df-a771-4e49-9664-49193e3bb5a9#0:FAIL-t2
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79 ELECTION round 0: result REJECTED
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-11-04 10:30:39,920 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79
2021-11-04 10:30:39,921 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:39,926 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-948EE27786C1 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:39,926 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 2 for appendEntries, leader elected after 10546ms
2021-11-04 10:30:39,928 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,928 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:39,930 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/current/log_inprogress_0
2021-11-04 10:30:39,967 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-948EE27786C1 with new leaderId: 671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:39,967 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: change Leader from null to 671e72df-a771-4e49-9664-49193e3bb5a9 at term 2 for appendEntries, leader elected after 10306ms
2021-11-04 10:30:39,988 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: set configuration 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:39,989 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker: Starting segment from index:0
2021-11-04 10:30:39,992 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/current/log_inprogress_0
2021-11-04 10:30:40,098 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-11-04 10:30:40,099 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-11-04 10:30:40,099 [Listener at 0.0.0.0/38401] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-11-04 10:30:40,101 [Listener at 0.0.0.0/38401] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:83)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmCompleteFinalization(TestHDDSUpgrade.java:717)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-11-04 10:30:40,103 [Listener at 0.0.0.0/38401] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:30:40,103 [Listener at 0.0.0.0/38401] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-11-04 10:30:40,210 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-11-04 10:30:40,211 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-11-04 10:30:40,211 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-11-04 10:30:40,211 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1697)) - Stopping Ozone Manager
2021-11-04 10:30:40,211 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 33049
2021-11-04 10:30:40,226 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:40,227 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-11-04 10:30:40,227 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-11-04 10:30:40,227 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-11-04 10:30:40,227 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-11-04 10:30:40,227 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:40,229 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-11-04 10:30:40,230 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-11-04 10:30:40,230 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-11-04 10:30:40,230 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-11-04 10:30:40,230 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-11-04 10:30:40,230 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-11-04 10:30:40,230 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:40,231 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-11-04 10:30:40,232 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 37543 now
2021-11-04 10:30:40,240 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 37543 successfully
2021-11-04 10:30:40,240 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1729a6d9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-11-04 10:30:40,240 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-11-04 10:30:40,240 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-11-04 10:30:40,241 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-11-04 10:30:40,242 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-11-04 10:30:40,243 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@45eeac53{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-11-04 10:30:40,248 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7a1a5adb{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:40,248 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:40,249 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@11a46856{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:30:40,249 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@32b3c51a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:40,251 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-11-04 10:30:45,252 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:45,252 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: close
2021-11-04 10:30:45,252 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:45,253 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: shutdown
2021-11-04 10:30:45,253 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8C0F0F498A07,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:45,253 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-LeaderStateImpl
2021-11-04 10:30:45,253 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:45,254 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:45,254 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-8C0F0F498A07: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07/sm/snapshot.1_0
2021-11-04 10:30:45,255 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 671e72df-a771-4e49-9664-49193e3bb5a9: close
2021-11-04 10:30:45,255 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: shutdown
2021-11-04 10:30:45,255 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-39D8C305E7A9,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:45,255 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-LeaderStateImpl
2021-11-04 10:30:45,256 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:45,256 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:45,255 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-8C0F0F498A07: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/99dce67d-35e8-4781-905d-8c0f0f498a07/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:30:45,257 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-39D8C305E7A9: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9/sm/snapshot.1_0
2021-11-04 10:30:45,257 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-39D8C305E7A9: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d7c21670-6724-4866-80fe-39d8c305e7a9/sm/snapshot.1_0 took: 1 ms
2021-11-04 10:30:45,258 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:45,258 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:45,258 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:45,258 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:45,258 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07: closes. applyIndex: 0
2021-11-04 10:30:45,260 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:45,260 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9: closes. applyIndex: 0
2021-11-04 10:30:45,260 [671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:45,264 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-8C0F0F498A07-SegmentedRaftLogWorker close()
2021-11-04 10:30:45,267 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: shutdown
2021-11-04 10:30:45,267 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=1528c4d2-af24-4f5c-9fbb-bf358b31659b
2021-11-04 10:30:45,267 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState
2021-11-04 10:30:45,267 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:45,267 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:45,267 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-948EE27786C1: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0
2021-11-04 10:30:45,268 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-948EE27786C1: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-0/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:30:45,268 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:45,268 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:45,268 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1: closes. applyIndex: 0
2021-11-04 10:30:45,269 [1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:45,269 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b@group-948EE27786C1-SegmentedRaftLogWorker close()
2021-11-04 10:30:45,270 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown server with port 44165 now
2021-11-04 10:30:45,288 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: installSnapshot onError, lastRequest: 671e72df-a771-4e49-9664-49193e3bb5a9->1528c4d2-af24-4f5c-9fbb-bf358b31659b#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:30:45,288 [grpc-default-executor-6] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->1528c4d2-af24-4f5c-9fbb-bf358b31659b-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-11-04 10:30:45,288 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->1528c4d2-af24-4f5c-9fbb-bf358b31659b-GrpcLogAppender: Leader has not got in touch with Follower 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->1528c4d2-af24-4f5c-9fbb-bf358b31659b(c0,m0,n1, attendVote=true, lastRpcSendTime=269, lastRpcResponseTime=232) yet, just keep nextIndex unchanged and retry.
2021-11-04 10:30:45,293 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 1528c4d2-af24-4f5c-9fbb-bf358b31659b: shutdown server with port 44165 successfully
2021-11-04 10:30:45,296 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-39D8C305E7A9-SegmentedRaftLogWorker close()
2021-11-04 10:30:45,300 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: shutdown
2021-11-04 10:30:45,300 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=671e72df-a771-4e49-9664-49193e3bb5a9
2021-11-04 10:30:45,300 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-LeaderStateImpl
2021-11-04 10:30:45,301 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:45,301 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:45,302 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-948EE27786C1: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0
2021-11-04 10:30:45,302 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->abf54110-b118-445d-9ffa-0513a506dd37-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->abf54110-b118-445d-9ffa-0513a506dd37-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:45,303 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - abf54110-b118-445d-9ffa-0513a506dd37: Completed APPEND_ENTRIES, lastRequest: 671e72df-a771-4e49-9664-49193e3bb5a9->abf54110-b118-445d-9ffa-0513a506dd37#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-11-04 10:30:45,303 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-948EE27786C1: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-1/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:30:45,303 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:45,303 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:45,304 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->abf54110-b118-445d-9ffa-0513a506dd37-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-11-04 10:30:45,304 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->abf54110-b118-445d-9ffa-0513a506dd37: nextIndex: updateUnconditionally 1 -> 0
2021-11-04 10:30:45,304 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1: closes. applyIndex: 0
2021-11-04 10:30:45,304 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:45,308 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1-SegmentedRaftLogWorker close()
2021-11-04 10:30:45,309 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown server with port 42439 now
2021-11-04 10:30:45,310 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@39e2ae0c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-1528c4d2-af24-4f5c-9fbb-bf358b31659b: Stopped
2021-11-04 10:30:45,310 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:45,317 [grpc-default-executor-6] WARN  client.GrpcClientProtocolService (LogUtils.java:warn(122)) - 2-UnorderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-11-04 10:30:45,340 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 671e72df-a771-4e49-9664-49193e3bb5a9: shutdown server with port 42439 successfully
2021-11-04 10:30:45,328 [671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->1528c4d2-af24-4f5c-9fbb-bf358b31659b-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 671e72df-a771-4e49-9664-49193e3bb5a9@group-948EE27786C1->1528c4d2-af24-4f5c-9fbb-bf358b31659b-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-11-04 10:30:45,352 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@1f52ae5b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-671e72df-a771-4e49-9664-49193e3bb5a9: Stopped
2021-11-04 10:30:45,352 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:48,319 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:48,320 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4e2b91f1{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:48,324 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@325aeadd{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:48,324 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:48,324 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7fba1c12{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:48,324 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3c21cdb8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:48,361 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:48,362 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@7707c5df{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:48,363 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@597cc0c4{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:48,363 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:48,363 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4dcb0253{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:48,363 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2899e480{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:50,104 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5130577540ns, electionTimeout:5033ms
2021-11-04 10:30:50,104 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:50,104 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-11-04 10:30:50,104 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-11-04 10:30:50,104 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81
2021-11-04 10:30:50,108 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: change Leader from 671e72df-a771-4e49-9664-49193e3bb5a9 to null at term 2 for ELECTION
2021-11-04 10:30:50,112 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81 ELECTION round 0: submit vote requests at term 3 for 0: [1528c4d2-af24-4f5c-9fbb-bf358b31659b|rpc:10.1.0.36:44165|dataStream:|priority:0, 671e72df-a771-4e49-9664-49193e3bb5a9|rpc:10.1.0.36:42439|dataStream:|priority:1, abf54110-b118-445d-9ffa-0513a506dd37|rpc:10.1.0.36:46671|dataStream:|priority:0], old=null
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81 ELECTION round 0: result REJECTED
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81
2021-11-04 10:30:50,123 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - abf54110-b118-445d-9ffa-0513a506dd37: start abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:53,334 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-11-04 10:30:53,335 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - abf54110-b118-445d-9ffa-0513a506dd37: close
2021-11-04 10:30:53,335 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: shutdown
2021-11-04 10:30:53,335 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5E538C9ACA9,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:53,335 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-LeaderStateImpl
2021-11-04 10:30:53,335 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-PendingRequests: sendNotLeaderResponses
2021-11-04 10:30:53,337 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:53,337 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C5E538C9ACA9: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9/sm/snapshot.1_0
2021-11-04 10:30:53,338 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C5E538C9ACA9: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/12c6e306-268a-4988-be2a-c5e538c9aca9/sm/snapshot.1_0 took: 0 ms
2021-11-04 10:30:53,338 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:53,338 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:53,341 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9: closes. applyIndex: 0
2021-11-04 10:30:53,341 [abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:53,341 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - abf54110-b118-445d-9ffa-0513a506dd37@group-C5E538C9ACA9-SegmentedRaftLogWorker close()
2021-11-04 10:30:53,342 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: shutdown
2021-11-04 10:30:53,342 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-948EE27786C1,id=abf54110-b118-445d-9ffa-0513a506dd37
2021-11-04 10:30:53,342 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState
2021-11-04 10:30:53,342 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater: set stopIndex = 0
2021-11-04 10:30:53,343 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-11-04 10:30:53,343 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-948EE27786C1: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0
2021-11-04 10:30:53,344 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-948EE27786C1: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-c69fe9d1-f624-4a36-9679-d242b03940b1/datanode-2/data/ratis/d469eca8-9865-41e0-a382-948ee27786c1/sm/snapshot.2_0 took: 1 ms
2021-11-04 10:30:53,344 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater: Took a snapshot at index 0
2021-11-04 10:30:53,344 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-11-04 10:30:53,345 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1: closes. applyIndex: 0
2021-11-04 10:30:53,345 [abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-11-04 10:30:53,345 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - abf54110-b118-445d-9ffa-0513a506dd37@group-948EE27786C1-SegmentedRaftLogWorker close()
2021-11-04 10:30:53,346 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown server with port 46671 now
2021-11-04 10:30:53,351 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - abf54110-b118-445d-9ffa-0513a506dd37: shutdown server with port 46671 successfully
2021-11-04 10:30:53,351 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/2109774668@e973be4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-abf54110-b118-445d-9ffa-0513a506dd37: Stopped
2021-11-04 10:30:53,359 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-11-04 10:30:56,369 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-11-04 10:30:56,370 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@bcf2ec3{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-11-04 10:30:56,373 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3a16d132{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-11-04 10:30:56,373 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:56,373 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5b3f10a0{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-11-04 10:30:56,373 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6fe1e0a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-11-04 10:30:56,374 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-11-04 10:30:56,375 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-11-04 10:30:56,375 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-11-04 10:30:56,375 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-11-04 10:30:56,376 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 36119
2021-11-04 10:30:56,405 [IPC Server listener on 36119] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 36119
2021-11-04 10:30:56,408 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:56,419 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-11-04 10:30:56,419 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-11-04 10:30:56,419 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-11-04 10:30:56,438 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43703
2021-11-04 10:30:56,444 [IPC Server listener on 43703] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 43703
2021-11-04 10:30:56,496 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-11-04 10:30:56,496 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-11-04 10:30:56,496 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:56,497 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38401
2021-11-04 10:30:56,530 [IPC Server listener on 38401] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 38401
2021-11-04 10:30:56,530 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-11-04 10:30:56,530 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-11-04 10:30:56,537 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4f1fa14f{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-11-04 10:30:56,544 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@21320681{HTTP/1.1, (http/1.1)}{0.0.0.0:44745}
2021-11-04 10:30:56,544 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-11-04 10:30:56,548 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@46ca5995{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-11-04 10:30:56,549 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@308c790c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-11-04 10:30:56,556 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-11-04 10:30:56,556 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:56,564 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-11-04 10:30:56,564 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-11-04 10:30:56,582 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-11-04 10:30:56,582 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-11-04 10:30:56,584 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-11-04 10:30:56,585 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
