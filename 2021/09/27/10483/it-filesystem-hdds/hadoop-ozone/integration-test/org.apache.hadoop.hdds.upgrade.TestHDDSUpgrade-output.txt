2021-09-27 13:01:29,086 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:29,165 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:01:29,165 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:01:29,264 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:29,267 [Mini-Cluster-Provider-Create] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:29,495 [Mini-Cluster-Provider-Create] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 146 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:29,609 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:29,610 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:29,611 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:29,612 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:30,200 [Mini-Cluster-Provider-Create] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:30,350 [Mini-Cluster-Provider-Create] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:30,511 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:01:30,512 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:01:30,559 [Mini-Cluster-Provider-Create] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-09-27 13:01:30,584 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-27 13:01:30,586 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-27 13:01:30,589 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-27 13:01:30,591 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:01:30,637 [Mini-Cluster-Provider-Create] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:01:30,703 [Mini-Cluster-Provider-Create] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:01:30,713 [Mini-Cluster-Provider-Create] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-27 13:01:30,748 [Mini-Cluster-Provider-Create] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:01:30,756 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:01:30,756 [Mini-Cluster-Provider-Create] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:01:30,793 [Mini-Cluster-Provider-Create] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:01:30,813 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:01:30,839 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:01:30,842 [Mini-Cluster-Provider-Create] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:01:30,854 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:01:30,865 [Mini-Cluster-Provider-Create] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-09-27 13:01:30,867 [Mini-Cluster-Provider-Create] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:01:30,871 [Mini-Cluster-Provider-Create] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:01:31,325 [Mini-Cluster-Provider-Create] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:31,366 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:31,412 [Listener at 0.0.0.0/35057] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:31,413 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:31,431 [Listener at 0.0.0.0/43935] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:31,432 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:31,482 [Listener at 0.0.0.0/45009] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:01:31,487 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:01:31,487 [Listener at 0.0.0.0/45009] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:01:31,487 [Listener at 0.0.0.0/45009] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:01:31,491 [Listener at 0.0.0.0/45009] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:31,493 [Listener at 0.0.0.0/45009] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:31,493 [Listener at 0.0.0.0/45009] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:31,493 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45009
2021-09-27 13:01:31,563 [Listener at 0.0.0.0/45009] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-27 13:01:31,581 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-27 13:01:31,581 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-27 13:01:31,935 [Listener at 0.0.0.0/45009] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:45009
2021-09-27 13:01:31,935 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:31,937 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:31,945 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43935
2021-09-27 13:01:31,946 [Listener at 0.0.0.0/45009] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43935
2021-09-27 13:01:31,946 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:31,947 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:31,950 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35057
2021-09-27 13:01:31,951 [Listener at 0.0.0.0/45009] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:35057
2021-09-27 13:01:31,951 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:31,952 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:31,973 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4405fd9b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:31,990 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-27 13:01:31,990 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:32,019 [Listener at 0.0.0.0/45009] INFO  util.log (Log.java:initialized(170)) - Logging initialized @4459ms to org.eclipse.jetty.util.log.Slf4jLog
2021-09-27 13:01:32,128 [Listener at 0.0.0.0/45009] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:32,133 [Listener at 0.0.0.0/45009] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:32,139 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:32,141 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:01:32,141 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:32,141 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:32,180 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38517
2021-09-27 13:01:32,182 [Listener at 0.0.0.0/45009] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:32,213 [Listener at 0.0.0.0/45009] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:32,214 [Listener at 0.0.0.0/45009] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:32,216 [Listener at 0.0.0.0/45009] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:32,232 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7b54e604{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:32,233 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3dd1b4e9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:01:32,277 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7dd70ae{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:01:32,285 [Listener at 0.0.0.0/45009] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7c68ade6{HTTP/1.1, (http/1.1)}{0.0.0.0:38517}
2021-09-27 13:01:32,288 [Listener at 0.0.0.0/45009] INFO  server.Server (Server.java:doStart(415)) - Started @4727ms
2021-09-27 13:01:32,290 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-27 13:01:32,290 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-27 13:01:32,292 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:38517
2021-09-27 13:01:32,293 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:32,421 [Listener at 0.0.0.0/45009] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-09-27 13:01:32,424 [Listener at 0.0.0.0/45009] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-09-27 13:01:32,425 [Listener at 0.0.0.0/45009] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-09-27 13:01:32,425 [Listener at 0.0.0.0/45009] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-09-27 13:01:32,429 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:32,430 [Listener at 0.0.0.0/45009] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-27 13:01:32,498 [Listener at 0.0.0.0/45009] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 62 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-27 13:01:32,505 [Listener at 0.0.0.0/45009] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-27 13:01:32,506 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:33,005 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:33,015 [Listener at 0.0.0.0/45009] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-27 13:01:33,016 [Listener at 0.0.0.0/45009] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-27 13:01:33,256 [Listener at 0.0.0.0/45009] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-27 13:01:33,334 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:01:33,334 [Listener at 0.0.0.0/45009] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-27 13:01:33,385 [Listener at 0.0.0.0/45009] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:01:33,425 [Listener at 0.0.0.0/45009] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:32877
2021-09-27 13:01:33,435 [Listener at 0.0.0.0/45009] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-27 13:01:33,474 [Listener at 0.0.0.0/45009] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:33,572 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:33,582 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-27 13:01:33,583 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 32877 (custom)
2021-09-27 13:01:33,585 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-27 13:01:33,585 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 32877 (custom)
2021-09-27 13:01:33,585 [Listener at 0.0.0.0/45009] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 32877 (custom)
2021-09-27 13:01:33,587 [Listener at 0.0.0.0/45009] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-27 13:01:33,588 [Listener at 0.0.0.0/45009] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:33,588 [Listener at 0.0.0.0/45009] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-27 13:01:33,589 [Listener at 0.0.0.0/45009] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-27 13:01:33,922 [Listener at 0.0.0.0/45009] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:33,924 [Listener at 0.0.0.0/45009] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:01:33,925 [Listener at 0.0.0.0/45009] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:33,945 [Listener at 0.0.0.0/45009] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis] (custom)
2021-09-27 13:01:33,954 [Listener at 0.0.0.0/45009] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:32877|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@6a1d0772[Not completed]
2021-09-27 13:01:33,954 [Listener at 0.0.0.0/45009] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 32877
2021-09-27 13:01:33,985 [Listener at 0.0.0.0/45009] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:33,992 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:32877|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-27 13:01:34,024 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:33,998 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-27 13:01:34,028 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-27 13:01:34,028 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:34,028 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:01:34,028 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:34,029 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:34,029 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:34,053 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:32877|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:34,053 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis] (custom)
2021-09-27 13:01:34,059 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:34,059 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:34,061 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-09-27 13:01:34,074 [Listener at 127.0.0.1/42299] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-27 13:01:34,075 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:34,080 [Listener at 127.0.0.1/42299] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-27 13:01:34,093 [pool-39-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-09-27 13:01:34,096 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-09-27 13:01:34,098 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:34,111 [Listener at 127.0.0.1/42299] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:42299
2021-09-27 13:01:34,112 [Listener at 127.0.0.1/42299] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 32877
2021-09-27 13:01:34,115 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:34,115 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:34,128 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:01:34,136 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:34,136 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:34,143 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-09-27 13:01:34,144 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:01:34,144 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-27 13:01:34,145 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:01:34,146 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-27 13:01:34,146 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:34,148 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:34,148 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:34,148 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:34,161 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-27 13:01:34,164 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-27 13:01:34,171 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:34,171 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:34,175 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:34,176 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-09-27 13:01:34,177 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-27 13:01:34,177 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-27 13:01:34,179 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-09-27 13:01:34,179 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:34,228 [Listener at 127.0.0.1/42299] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:32877|priority:0], old=null
2021-09-27 13:01:34,230 [Listener at 127.0.0.1/42299] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:34,231 [Listener at 127.0.0.1/42299] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-09-27 13:01:34,234 [Listener at 127.0.0.1/42299] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-09-27 13:01:34,237 [Listener at 127.0.0.1/42299] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-09-27 13:01:34,313 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 32877
2021-09-27 13:01:34,320 [Listener at 127.0.0.1/42299] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-27 13:01:34,322 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@160008b7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-09-27 13:01:34,337 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-09-27 13:01:34,337 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:34,339 [Listener at 127.0.0.1/42299] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:34,342 [Listener at 127.0.0.1/42299] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:34,344 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:34,345 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-27 13:01:34,356 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:34,357 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:34,360 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 40645
2021-09-27 13:01:34,360 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:34,363 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:34,363 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:34,364 [Listener at 127.0.0.1/42299] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:34,364 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@441c88b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:34,365 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@784a11b4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:01:34,369 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@392da41f{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:01:34,375 [Listener at 127.0.0.1/42299] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3c53749a{HTTP/1.1, (http/1.1)}{0.0.0.0:40645}
2021-09-27 13:01:34,376 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(415)) - Started @6815ms
2021-09-27 13:01:34,376 [Listener at 127.0.0.1/42299] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:34,377 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:40645
2021-09-27 13:01:34,380 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:34,380 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:34,394 [Listener at 127.0.0.1/42299] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-27 13:01:34,405 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3867f372] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:34,602 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:34,602 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:34,603 [Listener at 127.0.0.1/42299] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:34,630 [Listener at 127.0.0.1/42299] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:34,666 [Listener at 127.0.0.1/42299] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:34,715 [Listener at 127.0.0.1/42299] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 48 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:34,719 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:34,720 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:34,720 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:34,720 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:34,801 [Listener at 127.0.0.1/42299] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:34,803 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:34,804 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds
2021-09-27 13:01:34,822 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds
2021-09-27 13:01:34,860 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis to VolumeSet
2021-09-27 13:01:34,860 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis
2021-09-27 13:01:34,861 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis
2021-09-27 13:01:34,885 [Thread-131] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds
2021-09-27 13:01:34,885 [Listener at 127.0.0.1/42299] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:34,999 [Listener at 127.0.0.1/42299] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:35,000 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:35,000 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:35,000 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:35,000 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:35,001 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:35,001 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:35,001 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:35,007 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:35,010 [Listener at 127.0.0.1/42299] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:35,011 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:35,011 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:35,011 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis] (custom)
2021-09-27 13:01:35,088 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:35,088 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:35,089 [Listener at 127.0.0.1/42299] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:35,092 [Listener at 127.0.0.1/42299] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:35,093 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:35,095 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:35,095 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:35,096 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:35,098 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33007
2021-09-27 13:01:35,098 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:35,105 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:35,105 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:35,105 [Listener at 127.0.0.1/42299] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:35,106 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7fe1aabd{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:35,107 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7475f2af{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:35,175 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2ffb9f67{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33007-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-757033179874669147/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:35,177 [Listener at 127.0.0.1/42299] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@72a0a03{HTTP/1.1, (http/1.1)}{0.0.0.0:33007}
2021-09-27 13:01:35,177 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(415)) - Started @7617ms
2021-09-27 13:01:35,178 [Listener at 127.0.0.1/42299] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:35,179 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33007
2021-09-27 13:01:35,181 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:35,181 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:35,181 [Listener at 127.0.0.1/42299] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:35,188 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:35,194 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:35,194 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:35,204 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4ed4d7a4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:35,216 [Listener at 127.0.0.1/42299] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:35,259 [Listener at 127.0.0.1/42299] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:35,355 [Listener at 127.0.0.1/42299] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 90 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:35,361 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:35,362 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:35,362 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:35,362 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:35,365 [Listener at 127.0.0.1/42299] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:35,365 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:35,365 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds
2021-09-27 13:01:35,366 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds
2021-09-27 13:01:35,385 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1153902430ns, electionTimeout:1152ms
2021-09-27 13:01:35,386 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-09-27 13:01:35,387 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:35,390 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:35,390 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-09-27 13:01:35,579 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/meta/datanode.id
2021-09-27 13:01:35,583 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis to VolumeSet
2021-09-27 13:01:35,584 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis
2021-09-27 13:01:35,584 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis
2021-09-27 13:01:35,599 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:32877|priority:0], old=null
2021-09-27 13:01:35,605 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:01:35,606 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-09-27 13:01:35,606 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:35,607 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1511ms
2021-09-27 13:01:35,617 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:35,625 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-27 13:01:35,634 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:01:35,632 [Thread-145] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds
2021-09-27 13:01:35,639 [Listener at 127.0.0.1/42299] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:35,643 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:35,644 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:35,644 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:35,645 [Listener at 127.0.0.1/42299] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:35,645 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:35,645 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:35,645 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis] (custom)
2021-09-27 13:01:35,655 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-27 13:01:35,656 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:35,656 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:35,664 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:01:35,673 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:35,673 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:35,674 [Listener at 127.0.0.1/42299] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:35,676 [Listener at 127.0.0.1/42299] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:35,677 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:35,678 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:35,678 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:35,678 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:35,678 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44955
2021-09-27 13:01:35,679 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:35,688 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:35,689 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:35,689 [Listener at 127.0.0.1/42299] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:35,696 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6c234287{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:35,697 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1214e43{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:35,715 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:35,783 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:32877|admin:|client:|dataStream:|priority:0], old=null
2021-09-27 13:01:35,791 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@49ceb79c{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-44955-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3064059130099000084/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:35,800 [Listener at 127.0.0.1/42299] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4a832ff6{HTTP/1.1, (http/1.1)}{0.0.0.0:44955}
2021-09-27 13:01:35,800 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(415)) - Started @8240ms
2021-09-27 13:01:35,800 [Listener at 127.0.0.1/42299] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:35,801 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:44955
2021-09-27 13:01:35,804 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:35,804 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:35,804 [Listener at 127.0.0.1/42299] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:35,812 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:35,845 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:35,845 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:35,853 [Listener at 127.0.0.1/42299] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:35,857 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5f579fb4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:35,881 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/meta/datanode.id
2021-09-27 13:01:35,884 [Listener at 127.0.0.1/42299] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:35,895 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-09-27 13:01:35,957 [Listener at 127.0.0.1/42299] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 71 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:35,958 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:35,958 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:35,958 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:35,958 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:35,961 [Listener at 127.0.0.1/42299] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:35,961 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:35,961 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds
2021-09-27 13:01:35,962 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds
2021-09-27 13:01:35,978 [Listener at 127.0.0.1/42299] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis to VolumeSet
2021-09-27 13:01:35,978 [Listener at 127.0.0.1/42299] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis
2021-09-27 13:01:35,978 [Listener at 127.0.0.1/42299] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis
2021-09-27 13:01:36,001 [Thread-157] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds
2021-09-27 13:01:36,002 [Listener at 127.0.0.1/42299] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:36,005 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:36,006 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:36,006 [Listener at 127.0.0.1/42299] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:36,006 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:36,007 [Listener at 127.0.0.1/42299] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:36,007 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:36,007 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:36,007 [Listener at 127.0.0.1/42299] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis] (custom)
2021-09-27 13:01:36,029 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:36,029 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:36,031 [Listener at 127.0.0.1/42299] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:36,036 [Listener at 127.0.0.1/42299] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:36,037 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:36,038 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:36,038 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:36,038 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:36,039 [Listener at 127.0.0.1/42299] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43401
2021-09-27 13:01:36,039 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:36,064 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:32877"
]
2021-09-27 13:01:36,076 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:36,076 [Listener at 127.0.0.1/42299] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:36,077 [Listener at 127.0.0.1/42299] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:01:36,080 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@631ad110{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:36,081 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@49272b9e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:36,128 [Listener at 127.0.0.1/42299] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@75366d09{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-43401-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-9083773598114852944/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:36,132 [Listener at 127.0.0.1/42299] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4b6fa58{HTTP/1.1, (http/1.1)}{0.0.0.0:43401}
2021-09-27 13:01:36,134 [Listener at 127.0.0.1/42299] INFO  server.Server (Server.java:doStart(415)) - Started @8573ms
2021-09-27 13:01:36,136 [Listener at 127.0.0.1/42299] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:36,137 [Listener at 127.0.0.1/42299] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:43401
2021-09-27 13:01:36,142 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:36,142 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:36,143 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:36,143 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:36,145 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:36,145 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:36,152 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6d63e894] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:36,156 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/meta/datanode.id
2021-09-27 13:01:37,143 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:37,143 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:37,143 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:37,273 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:37,275 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:37,277 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 35945
2021-09-27 13:01:37,280 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:37,286 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start RPC server
2021-09-27 13:01:37,288 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: GrpcService started, listening on 34847
2021-09-27 13:01:37,292 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 is started using port 34847 for RATIS
2021-09-27 13:01:37,292 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 is started using port 34847 for RATIS_ADMIN
2021-09-27 13:01:37,292 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 is started using port 34847 for RATIS_SERVER
2021-09-27 13:01:37,295 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 is started using port 46633
2021-09-27 13:01:37,295 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@705827ac] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-4417aa04-f8c6-4c99-bf83-cb9801e6bd50: Started
2021-09-27 13:01:37,859 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:37,859 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:37,861 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 36399
2021-09-27 13:01:37,861 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:37,871 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - c436a658-49d1-40a3-a179-32d2cf16e359: start RPC server
2021-09-27 13:01:37,872 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - c436a658-49d1-40a3-a179-32d2cf16e359: GrpcService started, listening on 35711
2021-09-27 13:01:37,872 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis c436a658-49d1-40a3-a179-32d2cf16e359 is started using port 35711 for RATIS
2021-09-27 13:01:37,873 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis c436a658-49d1-40a3-a179-32d2cf16e359 is started using port 35711 for RATIS_ADMIN
2021-09-27 13:01:37,873 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis c436a658-49d1-40a3-a179-32d2cf16e359 is started using port 35711 for RATIS_SERVER
2021-09-27 13:01:37,877 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc c436a658-49d1-40a3-a179-32d2cf16e359 is started using port 46049
2021-09-27 13:01:37,877 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@11f28288] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-c436a658-49d1-40a3-a179-32d2cf16e359: Started
2021-09-27 13:01:38,143 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:38,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:38,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:38,160 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:38,160 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:38,163 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33823
2021-09-27 13:01:38,164 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:38,165 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start RPC server
2021-09-27 13:01:38,166 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: GrpcService started, listening on 46029
2021-09-27 13:01:38,166 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 48a9b2ff-8b63-4b31-9abf-aadd529eb13c is started using port 46029 for RATIS
2021-09-27 13:01:38,166 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@ed5dece] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-48a9b2ff-8b63-4b31-9abf-aadd529eb13c: Started
2021-09-27 13:01:38,166 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 48a9b2ff-8b63-4b31-9abf-aadd529eb13c is started using port 46029 for RATIS_ADMIN
2021-09-27 13:01:38,167 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 48a9b2ff-8b63-4b31-9abf-aadd529eb13c is started using port 46029 for RATIS_SERVER
2021-09-27 13:01:38,168 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 48a9b2ff-8b63-4b31-9abf-aadd529eb13c is started using port 44569
2021-09-27 13:01:39,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:39,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:39,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:39,236 [IPC Server handler 8 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:39,238 [IPC Server handler 8 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:39,244 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:39,254 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:01:39,255 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=530b3012-0226-4d67-ab47-708875237cbc to datanode:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:39,256 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:01:39,266 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 530b3012-0226-4d67-ab47-708875237cbc, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:39.251Z[Etc/UTC]].
2021-09-27 13:01:39,267 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:01:39,856 [IPC Server handler 19 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:39,856 [IPC Server handler 19 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:39,857 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:01:39,858 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:39,859 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b1c651ae-2457-4803-b080-b617533a653c to datanode:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:39,860 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b1c651ae-2457-4803-b080-b617533a653c, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:39.859Z[Etc/UTC]].
2021-09-27 13:01:40,144 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-09-27 13:01:40,145 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:40,145 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:40,154 [IPC Server handler 10 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:40,155 [IPC Server handler 10 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:40,155 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:40,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:01:40,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:01:40,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:01:40,156 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:01:40,157 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:01:40,157 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:40,157 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693 to datanode:48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:40,158 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 19ebbb37-666e-44bb-9a33-9607b9bc6693, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:40.157Z[Etc/UTC]].
2021-09-27 13:01:40,160 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca to datanode:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:40,161 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca to datanode:48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:40,161 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca to datanode:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:40,162 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d1eb67ab-83a8-4304-aacb-07f54f9574ca, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:40.160Z[Etc/UTC]].
2021-09-27 13:01:41,145 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:41,146 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:41,146 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:42,146 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:42,146 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:42,146 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:42,225 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: addNew group-708875237CBC:[4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-708875237CBC:java.util.concurrent.CompletableFuture@615bca96[Not completed]
2021-09-27 13:01:42,237 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: new RaftServerImpl for group-708875237CBC:[4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:42,238 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:42,238 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:42,238 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:42,238 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:42,238 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: ConfigurationManager, init=-1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis] (custom)
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:42,239 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:42,240 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc does not exist. Creating ...
2021-09-27 13:01:42,242 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:42,243 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc has been successfully formatted.
2021-09-27 13:01:42,246 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-708875237CBC: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:42,246 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:42,246 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:42,249 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:42,250 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:42,256 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,256 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 530b3012-0226-4d67-ab47-708875237cbc, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:39.251Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:42,257 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:42,262 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:42,263 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:42,263 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:42,264 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:42,265 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:42,265 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,265 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,266 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:42,278 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:42,278 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:42,279 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:42,279 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:42,279 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:42,279 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:42,282 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: start as a follower, conf=-1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:42,283 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:42,283 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState
2021-09-27 13:01:42,283 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-708875237CBC,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:42,296 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=530b3012-0226-4d67-ab47-708875237cbc
2021-09-27 13:01:42,297 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=530b3012-0226-4d67-ab47-708875237cbc.
2021-09-27 13:01:42,297 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: addNew group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-07F54F9574CA:java.util.concurrent.CompletableFuture@3327ca1[Not completed]
2021-09-27 13:01:42,298 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: new RaftServerImpl for group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:42,299 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:42,299 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis] (custom)
2021-09-27 13:01:42,300 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:42,301 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:42,301 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca does not exist. Creating ...
2021-09-27 13:01:42,304 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:42,306 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca has been successfully formatted.
2021-09-27 13:01:42,306 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:42,308 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-07F54F9574CA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:42,309 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:42,310 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:42,310 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:42,310 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:42,310 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:42,311 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:42,314 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,315 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:42,315 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:42,315 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:42,315 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:42,315 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:42,319 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:42,322 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:42,322 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,322 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:42,323 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:42,325 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:42,325 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:42,325 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState
2021-09-27 13:01:42,327 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:42,332 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:42,863 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c436a658-49d1-40a3-a179-32d2cf16e359: addNew group-B617533A653C:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1] returns group-B617533A653C:java.util.concurrent.CompletableFuture@22d39c80[Not completed]
2021-09-27 13:01:42,865 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - c436a658-49d1-40a3-a179-32d2cf16e359: new RaftServerImpl for group-B617533A653C:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:42,869 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:42,870 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:42,873 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:42,873 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis] (custom)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:42,874 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c does not exist. Creating ...
2021-09-27 13:01:42,877 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:42,879 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c has been successfully formatted.
2021-09-27 13:01:42,885 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: b1c651ae-2457-4803-b080-b617533a653c, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:c436a658-49d1-40a3-a179-32d2cf16e359, CreationTimestamp2021-09-27T13:01:39.859Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:42,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:42,880 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B617533A653C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:42,888 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:42,891 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:42,891 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:42,891 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:42,891 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:42,892 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:42,893 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:42,894 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:42,896 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:42,896 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,898 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:42,900 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:42,902 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null
2021-09-27 13:01:42,902 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:42,902 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState
2021-09-27 13:01:42,902 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B617533A653C,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:42,903 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=b1c651ae-2457-4803-b080-b617533a653c
2021-09-27 13:01:42,903 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b1c651ae-2457-4803-b080-b617533a653c.
2021-09-27 13:01:42,905 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c436a658-49d1-40a3-a179-32d2cf16e359: addNew group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-07F54F9574CA:java.util.concurrent.CompletableFuture@26ec1c02[Not completed]
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - c436a658-49d1-40a3-a179-32d2cf16e359: new RaftServerImpl for group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:42,907 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis] (custom)
2021-09-27 13:01:42,908 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:42,908 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:42,908 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca does not exist. Creating ...
2021-09-27 13:01:42,913 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:42,917 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca has been successfully formatted.
2021-09-27 13:01:42,918 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:42,919 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-07F54F9574CA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:42,919 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:42,919 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:42,919 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:42,919 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:42,920 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:42,920 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:42,921 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:42,922 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:42,922 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:42,923 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:42,928 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:42,929 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,929 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:42,931 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:42,932 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:42,932 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:42,933 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState
2021-09-27 13:01:42,937 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:42,940 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:42,940 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: addNew group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1] returns group-07F54F9574CA:java.util.concurrent.CompletableFuture@3bac52b5[Not completed]
2021-09-27 13:01:42,952 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: new RaftServerImpl for group-07F54F9574CA:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:42,954 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:42,955 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:42,955 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:42,955 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:42,955 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:42,956 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:42,956 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:42,956 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:42,956 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis] (custom)
2021-09-27 13:01:42,957 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:42,957 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:42,957 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca does not exist. Creating ...
2021-09-27 13:01:42,968 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:42,973 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca has been successfully formatted.
2021-09-27 13:01:42,979 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-07F54F9574CA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:42,979 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:42,980 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:42,980 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:42,980 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:42,980 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:42,981 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:42,982 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:42,985 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:42,987 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:42,989 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,992 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:42,995 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:42,997 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:42,997 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:42,997 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState
2021-09-27 13:01:43,011 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:43,110 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca.
2021-09-27 13:01:43,123 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca.
2021-09-27 13:01:43,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:43,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:43,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:43,152 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: addNew group-9607B9BC6693:[48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1] returns group-9607B9BC6693:java.util.concurrent.CompletableFuture@62dbbf4d[Not completed]
2021-09-27 13:01:43,153 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: new RaftServerImpl for group-9607B9BC6693:[48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:43,153 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:43,153 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:43,153 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: ConfigurationManager, init=-1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis] (custom)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:43,154 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693 does not exist. Creating ...
2021-09-27 13:01:43,155 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:43,157 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693 has been successfully formatted.
2021-09-27 13:01:43,158 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:43,159 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-9607B9BC6693: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:43,160 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 19ebbb37-666e-44bb-9a33-9607b9bc6693, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:48a9b2ff-8b63-4b31-9abf-aadd529eb13c, CreationTimestamp2021-09-27T13:01:40.157Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:43,161 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:43,161 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:43,162 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:43,162 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:43,162 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:43,163 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:43,163 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:43,163 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:43,163 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693
2021-09-27 13:01:43,163 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:43,164 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:43,165 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:43,170 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:43,170 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:43,170 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:43,176 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:43,177 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: start as a follower, conf=-1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null
2021-09-27 13:01:43,177 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:43,177 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState
2021-09-27 13:01:43,182 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9607B9BC6693,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:43,185 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693
2021-09-27 13:01:43,185 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693.
2021-09-27 13:01:43,309 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:43,421 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:44,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:44,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:44,147 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:44,160 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:44,810 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:44,921 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:45,148 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:45,148 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:45,148 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:46,151 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:46,151 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:46,151 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:46,160 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:46,419 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:46,808 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:47,152 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:47,152 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:47,152 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:47,160 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5010561857ns, electionTimeout:5006ms
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2
2021-09-27 13:01:47,336 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5053591327ns, electionTimeout:5048ms
2021-09-27 13:01:47,344 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState
2021-09-27 13:01:47,344 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:47,345 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:47,345 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3
2021-09-27 13:01:47,346 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:47,348 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:47,350 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:01:47,350 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3
2021-09-27 13:01:47,350 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:47,350 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-708875237CBC with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,351 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 1 for becomeLeader, leader elected after 5103ms
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:47,351 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:47,352 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderStateImpl
2021-09-27 13:01:47,352 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:47,353 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:47,354 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc/current/log_inprogress_0
2021-09-27 13:01:47,365 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: set configuration 0: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:47,395 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: receive requestVote(ELECTION, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50, group-07F54F9574CA, 1, (t:0, i:0))
2021-09-27 13:01:47,399 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FOLLOWER: accept ELECTION from 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: our priority 0 <= candidate's priority 1
2021-09-27 13:01:47,399 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,399 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState
2021-09-27 13:01:47,401 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:01:47,402 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState
2021-09-27 13:01:47,412 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA replies to ELECTION vote request: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-c436a658-49d1-40a3-a179-32d2cf16e359#0:OK-t1. Peer's state: c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA:t1, leader=null, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:47,421 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:01:47,421 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-c436a658-49d1-40a3-a179-32d2cf16e359#0:OK-t1
2021-09-27 13:01:47,421 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: receive requestVote(ELECTION, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50, group-07F54F9574CA, 1, (t:0, i:0))
2021-09-27 13:01:47,421 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2 ELECTION round 0: result PASSED
2021-09-27 13:01:47,422 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-07F54F9574CA with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 1 for becomeLeader, leader elected after 5112ms
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:01:47,423 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:01:47,424 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:01:47,424 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:47,424 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:47,430 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:47,431 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FOLLOWER: accept ELECTION from 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: our priority 0 <= candidate's priority 1
2021-09-27 13:01:47,432 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,432 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState
2021-09-27 13:01:47,431 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: d1eb67ab-83a8-4304-aacb-07f54f9574ca, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:40.160Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:47,432 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState
2021-09-27 13:01:47,433 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:01:47,433 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:01:47,441 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:01:47,445 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA replies to ELECTION vote request: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-48a9b2ff-8b63-4b31-9abf-aadd529eb13c#0:OK-t1. Peer's state: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA:t1, leader=null, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:47,445 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:01:47,445 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:47,445 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:01:47,449 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:01:47,450 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:47,450 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:47,457 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:47,459 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderStateImpl
2021-09-27 13:01:47,459 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:47,461 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:47,461 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/current/log_inprogress_0
2021-09-27 13:01:47,496 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-07F54F9574CA with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,496 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 1 for appendEntries, leader elected after 4576ms
2021-09-27 13:01:47,500 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-07F54F9574CA with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:47,500 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 1 for appendEntries, leader elected after 4520ms
2021-09-27 13:01:47,530 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:47,531 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:47,535 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/current/log_inprogress_0
2021-09-27 13:01:47,548 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:47,548 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:47,550 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/current/log_inprogress_0
2021-09-27 13:01:47,918 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5016244750ns, electionTimeout:5015ms
2021-09-27 13:01:47,918 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState
2021-09-27 13:01:47,918 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:47,919 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:47,919 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-B617533A653C with new leaderId: c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:47,923 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: change Leader from null to c436a658-49d1-40a3-a179-32d2cf16e359 at term 1 for becomeLeader, leader elected after 5035ms
2021-09-27 13:01:47,924 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:47,925 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:47,926 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:01:47,926 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:01:47,927 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:01:47,927 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:47,927 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:47,928 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderStateImpl
2021-09-27 13:01:47,933 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:47,935 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c/current/log_inprogress_0
2021-09-27 13:01:47,936 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:1], old=null
2021-09-27 13:01:48,152 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:48,153 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:01:48,153 [Listener at 127.0.0.1/42299] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:48,164 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-09-27 13:01:48,188 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2021-09-27 13:01:48,195 [Listener at 127.0.0.1/42299] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,200 [Listener at 127.0.0.1/42299] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:01:48,200 [Listener at 127.0.0.1/42299] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:01:48,201 [Listener at 127.0.0.1/42299] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,208 [Listener at 127.0.0.1/42299] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:48,255 [Listener at 127.0.0.1/42299] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 45 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:48,257 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:48,257 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:48,257 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:48,257 [Listener at 127.0.0.1/42299] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:48,257 [Listener at 127.0.0.1/42299] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,258 [Listener at 127.0.0.1/42299] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,349 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5171525542ns, electionTimeout:5167ms
2021-09-27 13:01:48,349 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState
2021-09-27 13:01:48,349 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:48,350 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:48,350 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-9607B9BC6693 with new leaderId: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: change Leader from null to 48a9b2ff-8b63-4b31-9abf-aadd529eb13c at term 1 for becomeLeader, leader elected after 5216ms
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:48,378 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:01:48,379 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:01:48,379 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:01:48,379 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:48,379 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:48,379 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderStateImpl
2021-09-27 13:01:48,380 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:48,386 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693/current/log_inprogress_0
2021-09-27 13:01:48,396 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: set configuration 0: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:1], old=null
2021-09-27 13:01:48,412 [Listener at 127.0.0.1/42299] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:01:48,412 [Listener at 127.0.0.1/42299] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:01:48,415 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:48,418 [Listener at 127.0.0.1/42299] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:48,418 [Listener at 127.0.0.1/42299] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-27 13:01:48,419 [Listener at 127.0.0.1/42299] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-27 13:01:48,419 [Listener at 127.0.0.1/42299] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-27 13:01:48,419 [Listener at 127.0.0.1/42299] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:01:48,424 [Listener at 127.0.0.1/42299] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:01:48,427 [Listener at 127.0.0.1/42299] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:01:48,427 [Listener at 127.0.0.1/42299] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-27 13:01:48,427 [Listener at 127.0.0.1/42299] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:01:48,428 [Listener at 127.0.0.1/42299] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:01:48,428 [Listener at 127.0.0.1/42299] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:01:48,441 [Listener at 127.0.0.1/42299] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:01:48,441 [Listener at 127.0.0.1/42299] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:01:48,442 [Listener at 127.0.0.1/42299] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:01:48,442 [Listener at 127.0.0.1/42299] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:01:48,445 [Listener at 127.0.0.1/42299] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-09-27 13:01:48,446 [Listener at 127.0.0.1/42299] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:01:48,446 [Listener at 127.0.0.1/42299] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:01:48,447 [Listener at 127.0.0.1/42299] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:48,448 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:48,450 [Listener at 0.0.0.0/35979] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:48,452 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:48,455 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:01:48,456 [Listener at 0.0.0.0/40379] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:48,457 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:48,505 [Listener at 0.0.0.0/42769] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:01:48,506 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:01:48,506 [Listener at 0.0.0.0/42769] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:01:48,506 [Listener at 0.0.0.0/42769] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:01:48,507 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:48,507 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:48,507 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:48,507 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42769
2021-09-27 13:01:48,507 [Listener at 0.0.0.0/42769] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-09-27 13:01:48,529 [Listener at 0.0.0.0/42769] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:42769
2021-09-27 13:01:48,530 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:48,530 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:48,564 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40379
2021-09-27 13:01:48,569 [Listener at 0.0.0.0/42769] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40379
2021-09-27 13:01:48,576 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:48,577 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:48,586 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35979
2021-09-27 13:01:48,586 [Listener at 0.0.0.0/42769] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:35979
2021-09-27 13:01:48,597 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:48,605 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:48,614 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:48,621 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:48,623 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-27 13:01:48,623 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:48,623 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:48,627 [Listener at 0.0.0.0/42769] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:48,632 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@65e051f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:48,644 [Listener at 0.0.0.0/42769] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:48,645 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:48,646 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:01:48,646 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:48,646 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:48,649 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46817
2021-09-27 13:01:48,649 [Listener at 0.0.0.0/42769] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:48,654 [Listener at 0.0.0.0/42769] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:48,654 [Listener at 0.0.0.0/42769] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:48,654 [Listener at 0.0.0.0/42769] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:01:48,655 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7a7b0352{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:48,655 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3eee0595{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:01:48,662 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3fb13caa{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:01:48,671 [Listener at 0.0.0.0/42769] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@292c5d7b{HTTP/1.1, (http/1.1)}{0.0.0.0:46817}
2021-09-27 13:01:48,671 [Listener at 0.0.0.0/42769] INFO  server.Server (Server.java:doStart(415)) - Started @21111ms
2021-09-27 13:01:48,671 [Listener at 0.0.0.0/42769] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:48,676 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:46817
2021-09-27 13:01:48,676 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,678 [Listener at 0.0.0.0/42769] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-09-27 13:01:48,678 [Listener at 0.0.0.0/42769] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-09-27 13:01:48,678 [Listener at 0.0.0.0/42769] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-09-27 13:01:48,678 [Listener at 0.0.0.0/42769] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-09-27 13:01:48,679 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,679 [Listener at 0.0.0.0/42769] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-27 13:01:48,779 [Listener at 0.0.0.0/42769] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 98 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-27 13:01:48,780 [Listener at 0.0.0.0/42769] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-27 13:01:48,780 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,805 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:01:48,806 [Listener at 0.0.0.0/42769] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-27 13:01:48,806 [Listener at 0.0.0.0/42769] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-27 13:01:48,986 [Listener at 0.0.0.0/42769] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-27 13:01:48,987 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:01:48,987 [Listener at 0.0.0.0/42769] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-27 13:01:48,987 [Listener at 0.0.0.0/42769] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:48,987 [Listener at 0.0.0.0/42769] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:48,987 [Listener at 0.0.0.0/42769] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:01:48,988 [Listener at 0.0.0.0/42769] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:43453
2021-09-27 13:01:48,989 [Listener at 0.0.0.0/42769] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-27 13:01:48,989 [Listener at 0.0.0.0/42769] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:48,989 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:48,989 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43453 (custom)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43453 (custom)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43453 (custom)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:48,990 [Listener at 0.0.0.0/42769] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-27 13:01:48,991 [Listener at 0.0.0.0/42769] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis] (custom)
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:43453|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@f8758bd[Not completed]
2021-09-27 13:01:48,992 [Listener at 0.0.0.0/42769] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 43453
2021-09-27 13:01:48,994 [Listener at 0.0.0.0/42769] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:01:48,994 [pool-152-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:43453|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-27 13:01:48,995 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:43453|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:48,997 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis] (custom)
2021-09-27 13:01:48,998 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:48,998 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:48,998 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-09-27 13:01:49,004 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:49,005 [pool-152-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:49,006 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:49,007 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-09-27 13:01:49,012 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:49,020 [Listener at 127.0.0.1/40859] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-27 13:01:49,021 [Listener at 127.0.0.1/40859] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-27 13:01:49,035 [Listener at 127.0.0.1/40859] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:40859
2021-09-27 13:01:49,035 [Listener at 127.0.0.1/40859] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 43453
2021-09-27 13:01:49,036 [Listener at 127.0.0.1/40859] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:43453|priority:0], old=null
2021-09-27 13:01:49,036 [Listener at 127.0.0.1/40859] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:49,036 [Listener at 127.0.0.1/40859] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-09-27 13:01:49,036 [Listener at 127.0.0.1/40859] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:312)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:303)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:518)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1290)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:01:49,037 [Listener at 127.0.0.1/40859] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-09-27 13:01:49,048 [Listener at 127.0.0.1/40859] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-09-27 13:01:49,049 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 43453
2021-09-27 13:01:49,057 [Listener at 127.0.0.1/40859] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-27 13:01:49,057 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@fdb5f77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-09-27 13:01:49,083 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-09-27 13:01:49,083 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:49,084 [Listener at 127.0.0.1/40859] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:49,085 [Listener at 127.0.0.1/40859] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:49,085 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:49,086 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-27 13:01:49,086 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:49,086 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:49,087 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 41721
2021-09-27 13:01:49,087 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:49,088 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:49,089 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:49,089 [Listener at 127.0.0.1/40859] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:49,089 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6ba9fa34{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:49,090 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@436734b5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:01:49,093 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@798208a{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:01:49,094 [Listener at 127.0.0.1/40859] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5ca535ec{HTTP/1.1, (http/1.1)}{0.0.0.0:41721}
2021-09-27 13:01:49,095 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(415)) - Started @21534ms
2021-09-27 13:01:49,095 [Listener at 127.0.0.1/40859] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:49,099 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:41721
2021-09-27 13:01:49,106 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:01:49,107 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:01:49,130 [Listener at 127.0.0.1/40859] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-27 13:01:49,146 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4efd7cfe] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:49,172 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,172 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,172 [Listener at 127.0.0.1/40859] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:49,187 [Listener at 127.0.0.1/40859] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:49,212 [Listener at 127.0.0.1/40859] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:49,340 [Listener at 127.0.0.1/40859] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 127 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:49,345 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:49,345 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:49,345 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:49,345 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:49,353 [Listener at 127.0.0.1/40859] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:49,356 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:49,356 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds
2021-09-27 13:01:49,358 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds
2021-09-27 13:01:49,387 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis to VolumeSet
2021-09-27 13:01:49,387 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis
2021-09-27 13:01:49,387 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis
2021-09-27 13:01:49,404 [Thread-353] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds
2021-09-27 13:01:49,404 [Listener at 127.0.0.1/40859] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:49,411 [Listener at 127.0.0.1/40859] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:49,412 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:49,413 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:49,414 [Listener at 127.0.0.1/40859] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:49,417 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:49,417 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:49,417 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:01:49,425 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:49,425 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:49,426 [Listener at 127.0.0.1/40859] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:49,428 [Listener at 127.0.0.1/40859] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:49,428 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:49,430 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:49,430 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:49,430 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:49,431 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46745
2021-09-27 13:01:49,431 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:49,433 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:49,433 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:49,433 [Listener at 127.0.0.1/40859] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:01:49,434 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5402bc9d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:49,434 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ad217d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:49,483 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-27 13:01:49,488 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@62f2875a{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-46745-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1275145299492861317/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:49,490 [Listener at 127.0.0.1/40859] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@55b41269{HTTP/1.1, (http/1.1)}{0.0.0.0:46745}
2021-09-27 13:01:49,491 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(415)) - Started @21930ms
2021-09-27 13:01:49,491 [Listener at 127.0.0.1/40859] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:49,495 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:46745
2021-09-27 13:01:49,496 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,496 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,496 [Listener at 127.0.0.1/40859] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:49,504 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:49,511 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:49,511 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:49,520 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@78264274] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:49,537 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-09-27 13:01:49,545 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/meta/datanode.id
2021-09-27 13:01:49,560 [Listener at 127.0.0.1/40859] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:49,568 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-09-27 13:01:49,597 [Listener at 127.0.0.1/40859] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:49,678 [IPC Server handler 4 on default port 43935] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(234)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-09-27 13:01:49,679 [IPC Server handler 4 on default port 43935] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-09-27 13:01:49,697 [Listener at 127.0.0.1/40859] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 97 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:49,700 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:49,700 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:49,700 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:49,700 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:49,702 [Listener at 127.0.0.1/40859] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:49,702 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:49,702 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds
2021-09-27 13:01:49,703 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds
2021-09-27 13:01:49,723 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis to VolumeSet
2021-09-27 13:01:49,723 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis
2021-09-27 13:01:49,724 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis
2021-09-27 13:01:49,752 [Thread-366] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds
2021-09-27 13:01:49,752 [Listener at 127.0.0.1/40859] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:49,755 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:49,756 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:49,756 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:49,757 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:49,759 [Listener at 127.0.0.1/40859] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:49,759 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:49,759 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:49,759 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:01:49,777 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:49,777 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:49,778 [Listener at 127.0.0.1/40859] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:49,792 [Listener at 127.0.0.1/40859] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:49,793 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:49,794 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:49,794 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:49,794 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:49,794 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43017
2021-09-27 13:01:49,794 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:49,830 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:49,830 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:49,830 [Listener at 127.0.0.1/40859] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:01:49,851 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1fc903a7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:49,852 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1c2a8f9d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:49,930 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:49,932 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:49,962 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4c135290{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-43017-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3417999557496234913/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:49,980 [Listener at 127.0.0.1/40859] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6a3f8b90{HTTP/1.1, (http/1.1)}{0.0.0.0:43017}
2021-09-27 13:01:49,980 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(415)) - Started @22420ms
2021-09-27 13:01:49,981 [Listener at 127.0.0.1/40859] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:49,981 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:43017
2021-09-27 13:01:49,988 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,988 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:01:49,988 [Listener at 127.0.0.1/40859] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:01:50,001 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:50,009 [Listener at 127.0.0.1/40859] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:01:50,031 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:50,031 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:50,031 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@422eedce] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:50,041 [Listener at 127.0.0.1/40859] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:01:50,055 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/meta/datanode.id
2021-09-27 13:01:50,096 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:01:50,096 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:01:50,100 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 19ebbb37-666e-44bb-9a33-9607b9bc6693, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:48a9b2ff-8b63-4b31-9abf-aadd529eb13c, CreationTimestamp2021-09-27T13:01:40.157Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:01:50,100 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 530b3012-0226-4d67-ab47-708875237cbc, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:39.251Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:01:50,101 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: b1c651ae-2457-4803-b080-b617533a653c, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:c436a658-49d1-40a3-a179-32d2cf16e359, CreationTimestamp2021-09-27T13:01:39.859Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:01:50,101 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: d1eb67ab-83a8-4304-aacb-07f54f9574ca, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:40.160Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:01:50,108 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-09-27 13:01:50,108 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-09-27 13:01:50,114 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-09-27 13:01:50,123 [Listener at 127.0.0.1/40859] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 80 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:01:50,125 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:01:50,125 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:01:50,125 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:01:50,125 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:01:50,127 [Listener at 127.0.0.1/40859] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:01:50,127 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds to VolumeSet
2021-09-27 13:01:50,127 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds
2021-09-27 13:01:50,128 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds
2021-09-27 13:01:50,138 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1102424341ns, electionTimeout:1089ms
2021-09-27 13:01:50,138 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-09-27 13:01:50,139 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:01:50,139 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:01:50,139 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection6
2021-09-27 13:01:50,146 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:43453|priority:0], old=null
2021-09-27 13:01:50,146 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:01:50,146 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection6
2021-09-27 13:01:50,147 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:01:50,147 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1141ms
2021-09-27 13:01:50,147 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:01:50,147 [Listener at 127.0.0.1/40859] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis to VolumeSet
2021-09-27 13:01:50,147 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-27 13:01:50,147 [Listener at 127.0.0.1/40859] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis
2021-09-27 13:01:50,147 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:01:50,148 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-27 13:01:50,148 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:01:50,148 [Listener at 127.0.0.1/40859] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis
2021-09-27 13:01:50,148 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:01:50,148 [om1@group-C5BA1605619E-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:01:50,148 [om1@group-C5BA1605619E-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:01:50,165 [om1@group-C5BA1605619E-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:43453|admin:|client:|dataStream:|priority:0], old=null
2021-09-27 13:01:50,165 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-09-27 13:01:50,167 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:43453"
]
2021-09-27 13:01:50,171 [Thread-392] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds
2021-09-27 13:01:50,171 [Listener at 127.0.0.1/40859] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:01:50,175 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:01:50,176 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:50,176 [Listener at 127.0.0.1/40859] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:01:50,176 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:01:50,177 [Listener at 127.0.0.1/40859] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:01:50,178 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:50,178 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:50,178 [Listener at 127.0.0.1/40859] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:01:50,182 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:01:50,182 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:01:50,183 [Listener at 127.0.0.1/40859] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:01:50,184 [Listener at 127.0.0.1/40859] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:01:50,185 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:01:50,190 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:01:50,191 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:01:50,191 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:01:50,191 [Listener at 127.0.0.1/40859] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 37505
2021-09-27 13:01:50,191 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:01:50,196 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:01:50,196 [Listener at 127.0.0.1/40859] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:01:50,196 [Listener at 127.0.0.1/40859] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:01:50,197 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1ef8247b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:01:50,197 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@20ac3ac2{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:01:50,244 [Listener at 127.0.0.1/40859] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7c07e2aa{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-37505-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2941015958059090523/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:01:50,246 [Listener at 127.0.0.1/40859] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1427d443{HTTP/1.1, (http/1.1)}{0.0.0.0:37505}
2021-09-27 13:01:50,246 [Listener at 127.0.0.1/40859] INFO  server.Server (Server.java:doStart(415)) - Started @22686ms
2021-09-27 13:01:50,246 [Listener at 127.0.0.1/40859] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:01:50,247 [Listener at 127.0.0.1/40859] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:37505
2021-09-27 13:01:50,247 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:50,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:50,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:50,251 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:01:50,253 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:01:50,253 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:01:50,256 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@70f8e5fe] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:01:50,258 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/meta/datanode.id
2021-09-27 13:01:51,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:51,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:51,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:51,440 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,443 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,457 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,459 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,460 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,461 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,457 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,463 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:01:51,468 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:01:51,468 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,470 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:01:51,472 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:01:51,478 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,483 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:01:51,485 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,498 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,498 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,501 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:01:51,502 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,505 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:01:51,507 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,507 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,508 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,510 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:01:51,514 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:01:51,514 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:01:51,515 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:51,535 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:51,535 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:51,536 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 37679
2021-09-27 13:01:51,537 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:51,544 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start RPC server
2021-09-27 13:01:51,546 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: GrpcService started, listening on 40421
2021-09-27 13:01:51,546 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis f7d91da2-1753-44ec-94ba-8dbd50c250be is started using port 40421 for RATIS
2021-09-27 13:01:51,546 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis f7d91da2-1753-44ec-94ba-8dbd50c250be is started using port 40421 for RATIS_ADMIN
2021-09-27 13:01:51,546 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis f7d91da2-1753-44ec-94ba-8dbd50c250be is started using port 40421 for RATIS_SERVER
2021-09-27 13:01:51,548 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc f7d91da2-1753-44ec-94ba-8dbd50c250be is started using port 46681
2021-09-27 13:01:51,552 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@39d6f792] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-f7d91da2-1753-44ec-94ba-8dbd50c250be: Started
2021-09-27 13:01:52,037 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:52,037 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:52,039 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33695
2021-09-27 13:01:52,040 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:52,045 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start RPC server
2021-09-27 13:01:52,047 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: GrpcService started, listening on 34909
2021-09-27 13:01:52,047 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 is started using port 34909 for RATIS
2021-09-27 13:01:52,047 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 is started using port 34909 for RATIS_ADMIN
2021-09-27 13:01:52,047 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 is started using port 34909 for RATIS_SERVER
2021-09-27 13:01:52,047 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@19de060e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-519ef5ef-9d20-4644-bfcf-82e4cbdfde08: Started
2021-09-27 13:01:52,048 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 is started using port 42897
2021-09-27 13:01:52,248 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:52,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:52,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:52,262 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:01:52,262 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:01:52,265 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 42923
2021-09-27 13:01:52,266 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:52,268 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start RPC server
2021-09-27 13:01:52,270 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: GrpcService started, listening on 35779
2021-09-27 13:01:52,270 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fd95f95c-8aff-4525-8224-f6a714ea83f7 is started using port 35779 for RATIS
2021-09-27 13:01:52,270 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@5f4fa422] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-fd95f95c-8aff-4525-8224-f6a714ea83f7: Started
2021-09-27 13:01:52,270 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fd95f95c-8aff-4525-8224-f6a714ea83f7 is started using port 35779 for RATIS_ADMIN
2021-09-27 13:01:52,270 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fd95f95c-8aff-4525-8224-f6a714ea83f7 is started using port 35779 for RATIS_SERVER
2021-09-27 13:01:52,271 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc fd95f95c-8aff-4525-8224-f6a714ea83f7 is started using port 34833
2021-09-27 13:01:53,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:01:53,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:53,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:53,521 [IPC Server handler 3 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:53,522 [IPC Server handler 3 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:53,526 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:01:53,529 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:01:53,532 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:53,532 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:01:53,533 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:53,534 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3765d426-d240-4d7b-8ff8-1ab3be608700, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:53.533Z[Etc/UTC]].
2021-09-27 13:01:54,033 [IPC Server handler 0 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:54,033 [IPC Server handler 0 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:54,034 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:54,034 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:01:54,037 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:54,037 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 50164cb1-5fc7-40c1-b5bd-bf4584456673, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:54.037Z[Etc/UTC]].
2021-09-27 13:01:54,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-09-27 13:01:54,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:54,249 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:54,259 [IPC Server handler 2 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:54,261 [IPC Server handler 2 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:01:54,261 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:54,262 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:54,263 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e24f0580-eacb-4d90-9b01-f7fa688f765e, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:54.262Z[Etc/UTC]].
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:01:54,264 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:54,265 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:54,266 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:54,266 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:54,267 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3e3ffd29-58e7-43d0-a21d-a955bada814d, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:54.265Z[Etc/UTC]].
2021-09-27 13:01:55,108 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-09-27 13:01:55,109 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-09-27 13:01:55,111 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-09-27 13:01:55,112 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:01:55,113 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:01:55,115 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:01:55,115 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=530b3012-0226-4d67-ab47-708875237cbc which uses HEALTHY READONLY datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:01:55,116 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693 since it stays at CLOSED stage.
2021-09-27 13:01:55,117 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=530b3012-0226-4d67-ab47-708875237cbc close command to datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:55,118 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693 close command to datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:55,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 19ebbb37-666e-44bb-9a33-9607b9bc6693, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:48a9b2ff-8b63-4b31-9abf-aadd529eb13c, CreationTimestamp2021-09-27T13:01:40.157Z[Etc/UTC]] removed.
2021-09-27 13:01:55,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=530b3012-0226-4d67-ab47-708875237cbc since it stays at CLOSED stage.
2021-09-27 13:01:55,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=530b3012-0226-4d67-ab47-708875237cbc close command to datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:55,122 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 530b3012-0226-4d67-ab47-708875237cbc, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:39.251Z[Etc/UTC]] removed.
2021-09-27 13:01:55,125 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca which uses HEALTHY READONLY datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:01:55,125 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(213)) - Pipeline 530b3012-0226-4d67-ab47-708875237cbc is not found in the pipeline Map. Pipeline may have been deleted already.
2021-09-27 13:01:55,137 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=b1c651ae-2457-4803-b080-b617533a653c since it stays at CLOSED stage.
2021-09-27 13:01:55,137 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=b1c651ae-2457-4803-b080-b617533a653c close command to datanode c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:55,137 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: b1c651ae-2457-4803-b080-b617533a653c, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:c436a658-49d1-40a3-a179-32d2cf16e359, CreationTimestamp2021-09-27T13:01:39.859Z[Etc/UTC]] removed.
2021-09-27 13:01:55,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca since it stays at CLOSED stage.
2021-09-27 13:01:55,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca close command to datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:55,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca close command to datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:55,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca close command to datanode c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:55,138 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: d1eb67ab-83a8-4304-aacb-07f54f9574ca, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:40.160Z[Etc/UTC]] removed.
2021-09-27 13:01:55,139 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-09-27 13:01:55,139 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(67)) - Failed to close pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca which uses HEALTHY READONLY datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:251)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerV2Impl.getContainers(PipelineStateManagerV2Impl.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getContainers(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:321)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closePipeline(PipelineManagerImpl.java:349)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:01:55,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:01:55,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:01:55,250 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:55,251 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:55,251 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:55,505 [IPC Server handler 5 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:55,517 [IPC Server handler 18 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:55,519 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b1c651ae-2457-4803-b080-b617533a653c is not found
2021-09-27 13:01:55,519 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca is not found
2021-09-27 13:01:55,522 [IPC Server handler 15 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:56,004 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: remove    LEADER 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC:t1, leader=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,005 [IPC Server handler 11 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:56,006 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=530b3012-0226-4d67-ab47-708875237cbc is not found
2021-09-27 13:01:56,008 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca is not found
2021-09-27 13:01:56,006 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: shutdown
2021-09-27 13:01:56,008 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-708875237CBC,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:56,009 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-LeaderStateImpl
2021-09-27 13:01:56,009 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-PendingRequests: sendNotLeaderResponses
2021-09-27 13:01:56,010 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:01:56,012 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-708875237CBC: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc/sm/snapshot.1_0
2021-09-27 13:01:56,017 [IPC Server handler 14 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:56,017 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: remove    LEADER 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693:t1, leader=48a9b2ff-8b63-4b31-9abf-aadd529eb13c, voted=48a9b2ff-8b63-4b31-9abf-aadd529eb13c, raftlog=48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,017 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: shutdown
2021-09-27 13:01:56,018 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9607B9BC6693,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:56,018 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-LeaderStateImpl
2021-09-27 13:01:56,019 [IPC Server handler 16 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:56,018 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-PendingRequests: sendNotLeaderResponses
2021-09-27 13:01:56,023 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-9607B9BC6693: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693/sm/snapshot.1_0
2021-09-27 13:01:56,023 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:01:56,056 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-9607B9BC6693: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693/sm/snapshot.1_0 took: 33 ms
2021-09-27 13:01:56,058 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:01:56,058 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:01:56,061 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-708875237CBC: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc/sm/snapshot.1_0 took: 47 ms
2021-09-27 13:01:56,061 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:01:56,061 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:01:56,068 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: closes. applyIndex: 0
2021-09-27 13:01:56,068 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: closes. applyIndex: 0
2021-09-27 13:01:56,070 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,070 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,072 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,076 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,081 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-708875237CBC: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/530b3012-0226-4d67-ab47-708875237cbc
2021-09-27 13:01:56,082 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-9607B9BC6693: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/19ebbb37-666e-44bb-9a33-9607b9bc6693
2021-09-27 13:01:56,082 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=19ebbb37-666e-44bb-9a33-9607b9bc6693 command on datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c.
2021-09-27 13:01:56,082 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: remove  FOLLOWER 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA:t1, leader=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,082 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: shutdown
2021-09-27 13:01:56,082 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:56,082 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState
2021-09-27 13:01:56,083 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:01:56,084 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-07F54F9574CA: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10
2021-09-27 13:01:56,083 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=530b3012-0226-4d67-ab47-708875237cbc command on datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50.
2021-09-27 13:01:56,084 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:01:56,091 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: remove    LEADER 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA:t1, leader=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,091 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: shutdown
2021-09-27 13:01:56,091 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:56,092 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-LeaderStateImpl
2021-09-27 13:01:56,092 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->c436a658-49d1-40a3-a179-32d2cf16e359-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->c436a658-49d1-40a3-a179-32d2cf16e359-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:01:56,092 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:01:56,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-07F54F9574CA: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10 took: 9 ms
2021-09-27 13:01:56,095 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:01:56,095 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:01:56,095 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: Completed APPEND_ENTRIES, lastRequest: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50->48a9b2ff-8b63-4b31-9abf-aadd529eb13c#300-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:01:56,096 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: closes. applyIndex: 10
2021-09-27 13:01:56,092 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-PendingRequests: sendNotLeaderResponses
2021-09-27 13:01:56,098 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,099 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:01:56,097 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - c436a658-49d1-40a3-a179-32d2cf16e359: Completed APPEND_ENTRIES, lastRequest: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50->c436a658-49d1-40a3-a179-32d2cf16e359#292-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:01:56,102 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->48a9b2ff-8b63-4b31-9abf-aadd529eb13c: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:01:56,103 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,104 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-07F54F9574CA: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10
2021-09-27 13:01:56,104 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:01:56,106 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-07F54F9574CA: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10 took: 2 ms
2021-09-27 13:01:56,106 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:01:56,106 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:01:56,112 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->c436a658-49d1-40a3-a179-32d2cf16e359-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:01:56,112 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA->c436a658-49d1-40a3-a179-32d2cf16e359: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:01:56,123 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: closes. applyIndex: 10
2021-09-27 13:01:56,124 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,124 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-07F54F9574CA: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:56,125 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca command on datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c.
2021-09-27 13:01:56,125 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:56,125 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:01:56,125 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:01:56,126 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:01:56,128 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,128 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:01:56,128 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data-0/containers/hdds/4240ff64-2d45-4b82-8207-e217a75a62e3 -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:01:56,131 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-07F54F9574CA: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:56,131 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca command on datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50.
2021-09-27 13:01:56,131 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:56,132 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:01:56,132 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:01:56,132 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:01:56,132 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:01:56,133 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:01:56,133 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data-0/containers/hdds/4240ff64-2d45-4b82-8207-e217a75a62e3 -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:01:56,134 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:01:56,251 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:56,252 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:56,252 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:56,516 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c436a658-49d1-40a3-a179-32d2cf16e359: remove    LEADER c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C:t1, leader=c436a658-49d1-40a3-a179-32d2cf16e359, voted=c436a658-49d1-40a3-a179-32d2cf16e359, raftlog=c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,516 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: shutdown
2021-09-27 13:01:56,516 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B617533A653C,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:56,517 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-LeaderStateImpl
2021-09-27 13:01:56,517 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-PendingRequests: sendNotLeaderResponses
2021-09-27 13:01:56,517 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:01:56,517 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B617533A653C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c/sm/snapshot.1_0
2021-09-27 13:01:56,519 [IPC Server handler 17 on default port 35057] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:01:56,520 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b1c651ae-2457-4803-b080-b617533a653c is not found
2021-09-27 13:01:56,520 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca is not found
2021-09-27 13:01:56,521 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-1AB3BE608700:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] returns group-1AB3BE608700:java.util.concurrent.CompletableFuture@2fe4f9aa[Not completed]
2021-09-27 13:01:56,523 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B617533A653C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c/sm/snapshot.1_0 took: 5 ms
2021-09-27 13:01:56,523 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:01:56,523 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:01:56,524 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: closes. applyIndex: 0
2021-09-27 13:01:56,524 [c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,531 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,536 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-B617533A653C: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/b1c651ae-2457-4803-b080-b617533a653c
2021-09-27 13:01:56,536 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=b1c651ae-2457-4803-b080-b617533a653c command on datanode c436a658-49d1-40a3-a179-32d2cf16e359.
2021-09-27 13:01:56,536 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - c436a658-49d1-40a3-a179-32d2cf16e359: remove  FOLLOWER c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA:t1, leader=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:01:56,536 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: shutdown
2021-09-27 13:01:56,537 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-07F54F9574CA,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:56,537 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState
2021-09-27 13:01:56,537 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:01:56,537 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:01:56,537 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-07F54F9574CA: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10
2021-09-27 13:01:56,545 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-07F54F9574CA: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca/sm/snapshot.1_10 took: 8 ms
2021-09-27 13:01:56,545 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:01:56,545 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:01:56,546 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: closes. applyIndex: 10
2021-09-27 13:01:56,546 [c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:01:56,547 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-1AB3BE608700:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:56,548 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA-SegmentedRaftLogWorker close()
2021-09-27 13:01:56,548 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:56,550 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:56,551 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: ConfigurationManager, init=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:56,552 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:01:56,552 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:56,552 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:56,552 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-07F54F9574CA: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/d1eb67ab-83a8-4304-aacb-07f54f9574ca
2021-09-27 13:01:56,552 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700 does not exist. Creating ...
2021-09-27 13:01:56,552 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d1eb67ab-83a8-4304-aacb-07f54f9574ca command on datanode c436a658-49d1-40a3-a179-32d2cf16e359.
2021-09-27 13:01:56,552 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:56,553 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:01:56,553 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:01:56,553 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:01:56,554 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:56,554 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:01:56,554 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data-0/containers/hdds/4240ff64-2d45-4b82-8207-e217a75a62e3 -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:01:56,555 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700 has been successfully formatted.
2021-09-27 13:01:56,558 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:01:56,558 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:56,560 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1AB3BE608700: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:56,561 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:56,561 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:56,561 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:56,561 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:56,561 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,562 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 3765d426-d240-4d7b-8ff8-1ab3be608700, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:f7d91da2-1753-44ec-94ba-8dbd50c250be, CreationTimestamp2021-09-27T13:01:53.533Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:56,564 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:56,568 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:56,569 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:56,570 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:56,571 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:56,565 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:56,580 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,580 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,581 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:56,585 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:56,585 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:56,585 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:56,586 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:56,586 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:56,588 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: start as a follower, conf=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:01:56,589 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:56,589 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState
2021-09-27 13:01:56,590 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1AB3BE608700,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:56,591 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700
2021-09-27 13:01:56,591 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700.
2021-09-27 13:01:56,592 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] returns group-A955BADA814D:java.util.concurrent.CompletableFuture@2bdb788e[Not completed]
2021-09-27 13:01:56,598 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:56,599 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:01:56,600 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:56,600 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:56,600 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d does not exist. Creating ...
2021-09-27 13:01:56,603 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:56,604 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d has been successfully formatted.
2021-09-27 13:01:56,605 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A955BADA814D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:56,605 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:56,605 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:56,605 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:56,606 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:56,607 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:56,607 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:56,607 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:56,608 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:56,609 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:56,610 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:56,610 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,610 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:56,612 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:56,614 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:01:56,614 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:56,614 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState
2021-09-27 13:01:56,614 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:01:56,615 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:01:56,629 [grpc-default-executor-4] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] returns group-A955BADA814D:java.util.concurrent.CompletableFuture@d64b2f6[Not completed]
2021-09-27 13:01:56,631 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:01:56,631 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:56,631 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:56,631 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:56,631 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:56,632 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d does not exist. Creating ...
2021-09-27 13:01:56,634 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:56,635 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d has been successfully formatted.
2021-09-27 13:01:56,637 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:56,638 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A955BADA814D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:56,639 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:56,639 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:56,639 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:56,639 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:56,639 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:56,640 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:56,641 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:56,642 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:56,642 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,642 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,642 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:56,643 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:56,643 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:56,643 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:56,643 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:56,643 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:56,644 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:01:56,644 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:56,644 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState
2021-09-27 13:01:56,644 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:56,665 [grpc-default-executor-4] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] returns group-A955BADA814D:java.util.concurrent.CompletableFuture@53984ceb[Not completed]
2021-09-27 13:01:56,666 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-A955BADA814D:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:01:56,667 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:56,668 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:56,669 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d does not exist. Creating ...
2021-09-27 13:01:56,670 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:56,673 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d has been successfully formatted.
2021-09-27 13:01:56,674 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:01:56,674 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:56,675 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:01:56,675 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:56,675 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A955BADA814D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:56,675 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bafe68f-c515-43a9-8787-e10452bc2274 to datanode:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:56,677 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6bafe68f-c515-43a9-8787-e10452bc2274, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:56.675Z[Etc/UTC]].
2021-09-27 13:01:56,677 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:01:56,678 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e25ac656-9404-430b-9181-062edb0b597e to datanode:48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:56,678 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e25ac656-9404-430b-9181-062edb0b597e, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:56.678Z[Etc/UTC]].
2021-09-27 13:01:56,676 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:56,680 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:56,683 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:56,685 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:56,686 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:56,687 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:56,687 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:56,688 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,688 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:56,689 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:56,689 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:56,689 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:56,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:56,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:56,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:56,691 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:01:56,691 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:56,691 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState
2021-09-27 13:01:56,694 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:56,708 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d.
2021-09-27 13:01:57,032 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-BF4584456673:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] returns group-BF4584456673:java.util.concurrent.CompletableFuture@70aac727[Not completed]
2021-09-27 13:01:57,033 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-BF4584456673:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: ConfigurationManager, init=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,035 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:01:57,036 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,036 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,036 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673 does not exist. Creating ...
2021-09-27 13:01:57,037 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,041 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673 has been successfully formatted.
2021-09-27 13:01:57,044 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-BF4584456673: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,044 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,045 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 50164cb1-5fc7-40c1-b5bd-bf4584456673, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:01:54.037Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:57,049 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:57,049 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,050 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,050 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,050 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,051 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,053 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,055 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,057 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: start as a follower, conf=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:01:57,057 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,057 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState
2021-09-27 13:01:57,058 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BF4584456673,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:01:57,060 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673
2021-09-27 13:01:57,060 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673.
2021-09-27 13:01:57,172 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:01:57,173 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:01:57,173 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=8fef3600-27e9-4315-b443-dd9ef188c054 to datanode:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:57,175 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 8fef3600-27e9-4315-b443-dd9ef188c054, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:57.173Z[Etc/UTC]].
2021-09-27 13:01:57,176 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e to datanode:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:57,176 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e to datanode:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:57,176 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e to datanode:48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:57,178 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c8ef3df2-b3a6-4c08-a22a-4ab4e458560e, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:01:57.176Z[Etc/UTC]].
2021-09-27 13:01:57,252 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:57,254 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:57,254 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:57,256 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-F7FA688F765E:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] returns group-F7FA688F765E:java.util.concurrent.CompletableFuture@6164d925[Not completed]
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-F7FA688F765E:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,258 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:01:57,259 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,259 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,259 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e does not exist. Creating ...
2021-09-27 13:01:57,260 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,261 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e has been successfully formatted.
2021-09-27 13:01:57,262 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,263 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F7FA688F765E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,263 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,263 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,263 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,263 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,264 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: e24f0580-eacb-4d90-9b01-f7fa688f765e, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fd95f95c-8aff-4525-8224-f6a714ea83f7, CreationTimestamp2021-09-27T13:01:54.262Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:57,264 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,264 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:57,269 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,270 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,271 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,272 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,274 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:01:57,274 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,274 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState
2021-09-27 13:01:57,274 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7FA688F765E,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:01:57,276 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e
2021-09-27 13:01:57,276 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e.
2021-09-27 13:01:57,505 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:57,505 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: addNew group-E10452BC2274:[4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-E10452BC2274:java.util.concurrent.CompletableFuture@4fc4d283[Not completed]
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: new RaftServerImpl for group-E10452BC2274:[4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: ConfigurationManager, init=-1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,507 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis] (custom)
2021-09-27 13:01:57,508 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,508 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,508 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274 does not exist. Creating ...
2021-09-27 13:01:57,510 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,511 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274 has been successfully formatted.
2021-09-27 13:01:57,511 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-E10452BC2274: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,511 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,512 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,512 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,513 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 6bafe68f-c515-43a9-8787-e10452bc2274, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:56.675Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:57,513 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,513 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,513 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,514 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,515 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,515 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,516 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,517 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,517 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,517 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,519 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:57,520 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,526 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,526 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: addNew group-062EDB0B597E:[48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1] returns group-062EDB0B597E:java.util.concurrent.CompletableFuture@386ec65b[Not completed]
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: new RaftServerImpl for group-062EDB0B597E:[48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,527 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: ConfigurationManager, init=-1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,528 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis] (custom)
2021-09-27 13:01:57,528 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,528 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,528 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e does not exist. Creating ...
2021-09-27 13:01:57,526 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,528 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,529 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,529 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,530 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: start as a follower, conf=-1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:57,530 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,530 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState
2021-09-27 13:01:57,531 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,532 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E10452BC2274,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:57,533 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=6bafe68f-c515-43a9-8787-e10452bc2274
2021-09-27 13:01:57,533 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6bafe68f-c515-43a9-8787-e10452bc2274.
2021-09-27 13:01:57,533 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: addNew group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-4AB4E458560E:java.util.concurrent.CompletableFuture@5a727e2a[Not completed]
2021-09-27 13:01:57,534 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: new RaftServerImpl for group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,534 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,534 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,534 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis] (custom)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,535 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e does not exist. Creating ...
2021-09-27 13:01:57,535 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e has been successfully formatted.
2021-09-27 13:01:57,536 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-062EDB0B597E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,536 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,536 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,536 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,537 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: e25ac656-9404-430b-9181-062edb0b597e, Nodes: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:48a9b2ff-8b63-4b31-9abf-aadd529eb13c, CreationTimestamp2021-09-27T13:01:56.678Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:57,536 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,538 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,538 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,539 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,539 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e has been successfully formatted.
2021-09-27 13:01:57,540 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,540 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4AB4E458560E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,540 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,540 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,540 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,540 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,541 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,541 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,541 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,542 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e
2021-09-27 13:01:57,542 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,543 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,543 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,544 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,544 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,544 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,545 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,545 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,544 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,546 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,547 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,547 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,547 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,547 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,548 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,549 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,549 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,550 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,548 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,551 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,551 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,551 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,551 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,551 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,551 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,551 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,552 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,553 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:57,553 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,553 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState
2021-09-27 13:01:57,554 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:01:57,555 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e
2021-09-27 13:01:57,555 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,555 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,556 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: start as a follower, conf=-1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null
2021-09-27 13:01:57,556 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,556 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState
2021-09-27 13:01:57,558 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-062EDB0B597E,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:57,567 [grpc-default-executor-4] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c436a658-49d1-40a3-a179-32d2cf16e359: addNew group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1] returns group-4AB4E458560E:java.util.concurrent.CompletableFuture@62406873[Not completed]
2021-09-27 13:01:57,568 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=e25ac656-9404-430b-9181-062edb0b597e
2021-09-27 13:01:57,568 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e25ac656-9404-430b-9181-062edb0b597e.
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - c436a658-49d1-40a3-a179-32d2cf16e359: new RaftServerImpl for group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,568 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: addNew group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] returns group-4AB4E458560E:java.util.concurrent.CompletableFuture@2588801[Not completed]
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,568 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis] (custom)
2021-09-27 13:01:57,569 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,569 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,569 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e does not exist. Creating ...
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: new RaftServerImpl for group-4AB4E458560E:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:57,569 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis] (custom)
2021-09-27 13:01:57,570 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:57,570 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:57,570 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e does not exist. Creating ...
2021-09-27 13:01:57,571 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,572 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:57,573 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e has been successfully formatted.
2021-09-27 13:01:57,573 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4AB4E458560E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,573 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,574 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,575 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,576 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,576 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e has been successfully formatted.
2021-09-27 13:01:57,577 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:57,578 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4AB4E458560E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,579 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:57,580 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:57,580 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,581 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,581 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,582 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:57,584 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:57,584 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,585 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,588 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,589 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:01:57,590 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,590 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:01:57,592 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:57,592 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:57,593 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:57,593 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:57,593 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:57,593 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:57,593 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:57,594 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:01:57,594 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:57,603 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:01:57,603 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:01:57,615 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e
2021-09-27 13:01:57,655 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e.
2021-09-27 13:01:57,669 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c8ef3df2-b3a6-4c08-a22a-4ab4e458560e.
2021-09-27 13:01:58,016 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:01:58,016 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c436a658-49d1-40a3-a179-32d2cf16e359: addNew group-DD9EF188C054:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1] returns group-DD9EF188C054:java.util.concurrent.CompletableFuture@52d602c1[Not completed]
2021-09-27 13:01:58,017 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - c436a658-49d1-40a3-a179-32d2cf16e359: new RaftServerImpl for group-DD9EF188C054:[c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:01:58,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:01:58,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:01:58,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:01:58,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: ConfigurationManager, init=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis] (custom)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:01:58,018 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054 does not exist. Creating ...
2021-09-27 13:01:58,020 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:01:58,021 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054 has been successfully formatted.
2021-09-27 13:01:58,022 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-DD9EF188C054: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:01:58,022 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:01:58,022 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:01:58,022 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:01:58,023 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:01:58,023 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:01:58,023 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:58,024 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 8fef3600-27e9-4315-b443-dd9ef188c054, Nodes: c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:c436a658-49d1-40a3-a179-32d2cf16e359, CreationTimestamp2021-09-27T13:01:57.173Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:01:58,025 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:01:58,027 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:01:58,028 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:01:58,028 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:01:58,029 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: start as a follower, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null
2021-09-27 13:01:58,029 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:01:58,029 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState
2021-09-27 13:01:58,037 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD9EF188C054,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:01:58,038 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=8fef3600-27e9-4315-b443-dd9ef188c054
2021-09-27 13:01:58,038 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=8fef3600-27e9-4315-b443-dd9ef188c054.
2021-09-27 13:01:58,106 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:58,254 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:58,254 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:58,254 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:01:58,264 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:59,043 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:59,106 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:01:59,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:01:59,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:01:59,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:00,043 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:00,115 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:00,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:00,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:00,255 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:00,265 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:00,605 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:01,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:01,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:01,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:01,606 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:01,693 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5049018092ns, electionTimeout:5048ms
2021-09-27 13:02:01,694 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState
2021-09-27 13:02:01,694 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:01,695 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:01,695 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7
2021-09-27 13:02:01,700 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:01,715 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-A955BADA814D, 1, (t:0, i:0))
2021-09-27 13:02:01,715 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FOLLOWER: accept ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: our priority 0 <= candidate's priority 1
2021-09-27 13:02:01,717 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:01,717 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState
2021-09-27 13:02:01,718 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState
2021-09-27 13:02:01,718 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:01,722 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-f7d91da2-1753-44ec-94ba-8dbd50c250be#0:OK-t1. Peer's state: f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D:t1, leader=null, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:01,724 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-A955BADA814D, 1, (t:0, i:0))
2021-09-27 13:02:01,724 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FOLLOWER: accept ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: our priority 0 <= candidate's priority 1
2021-09-27 13:02:01,724 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:01,724 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState
2021-09-27 13:02:01,724 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState
2021-09-27 13:02:01,724 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-f7d91da2-1753-44ec-94ba-8dbd50c250be#0:OK-t1
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7 ELECTION round 0: result PASSED
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-A955BADA814D with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5086ms
2021-09-27 13:02:01,725 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:01,726 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:01,726 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:01,727 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:01,727 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:OK-t1. Peer's state: fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D:t1, leader=null, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:01,727 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:01,727 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:01,729 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:01,730 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderStateImpl
2021-09-27 13:02:01,730 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:01,731 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 3e3ffd29-58e7-43d0-a21d-a955bada814d, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:01:54.265Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:01,732 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:02:01,732 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:02:01,732 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:01,732 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:01,733 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:01,733 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:01,733 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:02:01,733 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:02:01,734 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/current/log_inprogress_0
2021-09-27 13:02:01,745 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:01,750 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-A955BADA814D with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:01,750 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5145ms
2021-09-27 13:02:01,755 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5165454172ns, electionTimeout:5165ms
2021-09-27 13:02:01,755 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState
2021-09-27 13:02:01,755 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:01,756 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-A955BADA814D with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:01,756 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5076ms
2021-09-27 13:02:01,764 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:01,765 [grpc-default-executor-4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:01,767 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/current/log_inprogress_0
2021-09-27 13:02:01,767 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:01,768 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:01,770 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/current/log_inprogress_0
2021-09-27 13:02:01,771 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:01,771 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8
2021-09-27 13:02:01,789 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:02:01,789 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:01,789 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8
2021-09-27 13:02:01,790 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:01,790 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-1AB3BE608700 with new leaderId: f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:01,790 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: change Leader from null to f7d91da2-1753-44ec-94ba-8dbd50c250be at term 1 for becomeLeader, leader elected after 5229ms
2021-09-27 13:02:01,791 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:01,791 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:01,792 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:01,792 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:01,792 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:01,792 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:01,794 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderStateImpl
2021-09-27 13:02:01,795 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:01,797 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: set configuration 0: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:1], old=null
2021-09-27 13:02:01,799 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700/current/log_inprogress_0
2021-09-27 13:02:02,111 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5053903567ns, electionTimeout:5052ms
2021-09-27 13:02:02,111 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState
2021-09-27 13:02:02,111 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:02,111 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:02,111 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9
2021-09-27 13:02:02,115 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:02:02,115 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-BF4584456673 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5071ms
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:02,116 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:02,116 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:02,117 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:02,117 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:02,117 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:02,117 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderStateImpl
2021-09-27 13:02:02,117 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:02,119 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673/current/log_inprogress_0
2021-09-27 13:02:02,122 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: set configuration 0: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1], old=null
2021-09-27 13:02:02,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:02,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:02:02,256 [Listener at 127.0.0.1/40859] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:02,258 [Listener at 127.0.0.1/40859] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,260 [Listener at 127.0.0.1/40859] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:02:02,260 [Listener at 127.0.0.1/40859] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:02:02,261 [Listener at 127.0.0.1/40859] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,261 [Listener at 127.0.0.1/40859] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:02,304 [Listener at 127.0.0.1/40859] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:02,305 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:02,305 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:02,306 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:02,306 [Listener at 127.0.0.1/40859] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:02,306 [Listener at 127.0.0.1/40859] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,306 [Listener at 127.0.0.1/40859] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,391 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5116849792ns, electionTimeout:5115ms
2021-09-27 13:02:02,391 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState
2021-09-27 13:02:02,391 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:02,400 [Listener at 127.0.0.1/40859] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:02:02,400 [Listener at 127.0.0.1/40859] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:02:02,402 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:02,402 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10
2021-09-27 13:02:02,414 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,415 [Listener at 127.0.0.1/40859] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,416 [Listener at 127.0.0.1/40859] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-27 13:02:02,416 [Listener at 127.0.0.1/40859] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-27 13:02:02,416 [Listener at 127.0.0.1/40859] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-27 13:02:02,416 [Listener at 127.0.0.1/40859] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:02:02,420 [Listener at 127.0.0.1/40859] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:02:02,421 [Listener at 127.0.0.1/40859] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:02,423 [Listener at 127.0.0.1/40859] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-27 13:02:02,424 [Listener at 127.0.0.1/40859] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:02:02,425 [Listener at 127.0.0.1/40859] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:02:02,425 [Listener at 127.0.0.1/40859] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:02,426 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:02:02,426 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:02,426 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10
2021-09-27 13:02:02,426 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:02,426 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-F7FA688F765E with new leaderId: fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:02,428 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: change Leader from null to fd95f95c-8aff-4525-8224-f6a714ea83f7 at term 1 for becomeLeader, leader elected after 5162ms
2021-09-27 13:02:02,428 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:02,428 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:02,428 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:02,428 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:02,429 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:02,429 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:02,429 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderStateImpl
2021-09-27 13:02:02,429 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:02,432 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e/current/log_inprogress_0
2021-09-27 13:02:02,433 [Listener at 127.0.0.1/40859] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:02:02,434 [Listener at 127.0.0.1/40859] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:02:02,435 [Listener at 127.0.0.1/40859] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:02:02,436 [Listener at 127.0.0.1/40859] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:02:02,449 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:1], old=null
2021-09-27 13:02:02,450 [Listener at 127.0.0.1/40859] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-09-27 13:02:02,450 [Listener at 127.0.0.1/40859] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:02:02,451 [Listener at 127.0.0.1/40859] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:02:02,452 [Listener at 127.0.0.1/40859] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:02,453 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:02,454 [Listener at 0.0.0.0/44273] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:02,455 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:02,456 [Listener at 0.0.0.0/33407] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:02,457 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:02,477 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:02:02,500 [Listener at 0.0.0.0/41795] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:02,502 [Listener at 0.0.0.0/41795] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:02:02,502 [Listener at 0.0.0.0/41795] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:02,502 [Listener at 0.0.0.0/41795] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:02:02,503 [Listener at 0.0.0.0/41795] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:02,503 [Listener at 0.0.0.0/41795] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:02,503 [Listener at 0.0.0.0/41795] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:02,504 [Listener at 0.0.0.0/41795] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41795
2021-09-27 13:02:02,504 [Listener at 0.0.0.0/41795] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-09-27 13:02:02,521 [Listener at 0.0.0.0/41795] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:41795
2021-09-27 13:02:02,522 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:02,522 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:02,526 [Listener at 0.0.0.0/41795] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:33407
2021-09-27 13:02:02,527 [Listener at 0.0.0.0/41795] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:33407
2021-09-27 13:02:02,527 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:02,527 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:02,530 [Listener at 0.0.0.0/41795] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:44273
2021-09-27 13:02:02,530 [Listener at 0.0.0.0/41795] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:44273
2021-09-27 13:02:02,531 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:02,531 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:02,543 [Listener at 0.0.0.0/41795] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-27 13:02:02,543 [Listener at 0.0.0.0/41795] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:02,545 [Listener at 0.0.0.0/41795] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:02,546 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3233da7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:02,546 [Listener at 0.0.0.0/41795] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:02,547 [Listener at 0.0.0.0/41795] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:02,550 [Listener at 0.0.0.0/41795] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:02:02,550 [Listener at 0.0.0.0/41795] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:02,550 [Listener at 0.0.0.0/41795] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:02,550 [Listener at 0.0.0.0/41795] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42149
2021-09-27 13:02:02,551 [Listener at 0.0.0.0/41795] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:02,553 [Listener at 0.0.0.0/41795] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:02,553 [Listener at 0.0.0.0/41795] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:02,553 [Listener at 0.0.0.0/41795] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:02,554 [Listener at 0.0.0.0/41795] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@60367d64{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:02,554 [Listener at 0.0.0.0/41795] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7ef43198{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:02,562 [Listener at 0.0.0.0/41795] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4d969e70{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:02,564 [Listener at 0.0.0.0/41795] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@24654231{HTTP/1.1, (http/1.1)}{0.0.0.0:42149}
2021-09-27 13:02:02,564 [Listener at 0.0.0.0/41795] INFO  server.Server (Server.java:doStart(415)) - Started @35004ms
2021-09-27 13:02:02,564 [Listener at 0.0.0.0/41795] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:02,565 [Listener at 0.0.0.0/41795] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:42149
2021-09-27 13:02:02,565 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,567 [Listener at 0.0.0.0/41795] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-27 13:02:02,619 [Listener at 0.0.0.0/41795] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 51 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-27 13:02:02,620 [Listener at 0.0.0.0/41795] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-27 13:02:02,620 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,630 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:02,631 [Listener at 0.0.0.0/41795] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:02,631 [Listener at 0.0.0.0/41795] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:02,653 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5063643552ns, electionTimeout:5061ms
2021-09-27 13:02:02,654 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,654 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:02,654 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:02,654 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11
2021-09-27 13:02:02,666 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:02,697 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5140754985ns, electionTimeout:5131ms
2021-09-27 13:02:02,697 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState
2021-09-27 13:02:02,697 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:02,698 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:02,698 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12
2021-09-27 13:02:02,700 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: receive requestVote(ELECTION, c436a658-49d1-40a3-a179-32d2cf16e359, group-4AB4E458560E, 1, (t:0, i:0))
2021-09-27 13:02:02,700 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FOLLOWER: accept ELECTION from c436a658-49d1-40a3-a179-32d2cf16e359: our priority 0 <= candidate's priority 0
2021-09-27 13:02:02,700 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:02,700 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,703 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5172684952ns, electionTimeout:5170ms
2021-09-27 13:02:02,703 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState
2021-09-27 13:02:02,703 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:02,704 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:02,704 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13
2021-09-27 13:02:02,706 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(127)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState: Stopping now (isRunning? false, isFollower? true)
2021-09-27 13:02:02,708 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,724 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E replies to ELECTION vote request: c436a658-49d1-40a3-a179-32d2cf16e359<-48a9b2ff-8b63-4b31-9abf-aadd529eb13c#0:OK-t1. Peer's state: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E:t1, leader=null, voted=c436a658-49d1-40a3-a179-32d2cf16e359, raftlog=48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:02:02,728 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: receive requestVote(ELECTION, c436a658-49d1-40a3-a179-32d2cf16e359, group-4AB4E458560E, 1, (t:0, i:0))
2021-09-27 13:02:02,728 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FOLLOWER: reject ELECTION from c436a658-49d1-40a3-a179-32d2cf16e359: our priority 1 > candidate's priority 0
2021-09-27 13:02:02,728 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:02,728 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,729 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,729 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-E10452BC2274 with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 1 for becomeLeader, leader elected after 5222ms
2021-09-27 13:02:02,734 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:02,735 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:02,735 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:02,736 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:1], old=null
2021-09-27 13:02:02,736 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:02,736 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-062EDB0B597E with new leaderId: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: change Leader from null to 48a9b2ff-8b63-4b31-9abf-aadd529eb13c at term 1 for becomeLeader, leader elected after 5200ms
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:02,737 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:02,737 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:02,738 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:02,738 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:02,739 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:02,739 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderStateImpl
2021-09-27 13:02:02,739 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:02,739 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E replies to ELECTION vote request: c436a658-49d1-40a3-a179-32d2cf16e359<-4417aa04-f8c6-4c99-bf83-cb9801e6bd50#0:FAIL-t1. Peer's state: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E:t1, leader=null, voted=null, raftlog=4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:02:02,739 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:02,740 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:02,740 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:02,740 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderStateImpl
2021-09-27 13:02:02,740 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:02,742 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e/current/log_inprogress_0
2021-09-27 13:02:02,756 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: set configuration 0: [48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:1], old=null
2021-09-27 13:02:02,756 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: c436a658-49d1-40a3-a179-32d2cf16e359<-48a9b2ff-8b63-4b31-9abf-aadd529eb13c#0:OK-t1
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: c436a658-49d1-40a3-a179-32d2cf16e359<-4417aa04-f8c6-4c99-bf83-cb9801e6bd50#0:FAIL-t1
2021-09-27 13:02:02,757 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274/current/log_inprogress_0
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11 ELECTION round 0: result REJECTED
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11
2021-09-27 13:02:02,757 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:02:02,765 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: set configuration 0: [4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:02,814 [Listener at 0.0.0.0/41795] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-27 13:02:02,814 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:02,815 [Listener at 0.0.0.0/41795] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-27 13:02:02,815 [Listener at 0.0.0.0/41795] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,815 [Listener at 0.0.0.0/41795] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,815 [Listener at 0.0.0.0/41795] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:02,816 [Listener at 0.0.0.0/41795] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:40263
2021-09-27 13:02:02,816 [Listener at 0.0.0.0/41795] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 40263 (custom)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 40263 (custom)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 40263 (custom)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-27 13:02:02,817 [Listener at 0.0.0.0/41795] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-27 13:02:02,819 [Listener at 0.0.0.0/41795] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:02,819 [Listener at 0.0.0.0/41795] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:02,819 [Listener at 0.0.0.0/41795] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:02,819 [Listener at 0.0.0.0/41795] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis] (custom)
2021-09-27 13:02:02,820 [Listener at 0.0.0.0/41795] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:40263|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@3a896219[Not completed]
2021-09-27 13:02:02,820 [Listener at 0.0.0.0/41795] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 40263
2021-09-27 13:02:02,821 [Listener at 0.0.0.0/41795] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:02,822 [pool-270-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:40263|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-27 13:02:02,822 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:02,837 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:02,838 [pool-270-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:40263|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:02,838 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis] (custom)
2021-09-27 13:02:02,838 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:02,838 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:02,838 [pool-270-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-09-27 13:02:02,844 [pool-270-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:02,846 [pool-270-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-09-27 13:02:02,846 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-09-27 13:02:02,846 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:02,846 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:02,846 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-27 13:02:02,847 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-27 13:02:02,848 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:02,848 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:02,856 [Listener at 127.0.0.1/35699] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-27 13:02:02,857 [Listener at 127.0.0.1/35699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-27 13:02:02,857 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:02,857 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-09-27 13:02:02,858 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-27 13:02:02,858 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-27 13:02:02,858 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-09-27 13:02:02,858 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:02,873 [Listener at 127.0.0.1/35699] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:35699
2021-09-27 13:02:02,873 [Listener at 127.0.0.1/35699] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 40263
2021-09-27 13:02:02,873 [Listener at 127.0.0.1/35699] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:40263|priority:0], old=null
2021-09-27 13:02:02,873 [Listener at 127.0.0.1/35699] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:02,873 [Listener at 127.0.0.1/35699] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:02,876 [Listener at 127.0.0.1/35699] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:312)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:303)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:518)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1290)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:02,876 [Listener at 127.0.0.1/35699] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:312)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:303)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:518)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1290)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:02,888 [Listener at 127.0.0.1/35699] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-09-27 13:02:02,889 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 40263
2021-09-27 13:02:02,889 [Listener at 127.0.0.1/35699] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-27 13:02:02,890 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@24da785c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-09-27 13:02:02,891 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-09-27 13:02:02,891 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:02,893 [Listener at 127.0.0.1/35699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:02,893 [Listener at 127.0.0.1/35699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:02,894 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:02,895 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-27 13:02:02,895 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:02,895 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:02,895 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35783
2021-09-27 13:02:02,895 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:02,898 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:02,898 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:02,899 [Listener at 127.0.0.1/35699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:02,899 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1ae5ecdc{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:02,899 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@246ed771{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:02,903 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@560b33c9{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:02:02,908 [Listener at 127.0.0.1/35699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@50a1b9da{HTTP/1.1, (http/1.1)}{0.0.0.0:35783}
2021-09-27 13:02:02,908 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(415)) - Started @35348ms
2021-09-27 13:02:02,908 [Listener at 127.0.0.1/35699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:02,909 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:35783
2021-09-27 13:02:02,909 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:02,911 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:02,937 [Listener at 127.0.0.1/35699] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-27 13:02:02,944 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@32fbf685] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:02,949 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,949 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:02,949 [Listener at 127.0.0.1/35699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:02,966 [Listener at 127.0.0.1/35699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:03,021 [Listener at 127.0.0.1/35699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:03,081 [Listener at 127.0.0.1/35699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 59 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:03,082 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:03,082 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:03,082 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:03,083 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:03,089 [Listener at 127.0.0.1/35699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:03,089 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:03,089 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data-0/containers/hdds
2021-09-27 13:02:03,090 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data-0/containers/hdds
2021-09-27 13:02:03,111 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis to VolumeSet
2021-09-27 13:02:03,111 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis
2021-09-27 13:02:03,111 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis
2021-09-27 13:02:03,113 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5083901983ns, electionTimeout:5083ms
2021-09-27 13:02:03,113 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState
2021-09-27 13:02:03,113 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:03,113 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:03,113 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14
2021-09-27 13:02:03,125 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:1], old=null
2021-09-27 13:02:03,125 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:03,126 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14
2021-09-27 13:02:03,127 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:03,127 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-DD9EF188C054 with new leaderId: c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:03,127 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: change Leader from null to c436a658-49d1-40a3-a179-32d2cf16e359 at term 1 for becomeLeader, leader elected after 5105ms
2021-09-27 13:02:03,127 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:03,130 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:03,132 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:03,132 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:03,133 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:03,133 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:03,133 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:03,134 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderStateImpl
2021-09-27 13:02:03,134 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:03,138 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054/current/log_inprogress_0
2021-09-27 13:02:03,140 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:1], old=null
2021-09-27 13:02:03,148 [Thread-618] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data-0/containers/hdds
2021-09-27 13:02:03,148 [Listener at 127.0.0.1/35699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:03,151 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:03,152 [Listener at 127.0.0.1/35699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:03,153 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:03,153 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:03,153 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis] (custom)
2021-09-27 13:02:03,157 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:03,157 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:03,159 [Listener at 127.0.0.1/35699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:03,159 [Listener at 127.0.0.1/35699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:03,160 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:03,161 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:03,161 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:03,161 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:03,162 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32925
2021-09-27 13:02:03,162 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:03,164 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:03,164 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:03,164 [Listener at 127.0.0.1/35699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:03,165 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@a9cd0d5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:03,166 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@e43ac97{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:03,215 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@30d7b9d8{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-32925-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-108197220829033637/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:03,218 [Listener at 127.0.0.1/35699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@57f61587{HTTP/1.1, (http/1.1)}{0.0.0.0:32925}
2021-09-27 13:02:03,218 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(415)) - Started @35658ms
2021-09-27 13:02:03,218 [Listener at 127.0.0.1/35699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:03,219 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:32925
2021-09-27 13:02:03,220 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:03,220 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:03,220 [Listener at 127.0.0.1/35699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:03,231 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:03,242 [Listener at 127.0.0.1/35699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:03,249 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:03,250 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:03,252 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@34e4b3c2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:03,254 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/meta/datanode.id
2021-09-27 13:02:03,270 [Listener at 127.0.0.1/35699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:03,318 [Listener at 127.0.0.1/35699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 45 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:03,319 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:03,319 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:03,319 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:03,319 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:03,323 [Listener at 127.0.0.1/35699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:03,323 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:03,323 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds
2021-09-27 13:02:03,324 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds
2021-09-27 13:02:03,340 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis to VolumeSet
2021-09-27 13:02:03,341 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis
2021-09-27 13:02:03,341 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis
2021-09-27 13:02:03,357 [Thread-630] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds
2021-09-27 13:02:03,357 [Listener at 127.0.0.1/35699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:03,360 [Listener at 127.0.0.1/35699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:03,360 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:03,360 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:03,360 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:03,360 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:03,361 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:03,361 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:03,361 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:03,361 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:03,362 [Listener at 127.0.0.1/35699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:03,362 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:03,362 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:03,362 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis] (custom)
2021-09-27 13:02:03,370 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:03,370 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:03,371 [Listener at 127.0.0.1/35699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:03,371 [Listener at 127.0.0.1/35699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:03,372 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:03,373 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:03,373 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:03,373 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:03,373 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46445
2021-09-27 13:02:03,374 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:03,375 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:03,375 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:03,375 [Listener at 127.0.0.1/35699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:03,376 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7d8936a8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:03,376 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3f9c4399{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:03,423 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1701c890{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-46445-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6447185285173974866/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:03,472 [Listener at 127.0.0.1/35699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@66ff5ecf{HTTP/1.1, (http/1.1)}{0.0.0.0:46445}
2021-09-27 13:02:03,473 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(415)) - Started @35913ms
2021-09-27 13:02:03,473 [Listener at 127.0.0.1/35699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:03,475 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:46445
2021-09-27 13:02:03,476 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:03,476 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:03,476 [Listener at 127.0.0.1/35699] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:03,487 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:03,496 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:03,496 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:03,504 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@703a6ec6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:03,505 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/meta/datanode.id
2021-09-27 13:02:03,534 [Listener at 127.0.0.1/35699] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:03,559 [Listener at 127.0.0.1/35699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:03,600 [Listener at 127.0.0.1/35699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:03,603 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:03,603 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:03,603 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:03,603 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:03,609 [Listener at 127.0.0.1/35699] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:03,610 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:03,610 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds
2021-09-27 13:02:03,611 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds
2021-09-27 13:02:03,639 [Listener at 127.0.0.1/35699] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis to VolumeSet
2021-09-27 13:02:03,639 [Listener at 127.0.0.1/35699] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis
2021-09-27 13:02:03,639 [Listener at 127.0.0.1/35699] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis
2021-09-27 13:02:03,655 [Thread-642] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds
2021-09-27 13:02:03,655 [Listener at 127.0.0.1/35699] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:03,658 [Listener at 127.0.0.1/35699] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:03,661 [Listener at 127.0.0.1/35699] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:03,662 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:03,663 [Listener at 127.0.0.1/35699] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:03,663 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:03,663 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:03,663 [Listener at 127.0.0.1/35699] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis] (custom)
2021-09-27 13:02:03,666 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:03,667 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:03,668 [Listener at 127.0.0.1/35699] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:03,670 [Listener at 127.0.0.1/35699] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:03,671 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:03,671 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:03,671 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:03,671 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:03,672 [Listener at 127.0.0.1/35699] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42301
2021-09-27 13:02:03,672 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:03,673 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:03,673 [Listener at 127.0.0.1/35699] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:03,674 [Listener at 127.0.0.1/35699] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:03,674 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3af6fbea{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:03,675 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@57b96de5{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:03,722 [Listener at 127.0.0.1/35699] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@716af815{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42301-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7843945418941883231/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:03,724 [Listener at 127.0.0.1/35699] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@12ae38f7{HTTP/1.1, (http/1.1)}{0.0.0.0:42301}
2021-09-27 13:02:03,725 [Listener at 127.0.0.1/35699] INFO  server.Server (Server.java:doStart(415)) - Started @36164ms
2021-09-27 13:02:03,725 [Listener at 127.0.0.1/35699] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:03,725 [Listener at 127.0.0.1/35699] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42301
2021-09-27 13:02:03,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:03,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:03,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:03,726 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:03,731 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:03,731 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:03,732 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@47d702b1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:03,733 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/meta/datanode.id
2021-09-27 13:02:03,897 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1023905944ns, electionTimeout:1009ms
2021-09-27 13:02:03,897 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:03,897 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:03,898 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:03,898 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection15
2021-09-27 13:02:03,903 [om1@group-C5BA1605619E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:40263|priority:0], old=null
2021-09-27 13:02:03,903 [om1@group-C5BA1605619E-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection15 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:03,903 [om1@group-C5BA1605619E-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection15
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1057ms
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:03,904 [om1@group-C5BA1605619E-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:02:03,905 [om1@group-C5BA1605619E-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:03,907 [om1@group-C5BA1605619E-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:40263|admin:|client:|dataStream:|priority:0], old=null
2021-09-27 13:02:03,912 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-09-27 13:02:03,913 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:40263"
]
2021-09-27 13:02:04,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:04,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:04,726 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:05,115 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:05,261 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:05,261 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:05,265 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41657
2021-09-27 13:02:05,266 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:05,273 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start RPC server
2021-09-27 13:02:05,273 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: GrpcService started, listening on 40689
2021-09-27 13:02:05,274 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 98d2ff82-3114-448d-a853-4e0e8b3d27f9 is started using port 40689 for RATIS
2021-09-27 13:02:05,274 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 98d2ff82-3114-448d-a853-4e0e8b3d27f9 is started using port 40689 for RATIS_ADMIN
2021-09-27 13:02:05,274 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 98d2ff82-3114-448d-a853-4e0e8b3d27f9 is started using port 40689 for RATIS_SERVER
2021-09-27 13:02:05,274 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 98d2ff82-3114-448d-a853-4e0e8b3d27f9 is started using port 34635
2021-09-27 13:02:05,278 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@1afc641e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-98d2ff82-3114-448d-a853-4e0e8b3d27f9: Started
2021-09-27 13:02:05,511 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:05,512 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:05,512 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 36095
2021-09-27 13:02:05,515 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:05,517 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start RPC server
2021-09-27 13:02:05,518 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: GrpcService started, listening on 46645
2021-09-27 13:02:05,518 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fe82f976-ce9d-4273-bb83-e88fe3fe4f5a is started using port 46645 for RATIS
2021-09-27 13:02:05,518 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@4e96fcb5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: Started
2021-09-27 13:02:05,518 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fe82f976-ce9d-4273-bb83-e88fe3fe4f5a is started using port 46645 for RATIS_ADMIN
2021-09-27 13:02:05,518 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis fe82f976-ce9d-4273-bb83-e88fe3fe4f5a is started using port 46645 for RATIS_SERVER
2021-09-27 13:02:05,519 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc fe82f976-ce9d-4273-bb83-e88fe3fe4f5a is started using port 44673
2021-09-27 13:02:05,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:05,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:05,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:05,736 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:05,736 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:05,737 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 42679
2021-09-27 13:02:05,739 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:05,746 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start RPC server
2021-09-27 13:02:05,747 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: GrpcService started, listening on 35245
2021-09-27 13:02:05,748 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 623c436b-d721-44ab-8ceb-7a2aa2028f82 is started using port 35245 for RATIS
2021-09-27 13:02:05,748 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 623c436b-d721-44ab-8ceb-7a2aa2028f82 is started using port 35245 for RATIS_ADMIN
2021-09-27 13:02:05,748 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 623c436b-d721-44ab-8ceb-7a2aa2028f82 is started using port 35245 for RATIS_SERVER
2021-09-27 13:02:05,748 [EndpointStateMachine task thread for /0.0.0.0:44273 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 623c436b-d721-44ab-8ceb-7a2aa2028f82 is started using port 45655
2021-09-27 13:02:05,749 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@541df31d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-623c436b-d721-44ab-8ceb-7a2aa2028f82: Started
2021-09-27 13:02:06,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:06,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:06,727 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:07,254 [IPC Server handler 1 on default port 44273] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:07,254 [IPC Server handler 1 on default port 44273] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:07,257 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:07,258 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=0296a415-dc89-41a9-bc56-90845c64705f to datanode:98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:07,258 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:02:07,259 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:02:07,260 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 0296a415-dc89-41a9-bc56-90845c64705f, Nodes: 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:07.258Z[Etc/UTC]].
2021-09-27 13:02:07,265 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:02:07,505 [IPC Server handler 2 on default port 44273] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:07,505 [IPC Server handler 2 on default port 44273] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:07,505 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:07,506 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:02:07,507 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f6308dcc-4240-42b1-a801-94537de5118c to datanode:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:07,507 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f6308dcc-4240-42b1-a801-94537de5118c, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:07.507Z[Etc/UTC]].
2021-09-27 13:02:07,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-09-27 13:02:07,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:07,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:07,733 [IPC Server handler 0 on default port 44273] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:07,733 [IPC Server handler 0 on default port 44273] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:07,734 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:07,735 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=37600848-c086-45b5-afc9-4d84636e088b to datanode:623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:07,735 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 37600848-c086-45b5-afc9-4d84636e088b, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:07.735Z[Etc/UTC]].
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:02:07,736 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:07,736 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c to datanode:623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:07,736 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c to datanode:98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:07,736 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c to datanode:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:07,737 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 7819133e-45c2-47e0-8046-f1992e32146c, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:07.736Z[Etc/UTC]].
2021-09-27 13:02:07,757 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5028659863ns, electionTimeout:5013ms
2021-09-27 13:02:07,757 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState
2021-09-27 13:02:07,758 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-27 13:02:07,758 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:07,758 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16
2021-09-27 13:02:07,763 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16 ELECTION round 0: submit vote requests at term 2 for -1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:02:07,771 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: receive requestVote(ELECTION, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50, group-4AB4E458560E, 2, (t:0, i:0))
2021-09-27 13:02:07,771 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FOLLOWER: accept ELECTION from 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: our priority 0 <= candidate's priority 1
2021-09-27 13:02:07,771 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:07,771 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:02:07,771 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c436a658-49d1-40a3-a179-32d2cf16e359: start c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:02:07,772 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:07,781 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: receive requestVote(ELECTION, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50, group-4AB4E458560E, 2, (t:0, i:0))
2021-09-27 13:02:07,783 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FOLLOWER: accept ELECTION from 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: our priority 0 <= candidate's priority 1
2021-09-27 13:02:07,783 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:07,783 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:07,783 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E replies to ELECTION vote request: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-c436a658-49d1-40a3-a179-32d2cf16e359#0:OK-t2. Peer's state: c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E:t2, leader=null, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:07,783 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:07,784 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-c436a658-49d1-40a3-a179-32d2cf16e359#0:OK-t2
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16 ELECTION round 0: result PASSED
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-4AB4E458560E with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 2 for becomeLeader, leader elected after 10245ms
2021-09-27 13:02:07,785 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:07,786 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:07,786 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:07,787 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:07,787 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:07,787 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:07,788 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: c8ef3df2-b3a6-4c08-a22a-4ab4e458560e, Nodes: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:4417aa04-f8c6-4c99-bf83-cb9801e6bd50, CreationTimestamp2021-09-27T13:01:57.176Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:07,792 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E replies to ELECTION vote request: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50<-48a9b2ff-8b63-4b31-9abf-aadd529eb13c#0:OK-t2. Peer's state: 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E:t2, leader=null, voted=4417aa04-f8c6-4c99-bf83-cb9801e6bd50, raftlog=48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|priority:1], old=null
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:07,798 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:07,799 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: start 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderStateImpl
2021-09-27 13:02:07,799 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:07,802 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/current/log_inprogress_0
2021-09-27 13:02:07,815 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:07,816 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-4AB4E458560E with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:07,817 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 2 for appendEntries, leader elected after 10242ms
2021-09-27 13:02:07,830 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-4AB4E458560E with new leaderId: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:07,830 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: change Leader from null to 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 at term 2 for appendEntries, leader elected after 10251ms
2021-09-27 13:02:07,841 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:07,841 [grpc-default-executor-5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:07,842 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: set configuration 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:07,842 [grpc-default-executor-4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:07,844 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/current/log_inprogress_0
2021-09-27 13:02:07,845 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/current/log_inprogress_0
2021-09-27 13:02:08,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:08,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:08,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:09,728 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:09,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:09,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:10,116 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-09-27 13:02:10,116 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:10,116 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-09-27 13:02:10,119 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-27 13:02:10,119 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-27 13:02:10,119 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-27 13:02:10,119 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-27 13:02:10,119 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-27 13:02:10,119 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-27 13:02:10,120 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-27 13:02:10,120 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-27 13:02:10,120 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35057
2021-09-27 13:02:10,123 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:10,124 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:10,133 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:35057 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az148-96/10.1.0.51"; destination host is: "0.0.0.0":35057; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-09-27 13:02:10,183 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-27 13:02:10,184 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-27 13:02:10,184 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-27 13:02:10,184 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43935
2021-09-27 13:02:10,186 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-27 13:02:10,186 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-27 13:02:10,186 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45009
2021-09-27 13:02:10,187 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:10,187 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:10,189 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:10,190 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-27 13:02:10,190 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:10,196 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@7dd70ae{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:10,202 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7c68ade6{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:10,204 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:10,206 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3dd1b4e9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:10,209 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7b54e604{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:10,211 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-27 13:02:10,211 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:10,213 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:10,213 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-27 13:02:10,217 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-27 13:02:10,217 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:10,218 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-27 13:02:10,221 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-09-27 13:02:10,242 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-27 13:02:10,244 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-09-27 13:02:10,244 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:02:10,244 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:02:10,245 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:10,245 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-27 13:02:10,256 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: addNew group-90845C64705F:[98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1] returns group-90845C64705F:java.util.concurrent.CompletableFuture@22192b1a[Not completed]
2021-09-27 13:02:10,257 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: new RaftServerImpl for group-90845C64705F:[98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: ConfigurationManager, init=-1: [98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,268 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis] (custom)
2021-09-27 13:02:10,269 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,269 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,269 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f does not exist. Creating ...
2021-09-27 13:02:10,271 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,273 [pool-283-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f has been successfully formatted.
2021-09-27 13:02:10,274 [pool-283-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-90845C64705F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,275 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,275 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,275 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,275 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,275 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,276 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,277 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,278 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,278 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:10,279 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 0296a415-dc89-41a9-bc56-90845c64705f, Nodes: 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.258Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:10,279 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,280 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,284 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,286 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: start as a follower, conf=-1: [98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1], old=null
2021-09-27 13:02:10,286 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,286 [pool-283-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState
2021-09-27 13:02:10,300 [pool-283-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-90845C64705F,id=98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:10,302 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:10,304 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=0296a415-dc89-41a9-bc56-90845c64705f
2021-09-27 13:02:10,304 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=0296a415-dc89-41a9-bc56-90845c64705f.
2021-09-27 13:02:10,304 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: addNew group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:0] returns group-F1992E32146C:java.util.concurrent.CompletableFuture@2626ab81[Not completed]
2021-09-27 13:02:10,305 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: new RaftServerImpl for group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,305 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,305 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: ConfigurationManager, init=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis] (custom)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,306 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c does not exist. Creating ...
2021-09-27 13:02:10,308 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,310 [pool-283-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c has been successfully formatted.
2021-09-27 13:02:10,310 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:10,311 [pool-283-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F1992E32146C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,312 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,312 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,312 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,312 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,312 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,312 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,313 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,314 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,320 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,321 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,321 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,328 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,330 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: start as a follower, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:0], old=null
2021-09-27 13:02:10,330 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,330 [pool-283-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState
2021-09-27 13:02:10,334 [pool-283-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:10,335 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:10,339 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 93 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:10,343 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:10,347 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:10,348 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: addNew group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0] returns group-F1992E32146C:java.util.concurrent.CompletableFuture@4897d828[Not completed]
2021-09-27 13:02:10,355 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: new RaftServerImpl for group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: ConfigurationManager, init=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,362 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis] (custom)
2021-09-27 13:02:10,363 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,363 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,363 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c does not exist. Creating ...
2021-09-27 13:02:10,364 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,367 [pool-321-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c has been successfully formatted.
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F1992E32146C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,370 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,370 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,371 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,373 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,375 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,375 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,376 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,377 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: start as a follower, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:10,378 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,378 [pool-321-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState
2021-09-27 13:02:10,380 [pool-321-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:10,412 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: addNew group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0] returns group-F1992E32146C:java.util.concurrent.CompletableFuture@52b54081[Not completed]
2021-09-27 13:02:10,413 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: new RaftServerImpl for group-F1992E32146C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,414 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: ConfigurationManager, init=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis] (custom)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,415 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,416 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c does not exist. Creating ...
2021-09-27 13:02:10,419 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,421 [pool-302-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c has been successfully formatted.
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F1992E32146C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,428 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,429 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,431 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,431 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,431 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,432 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,433 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,437 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: start as a follower, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:10,437 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,437 [pool-302-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState
2021-09-27 13:02:10,439 [pool-302-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:10,460 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=7819133e-45c2-47e0-8046-f1992e32146c.
2021-09-27 13:02:10,484 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:02:10,484 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:02:10,487 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:10,487 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:10,488 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:02:10,488 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:02:10,489 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:10,490 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:02:10,491 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:02:10,491 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:10,492 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:02:10,493 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:02:10,493 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:02:10,493 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:02:10,495 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 1 milliseconds for processing 2 containers.
2021-09-27 13:02:10,496 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-09-27 13:02:10,496 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 1, healthy pipeline threshold count is 1
2021-09-27 13:02:10,497 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 1, pipeline's with at least one datanode reported threshold count is 1
2021-09-27 13:02:10,498 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:10,499 [Socket Reader #1 for port 35057] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 35057
2021-09-27 13:02:10,502 [Listener at 0.0.0.0/35057] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:10,503 [Socket Reader #1 for port 43935] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 43935
2021-09-27 13:02:10,503 [Listener at 0.0.0.0/43935] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:10,505 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: addNew group-94537DE5118C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1] returns group-94537DE5118C:java.util.concurrent.CompletableFuture@5971dfd3[Not completed]
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: new RaftServerImpl for group-94537DE5118C:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,506 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: ConfigurationManager, init=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis] (custom)
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,507 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c does not exist. Creating ...
2021-09-27 13:02:10,509 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,513 [pool-302-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c has been successfully formatted.
2021-09-27 13:02:10,514 [pool-302-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-94537DE5118C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,515 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,515 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: f6308dcc-4240-42b1-a801-94537de5118c, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, CreationTimestamp2021-09-27T13:02:07.507Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:10,516 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:10,517 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,517 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,517 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,518 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,521 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,522 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,522 [Socket Reader #1 for port 45009] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 45009
2021-09-27 13:02:10,531 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,532 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,532 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,532 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,539 [Listener at 0.0.0.0/45009] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:10,540 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:02:10,540 [Listener at 0.0.0.0/45009] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:10,540 [Listener at 0.0.0.0/45009] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:02:10,541 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45009
2021-09-27 13:02:10,543 [Listener at 0.0.0.0/45009] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,543 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,544 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-27 13:02:10,544 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-27 13:02:10,558 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: start as a follower, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null
2021-09-27 13:02:10,558 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,558 [pool-302-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState
2021-09-27 13:02:10,564 [pool-302-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-94537DE5118C,id=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:10,565 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=f6308dcc-4240-42b1-a801-94537de5118c
2021-09-27 13:02:10,565 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=f6308dcc-4240-42b1-a801-94537de5118c.
2021-09-27 13:02:10,604 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-27 13:02:10,606 [Listener at 0.0.0.0/45009] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-27 13:02:10,661 [Listener at 0.0.0.0/45009] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:45009
2021-09-27 13:02:10,663 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:10,669 [IPC Server listener on 45009] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 45009: starting
2021-09-27 13:02:10,682 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43935
2021-09-27 13:02:10,682 [Listener at 0.0.0.0/45009] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43935
2021-09-27 13:02:10,683 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:10,683 [IPC Server listener on 43935] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 43935: starting
2021-09-27 13:02:10,704 [Listener at 0.0.0.0/45009] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35057
2021-09-27 13:02:10,704 [Listener at 0.0.0.0/45009] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:35057
2021-09-27 13:02:10,707 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:10,707 [IPC Server listener on 35057] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 35057: starting
2021-09-27 13:02:10,719 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:38517
2021-09-27 13:02:10,719 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:10,720 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@622971a9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:10,721 [Listener at 0.0.0.0/45009] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:10,723 [Listener at 0.0.0.0/45009] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:10,726 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:10,728 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:02:10,728 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:10,728 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:10,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:10,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:10,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:10,729 [Listener at 0.0.0.0/45009] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38517
2021-09-27 13:02:10,729 [Listener at 0.0.0.0/45009] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:10,736 [Listener at 0.0.0.0/45009] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:10,736 [Listener at 0.0.0.0/45009] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:10,736 [Listener at 0.0.0.0/45009] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:10,737 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4252a632{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:10,738 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7a04856{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:10,739 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: addNew group-4D84636E088B:[623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1] returns group-4D84636E088B:java.util.concurrent.CompletableFuture@cb670fc[Not completed]
2021-09-27 13:02:10,740 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: new RaftServerImpl for group-4D84636E088B:[623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:10,741 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: ConfigurationManager, init=-1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis] (custom)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:10,742 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b does not exist. Creating ...
2021-09-27 13:02:10,743 [Datanode State Machine Thread - 0] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:629)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:270)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:457)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-09-27 13:02:10,747 [Listener at 0.0.0.0/45009] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@56188bea{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:10,744 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:10,750 [Listener at 0.0.0.0/45009] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2174bf89{HTTP/1.1, (http/1.1)}{0.0.0.0:38517}
2021-09-27 13:02:10,750 [Listener at 0.0.0.0/45009] INFO  server.Server (Server.java:doStart(415)) - Started @43189ms
2021-09-27 13:02:10,750 [Listener at 0.0.0.0/45009] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:10,751 [pool-321-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b has been successfully formatted.
2021-09-27 13:02:10,752 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D84636E088B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:10,752 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,753 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 37600848-c086-45b5-afc9-4d84636e088b, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:623c436b-d721-44ab-8ceb-7a2aa2028f82, CreationTimestamp2021-09-27T13:02:07.735Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:10,753 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:10,753 [Listener at 0.0.0.0/45009] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:38517
2021-09-27 13:02:10,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:10,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:10,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:10,754 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:10,755 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:10,755 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:10,755 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:10,755 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:10,755 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:10,756 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:10,757 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,757 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:10,762 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:10,763 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: start as a follower, conf=-1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null
2021-09-27 13:02:10,763 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:10,763 [pool-321-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState
2021-09-27 13:02:10,764 [pool-321-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D84636E088B,id=623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:10,764 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=37600848-c086-45b5-afc9-4d84636e088b
2021-09-27 13:02:10,764 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=37600848-c086-45b5-afc9-4d84636e088b.
2021-09-27 13:02:11,243 [EndpointStateMachine task thread for /0.0.0.0:35057 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:35057. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-09-27 13:02:11,251 [IPC Server handler 1 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,251 [IPC Server handler 0 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,253 [IPC Server handler 1 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,257 [IPC Server handler 3 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,257 [IPC Server handler 4 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,258 [IPC Server handler 5 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,260 [IPC Server handler 6 on default port 35057] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:11,287 [IPC Server handler 7 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:11,287 [IPC Server handler 7 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 4417aa04-f8c6-4c99-bf83-cb9801e6bd50{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=35945, RATIS=34847, RATIS_ADMIN=34847, RATIS_SERVER=34847, STANDALONE=46633], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:11,297 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:11,298 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:02:11,298 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (OneReplicaPipelineSafeModeRule.java:process(120)) - SCM in safe mode. Pipelines with at least one datanode reported count is 1, required at least one datanode reported per pipeline count is 1
2021-09-27 13:02:11,299 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:02:11,299 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-09-27 13:02:11,305 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:02:11,309 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:11,313 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:11,516 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:11,632 [IPC Server handler 8 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:11,633 [IPC Server handler 8 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : c436a658-49d1-40a3-a179-32d2cf16e359{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36399, RATIS=35711, RATIS_ADMIN=35711, RATIS_SERVER=35711, STANDALONE=46049], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:11,633 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:11,634 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:02:11,634 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:11,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:11,729 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:11,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:11,749 [IPC Server handler 0 on default port 35057] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:02:11,749 [IPC Server handler 0 on default port 35057] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 48a9b2ff-8b63-4b31-9abf-aadd529eb13c{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33823, RATIS=46029, RATIS_ADMIN=46029, RATIS_SERVER=46029, STANDALONE=44569], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:11,749 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:02:11,750 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:11,751 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:11,752 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:02:11,752 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:02:11,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:11,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:02:11,754 [Listener at 0.0.0.0/45009] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:11,757 [Listener at 0.0.0.0/45009] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:86)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1815)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPostFinalizeUpgrade(TestHDDSUpgrade.java:742)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:11,760 [Listener at 0.0.0.0/45009] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-09-27 13:02:11,760 [Listener at 0.0.0.0/45009] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-09-27 13:02:11,867 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-27 13:02:11,868 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-27 13:02:11,868 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-09-27 13:02:11,868 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-27 13:02:11,871 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42299
2021-09-27 13:02:11,874 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:11,878 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:11,881 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-09-27 13:02:11,885 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-09-27 13:02:11,888 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-09-27 13:02:11,888 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-09-27 13:02:11,888 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:02:11,889 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:11,897 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-09-27 13:02:11,897 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-09-27 13:02:11,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-09-27 13:02:11,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-09-27 13:02:11,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-27 13:02:11,898 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-09-27 13:02:11,899 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:11,901 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-09-27 13:02:11,904 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 32877 now
2021-09-27 13:02:11,906 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 32877 successfully
2021-09-27 13:02:11,909 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@160008b7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-09-27 13:02:11,909 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-27 13:02:11,914 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-27 13:02:11,917 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-27 13:02:11,917 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-09-27 13:02:11,923 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@392da41f{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:02:11,923 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3c53749a{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:11,923 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:11,937 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@784a11b4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:11,945 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@441c88b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:11,964 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-09-27 13:02:11,976 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,006 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,008 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,020 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-27 13:02:12,032 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-09-27 13:02:12,049 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-09-27 13:02:12,067 [IPC Server handler 2 on default port 40379] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(234)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-09-27 13:02:12,068 [IPC Server handler 2 on default port 40379] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-09-27 13:02:12,134 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,136 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,149 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,206 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:12,206 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:12,206 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 3765d426-d240-4d7b-8ff8-1ab3be608700, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:f7d91da2-1753-44ec-94ba-8dbd50c250be, CreationTimestamp2021-09-27T13:01:53.533Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:12,207 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: e24f0580-eacb-4d90-9b01-f7fa688f765e, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:fd95f95c-8aff-4525-8224-f6a714ea83f7, CreationTimestamp2021-09-27T13:01:54.262Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:12,207 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 3e3ffd29-58e7-43d0-a21d-a955bada814d, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:01:54.265Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:12,209 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-09-27 13:02:12,209 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 50164cb1-5fc7-40c1-b5bd-bf4584456673, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:01:54.037Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:12,209 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-09-27 13:02:12,210 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-09-27 13:02:12,258 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:12,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:12,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:12,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:12,978 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:12,981 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,136 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,136 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,139 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,139 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,141 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:13,141 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,141 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:13,142 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:02:13,147 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,150 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,157 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,158 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:13,160 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:13,165 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,172 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,172 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,174 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,174 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,175 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:13,176 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:02:13,178 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,181 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,181 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:13,183 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:13,183 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:13,183 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,184 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:13,258 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:13,311 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:13,517 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:13,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:13,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:13,730 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:14,312 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:14,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:14,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:14,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:15,016 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:15,256 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:15,485 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5199410578ns, electionTimeout:5180ms
2021-09-27 13:02:15,485 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState
2021-09-27 13:02:15,486 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:15,486 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:15,486 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17
2021-09-27 13:02:15,491 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: [98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1], old=null
2021-09-27 13:02:15,491 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:15,491 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17
2021-09-27 13:02:15,492 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:15,492 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-90845C64705F with new leaderId: 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,492 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: change Leader from null to 98d2ff82-3114-448d-a853-4e0e8b3d27f9 at term 1 for becomeLeader, leader elected after 5216ms
2021-09-27 13:02:15,492 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:15,493 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:15,493 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:15,493 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5163089023ns, electionTimeout:5158ms
2021-09-27 13:02:15,493 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18
2021-09-27 13:02:15,495 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderStateImpl
2021-09-27 13:02:15,501 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,504 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f/current/log_inprogress_0
2021-09-27 13:02:15,514 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: set configuration 0: [98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1], old=null
2021-09-27 13:02:15,515 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:0], old=null
2021-09-27 13:02:15,530 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: receive requestVote(ELECTION, 98d2ff82-3114-448d-a853-4e0e8b3d27f9, group-F1992E32146C, 1, (t:0, i:0))
2021-09-27 13:02:15,530 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FOLLOWER: accept ELECTION from 98d2ff82-3114-448d-a853-4e0e8b3d27f9: our priority 0 <= candidate's priority 1
2021-09-27 13:02:15,530 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,530 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState
2021-09-27 13:02:15,530 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState
2021-09-27 13:02:15,530 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:15,544 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: receive requestVote(ELECTION, 98d2ff82-3114-448d-a853-4e0e8b3d27f9, group-F1992E32146C, 1, (t:0, i:0))
2021-09-27 13:02:15,544 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FOLLOWER: accept ELECTION from 98d2ff82-3114-448d-a853-4e0e8b3d27f9: our priority 0 <= candidate's priority 1
2021-09-27 13:02:15,545 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,545 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState
2021-09-27 13:02:15,545 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState
2021-09-27 13:02:15,545 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:15,547 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C replies to ELECTION vote request: 98d2ff82-3114-448d-a853-4e0e8b3d27f9<-fe82f976-ce9d-4273-bb83-e88fe3fe4f5a#0:OK-t1. Peer's state: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C:t1, leader=null, voted=98d2ff82-3114-448d-a853-4e0e8b3d27f9, raftlog=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:15,549 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C replies to ELECTION vote request: 98d2ff82-3114-448d-a853-4e0e8b3d27f9<-623c436b-d721-44ab-8ceb-7a2aa2028f82#0:OK-t1. Peer's state: 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C:t1, leader=null, voted=98d2ff82-3114-448d-a853-4e0e8b3d27f9, raftlog=623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 98d2ff82-3114-448d-a853-4e0e8b3d27f9<-fe82f976-ce9d-4273-bb83-e88fe3fe4f5a#0:OK-t1
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18 ELECTION round 0: result PASSED
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:15,555 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-F1992E32146C with new leaderId: 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,556 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: change Leader from null to 98d2ff82-3114-448d-a853-4e0e8b3d27f9 at term 1 for becomeLeader, leader elected after 5243ms
2021-09-27 13:02:15,556 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:15,556 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:15,557 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:15,558 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:15,558 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:15,558 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:15,558 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:15,558 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:15,558 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 7819133e-45c2-47e0-8046-f1992e32146c, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.736Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:15,559 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:15,559 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:15,559 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:15,559 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:15,559 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:15,562 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:02:15,562 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:02:15,562 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:15,562 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:15,562 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:15,562 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:15,560 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:15,562 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:15,563 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: start 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderStateImpl
2021-09-27 13:02:15,563 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,565 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/current/log_inprogress_0
2021-09-27 13:02:15,567 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: set configuration 0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:15,583 [grpc-default-executor-5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-F1992E32146C with new leaderId: 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,583 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: change Leader from null to 98d2ff82-3114-448d-a853-4e0e8b3d27f9 at term 1 for appendEntries, leader elected after 5155ms
2021-09-27 13:02:15,586 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-F1992E32146C with new leaderId: 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:15,586 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: change Leader from null to 98d2ff82-3114-448d-a853-4e0e8b3d27f9 at term 1 for appendEntries, leader elected after 5215ms
2021-09-27 13:02:15,596 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: set configuration 0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:15,596 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: set configuration 0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null
2021-09-27 13:02:15,596 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,596 [grpc-default-executor-5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,598 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/current/log_inprogress_0
2021-09-27 13:02:15,599 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/current/log_inprogress_0
2021-09-27 13:02:15,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:15,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:02:15,731 [Listener at 127.0.0.1/35699] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:15,733 [Listener at 127.0.0.1/35699] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:15,735 [Listener at 127.0.0.1/35699] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:02:15,735 [Listener at 127.0.0.1/35699] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:02:15,736 [Listener at 127.0.0.1/35699] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:15,736 [Listener at 127.0.0.1/35699] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:15,743 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5184724334ns, electionTimeout:5177ms
2021-09-27 13:02:15,743 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState
2021-09-27 13:02:15,743 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:15,743 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:15,743 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19
2021-09-27 13:02:15,754 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null
2021-09-27 13:02:15,754 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:15,754 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19
2021-09-27 13:02:15,754 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:15,754 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-94537DE5118C with new leaderId: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:15,755 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: change Leader from null to fe82f976-ce9d-4273-bb83-e88fe3fe4f5a at term 1 for becomeLeader, leader elected after 5239ms
2021-09-27 13:02:15,755 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:15,755 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:15,755 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:15,755 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:15,756 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:15,756 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:15,756 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderStateImpl
2021-09-27 13:02:15,756 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,759 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c/current/log_inprogress_0
2021-09-27 13:02:15,765 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: set configuration 0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:1], old=null
2021-09-27 13:02:15,790 [Listener at 127.0.0.1/35699] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 53 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:15,791 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:15,791 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:15,791 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:15,791 [Listener at 127.0.0.1/35699] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:15,791 [Listener at 127.0.0.1/35699] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:15,792 [Listener at 127.0.0.1/35699] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:15,886 [Listener at 127.0.0.1/35699] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:02:15,886 [Listener at 127.0.0.1/35699] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:02:15,888 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:15,888 [Listener at 127.0.0.1/35699] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:15,888 [Listener at 127.0.0.1/35699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-27 13:02:15,889 [Listener at 127.0.0.1/35699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-27 13:02:15,889 [Listener at 127.0.0.1/35699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-27 13:02:15,889 [Listener at 127.0.0.1/35699] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:02:15,890 [Listener at 127.0.0.1/35699] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:02:15,890 [Listener at 127.0.0.1/35699] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:15,891 [Listener at 127.0.0.1/35699] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-27 13:02:15,891 [Listener at 127.0.0.1/35699] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:02:15,891 [Listener at 127.0.0.1/35699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:02:15,891 [Listener at 127.0.0.1/35699] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:15,892 [Listener at 127.0.0.1/35699] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:02:15,892 [Listener at 127.0.0.1/35699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:02:15,892 [Listener at 127.0.0.1/35699] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:02:15,892 [Listener at 127.0.0.1/35699] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:02:15,895 [Listener at 127.0.0.1/35699] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-09-27 13:02:15,895 [Listener at 127.0.0.1/35699] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:02:15,896 [Listener at 127.0.0.1/35699] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:02:15,896 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:02:15,897 [Listener at 127.0.0.1/35699] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:15,897 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:15,906 [Listener at 0.0.0.0/33605] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:15,907 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:15,909 [Listener at 0.0.0.0/44345] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:15,910 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:15,931 [Listener at 0.0.0.0/33151] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:15,931 [Listener at 0.0.0.0/33151] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:02:15,931 [Listener at 0.0.0.0/33151] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:33151
2021-09-27 13:02:15,932 [Listener at 0.0.0.0/33151] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-09-27 13:02:15,949 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5185819861ns, electionTimeout:5184ms
2021-09-27 13:02:15,949 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState
2021-09-27 13:02:15,949 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:15,950 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:15,950 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20
2021-09-27 13:02:15,950 [Listener at 0.0.0.0/33151] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:33151
2021-09-27 13:02:15,961 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:15,961 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:15,965 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null
2021-09-27 13:02:15,966 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:15,966 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20
2021-09-27 13:02:15,966 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:15,966 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-4D84636E088B with new leaderId: 623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:15,969 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: change Leader from null to 623c436b-d721-44ab-8ceb-7a2aa2028f82 at term 1 for becomeLeader, leader elected after 5213ms
2021-09-27 13:02:15,969 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:15,969 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:15,969 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderStateImpl
2021-09-27 13:02:15,970 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:15,977 [Listener at 0.0.0.0/33151] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:44345
2021-09-27 13:02:15,985 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: set configuration 0: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:1], old=null
2021-09-27 13:02:15,985 [Listener at 0.0.0.0/33151] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:44345
2021-09-27 13:02:15,986 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:15,986 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:15,988 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b/current/log_inprogress_0
2021-09-27 13:02:15,995 [Listener at 0.0.0.0/33151] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33605
2021-09-27 13:02:15,995 [Listener at 0.0.0.0/33151] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:33605
2021-09-27 13:02:15,995 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:15,996 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:16,003 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@42fef642] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:16,004 [Listener at 0.0.0.0/33151] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-27 13:02:16,004 [Listener at 0.0.0.0/33151] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:16,005 [Listener at 0.0.0.0/33151] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:16,008 [Listener at 0.0.0.0/33151] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:16,009 [Listener at 0.0.0.0/33151] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:16,009 [Listener at 0.0.0.0/33151] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:02:16,009 [Listener at 0.0.0.0/33151] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:16,009 [Listener at 0.0.0.0/33151] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:16,010 [Listener at 0.0.0.0/33151] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33253
2021-09-27 13:02:16,010 [Listener at 0.0.0.0/33151] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:16,013 [Listener at 0.0.0.0/33151] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:16,013 [Listener at 0.0.0.0/33151] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:16,013 [Listener at 0.0.0.0/33151] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:16,014 [Listener at 0.0.0.0/33151] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4737c0e6{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:16,014 [Listener at 0.0.0.0/33151] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5771af98{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:16,020 [Listener at 0.0.0.0/33151] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@47265d90{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:16,030 [Listener at 0.0.0.0/33151] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@324150fa{HTTP/1.1, (http/1.1)}{0.0.0.0:33253}
2021-09-27 13:02:16,030 [Listener at 0.0.0.0/33151] INFO  server.Server (Server.java:doStart(415)) - Started @48469ms
2021-09-27 13:02:16,030 [Listener at 0.0.0.0/33151] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:16,031 [Listener at 0.0.0.0/33151] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:33253
2021-09-27 13:02:16,031 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:16,032 [Listener at 0.0.0.0/33151] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-09-27 13:02:16,032 [Listener at 0.0.0.0/33151] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-09-27 13:02:16,033 [Listener at 0.0.0.0/33151] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-09-27 13:02:16,033 [Listener at 0.0.0.0/33151] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-09-27 13:02:16,033 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:16,033 [Listener at 0.0.0.0/33151] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-27 13:02:16,087 [Listener at 0.0.0.0/33151] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 53 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-27 13:02:16,087 [Listener at 0.0.0.0/33151] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-27 13:02:16,087 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:16,108 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:16,109 [Listener at 0.0.0.0/33151] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:16,109 [Listener at 0.0.0.0/33151] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:16,272 [Listener at 0.0.0.0/33151] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-27 13:02:16,273 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:16,273 [Listener at 0.0.0.0/33151] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-27 13:02:16,273 [Listener at 0.0.0.0/33151] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,273 [Listener at 0.0.0.0/33151] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,273 [Listener at 0.0.0.0/33151] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:16,275 [Listener at 0.0.0.0/33151] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:39295
2021-09-27 13:02:16,275 [Listener at 0.0.0.0/33151] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 39295 (custom)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 39295 (custom)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 39295 (custom)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-27 13:02:16,276 [Listener at 0.0.0.0/33151] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:16,277 [Listener at 0.0.0.0/33151] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-27 13:02:16,277 [Listener at 0.0.0.0/33151] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-27 13:02:16,278 [Listener at 0.0.0.0/33151] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:16,278 [Listener at 0.0.0.0/33151] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:16,278 [Listener at 0.0.0.0/33151] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:16,278 [Listener at 0.0.0.0/33151] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis] (custom)
2021-09-27 13:02:16,278 [Listener at 0.0.0.0/33151] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:39295|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@1a718c08[Not completed]
2021-09-27 13:02:16,279 [Listener at 0.0.0.0/33151] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 39295
2021-09-27 13:02:16,279 [pool-407-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:39295|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:39295|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:16,284 [Listener at 0.0.0.0/33151] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:16,284 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis] (custom)
2021-09-27 13:02:16,285 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:16,285 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:16,285 [pool-407-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-09-27 13:02:16,285 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:16,293 [pool-407-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:16,302 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:16,303 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:16,304 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-27 13:02:16,304 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-27 13:02:16,304 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:16,304 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-09-27 13:02:16,313 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:16,320 [Listener at 127.0.0.1/37211] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-27 13:02:16,320 [Listener at 127.0.0.1/37211] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-27 13:02:16,335 [Listener at 127.0.0.1/37211] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:37211
2021-09-27 13:02:16,335 [Listener at 127.0.0.1/37211] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 39295
2021-09-27 13:02:16,335 [Listener at 127.0.0.1/37211] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:39295|priority:0], old=null
2021-09-27 13:02:16,335 [Listener at 127.0.0.1/37211] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:16,335 [Listener at 127.0.0.1/37211] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:16,336 [Listener at 127.0.0.1/37211] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-09-27 13:02:16,336 [Listener at 127.0.0.1/37211] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-09-27 13:02:16,337 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 39295
2021-09-27 13:02:16,339 [Listener at 127.0.0.1/37211] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-27 13:02:16,339 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@5d2e1c21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-09-27 13:02:16,341 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-09-27 13:02:16,341 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:16,342 [Listener at 127.0.0.1/37211] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:16,343 [Listener at 127.0.0.1/37211] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:16,344 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:16,345 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-27 13:02:16,345 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:16,345 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:16,346 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44199
2021-09-27 13:02:16,346 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:16,352 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:16,352 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:16,352 [Listener at 127.0.0.1/37211] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:16,353 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@17a9f256{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:16,353 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7da53653{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:16,357 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@25cb138f{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:02:16,370 [Listener at 127.0.0.1/37211] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3cb51f14{HTTP/1.1, (http/1.1)}{0.0.0.0:44199}
2021-09-27 13:02:16,370 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(415)) - Started @48809ms
2021-09-27 13:02:16,370 [Listener at 127.0.0.1/37211] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:16,371 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:44199
2021-09-27 13:02:16,371 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:16,371 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:16,376 [Listener at 127.0.0.1/37211] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-27 13:02:16,389 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@104779ce] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:16,393 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,393 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,393 [Listener at 127.0.0.1/37211] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:16,408 [Listener at 127.0.0.1/37211] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:16,438 [Listener at 127.0.0.1/37211] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:16,480 [Listener at 127.0.0.1/37211] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:16,481 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:16,482 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:16,482 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:16,482 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:16,483 [Listener at 127.0.0.1/37211] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:16,484 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:16,484 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data-0/containers/hdds
2021-09-27 13:02:16,484 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data-0/containers/hdds
2021-09-27 13:02:16,501 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis to VolumeSet
2021-09-27 13:02:16,501 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis
2021-09-27 13:02:16,501 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis
2021-09-27 13:02:16,522 [Thread-986] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data-0/containers/hdds
2021-09-27 13:02:16,522 [Listener at 127.0.0.1/37211] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:16,524 [Listener at 127.0.0.1/37211] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:16,524 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:16,525 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:16,526 [Listener at 127.0.0.1/37211] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:16,527 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:16,527 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:16,527 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis] (custom)
2021-09-27 13:02:16,533 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:16,533 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:16,534 [Listener at 127.0.0.1/37211] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:16,536 [Listener at 127.0.0.1/37211] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:16,537 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:16,537 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:16,537 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:16,537 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:16,538 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45569
2021-09-27 13:02:16,538 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:16,544 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:16,544 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:16,544 [Listener at 127.0.0.1/37211] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:16,545 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@68e09579{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:16,546 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@33f26590{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:16,595 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6586f9ed{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-45569-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-892361911569017609/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:16,599 [Listener at 127.0.0.1/37211] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3fb704b8{HTTP/1.1, (http/1.1)}{0.0.0.0:45569}
2021-09-27 13:02:16,599 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(415)) - Started @49039ms
2021-09-27 13:02:16,599 [Listener at 127.0.0.1/37211] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:16,600 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:45569
2021-09-27 13:02:16,601 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:16,601 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,606 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,606 [Listener at 127.0.0.1/37211] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:16,616 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:16,616 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:16,623 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6d33287b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:16,624 [Listener at 127.0.0.1/37211] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:16,627 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/meta/datanode.id
2021-09-27 13:02:16,648 [Listener at 127.0.0.1/37211] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:16,693 [Listener at 127.0.0.1/37211] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 44 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:16,695 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:16,695 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:16,696 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:16,696 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:16,697 [Listener at 127.0.0.1/37211] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:16,698 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:16,698 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data-0/containers/hdds
2021-09-27 13:02:16,698 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data-0/containers/hdds
2021-09-27 13:02:16,714 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis to VolumeSet
2021-09-27 13:02:16,714 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis
2021-09-27 13:02:16,715 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis
2021-09-27 13:02:16,732 [Thread-998] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data-0/containers/hdds
2021-09-27 13:02:16,732 [Listener at 127.0.0.1/37211] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:16,740 [Listener at 127.0.0.1/37211] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:16,740 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:16,741 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:16,742 [Listener at 127.0.0.1/37211] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:16,742 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:16,742 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:16,743 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis] (custom)
2021-09-27 13:02:16,745 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:16,746 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:16,752 [Listener at 127.0.0.1/37211] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:16,753 [Listener at 127.0.0.1/37211] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:16,754 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:16,754 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:16,754 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:16,754 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:16,756 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45011
2021-09-27 13:02:16,756 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:16,764 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:16,764 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:16,769 [Listener at 127.0.0.1/37211] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:16,770 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4bf464f1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:16,770 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7feb7659{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:16,817 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4777bdff{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-45011-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3762774948986162670/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:16,825 [Listener at 127.0.0.1/37211] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@535b85ff{HTTP/1.1, (http/1.1)}{0.0.0.0:45011}
2021-09-27 13:02:16,825 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(415)) - Started @49265ms
2021-09-27 13:02:16,826 [Listener at 127.0.0.1/37211] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:16,827 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:45011
2021-09-27 13:02:16,828 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,828 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:16,828 [Listener at 127.0.0.1/37211] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:16,832 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:16,836 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:16,837 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:16,844 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@aba4b1c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:16,846 [Listener at 127.0.0.1/37211] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:16,849 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/meta/datanode.id
2021-09-27 13:02:16,878 [Listener at 127.0.0.1/37211] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:16,919 [Listener at 127.0.0.1/37211] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:16,920 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:16,921 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:16,921 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:16,921 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:16,922 [Listener at 127.0.0.1/37211] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:16,922 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:16,922 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data-0/containers/hdds
2021-09-27 13:02:16,923 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data-0/containers/hdds
2021-09-27 13:02:16,938 [Listener at 127.0.0.1/37211] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis to VolumeSet
2021-09-27 13:02:16,938 [Listener at 127.0.0.1/37211] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis
2021-09-27 13:02:16,938 [Listener at 127.0.0.1/37211] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis
2021-09-27 13:02:16,952 [Thread-1010] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data-0/containers/hdds
2021-09-27 13:02:16,953 [Listener at 127.0.0.1/37211] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:16,955 [Listener at 127.0.0.1/37211] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:16,955 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:16,955 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:16,956 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:16,957 [Listener at 127.0.0.1/37211] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:16,957 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:16,957 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:16,958 [Listener at 127.0.0.1/37211] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis] (custom)
2021-09-27 13:02:16,960 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:16,960 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:16,961 [Listener at 127.0.0.1/37211] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:16,962 [Listener at 127.0.0.1/37211] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:16,962 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:16,963 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:16,963 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:16,963 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:16,963 [Listener at 127.0.0.1/37211] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44941
2021-09-27 13:02:16,963 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:16,965 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:16,965 [Listener at 127.0.0.1/37211] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:16,966 [Listener at 127.0.0.1/37211] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:16,966 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@404749b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:16,967 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ebe2bcd{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:16,969 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:16,970 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:16,971 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: close
2021-09-27 13:02:16,971 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: shutdown
2021-09-27 13:02:16,971 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E10452BC2274,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:16,972 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-LeaderStateImpl
2021-09-27 13:02:16,972 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:16,972 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:16,972 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-E10452BC2274: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274/sm/snapshot.1_0
2021-09-27 13:02:16,973 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - c436a658-49d1-40a3-a179-32d2cf16e359: close
2021-09-27 13:02:16,973 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: shutdown
2021-09-27 13:02:16,973 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DD9EF188C054,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:16,973 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-LeaderStateImpl
2021-09-27 13:02:16,973 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:16,974 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:16,974 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-DD9EF188C054: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054/sm/snapshot.1_0
2021-09-27 13:02:16,974 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-E10452BC2274: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/6bafe68f-c515-43a9-8787-e10452bc2274/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:16,974 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:16,974 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:16,974 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-DD9EF188C054: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/8fef3600-27e9-4315-b443-dd9ef188c054/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:16,975 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:16,975 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:16,975 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274: closes. applyIndex: 0
2021-09-27 13:02:16,975 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:16,975 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-E10452BC2274-SegmentedRaftLogWorker close()
2021-09-27 13:02:16,975 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054: closes. applyIndex: 0
2021-09-27 13:02:16,982 [c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:16,982 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-DD9EF188C054-SegmentedRaftLogWorker close()
2021-09-27 13:02:16,982 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: shutdown
2021-09-27 13:02:16,982 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=4417aa04-f8c6-4c99-bf83-cb9801e6bd50
2021-09-27 13:02:16,982 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-LeaderStateImpl
2021-09-27 13:02:16,983 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:16,983 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:16,983 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->c436a658-49d1-40a3-a179-32d2cf16e359-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->c436a658-49d1-40a3-a179-32d2cf16e359-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:16,984 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: Completed APPEND_ENTRIES, lastRequest: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50->48a9b2ff-8b63-4b31-9abf-aadd529eb13c#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:16,985 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->48a9b2ff-8b63-4b31-9abf-aadd529eb13c-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:16,985 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->48a9b2ff-8b63-4b31-9abf-aadd529eb13c: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:16,985 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - c436a658-49d1-40a3-a179-32d2cf16e359: Completed APPEND_ENTRIES, lastRequest: 4417aa04-f8c6-4c99-bf83-cb9801e6bd50->c436a658-49d1-40a3-a179-32d2cf16e359#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:16,986 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->c436a658-49d1-40a3-a179-32d2cf16e359-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:16,986 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E->c436a658-49d1-40a3-a179-32d2cf16e359: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:16,987 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4AB4E458560E: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0
2021-09-27 13:02:16,987 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:16,990 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: shutdown
2021-09-27 13:02:16,990 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=c436a658-49d1-40a3-a179-32d2cf16e359
2021-09-27 13:02:16,990 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState
2021-09-27 13:02:16,990 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:16,991 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4AB4E458560E: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0
2021-09-27 13:02:16,993 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4AB4E458560E: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-0/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0 took: 6 ms
2021-09-27 13:02:16,993 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:16,993 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:16,993 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E: closes. applyIndex: 0
2021-09-27 13:02:16,994 [4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:16,994 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50@group-4AB4E458560E-SegmentedRaftLogWorker close()
2021-09-27 13:02:17,000 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4AB4E458560E: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-1/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0 took: 9 ms
2021-09-27 13:02:17,000 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:17,000 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:17,001 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:17,003 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E: closes. applyIndex: 0
2021-09-27 13:02:17,004 [c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:17,003 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown server with port 34847 now
2021-09-27 13:02:17,008 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c436a658-49d1-40a3-a179-32d2cf16e359@group-4AB4E458560E-SegmentedRaftLogWorker close()
2021-09-27 13:02:17,013 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown server with port 35711 now
2021-09-27 13:02:17,031 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - c436a658-49d1-40a3-a179-32d2cf16e359: shutdown server with port 35711 successfully
2021-09-27 13:02:17,031 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@11f28288] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-c436a658-49d1-40a3-a179-32d2cf16e359: Stopped
2021-09-27 13:02:17,032 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 4417aa04-f8c6-4c99-bf83-cb9801e6bd50: shutdown server with port 34847 successfully
2021-09-27 13:02:17,032 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@705827ac] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-4417aa04-f8c6-4c99-bf83-cb9801e6bd50: Stopped
2021-09-27 13:02:17,051 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:17,056 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:17,113 [Listener at 127.0.0.1/37211] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4db4ba0b{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-44941-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-4592147892839208823/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:17,123 [Listener at 127.0.0.1/37211] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2fbf99a5{HTTP/1.1, (http/1.1)}{0.0.0.0:44941}
2021-09-27 13:02:17,123 [Listener at 127.0.0.1/37211] INFO  server.Server (Server.java:doStart(415)) - Started @49562ms
2021-09-27 13:02:17,123 [Listener at 127.0.0.1/37211] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:17,124 [Listener at 127.0.0.1/37211] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:44941
2021-09-27 13:02:17,134 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:17,134 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:17,134 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:17,138 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:17,159 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:17,159 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:17,162 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1c149971] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:17,163 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/meta/datanode.id
2021-09-27 13:02:17,209 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-09-27 13:02:17,209 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-09-27 13:02:17,209 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-27 13:02:17,210 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-27 13:02:17,210 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-27 13:02:17,210 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-27 13:02:17,214 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-27 13:02:17,215 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-27 13:02:17,215 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-27 13:02:17,215 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-27 13:02:17,217 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35979
2021-09-27 13:02:17,221 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:17,221 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:17,426 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1091094968ns, electionTimeout:1090ms
2021-09-27 13:02:17,427 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:17,427 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:17,427 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:17,427 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection21
2021-09-27 13:02:17,440 [om1@group-C5BA1605619E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:39295|priority:0], old=null
2021-09-27 13:02:17,440 [om1@group-C5BA1605619E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection21 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection21
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1138ms
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-27 13:02:17,441 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:17,442 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-27 13:02:17,442 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:17,442 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:17,442 [om1@group-C5BA1605619E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:02:17,442 [om1@group-C5BA1605619E-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:17,450 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-09-27 13:02:17,463 [om1@group-C5BA1605619E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:39295|admin:|client:|dataStream:|priority:0], old=null
2021-09-27 13:02:17,464 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:39295"
]
2021-09-27 13:02:17,482 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-27 13:02:17,485 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-27 13:02:17,486 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-27 13:02:17,487 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40379
2021-09-27 13:02:17,490 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:17,495 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:17,500 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-27 13:02:17,506 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-27 13:02:17,507 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42769
2021-09-27 13:02:17,511 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:17,512 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:17,512 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-27 13:02:17,522 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3fb13caa{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:17,522 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@292c5d7b{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:17,523 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:17,524 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3eee0595{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:17,525 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7a7b0352{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:17,526 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-27 13:02:17,526 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:17,527 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:17,527 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-27 13:02:17,535 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-27 13:02:17,535 [Time-limited test] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-09-27 13:02:17,535 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-27 13:02:17,537 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-09-27 13:02:17,539 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-27 13:02:17,550 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-09-27 13:02:17,551 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:02:17,551 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:02:17,551 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:17,551 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:17,682 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:35979 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az148-96/10.1.0.51"; destination host is: "0.0.0.0":35979; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-09-27 13:02:17,699 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 144 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:17,701 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:17,701 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:17,701 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:17,701 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:17,701 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:17,704 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:17,747 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:02:17,747 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:02:17,753 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:17,753 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:17,753 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:02:17,760 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:02:17,760 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:17,763 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:02:17,763 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:02:17,763 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:17,771 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:02:17,771 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:02:17,771 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:02:17,771 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:02:17,776 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-09-27 13:02:17,776 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:02:17,777 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:02:17,782 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:17,784 [Socket Reader #1 for port 35979] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 35979
2021-09-27 13:02:17,804 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 6 milliseconds for processing 2 containers.
2021-09-27 13:02:17,804 [Listener at 0.0.0.0/35979] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:17,823 [Socket Reader #1 for port 40379] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 40379
2021-09-27 13:02:17,824 [Listener at 0.0.0.0/40379] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:17,833 [Socket Reader #1 for port 42769] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 42769
2021-09-27 13:02:17,879 [Listener at 0.0.0.0/42769] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:17,880 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:02:17,880 [Listener at 0.0.0.0/42769] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:17,880 [Listener at 0.0.0.0/42769] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:02:17,881 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:17,881 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:17,881 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:17,881 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:42769
2021-09-27 13:02:17,883 [Listener at 0.0.0.0/42769] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-27 13:02:17,884 [Listener at 0.0.0.0/42769] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-27 13:02:17,884 [Listener at 0.0.0.0/42769] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-27 13:02:17,909 [Listener at 0.0.0.0/42769] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-27 13:02:17,909 [Listener at 0.0.0.0/42769] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-27 13:02:17,945 [Listener at 0.0.0.0/42769] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:42769
2021-09-27 13:02:17,946 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:17,946 [IPC Server listener on 42769] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 42769: starting
2021-09-27 13:02:17,977 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40379
2021-09-27 13:02:17,977 [Listener at 0.0.0.0/42769] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40379
2021-09-27 13:02:17,977 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:17,978 [IPC Server listener on 40379] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 40379: starting
2021-09-27 13:02:18,028 [Listener at 0.0.0.0/42769] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35979
2021-09-27 13:02:18,028 [Listener at 0.0.0.0/42769] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:35979
2021-09-27 13:02:18,033 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:18,036 [IPC Server listener on 35979] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 35979: starting
2021-09-27 13:02:18,072 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:46817
2021-09-27 13:02:18,072 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:18,074 [Listener at 0.0.0.0/42769] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:18,075 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7a641bcc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:18,078 [Listener at 0.0.0.0/42769] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:18,079 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:18,080 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:02:18,080 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:18,080 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:18,080 [Listener at 0.0.0.0/42769] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46817
2021-09-27 13:02:18,081 [Listener at 0.0.0.0/42769] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:18,107 [Listener at 0.0.0.0/42769] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:18,107 [Listener at 0.0.0.0/42769] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:18,108 [Listener at 0.0.0.0/42769] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:18,112 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@73d945{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:18,113 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3e16cccc{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:18,116 [Listener at 0.0.0.0/42769] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4bfd12d0{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:18,127 [Listener at 0.0.0.0/42769] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@c348d20{HTTP/1.1, (http/1.1)}{0.0.0.0:46817}
2021-09-27 13:02:18,127 [Listener at 0.0.0.0/42769] INFO  server.Server (Server.java:doStart(415)) - Started @50567ms
2021-09-27 13:02:18,127 [Listener at 0.0.0.0/42769] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:18,129 [Listener at 0.0.0.0/42769] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:46817
2021-09-27 13:02:18,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:18,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:18,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:18,134 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:18,135 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:18,135 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:18,660 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:18,660 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:18,661 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38239
2021-09-27 13:02:18,663 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:18,678 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start RPC server
2021-09-27 13:02:18,678 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: GrpcService started, listening on 38513
2021-09-27 13:02:18,679 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 15ac14bf-0cad-4421-bcbf-9dc549621410 is started using port 38513 for RATIS
2021-09-27 13:02:18,679 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 15ac14bf-0cad-4421-bcbf-9dc549621410 is started using port 38513 for RATIS_ADMIN
2021-09-27 13:02:18,679 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 15ac14bf-0cad-4421-bcbf-9dc549621410 is started using port 38513 for RATIS_SERVER
2021-09-27 13:02:18,679 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 15ac14bf-0cad-4421-bcbf-9dc549621410 is started using port 44505
2021-09-27 13:02:18,684 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@5e749767] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-15ac14bf-0cad-4421-bcbf-9dc549621410: Started
2021-09-27 13:02:18,686 [EndpointStateMachine task thread for /0.0.0.0:35979 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:35979. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-09-27 13:02:18,711 [IPC Server handler 0 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,712 [IPC Server handler 1 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,712 [IPC Server handler 2 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,713 [IPC Server handler 3 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,726 [IPC Server handler 4 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,727 [IPC Server handler 5 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,728 [IPC Server handler 6 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,729 [IPC Server handler 7 on default port 35979] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-09-27 13:02:18,869 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:18,869 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:18,869 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33397
2021-09-27 13:02:18,878 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:18,905 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 159e7922-fc40-4889-8d03-297f78dafa91: start RPC server
2021-09-27 13:02:18,906 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 159e7922-fc40-4889-8d03-297f78dafa91: GrpcService started, listening on 45769
2021-09-27 13:02:18,915 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 159e7922-fc40-4889-8d03-297f78dafa91 is started using port 45769 for RATIS
2021-09-27 13:02:18,915 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 159e7922-fc40-4889-8d03-297f78dafa91 is started using port 45769 for RATIS_ADMIN
2021-09-27 13:02:18,915 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 159e7922-fc40-4889-8d03-297f78dafa91 is started using port 45769 for RATIS_SERVER
2021-09-27 13:02:18,915 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@737b4682] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-159e7922-fc40-4889-8d03-297f78dafa91: Started
2021-09-27 13:02:18,916 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 159e7922-fc40-4889-8d03-297f78dafa91 is started using port 41729
2021-09-27 13:02:19,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:19,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:19,129 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:19,135 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:19,135 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:19,135 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:19,180 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:19,180 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:19,181 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 37159
2021-09-27 13:02:19,183 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:19,185 [IPC Server handler 0 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:19,185 [IPC Server handler 0 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:19,191 [IPC Server handler 1 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:19,191 [IPC Server handler 1 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:19,191 [IPC Server handler 2 on default port 35979] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:19,191 [IPC Server handler 2 on default port 35979] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:19,206 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start RPC server
2021-09-27 13:02:19,207 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 93f5d682-b529-4dec-992f-471b3f563d5f: GrpcService started, listening on 43201
2021-09-27 13:02:19,219 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-09-27 13:02:19,219 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:02:19,222 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:02:19,237 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:19,237 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 93f5d682-b529-4dec-992f-471b3f563d5f is started using port 43201 for RATIS
2021-09-27 13:02:19,237 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 93f5d682-b529-4dec-992f-471b3f563d5f is started using port 43201 for RATIS_ADMIN
2021-09-27 13:02:19,237 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 93f5d682-b529-4dec-992f-471b3f563d5f is started using port 43201 for RATIS_SERVER
2021-09-27 13:02:19,238 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:19,237 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:19,238 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:19,238 [EndpointStateMachine task thread for /0.0.0.0:33605 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 93f5d682-b529-4dec-992f-471b3f563d5f is started using port 45975
2021-09-27 13:02:19,238 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:02:19,251 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@48cc94ef] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-93f5d682-b529-4dec-992f-471b3f563d5f: Started
2021-09-27 13:02:19,254 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: af875cf8-a4e5-4e54-b2aa-662f4b4e6df3, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.238Z[Etc/UTC]].
2021-09-27 13:02:19,254 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:19,255 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 05abebf7-532d-42d2-8fc3-e9a559868f4b, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.254Z[Etc/UTC]].
2021-09-27 13:02:19,255 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:19,254 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:02:19,251 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:02:19,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:02:19,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:02:19,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:19,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:02:19,256 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:19,256 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: dd2fbff3-ae98-4392-86a8-0fd67cdbddd5, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.255Z[Etc/UTC]].
2021-09-27 13:02:19,257 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:19,258 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:19,258 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:19,258 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d4ae2746-2b5b-4c8e-b522-0ffb03cf7435, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.257Z[Etc/UTC]].
2021-09-27 13:02:19,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:19,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:19,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:19,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:02:19,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:02:19,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:02:20,063 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:20,071 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@49ceb79c{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:20,071 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4a832ff6{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:20,071 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:20,073 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1214e43{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:20,074 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6c234287{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:20,077 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:20,284 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2ffb9f67{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:20,285 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-662F4B4E6DF3:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] returns group-662F4B4E6DF3:java.util.concurrent.CompletableFuture@4553dad1[Not completed]
2021-09-27 13:02:20,285 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@5e749767] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-15ac14bf-0cad-4421-bcbf-9dc549621410: Detected pause in JVM or host machine (eg GC): pause of approximately 100858415ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=176ms
GC pool 'PS Scavenge' had collection(s): count=1 time=19ms
2021-09-27 13:02:20,286 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-0FD67CDBDDD5:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] returns group-0FD67CDBDDD5:java.util.concurrent.CompletableFuture@2b0f9a60[Not completed]
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-662F4B4E6DF3:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,288 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: ConfigurationManager, init=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,289 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:02:20,289 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,289 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,289 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 does not exist. Creating ...
2021-09-27 13:02:20,289 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:20,289 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:20,289 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-0FD67CDBDDD5:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: ConfigurationManager, init=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,290 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,291 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 does not exist. Creating ...
2021-09-27 13:02:20,291 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@72a0a03{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:20,291 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:20,292 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@fdb5f77] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-om1: Detected pause in JVM or host machine (eg GC): pause of approximately 161023400ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=176ms
GC pool 'PS Scavenge' had collection(s): count=1 time=19ms
2021-09-27 13:02:20,292 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:20,292 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:02:20,292 [Listener at 0.0.0.0/42769] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:20,296 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7475f2af{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:20,297 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,300 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 has been successfully formatted.
2021-09-27 13:02:20,300 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0FD67CDBDDD5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,300 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,300 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,300 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,301 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,294 [Listener at 0.0.0.0/42769] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:80)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1815)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPreFinalizeUpgrade(TestHDDSUpgrade.java:692)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:20,306 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:20,306 [Listener at 0.0.0.0/42769] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:20,306 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7fe1aabd{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:20,306 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,307 [Listener at 0.0.0.0/42769] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: af875cf8-a4e5-4e54-b2aa-662f4b4e6df3, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.238Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:20,307 [Listener at 0.0.0.0/42769] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: dd2fbff3-ae98-4392-86a8-0fd67cdbddd5, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.255Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:20,307 [Listener at 0.0.0.0/42769] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 05abebf7-532d-42d2-8fc3-e9a559868f4b, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.254Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:20,308 [Listener at 0.0.0.0/42769] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: d4ae2746-2b5b-4c8e-b522-0ffb03cf7435, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:19.257Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:20,308 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-09-27 13:02:20,311 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 has been successfully formatted.
2021-09-27 13:02:20,311 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-662F4B4E6DF3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,311 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,311 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,312 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,312 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,312 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:20,312 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,313 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,314 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,315 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,317 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,317 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,318 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,319 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: start as a follower, conf=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:02:20,319 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,319 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,327 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,328 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,328 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,329 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,329 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,329 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,335 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-662F4B4E6DF3,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,340 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,342 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: start as a follower, conf=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:02:20,342 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,350 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3
2021-09-27 13:02:20,350 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3.
2021-09-27 13:02:20,350 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] returns group-0FFB03CF7435:java.util.concurrent.CompletableFuture@61044c73[Not completed]
2021-09-27 13:02:20,351 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState
2021-09-27 13:02:20,351 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,352 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 does not exist. Creating ...
2021-09-27 13:02:20,354 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FD67CDBDDD5,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:20,355 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,357 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 has been successfully formatted.
2021-09-27 13:02:20,361 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5
2021-09-27 13:02:20,362 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5.
2021-09-27 13:02:20,362 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] returns group-0FFB03CF7435:java.util.concurrent.CompletableFuture@7352ab63[Not completed]
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0FFB03CF7435: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,362 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,362 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,363 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,365 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 does not exist. Creating ...
2021-09-27 13:02:20,367 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,368 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,368 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,368 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,367 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,370 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 has been successfully formatted.
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,374 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,375 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:20,375 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,375 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:20,380 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0FFB03CF7435: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,383 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,383 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,384 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,385 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,385 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:20,394 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,395 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,416 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,418 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:20,418 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,418 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:20,421 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:20,443 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:20,474 [grpc-default-executor-5] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] returns group-0FFB03CF7435:java.util.concurrent.CompletableFuture@6cf18904[Not completed]
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-0FFB03CF7435:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,475 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,476 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 does not exist. Creating ...
2021-09-27 13:02:20,478 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,480 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 has been successfully formatted.
2021-09-27 13:02:20,481 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0FFB03CF7435: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,482 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,482 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,482 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,482 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,486 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,487 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,490 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,490 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,490 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,490 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,491 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,491 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,496 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,505 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,505 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,509 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,510 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:20,510 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,510 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:20,518 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:20,543 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435.
2021-09-27 13:02:20,567 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435.
2021-09-27 13:02:20,627 [IPC Server handler 1 on default port 33605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:20,627 [IPC Server handler 1 on default port 33605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 15ac14bf-0cad-4421-bcbf-9dc549621410{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=38239, RATIS=38513, RATIS_ADMIN=38513, RATIS_SERVER=38513, STANDALONE=44505], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:20,644 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:02:20,651 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:02:20,658 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:20,658 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=a08805fe-bb0b-46f0-a6be-f1662072c588 to datanode:15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:20,664 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a08805fe-bb0b-46f0-a6be-f1662072c588, Nodes: 15ac14bf-0cad-4421-bcbf-9dc549621410{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=38239, RATIS=38513, RATIS_ADMIN=38513, RATIS_SERVER=38513, STANDALONE=44505], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:20.658Z[Etc/UTC]].
2021-09-27 13:02:20,674 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:02:20,684 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-E9A559868F4B:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] returns group-E9A559868F4B:java.util.concurrent.CompletableFuture@72837421[Not completed]
2021-09-27 13:02:20,685 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-E9A559868F4B:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:20,690 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:20,691 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b does not exist. Creating ...
2021-09-27 13:02:20,702 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:20,704 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b has been successfully formatted.
2021-09-27 13:02:20,704 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-E9A559868F4B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:20,705 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:20,705 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:20,705 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:20,705 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:20,705 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:20,705 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:20,706 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:20,707 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:20,708 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:20,709 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,709 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:20,715 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:20,715 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:20,715 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:20,715 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:20,715 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:20,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:20,717 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:02:20,717 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:20,717 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState
2021-09-27 13:02:20,723 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9A559868F4B,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:20,725 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b
2021-09-27 13:02:20,725 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b.
2021-09-27 13:02:20,845 [IPC Server handler 17 on default port 33605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:20,845 [IPC Server handler 17 on default port 33605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 159e7922-fc40-4889-8d03-297f78dafa91{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33397, RATIS=45769, RATIS_ADMIN=45769, RATIS_SERVER=45769, STANDALONE=41729], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:20,845 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:20,846 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d to datanode:159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:20,853 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:02:20,854 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d, Nodes: 159e7922-fc40-4889-8d03-297f78dafa91{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33397, RATIS=45769, RATIS_ADMIN=45769, RATIS_SERVER=45769, STANDALONE=41729], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:20.846Z[Etc/UTC]].
2021-09-27 13:02:21,163 [IPC Server handler 0 on default port 33605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:21,163 [IPC Server handler 0 on default port 33605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 93f5d682-b529-4dec-992f-471b3f563d5f{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37159, RATIS=43201, RATIS_ADMIN=43201, RATIS_SERVER=43201, STANDALONE=45975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:21,163 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:02:21,164 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bfef3d1-ab74-49ef-810a-337c9d29c296 to datanode:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:02:21,164 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:21,164 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6bfef3d1-ab74-49ef-810a-337c9d29c296, Nodes: 93f5d682-b529-4dec-992f-471b3f563d5f{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37159, RATIS=43201, RATIS_ADMIN=43201, RATIS_SERVER=43201, STANDALONE=45975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:21.164Z[Etc/UTC]].
2021-09-27 13:02:21,165 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=2167ebed-7ddb-4ae8-8da7-d504f7a57a3e to datanode:15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:21,165 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=2167ebed-7ddb-4ae8-8da7-d504f7a57a3e to datanode:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:21,165 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=2167ebed-7ddb-4ae8-8da7-d504f7a57a3e to datanode:159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:21,166 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 2167ebed-7ddb-4ae8-8da7-d504f7a57a3e, Nodes: 15ac14bf-0cad-4421-bcbf-9dc549621410{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=38239, RATIS=38513, RATIS_ADMIN=38513, RATIS_SERVER=38513, STANDALONE=44505], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}93f5d682-b529-4dec-992f-471b3f563d5f{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37159, RATIS=43201, RATIS_ADMIN=43201, RATIS_SERVER=43201, STANDALONE=45975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}159e7922-fc40-4889-8d03-297f78dafa91{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33397, RATIS=45769, RATIS_ADMIN=45769, RATIS_SERVER=45769, STANDALONE=41729], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:21.165Z[Etc/UTC]].
2021-09-27 13:02:21,289 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:21,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:21,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:22,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:22,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:22,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:23,034 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:7661089699ns, electionTimeout:5018ms
2021-09-27 13:02:23,034 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:23,034 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-09-27 13:02:23,035 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:23,035 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22
2021-09-27 13:02:23,052 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: change Leader from 4417aa04-f8c6-4c99-bf83-cb9801e6bd50 to null at term 2 for ELECTION
2021-09-27 13:02:23,056 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22 ELECTION round 0: submit vote requests at term 3 for 0: [c436a658-49d1-40a3-a179-32d2cf16e359|rpc:10.1.0.51:35711|dataStream:|priority:0, 48a9b2ff-8b63-4b31-9abf-aadd529eb13c|rpc:10.1.0.51:46029|dataStream:|priority:0, 4417aa04-f8c6-4c99-bf83-cb9801e6bd50|rpc:10.1.0.51:34847|dataStream:|priority:1], old=null
2021-09-27 13:02:23,091 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:23,091 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:23,091 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22 ELECTION round 0: result REJECTED
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22
2021-09-27 13:02:23,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: start 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:23,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:23,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:23,290 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:23,628 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: addNew group-F1662072C588:[15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:1] returns group-F1662072C588:java.util.concurrent.CompletableFuture@1148697[Not completed]
2021-09-27 13:02:23,630 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: new RaftServerImpl for group-F1662072C588:[15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:23,633 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:23,633 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:23,633 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:23,633 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:23,636 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:23,636 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:23,636 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:23,636 [pool-420-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: ConfigurationManager, init=-1: [15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:23,637 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis] (custom)
2021-09-27 13:02:23,637 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:23,638 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:23,638 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/a08805fe-bb0b-46f0-a6be-f1662072c588 does not exist. Creating ...
2021-09-27 13:02:23,639 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/a08805fe-bb0b-46f0-a6be-f1662072c588/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:23,641 [pool-420-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/a08805fe-bb0b-46f0-a6be-f1662072c588 has been successfully formatted.
2021-09-27 13:02:23,644 [pool-420-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F1662072C588: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:23,644 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:23,644 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:23,644 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:23,644 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:23,644 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:23,645 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: a08805fe-bb0b-46f0-a6be-f1662072c588, Nodes: 15ac14bf-0cad-4421-bcbf-9dc549621410{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=38239, RATIS=38513, RATIS_ADMIN=38513, RATIS_SERVER=38513, STANDALONE=44505], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:15ac14bf-0cad-4421-bcbf-9dc549621410, CreationTimestamp2021-09-27T13:02:20.658Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/a08805fe-bb0b-46f0-a6be-f1662072c588
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:23,650 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:23,651 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:23,651 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:23,651 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:23,652 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:23,652 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:23,652 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,652 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,653 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:23,654 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:23,654 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:23,654 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:23,654 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:23,654 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:23,656 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: start as a follower, conf=-1: [15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:1], old=null
2021-09-27 13:02:23,656 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:23,657 [pool-420-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState
2021-09-27 13:02:23,657 [pool-420-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1662072C588,id=15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:23,658 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=a08805fe-bb0b-46f0-a6be-f1662072c588
2021-09-27 13:02:23,658 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=a08805fe-bb0b-46f0-a6be-f1662072c588.
2021-09-27 13:02:23,658 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: addNew group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0] returns group-D504F7A57A3E:java.util.concurrent.CompletableFuture@52b126d[Not completed]
2021-09-27 13:02:23,658 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: new RaftServerImpl for group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:23,659 [pool-420-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: ConfigurationManager, init=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:23,660 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis] (custom)
2021-09-27 13:02:23,660 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:23,660 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:23,660 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e does not exist. Creating ...
2021-09-27 13:02:23,661 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:23,663 [pool-420-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e has been successfully formatted.
2021-09-27 13:02:23,667 [pool-420-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D504F7A57A3E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:23,667 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:23,667 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:23,667 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:23,672 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:23,672 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:23,674 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:23,675 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,675 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:23,676 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:23,676 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e
2021-09-27 13:02:23,676 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:23,677 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:23,678 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:23,680 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:23,680 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,680 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,680 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:23,681 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:23,681 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:23,682 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:23,682 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:23,682 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:23,684 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: start as a follower, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:23,684 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:23,684 [pool-420-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:23,686 [pool-420-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D504F7A57A3E,id=15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:23,696 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=2167ebed-7ddb-4ae8-8da7-d504f7a57a3e
2021-09-27 13:02:23,721 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 93f5d682-b529-4dec-992f-471b3f563d5f: addNew group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0] returns group-D504F7A57A3E:java.util.concurrent.CompletableFuture@750b470a[Not completed]
2021-09-27 13:02:23,722 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 93f5d682-b529-4dec-992f-471b3f563d5f: new RaftServerImpl for group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: ConfigurationManager, init=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis] (custom)
2021-09-27 13:02:23,725 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:23,726 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:23,726 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e does not exist. Creating ...
2021-09-27 13:02:23,731 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:23,733 [pool-458-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e has been successfully formatted.
2021-09-27 13:02:23,736 [pool-458-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D504F7A57A3E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:23,736 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:23,736 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:23,736 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:23,736 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:23,736 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:23,737 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:23,738 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:23,739 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:23,739 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:23,740 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:23,740 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,741 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:23,744 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:23,746 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: start as a follower, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:23,746 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:23,746 [pool-458-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:23,750 [pool-458-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D504F7A57A3E,id=93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:23,787 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 159e7922-fc40-4889-8d03-297f78dafa91: addNew group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0] returns group-D504F7A57A3E:java.util.concurrent.CompletableFuture@5c58ad8b[Not completed]
2021-09-27 13:02:23,788 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 159e7922-fc40-4889-8d03-297f78dafa91: new RaftServerImpl for group-D504F7A57A3E:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:23,796 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:23,796 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: ConfigurationManager, init=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis] (custom)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:23,798 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:23,799 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e does not exist. Creating ...
2021-09-27 13:02:23,801 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:23,803 [pool-439-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e has been successfully formatted.
2021-09-27 13:02:23,806 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:23,806 [pool-439-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D504F7A57A3E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:23,806 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:23,806 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:23,807 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:23,808 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:23,808 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:23,809 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:23,810 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:23,811 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:23,819 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:23,819 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,819 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:23,824 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:23,825 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: start as a follower, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:23,825 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:23,826 [pool-439-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:23,831 [pool-439-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D504F7A57A3E,id=159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:23,852 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 159e7922-fc40-4889-8d03-297f78dafa91: addNew group-2AA7CE328C5D:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1] returns group-2AA7CE328C5D:java.util.concurrent.CompletableFuture@644eac2d[Not completed]
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 159e7922-fc40-4889-8d03-297f78dafa91: new RaftServerImpl for group-2AA7CE328C5D:[159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:23,853 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:23,854 [pool-439-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: ConfigurationManager, init=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:23,854 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis] (custom)
2021-09-27 13:02:23,854 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:23,854 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:23,854 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d does not exist. Creating ...
2021-09-27 13:02:23,855 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:23,857 [pool-439-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d has been successfully formatted.
2021-09-27 13:02:23,858 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:23,858 [pool-439-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-2AA7CE328C5D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:23,858 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:23,858 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:23,859 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d, Nodes: 159e7922-fc40-4889-8d03-297f78dafa91{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33397, RATIS=45769, RATIS_ADMIN=45769, RATIS_SERVER=45769, STANDALONE=41729], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:159e7922-fc40-4889-8d03-297f78dafa91, CreationTimestamp2021-09-27T13:02:20.846Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:23,859 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:23,859 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:23,859 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:23,859 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,860 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:23,862 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:23,863 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:23,863 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:23,863 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:23,864 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:23,862 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=2167ebed-7ddb-4ae8-8da7-d504f7a57a3e.
2021-09-27 13:02:23,864 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:23,865 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,865 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:23,872 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:23,873 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: start as a follower, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1], old=null
2021-09-27 13:02:23,873 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:23,873 [pool-439-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState
2021-09-27 13:02:23,882 [pool-439-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2AA7CE328C5D,id=159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:23,888 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d
2021-09-27 13:02:23,888 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d.
2021-09-27 13:02:24,163 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 93f5d682-b529-4dec-992f-471b3f563d5f: addNew group-337C9D29C296:[93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:1] returns group-337C9D29C296:java.util.concurrent.CompletableFuture@ae20710[Not completed]
2021-09-27 13:02:24,168 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 93f5d682-b529-4dec-992f-471b3f563d5f: new RaftServerImpl for group-337C9D29C296:[93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:24,168 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:24,169 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:24,169 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:24,169 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:24,169 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: ConfigurationManager, init=-1: [93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis] (custom)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:24,170 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/6bfef3d1-ab74-49ef-810a-337c9d29c296 does not exist. Creating ...
2021-09-27 13:02:24,172 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/6bfef3d1-ab74-49ef-810a-337c9d29c296/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:24,174 [pool-458-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/6bfef3d1-ab74-49ef-810a-337c9d29c296 has been successfully formatted.
2021-09-27 13:02:24,174 [pool-458-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-337C9D29C296: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:24,175 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:24,175 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:24,175 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:24,174 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:24,175 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 6bfef3d1-ab74-49ef-810a-337c9d29c296, Nodes: 93f5d682-b529-4dec-992f-471b3f563d5f{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37159, RATIS=43201, RATIS_ADMIN=43201, RATIS_SERVER=43201, STANDALONE=45975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:93f5d682-b529-4dec-992f-471b3f563d5f, CreationTimestamp2021-09-27T13:02:21.164Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:24,178 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:24,178 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:24,178 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/6bfef3d1-ab74-49ef-810a-337c9d29c296
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:24,179 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:24,180 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:24,180 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:24,181 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:24,183 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: start as a follower, conf=-1: [93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:1], old=null
2021-09-27 13:02:24,183 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:24,183 [pool-458-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState
2021-09-27 13:02:24,183 [pool-458-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-337C9D29C296,id=93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:24,186 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=6bfef3d1-ab74-49ef-810a-337c9d29c296
2021-09-27 13:02:24,186 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6bfef3d1-ab74-49ef-810a-337c9d29c296.
2021-09-27 13:02:24,291 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:24,291 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:24,291 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:24,359 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:24,668 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:24,675 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:25,079 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:25,079 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: close
2021-09-27 13:02:25,079 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: shutdown
2021-09-27 13:02:25,080 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-062EDB0B597E,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:02:25,080 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-LeaderStateImpl
2021-09-27 13:02:25,080 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:25,082 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:25,082 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-062EDB0B597E: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e/sm/snapshot.1_0
2021-09-27 13:02:25,083 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-062EDB0B597E: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/e25ac656-9404-430b-9181-062edb0b597e/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:25,083 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:25,083 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:25,083 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E: closes. applyIndex: 0
2021-09-27 13:02:25,084 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,084 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-062EDB0B597E-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,086 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: shutdown
2021-09-27 13:02:25,087 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4AB4E458560E,id=48a9b2ff-8b63-4b31-9abf-aadd529eb13c
2021-09-27 13:02:25,087 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState
2021-09-27 13:02:25,087 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:25,087 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4AB4E458560E: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0
2021-09-27 13:02:25,087 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:25,088 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4AB4E458560E: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4240ff64-2d45-4b82-8207-e217a75a62e3/datanode-2/data/ratis/c8ef3df2-b3a6-4c08-a22a-4ab4e458560e/sm/snapshot.2_0 took: 1 ms
2021-09-27 13:02:25,089 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:25,089 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:25,092 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E: closes. applyIndex: 0
2021-09-27 13:02:25,092 [48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,093 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c@group-4AB4E458560E-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,097 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown server with port 46029 now
2021-09-27 13:02:25,101 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 48a9b2ff-8b63-4b31-9abf-aadd529eb13c: shutdown server with port 46029 successfully
2021-09-27 13:02:25,102 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@ed5dece] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-48a9b2ff-8b63-4b31-9abf-aadd529eb13c: Stopped
2021-09-27 13:02:25,106 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:25,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:25,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:25,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:25,308 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-09-27 13:02:25,308 [Listener at 0.0.0.0/42769] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-09-27 13:02:25,309 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-09-27 13:02:25,316 [Listener at 0.0.0.0/42769] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:25,318 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:25,318 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 which uses HEALTHY READONLY datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 close command to datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: af875cf8-a4e5-4e54-b2aa-662f4b4e6df3, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:02:19.238Z[Etc/UTC]] removed.
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d which uses HEALTHY READONLY datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d close command to datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d close command to datanode fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d close command to datanode f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,319 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 3e3ffd29-58e7-43d0-a21d-a955bada814d, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:02:17.762Z[Etc/UTC]] removed.
2021-09-27 13:02:25,320 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 which uses HEALTHY READONLY datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,320 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 close command to datanode f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,320 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 close command to datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,320 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 close command to datanode fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:25,322 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: d4ae2746-2b5b-4c8e-b522-0ffb03cf7435, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:, CreationTimestamp2021-09-27T13:02:19.257Z[Etc/UTC]] removed.
2021-09-27 13:02:25,322 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 which uses HEALTHY READONLY datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,322 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 close command to datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,322 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 50164cb1-5fc7-40c1-b5bd-bf4584456673, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:02:17.762Z[Etc/UTC]] removed.
2021-09-27 13:02:25,323 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:25,323 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:25,323 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b which uses HEALTHY READONLY datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,323 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b close command to datanode fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:25,323 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 since it stays at CLOSED stage.
2021-09-27 13:02:25,325 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 05abebf7-532d-42d2-8fc3-e9a559868f4b, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:fd95f95c-8aff-4525-8224-f6a714ea83f7, CreationTimestamp2021-09-27T13:02:19.254Z[Etc/UTC]] removed.
2021-09-27 13:02:25,325 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e which uses HEALTHY READONLY datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,325 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e close command to datanode fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:25,325 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 close command to datanode f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,325 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 3765d426-d240-4d7b-8ff8-1ab3be608700, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:f7d91da2-1753-44ec-94ba-8dbd50c250be, CreationTimestamp2021-09-27T13:02:17.761Z[Etc/UTC]] removed.
2021-09-27 13:02:25,326 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 since it stays at CLOSED stage.
2021-09-27 13:02:25,326 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 close command to datanode f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,327 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: e24f0580-eacb-4d90-9b01-f7fa688f765e, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:fd95f95c-8aff-4525-8224-f6a714ea83f7, CreationTimestamp2021-09-27T13:02:17.762Z[Etc/UTC]] removed.
2021-09-27 13:02:25,332 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:25,332 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 which uses HEALTHY READONLY datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:25,332 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 close command to datanode f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,332 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: dd2fbff3-ae98-4392-86a8-0fd67cdbddd5, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:f7d91da2-1753-44ec-94ba-8dbd50c250be, CreationTimestamp2021-09-27T13:02:19.255Z[Etc/UTC]] removed.
2021-09-27 13:02:25,333 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(213)) - Pipeline dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-09-27 13:02:25,333 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b since it stays at CLOSED stage.
2021-09-27 13:02:25,333 [RatisPipelineUtilsThread - 0] ERROR pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:createPipelines(231)) - Error while scrubbing pipelines.
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:251)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerV2Impl.getContainers(PipelineStateManagerV2Impl.java:184)
	at sun.reflect.GeneratedMethodAccessor93.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getContainers(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:321)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.scrubPipeline(PipelineManagerImpl.java:385)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreatorV2.createPipelines(BackgroundPipelineCreatorV2.java:229)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreatorV2.run(BackgroundPipelineCreatorV2.java:176)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:25,336 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-09-27 13:02:25,360 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:25,369 [IPC Server handler 17 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,369 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 is not found
2021-09-27 13:02:25,370 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,370 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,370 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 is not found
2021-09-27 13:02:25,385 [IPC Server handler 16 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,385 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 is not found
2021-09-27 13:02:25,385 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 is not found
2021-09-27 13:02:25,385 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,385 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,403 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5052032888ns, electionTimeout:5048ms
2021-09-27 13:02:25,405 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState
2021-09-27 13:02:25,405 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:25,405 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:25,405 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23
2021-09-27 13:02:25,421 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:02:25,421 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:25,422 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23
2021-09-27 13:02:25,422 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:25,422 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-0FD67CDBDDD5 with new leaderId: f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:25,422 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: change Leader from null to f7d91da2-1753-44ec-94ba-8dbd50c250be at term 1 for becomeLeader, leader elected after 5121ms
2021-09-27 13:02:25,422 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:25,423 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderStateImpl
2021-09-27 13:02:25,424 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,425 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:25,425 [IPC Server handler 15 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,426 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 is not found
2021-09-27 13:02:25,426 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 is not found
2021-09-27 13:02:25,426 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,426 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,426 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5/current/log_inprogress_0
2021-09-27 13:02:25,441 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5065621660ns, electionTimeout:5060ms
2021-09-27 13:02:25,441 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:25,441 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:25,451 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:25,452 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24
2021-09-27 13:02:25,452 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: set configuration 0: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:1], old=null
2021-09-27 13:02:25,476 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5058380814ns, electionTimeout:5054ms
2021-09-27 13:02:25,476 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:25,477 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:25,477 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:25,477 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25
2021-09-27 13:02:25,478 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:25,494 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5174371901ns, electionTimeout:5151ms
2021-09-27 13:02:25,494 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState
2021-09-27 13:02:25,494 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:25,494 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:25,494 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26
2021-09-27 13:02:25,495 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:25,527 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-0FFB03CF7435, 1, (t:0, i:0))
2021-09-27 13:02:25,527 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FOLLOWER: accept ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: our priority 0 <= candidate's priority 1
2021-09-27 13:02:25,527 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,527 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:25,527 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:25,527 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-0FFB03CF7435, 1, (t:0, i:0))
2021-09-27 13:02:25,527 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-CANDIDATE: reject ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: already has voted for f7d91da2-1753-44ec-94ba-8dbd50c250be at current term 1
2021-09-27 13:02:25,527 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435 replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-f7d91da2-1753-44ec-94ba-8dbd50c250be#0:FAIL-t1. Peer's state: f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435:t1, leader=null, voted=f7d91da2-1753-44ec-94ba-8dbd50c250be, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:25,528 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:25,529 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:02:25,529 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:25,529 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26
2021-09-27 13:02:25,529 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:25,529 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-662F4B4E6DF3 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,531 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435 replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:OK-t1. Peer's state: fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435:t1, leader=null, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,538 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5218ms
2021-09-27 13:02:25,538 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderStateImpl
2021-09-27 13:02:25,539 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,540 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:25,541 [IPC Server handler 8 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,542 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 is not found
2021-09-27 13:02:25,542 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,542 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,542 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 is not found
2021-09-27 13:02:25,542 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3/current/log_inprogress_0
2021-09-27 13:02:25,554 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: set configuration 0: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1], old=null
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:OK-t1
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24 ELECTION round 0: result PASSED
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:25,556 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-0FFB03CF7435 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5194ms
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:25,557 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:25,558 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:25,559 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:25,560 [IPC Server handler 9 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,560 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:25,561 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 is not found
2021-09-27 13:02:25,561 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:25,561 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:25,561 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:25,561 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:25,561 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:25,561 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,562 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,562 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 is not found
2021-09-27 13:02:25,563 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderStateImpl
2021-09-27 13:02:25,563 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,568 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/current/log_inprogress_0
2021-09-27 13:02:25,591 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2021-09-27 13:02:25,591 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25
2021-09-27 13:02:25,602 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: receive requestVote(ELECTION, f7d91da2-1753-44ec-94ba-8dbd50c250be, group-0FFB03CF7435, 1, (t:0, i:0))
2021-09-27 13:02:25,602 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-0FFB03CF7435 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,602 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5120ms
2021-09-27 13:02:25,602 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: receive requestVote(ELECTION, f7d91da2-1753-44ec-94ba-8dbd50c250be, group-0FFB03CF7435, 1, (t:0, i:0))
2021-09-27 13:02:25,602 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FOLLOWER: reject ELECTION from f7d91da2-1753-44ec-94ba-8dbd50c250be: already has voted for 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at current term 1
2021-09-27 13:02:25,603 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435 replies to ELECTION vote request: f7d91da2-1753-44ec-94ba-8dbd50c250be<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:FAIL-t1. Peer's state: fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,604 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,615 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LEADER: reject ELECTION from f7d91da2-1753-44ec-94ba-8dbd50c250be: already has voted for 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at current term 1
2021-09-27 13:02:25,615 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435 replies to ELECTION vote request: f7d91da2-1753-44ec-94ba-8dbd50c250be<-519ef5ef-9d20-4644-bfcf-82e4cbdfde08#0:FAIL-t1. Peer's state: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c-1,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,615 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:25,617 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-0FFB03CF7435 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,617 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5234ms
2021-09-27 13:02:25,622 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:25,623 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: f7d91da2-1753-44ec-94ba-8dbd50c250be<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:FAIL-t1
2021-09-27 13:02:25,623 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-LeaderElection25 ELECTION round 0: result REJECTED
2021-09-27 13:02:25,638 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,653 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:25,658 [grpc-default-executor-5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,659 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,661 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/current/log_inprogress_0
2021-09-27 13:02:25,661 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/current/log_inprogress_0
2021-09-27 13:02:25,671 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:25,675 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:25,711 [IPC Server handler 10 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,746 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5029155767ns, electionTimeout:5023ms
2021-09-27 13:02:25,747 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState
2021-09-27 13:02:25,747 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:25,747 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:25,747 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-E9A559868F4B with new leaderId: fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: change Leader from null to fd95f95c-8aff-4525-8224-f6a714ea83f7 at term 1 for becomeLeader, leader elected after 5058ms
2021-09-27 13:02:25,763 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:25,763 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:25,764 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderStateImpl
2021-09-27 13:02:25,765 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:25,765 [IPC Server handler 12 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,766 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b is not found
2021-09-27 13:02:25,766 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:25,766 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e is not found
2021-09-27 13:02:25,766 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:25,772 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b/current/log_inprogress_0
2021-09-27 13:02:25,780 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:1], old=null
2021-09-27 13:02:25,869 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: remove    LEADER 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:25,869 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: shutdown
2021-09-27 13:02:25,869 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-662F4B4E6DF3,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,869 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-LeaderStateImpl
2021-09-27 13:02:25,869 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:25,870 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:25,870 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-662F4B4E6DF3: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3/sm/snapshot.1_0
2021-09-27 13:02:25,871 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-662F4B4E6DF3: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:25,871 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:25,871 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:25,872 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: closes. applyIndex: 0
2021-09-27 13:02:25,872 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,874 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,878 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-662F4B4E6DF3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/af875cf8-a4e5-4e54-b2aa-662f4b4e6df3
2021-09-27 13:02:25,878 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=af875cf8-a4e5-4e54-b2aa-662f4b4e6df3 command on datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08.
2021-09-27 13:02:25,878 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: remove    LEADER 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:25,878 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: shutdown
2021-09-27 13:02:25,878 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,878 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-LeaderStateImpl
2021-09-27 13:02:25,879 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:25,879 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:25,879 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:25,879 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->f7d91da2-1753-44ec-94ba-8dbd50c250be#145-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:02:25,880 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->fd95f95c-8aff-4525-8224-f6a714ea83f7#138-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:02:25,881 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->f7d91da2-1753-44ec-94ba-8dbd50c250be-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:25,881 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->f7d91da2-1753-44ec-94ba-8dbd50c250be: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:02:25,883 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->fd95f95c-8aff-4525-8224-f6a714ea83f7-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:25,883 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D->fd95f95c-8aff-4525-8224-f6a714ea83f7: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:02:25,887 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:25,887 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A955BADA814D: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10
2021-09-27 13:02:25,891 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A955BADA814D: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10 took: 4 ms
2021-09-27 13:02:25,891 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:25,891 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:25,900 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: closes. applyIndex: 10
2021-09-27 13:02:25,900 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,904 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,910 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-A955BADA814D: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:02:25,910 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d command on datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08.
2021-09-27 13:02:25,910 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: remove    LEADER 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:25,910 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: shutdown
2021-09-27 13:02:25,910 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,910 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-LeaderStateImpl
2021-09-27 13:02:25,911 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:25,911 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:25,912 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->f7d91da2-1753-44ec-94ba-8dbd50c250be#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:25,912 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->fd95f95c-8aff-4525-8224-f6a714ea83f7#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:25,912 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->f7d91da2-1753-44ec-94ba-8dbd50c250be-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:25,912 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->f7d91da2-1753-44ec-94ba-8dbd50c250be: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:25,912 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->fd95f95c-8aff-4525-8224-f6a714ea83f7-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:25,913 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435->fd95f95c-8aff-4525-8224-f6a714ea83f7: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:25,911 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:25,916 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:25,917 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0FFB03CF7435: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0
2021-09-27 13:02:25,918 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0FFB03CF7435: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:25,918 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:25,918 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:25,918 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: closes. applyIndex: 0
2021-09-27 13:02:25,918 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,920 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,923 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-0FFB03CF7435: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:25,923 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 command on datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08.
2021-09-27 13:02:25,923 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: remove    LEADER 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:25,924 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: shutdown
2021-09-27 13:02:25,924 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BF4584456673,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:25,924 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-LeaderStateImpl
2021-09-27 13:02:25,924 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:25,924 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-BF4584456673: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673/sm/snapshot.1_0
2021-09-27 13:02:25,925 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:25,925 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-BF4584456673: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:25,925 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:25,925 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:25,926 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: closes. applyIndex: 0
2021-09-27 13:02:25,926 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:25,926 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673-SegmentedRaftLogWorker close()
2021-09-27 13:02:25,927 [IPC Server handler 14 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:25,932 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-BF4584456673: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/50164cb1-5fc7-40c1-b5bd-bf4584456673
2021-09-27 13:02:25,932 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=50164cb1-5fc7-40c1-b5bd-bf4584456673 command on datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08.
2021-09-27 13:02:25,932 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:25,932 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:02:25,932 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:25,932 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:02:25,937 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:02:25,938 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data-0/containers/hdds/25ee2234-43f9-444b-adf9-2fd239a9416c -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:02:25,942 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:25,943 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,264 [IPC Server handler 5 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:26,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:26,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:26,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:26,297 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:02:26,297 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:26,299 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=69a3138a-d80d-45e6-848b-e545c290b65c to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:26,300 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 69a3138a-d80d-45e6-848b-e545c290b65c, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:26.299Z[Etc/UTC]].
2021-09-27 13:02:26,300 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-09-27 13:02:26,384 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: remove  FOLLOWER f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:26,384 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: shutdown
2021-09-27 13:02:26,384 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:26,384 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState
2021-09-27 13:02:26,385 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:26,385 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A955BADA814D: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10
2021-09-27 13:02:26,385 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:26,386 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A955BADA814D: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10 took: 1 ms
2021-09-27 13:02:26,386 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:26,386 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:26,389 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: closes. applyIndex: 10
2021-09-27 13:02:26,390 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,398 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,403 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-A955BADA814D: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:02:26,403 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d command on datanode f7d91da2-1753-44ec-94ba-8dbd50c250be.
2021-09-27 13:02:26,403 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: remove  FOLLOWER f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=f7d91da2-1753-44ec-94ba-8dbd50c250be, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:26,403 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: shutdown
2021-09-27 13:02:26,403 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:26,403 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:26,403 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,403 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:26,412 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0FFB03CF7435: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0
2021-09-27 13:02:26,413 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0FFB03CF7435: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:26,413 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,413 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,414 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: closes. applyIndex: 0
2021-09-27 13:02:26,414 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,416 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,426 [IPC Server handler 15 on default port 35979] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:26,427 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 is not found
2021-09-27 13:02:26,427 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 is not found
2021-09-27 13:02:26,427 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d is not found
2021-09-27 13:02:26,427 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 is not found
2021-09-27 13:02:26,435 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FFB03CF7435: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:26,436 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 command on datanode f7d91da2-1753-44ec-94ba-8dbd50c250be.
2021-09-27 13:02:26,436 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: remove    LEADER f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700:t1, leader=f7d91da2-1753-44ec-94ba-8dbd50c250be, voted=f7d91da2-1753-44ec-94ba-8dbd50c250be, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:26,436 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: shutdown
2021-09-27 13:02:26,436 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1AB3BE608700,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:26,436 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-LeaderStateImpl
2021-09-27 13:02:26,436 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:26,437 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,437 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1AB3BE608700: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700/sm/snapshot.1_0
2021-09-27 13:02:26,438 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1AB3BE608700: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700/sm/snapshot.1_0 took: 2 ms
2021-09-27 13:02:26,439 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,439 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,439 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: closes. applyIndex: 0
2021-09-27 13:02:26,439 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,439 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,446 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-1AB3BE608700: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/3765d426-d240-4d7b-8ff8-1ab3be608700
2021-09-27 13:02:26,446 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3765d426-d240-4d7b-8ff8-1ab3be608700 command on datanode f7d91da2-1753-44ec-94ba-8dbd50c250be.
2021-09-27 13:02:26,446 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: remove    LEADER f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5:t1, leader=f7d91da2-1753-44ec-94ba-8dbd50c250be, voted=f7d91da2-1753-44ec-94ba-8dbd50c250be, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:26,446 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: shutdown
2021-09-27 13:02:26,446 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FD67CDBDDD5,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:26,446 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-LeaderStateImpl
2021-09-27 13:02:26,446 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:26,447 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,447 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0FD67CDBDDD5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5/sm/snapshot.1_0
2021-09-27 13:02:26,448 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0FD67CDBDDD5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:26,449 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,449 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,456 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: closes. applyIndex: 0
2021-09-27 13:02:26,456 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,463 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,466 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-0FD67CDBDDD5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/dd2fbff3-ae98-4392-86a8-0fd67cdbddd5
2021-09-27 13:02:26,466 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=dd2fbff3-ae98-4392-86a8-0fd67cdbddd5 command on datanode f7d91da2-1753-44ec-94ba-8dbd50c250be.
2021-09-27 13:02:26,466 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,466 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:02:26,466 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:26,466 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:02:26,468 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:02:26,469 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data-0/containers/hdds/25ee2234-43f9-444b-adf9-2fd239a9416c -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:02:26,470 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:26,470 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,471 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,471 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,711 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: remove  FOLLOWER fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:26,711 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: shutdown
2021-09-27 13:02:26,711 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A955BADA814D,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:26,711 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState
2021-09-27 13:02:26,711 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:26,711 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:26,712 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A955BADA814D: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10
2021-09-27 13:02:26,713 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A955BADA814D: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d/sm/snapshot.1_10 took: 2 ms
2021-09-27 13:02:26,713 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:26,713 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:26,714 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: closes. applyIndex: 10
2021-09-27 13:02:26,714 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,717 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,718 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-A955BADA814D: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/3e3ffd29-58e7-43d0-a21d-a955bada814d
2021-09-27 13:02:26,718 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3e3ffd29-58e7-43d0-a21d-a955bada814d command on datanode fd95f95c-8aff-4525-8224-f6a714ea83f7.
2021-09-27 13:02:26,718 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: remove  FOLLOWER fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435:t1, leader=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:26,718 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: shutdown
2021-09-27 13:02:26,718 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0FFB03CF7435,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:26,718 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState
2021-09-27 13:02:26,718 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,718 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:26,719 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0FFB03CF7435: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0
2021-09-27 13:02:26,720 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0FFB03CF7435: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435/sm/snapshot.1_0 took: 2 ms
2021-09-27 13:02:26,720 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,720 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,721 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: closes. applyIndex: 0
2021-09-27 13:02:26,721 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,723 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,725 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-0FFB03CF7435: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/d4ae2746-2b5b-4c8e-b522-0ffb03cf7435
2021-09-27 13:02:26,725 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=d4ae2746-2b5b-4c8e-b522-0ffb03cf7435 command on datanode fd95f95c-8aff-4525-8224-f6a714ea83f7.
2021-09-27 13:02:26,726 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: remove    LEADER fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B:t1, leader=fd95f95c-8aff-4525-8224-f6a714ea83f7, voted=fd95f95c-8aff-4525-8224-f6a714ea83f7, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:26,726 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: shutdown
2021-09-27 13:02:26,726 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E9A559868F4B,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:26,726 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-LeaderStateImpl
2021-09-27 13:02:26,726 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:26,732 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-E9A559868F4B: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b/sm/snapshot.1_0
2021-09-27 13:02:26,732 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,733 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-E9A559868F4B: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b/sm/snapshot.1_0 took: 2 ms
2021-09-27 13:02:26,733 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,733 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,734 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: closes. applyIndex: 0
2021-09-27 13:02:26,734 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,736 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,738 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-E9A559868F4B: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/05abebf7-532d-42d2-8fc3-e9a559868f4b
2021-09-27 13:02:26,738 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=05abebf7-532d-42d2-8fc3-e9a559868f4b command on datanode fd95f95c-8aff-4525-8224-f6a714ea83f7.
2021-09-27 13:02:26,739 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: remove    LEADER fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E:t1, leader=fd95f95c-8aff-4525-8224-f6a714ea83f7, voted=fd95f95c-8aff-4525-8224-f6a714ea83f7, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:26,739 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: shutdown
2021-09-27 13:02:26,739 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F7FA688F765E,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:26,739 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-LeaderStateImpl
2021-09-27 13:02:26,739 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:26,742 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-F7FA688F765E: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e/sm/snapshot.1_0
2021-09-27 13:02:26,742 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:26,743 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-F7FA688F765E: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:26,743 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:26,743 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:26,744 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: closes. applyIndex: 0
2021-09-27 13:02:26,744 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:26,744 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E-SegmentedRaftLogWorker close()
2021-09-27 13:02:26,745 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-F7FA688F765E: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/e24f0580-eacb-4d90-9b01-f7fa688f765e
2021-09-27 13:02:26,747 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e24f0580-eacb-4d90-9b01-f7fa688f765e command on datanode fd95f95c-8aff-4525-8224-f6a714ea83f7.
2021-09-27 13:02:26,747 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,748 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:02:26,748 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:26,748 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:02:26,749 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:02:26,749 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data-0/containers/hdds/25ee2234-43f9-444b-adf9-2fd239a9416c -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:02:26,751 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:26,751 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:26,797 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:02:26,797 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:26,798 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f90dbd21-4426-4e0b-9545-967d52f9fe74 to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:26,798 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f90dbd21-4426-4e0b-9545-967d52f9fe74, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:26.798Z[Etc/UTC]].
2021-09-27 13:02:26,798 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:02:26,860 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:27,060 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:27,060 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-E545C290B65C:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] returns group-E545C290B65C:java.util.concurrent.CompletableFuture@58cd781e[Not completed]
2021-09-27 13:02:27,062 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-E545C290B65C:[519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,062 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,062 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: ConfigurationManager, init=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,063 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c does not exist. Creating ...
2021-09-27 13:02:27,070 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,071 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c has been successfully formatted.
2021-09-27 13:02:27,072 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-E545C290B65C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,072 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,073 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,073 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 69a3138a-d80d-45e6-848b-e545c290b65c, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:02:26.299Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:27,073 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,073 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,074 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,075 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,075 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,075 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,075 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,075 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,076 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,081 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,082 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,085 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,091 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,091 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,091 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,092 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,092 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,092 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,093 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: start as a follower, conf=-1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:02:27,093 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:27,093 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState
2021-09-27 13:02:27,100 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E545C290B65C,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:27,113 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=69a3138a-d80d-45e6-848b-e545c290b65c
2021-09-27 13:02:27,114 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=69a3138a-d80d-45e6-848b-e545c290b65c.
2021-09-27 13:02:27,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:27,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:27,294 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:27,297 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:02:27,297 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:27,300 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=1da54995-cbae-4907-ba01-438b0102af33 to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:27,300 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 1da54995-cbae-4907-ba01-438b0102af33, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:27.300Z[Etc/UTC]].
2021-09-27 13:02:27,301 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8a396f4-6e44-4b18-98e3-32ba557238e2 to datanode:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:27,301 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8a396f4-6e44-4b18-98e3-32ba557238e2 to datanode:f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:27,301 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c8a396f4-6e44-4b18-98e3-32ba557238e2 to datanode:fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:27,301 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c8a396f4-6e44-4b18-98e3-32ba557238e2, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:27.301Z[Etc/UTC]].
2021-09-27 13:02:27,669 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:27,676 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:27,763 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:27,763 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-967D52F9FE74:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] returns group-967D52F9FE74:java.util.concurrent.CompletableFuture@bb73af2[Not completed]
2021-09-27 13:02:27,764 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-967D52F9FE74:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,764 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,765 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74 does not exist. Creating ...
2021-09-27 13:02:27,766 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74 has been successfully formatted.
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-967D52F9FE74: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,770 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,770 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,771 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,772 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: f90dbd21-4426-4e0b-9545-967d52f9fe74, Nodes: fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fd95f95c-8aff-4525-8224-f6a714ea83f7, CreationTimestamp2021-09-27T13:02:26.798Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:27,774 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,775 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,775 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,775 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,779 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,780 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:02:27,780 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:27,780 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState
2021-09-27 13:02:27,781 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-967D52F9FE74,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:27,792 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=f90dbd21-4426-4e0b-9545-967d52f9fe74
2021-09-27 13:02:27,792 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=f90dbd21-4426-4e0b-9545-967d52f9fe74.
2021-09-27 13:02:27,792 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: addNew group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] returns group-32BA557238E2:java.util.concurrent.CompletableFuture@65de398e[Not completed]
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: new RaftServerImpl for group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,793 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,794 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,794 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis] (custom)
2021-09-27 13:02:27,794 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,794 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,794 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 does not exist. Creating ...
2021-09-27 13:02:27,795 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,798 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 has been successfully formatted.
2021-09-27 13:02:27,798 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-32BA557238E2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,798 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,799 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,800 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,801 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,804 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,804 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,804 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,808 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,813 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:27,813 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:27,813 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:27,814 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:27,815 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=c8a396f4-6e44-4b18-98e3-32ba557238e2
2021-09-27 13:02:27,822 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: addNew group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] returns group-32BA557238E2:java.util.concurrent.CompletableFuture@21e6adab[Not completed]
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: new RaftServerImpl for group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis] (custom)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,823 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 does not exist. Creating ...
2021-09-27 13:02:27,825 [pool-184-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,826 [pool-184-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 has been successfully formatted.
2021-09-27 13:02:27,827 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:27,827 [pool-184-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-32BA557238E2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,827 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,828 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,828 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,828 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,828 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,828 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,829 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,830 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,830 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,830 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,830 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,831 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,831 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,831 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,831 [pool-184-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,832 [pool-184-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,833 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:27,833 [pool-184-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:27,833 [pool-184-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState
2021-09-27 13:02:27,833 [pool-184-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:27,857 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] returns group-32BA557238E2:java.util.concurrent.CompletableFuture@3bc687f9[Not completed]
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-32BA557238E2:[fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: ConfigurationManager, init=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,858 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:02:27,859 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,859 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,859 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 does not exist. Creating ...
2021-09-27 13:02:27,861 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,862 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2 has been successfully formatted.
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-32BA557238E2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,863 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,864 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,865 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,866 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,866 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,866 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,866 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,871 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,872 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: start as a follower, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:27,872 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:27,872 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState
2021-09-27 13:02:27,880 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:27,909 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=c8a396f4-6e44-4b18-98e3-32ba557238e2.
2021-09-27 13:02:27,926 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: addNew group-438B0102AF33:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] returns group-438B0102AF33:java.util.concurrent.CompletableFuture@e1731f1[Not completed]
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: new RaftServerImpl for group-438B0102AF33:[f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:27,981 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:27,982 [pool-165-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: ConfigurationManager, init=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:27,982 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis] (custom)
2021-09-27 13:02:27,982 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:27,982 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:27,982 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33 does not exist. Creating ...
2021-09-27 13:02:27,984 [pool-165-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:27,985 [pool-165-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33 has been successfully formatted.
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-438B0102AF33: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:27,986 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:27,986 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,987 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 1da54995-cbae-4907-ba01-438b0102af33, Nodes: f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:f7d91da2-1753-44ec-94ba-8dbd50c250be, CreationTimestamp2021-09-27T13:02:27.300Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:27,987 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:27,988 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:27,988 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:27,989 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,989 [pool-165-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:27,994 [pool-165-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:27,995 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: start as a follower, conf=-1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:02:28,002 [pool-165-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:28,002 [pool-165-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState
2021-09-27 13:02:28,020 [pool-165-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-438B0102AF33,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:28,024 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=1da54995-cbae-4907-ba01-438b0102af33
2021-09-27 13:02:28,031 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=1da54995-cbae-4907-ba01-438b0102af33.
2021-09-27 13:02:28,123 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:28,151 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@75366d09{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:28,152 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4b6fa58{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:28,152 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:28,180 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@49272b9e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:28,194 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@631ad110{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-27 13:02:28,201 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-27 13:02:28,202 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-27 13:02:28,202 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-27 13:02:28,202 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-27 13:02:28,204 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35057
2021-09-27 13:02:28,213 [IPC Server listener on 35057] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 35057
2021-09-27 13:02:28,220 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:28,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:28,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:28,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:28,360 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:28,502 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-27 13:02:28,502 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-27 13:02:28,502 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-27 13:02:28,505 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43935
2021-09-27 13:02:28,511 [IPC Server listener on 43935] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 43935
2021-09-27 13:02:28,516 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:28,516 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-27 13:02:28,516 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-27 13:02:28,518 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45009
2021-09-27 13:02:28,528 [IPC Server listener on 45009] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 45009
2021-09-27 13:02:28,528 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-27 13:02:28,528 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:28,539 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@56188bea{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:28,540 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2174bf89{HTTP/1.1, (http/1.1)}{0.0.0.0:38517}
2021-09-27 13:02:28,540 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:28,548 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7a04856{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:28,548 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4252a632{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:28,559 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-27 13:02:28,559 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:28,560 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:28,560 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-27 13:02:28,567 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-27 13:02:28,567 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:28,568 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-27 13:02:28,569 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-09-27 13:02:28,574 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-27 13:02:28,577 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-09-27 13:02:28,776 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5091436272ns, electionTimeout:5084ms
2021-09-27 13:02:28,776 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,776 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:28,776 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:28,776 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28
2021-09-27 13:02:28,794 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:28,825 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: receive requestVote(ELECTION, 15ac14bf-0cad-4421-bcbf-9dc549621410, group-D504F7A57A3E, 1, (t:0, i:0))
2021-09-27 13:02:28,825 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FOLLOWER: reject ELECTION from 15ac14bf-0cad-4421-bcbf-9dc549621410: our priority 1 > candidate's priority 0
2021-09-27 13:02:28,825 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:28,826 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,826 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,826 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:28,827 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5170468425ns, electionTimeout:5169ms
2021-09-27 13:02:28,827 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState
2021-09-27 13:02:28,827 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:28,834 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:28,835 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29
2021-09-27 13:02:28,836 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E replies to ELECTION vote request: 15ac14bf-0cad-4421-bcbf-9dc549621410<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t1. Peer's state: 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E:t1, leader=null, voted=null, raftlog=159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 15ac14bf-0cad-4421-bcbf-9dc549621410<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t1
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28 ELECTION round 0: result REJECTED
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28
2021-09-27 13:02:28,845 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,853 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29 ELECTION round 0: submit vote requests at term 1 for -1: [15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:1], old=null
2021-09-27 13:02:28,853 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:28,853 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29
2021-09-27 13:02:28,853 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:28,854 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-F1662072C588 with new leaderId: 15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:28,854 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:28,854 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: change Leader from null to 15ac14bf-0cad-4421-bcbf-9dc549621410 at term 1 for becomeLeader, leader elected after 5209ms
2021-09-27 13:02:28,855 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:28,855 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:28,855 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:28,855 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:28,861 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: receive requestVote(ELECTION, 15ac14bf-0cad-4421-bcbf-9dc549621410, group-D504F7A57A3E, 1, (t:0, i:0))
2021-09-27 13:02:28,861 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 15ac14bf-0cad-4421-bcbf-9dc549621410: our priority 0 <= candidate's priority 0
2021-09-27 13:02:28,861 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:15ac14bf-0cad-4421-bcbf-9dc549621410
2021-09-27 13:02:28,861 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,861 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:28,862 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:28,862 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:28,869 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:28,869 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:28,869 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderStateImpl
2021-09-27 13:02:28,869 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:28,872 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-LeaderElection29] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588: set configuration 0: [15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:1], old=null
2021-09-27 13:02:28,874 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-F1662072C588-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/a08805fe-bb0b-46f0-a6be-f1662072c588/current/log_inprogress_0
2021-09-27 13:02:28,878 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E replies to ELECTION vote request: 15ac14bf-0cad-4421-bcbf-9dc549621410<-93f5d682-b529-4dec-992f-471b3f563d5f#0:OK-t1. Peer's state: 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E:t1, leader=null, voted=15ac14bf-0cad-4421-bcbf-9dc549621410, raftlog=93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:29,008 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5134376024ns, electionTimeout:5121ms
2021-09-27 13:02:29,008 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState
2021-09-27 13:02:29,008 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:29,008 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:29,008 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30
2021-09-27 13:02:29,019 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30 ELECTION round 0: submit vote requests at term 1 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1], old=null
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-2AA7CE328C5D with new leaderId: 159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: change Leader from null to 159e7922-fc40-4889-8d03-297f78dafa91 at term 1 for becomeLeader, leader elected after 5162ms
2021-09-27 13:02:29,020 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:29,021 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:29,021 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:29,022 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:29,022 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:29,022 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:29,022 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:29,022 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderStateImpl
2021-09-27 13:02:29,023 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:29,024 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/760a4fe2-fa72-4d3e-8af9-2aa7ce328c5d/current/log_inprogress_0
2021-09-27 13:02:29,036 [159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-2AA7CE328C5D: set configuration 0: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1], old=null
2021-09-27 13:02:29,184 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:29,294 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5110937189ns, electionTimeout:5108ms
2021-09-27 13:02:29,294 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState
2021-09-27 13:02:29,294 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:29,294 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:29,294 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31
2021-09-27 13:02:29,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:29,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:29,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:29,305 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31 ELECTION round 0: submit vote requests at term 1 for -1: [93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:1], old=null
2021-09-27 13:02:29,305 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:29,305 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31
2021-09-27 13:02:29,305 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:29,305 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-337C9D29C296 with new leaderId: 93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:29,306 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:29,306 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: change Leader from null to 93f5d682-b529-4dec-992f-471b3f563d5f at term 1 for becomeLeader, leader elected after 5130ms
2021-09-27 13:02:29,306 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:29,306 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:29,307 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:29,310 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:29,312 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:29,312 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:29,312 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:29,312 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderStateImpl
2021-09-27 13:02:29,318 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:29,321 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/6bfef3d1-ab74-49ef-810a-337c9d29c296/current/log_inprogress_0
2021-09-27 13:02:29,322 [93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-337C9D29C296: set configuration 0: [93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:1], old=null
2021-09-27 13:02:29,354 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:29,521 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:30,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:30,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:30,295 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:30,323 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:30,807 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:31,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:31,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:31,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:31,378 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:31,522 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:32,187 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5093989103ns, electionTimeout:5086ms
2021-09-27 13:02:32,187 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState
2021-09-27 13:02:32,188 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:32,188 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:32,188 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32
2021-09-27 13:02:32,201 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32 ELECTION round 0: submit vote requests at term 1 for -1: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1], old=null
2021-09-27 13:02:32,201 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:32,201 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32
2021-09-27 13:02:32,205 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:32,205 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-E545C290B65C with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,205 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5132ms
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:32,206 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderStateImpl
2021-09-27 13:02:32,207 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:32,213 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:32,213 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: set configuration 0: [519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1], old=null
2021-09-27 13:02:32,215 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c/current/log_inprogress_0
2021-09-27 13:02:32,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:32,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:32,296 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:32,308 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:32,836 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5055060330ns, electionTimeout:5048ms
2021-09-27 13:02:32,836 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState
2021-09-27 13:02:32,836 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:32,836 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:32,836 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:1], old=null
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-967D52F9FE74 with new leaderId: fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: change Leader from null to fd95f95c-8aff-4525-8224-f6a714ea83f7 at term 1 for becomeLeader, leader elected after 5073ms
2021-09-27 13:02:32,844 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:32,850 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderStateImpl
2021-09-27 13:02:32,851 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:32,853 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74/current/log_inprogress_0
2021-09-27 13:02:32,865 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:32,885 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:1], old=null
2021-09-27 13:02:32,889 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5056162816ns, electionTimeout:5055ms
2021-09-27 13:02:32,890 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState
2021-09-27 13:02:32,890 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:32,890 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:32,890 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34
2021-09-27 13:02:32,904 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34 ELECTION round 0: submit vote requests at term 1 for -1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:32,908 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-32BA557238E2, 1, (t:0, i:0))
2021-09-27 13:02:32,908 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FOLLOWER: accept ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: our priority 0 <= candidate's priority 1
2021-09-27 13:02:32,908 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,908 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:32,909 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:32,909 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:32,911 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: receive requestVote(ELECTION, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08, group-32BA557238E2, 1, (t:0, i:0))
2021-09-27 13:02:32,911 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FOLLOWER: accept ELECTION from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: our priority 0 <= candidate's priority 1
2021-09-27 13:02:32,911 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,911 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState
2021-09-27 13:02:32,928 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState
2021-09-27 13:02:32,928 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:32,929 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2 replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:OK-t1. Peer's state: fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2:t1, leader=null, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:0], old=null
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-fd95f95c-8aff-4525-8224-f6a714ea83f7#0:OK-t1
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34 ELECTION round 0: result PASSED
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:32,937 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-32BA557238E2 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for becomeLeader, leader elected after 5109ms
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:32,938 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:32,939 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:32,940 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:32,942 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2 replies to ELECTION vote request: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08<-f7d91da2-1753-44ec-94ba-8dbd50c250be#0:OK-t1. Peer's state: f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2:t1, leader=null, voted=519ef5ef-9d20-4644-bfcf-82e4cbdfde08, raftlog=f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:32,943 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:32,944 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:32,944 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:32,944 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:32,944 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:32,944 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:32,946 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: start 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderStateImpl
2021-09-27 13:02:32,946 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: c8a396f4-6e44-4b18-98e3-32ba557238e2, Nodes: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33695, RATIS=34909, RATIS_ADMIN=34909, RATIS_SERVER=34909, STANDALONE=42897], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f7d91da2-1753-44ec-94ba-8dbd50c250be{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37679, RATIS=40421, RATIS_ADMIN=40421, RATIS_SERVER=40421, STANDALONE=46681], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fd95f95c-8aff-4525-8224-f6a714ea83f7{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42923, RATIS=35779, RATIS_ADMIN=35779, RATIS_SERVER=35779, STANDALONE=34833], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:519ef5ef-9d20-4644-bfcf-82e4cbdfde08, CreationTimestamp2021-09-27T13:02:27.301Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:32,946 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:32,948 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/current/log_inprogress_0
2021-09-27 13:02:32,953 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:32,969 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-32BA557238E2 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,969 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5105ms
2021-09-27 13:02:32,976 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-32BA557238E2 with new leaderId: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:32,976 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: change Leader from null to 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 at term 1 for appendEntries, leader elected after 5177ms
2021-09-27 13:02:32,987 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:32,987 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: set configuration 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:32,987 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:32,988 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:32,990 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/current/log_inprogress_0
2021-09-27 13:02:32,990 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/current/log_inprogress_0
2021-09-27 13:02:33,172 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5169591936ns, electionTimeout:5152ms
2021-09-27 13:02:33,172 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState
2021-09-27 13:02:33,172 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:33,172 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:33,173 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35
2021-09-27 13:02:33,181 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35 ELECTION round 0: submit vote requests at term 1 for -1: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|priority:1], old=null
2021-09-27 13:02:33,181 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:33,181 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35
2021-09-27 13:02:33,182 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:33,182 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-438B0102AF33 with new leaderId: f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:33,182 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:33,183 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: change Leader from null to f7d91da2-1753-44ec-94ba-8dbd50c250be at term 1 for becomeLeader, leader elected after 5195ms
2021-09-27 13:02:33,183 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:33,183 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:33,183 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:33,184 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:33,184 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:33,188 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:33,189 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: start f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderStateImpl
2021-09-27 13:02:33,189 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:33,191 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33/current/log_inprogress_0
2021-09-27 13:02:33,201 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderElection35] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: set configuration 0: [f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:1], old=null
2021-09-27 13:02:33,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:33,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:33,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:33,522 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:33,808 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:33,866 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:33,914 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5044234837ns, electionTimeout:5042ms
2021-09-27 13:02:33,915 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:33,915 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-27 13:02:33,915 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:33,915 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36
2021-09-27 13:02:33,925 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36 ELECTION round 0: submit vote requests at term 2 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:33,951 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 2, (t:0, i:0))
2021-09-27 13:02:33,951 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 0 <= candidate's priority 0
2021-09-27 13:02:33,951 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:33,951 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:33,952 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:33,952 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:33,953 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 2, (t:0, i:0))
2021-09-27 13:02:33,954 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FOLLOWER: reject ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 1 > candidate's priority 0
2021-09-27 13:02:33,954 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:33,954 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:33,960 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:33,960 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:33,962 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-15ac14bf-0cad-4421-bcbf-9dc549621410#0:OK-t2. Peer's state: 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E:t2, leader=null, voted=93f5d682-b529-4dec-992f-471b3f563d5f, raftlog=15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:33,968 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t2. Peer's state: 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E:t2, leader=null, voted=null, raftlog=159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t2
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 93f5d682-b529-4dec-992f-471b3f563d5f<-15ac14bf-0cad-4421-bcbf-9dc549621410#0:OK-t2
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36 ELECTION round 0: result REJECTED
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36
2021-09-27 13:02:33,970 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:34,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:34,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:34,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:34,522 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:35,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:35,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:35,297 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:35,312 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:35,323 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-09-27 13:02:35,323 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:35,323 [Listener at 0.0.0.0/42769] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:35,324 [Listener at 0.0.0.0/42769] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-09-27 13:02:35,324 [Listener at 0.0.0.0/42769] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-09-27 13:02:35,365 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:35,436 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-27 13:02:35,436 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-27 13:02:35,436 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-09-27 13:02:35,436 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-27 13:02:35,450 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40859
2021-09-27 13:02:35,454 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:35,454 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-27 13:02:35,454 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-09-27 13:02:35,457 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-09-27 13:02:35,461 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - om1@group-C5BA1605619E: shutdown
2021-09-27 13:02:35,461 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-09-27 13:02:35,461 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:02:35,461 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:35,470 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-09-27 13:02:35,470 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-09-27 13:02:35,470 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-09-27 13:02:35,470 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-09-27 13:02:35,470 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-27 13:02:35,470 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-09-27 13:02:35,470 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:35,473 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-09-27 13:02:35,473 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 43453 now
2021-09-27 13:02:35,474 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 43453 successfully
2021-09-27 13:02:35,475 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@fdb5f77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-09-27 13:02:35,475 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-27 13:02:35,475 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-27 13:02:35,498 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-27 13:02:35,498 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-09-27 13:02:35,505 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@798208a{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:02:35,506 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5ca535ec{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:35,506 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:35,506 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@436734b5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:35,506 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6ba9fa34{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:35,532 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-09-27 13:02:35,610 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,646 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,647 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,654 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-27 13:02:35,680 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-09-27 13:02:35,696 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-09-27 13:02:35,735 [IPC Server handler 3 on default port 33407] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(234)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-09-27 13:02:35,736 [IPC Server handler 3 on default port 33407] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-09-27 13:02:35,817 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,819 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,820 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:35,897 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:35,897 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:35,898 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 37600848-c086-45b5-afc9-4d84636e088b, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:623c436b-d721-44ab-8ceb-7a2aa2028f82, CreationTimestamp2021-09-27T13:02:07.735Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:35,898 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 7819133e-45c2-47e0-8046-f1992e32146c, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.736Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:35,911 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: f6308dcc-4240-42b1-a801-94537de5118c, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, CreationTimestamp2021-09-27T13:02:07.507Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:35,911 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 0296a415-dc89-41a9-bc56-90845c64705f, Nodes: 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.258Z[Etc/UTC]] moved to CLOSED state
2021-09-27 13:02:35,911 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-09-27 13:02:35,914 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-09-27 13:02:35,914 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-09-27 13:02:36,021 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:36,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:36,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:36,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:36,486 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:36,488 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:36,814 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:36,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:37,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:37,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:37,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:37,345 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,345 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,352 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:37,362 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,375 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,376 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:02:37,383 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,383 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,384 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,387 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,387 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-09-27 13:02:37,390 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:37,392 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-09-27 13:02:37,404 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,410 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,410 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,412 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:37,412 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,413 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,414 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,417 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-09-27 13:02:37,417 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:37,417 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,419 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,419 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-09-27 13:02:37,456 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-09-27 13:02:37,456 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:37,523 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:37,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:38,298 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:38,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:38,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:38,315 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:38,999 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5029199213ns, electionTimeout:5023ms
2021-09-27 13:02:38,999 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:38,999 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-09-27 13:02:38,999 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:38,999 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37
2021-09-27 13:02:39,008 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37 ELECTION round 0: submit vote requests at term 3 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:39,011 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 3, (t:0, i:0))
2021-09-27 13:02:39,011 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FOLLOWER: reject ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 1 > candidate's priority 0
2021-09-27 13:02:39,011 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:39,011 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:39,011 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:39,011 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:39,018 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t3. Peer's state: 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E:t3, leader=null, voted=null, raftlog=159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:39,019 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 3, (t:0, i:0))
2021-09-27 13:02:39,019 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:39,019 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t3
2021-09-27 13:02:39,019 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 0 <= candidate's priority 0
2021-09-27 13:02:39,019 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37 ELECTION round 0: result REJECTED
2021-09-27 13:02:39,020 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-09-27 13:02:39,020 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37
2021-09-27 13:02:39,020 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:39,020 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:39,020 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:39,022 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:39,022 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:39,022 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:39,028 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-15ac14bf-0cad-4421-bcbf-9dc549621410#0:OK-t3. Peer's state: 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E:t3, leader=null, voted=93f5d682-b529-4dec-992f-471b3f563d5f, raftlog=15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:39,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:39,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:39,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:39,385 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:39,815 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:40,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:40,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:40,299 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:40,570 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:40,571 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: close
2021-09-27 13:02:40,571 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: shutdown
2021-09-27 13:02:40,571 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E545C290B65C,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:40,571 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-LeaderStateImpl
2021-09-27 13:02:40,571 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:40,572 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:40,572 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-E545C290B65C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c/sm/snapshot.1_0
2021-09-27 13:02:40,573 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-E545C290B65C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/69a3138a-d80d-45e6-848b-e545c290b65c/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:40,574 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:40,574 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:40,575 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C: closes. applyIndex: 0
2021-09-27 13:02:40,575 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:40,577 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-E545C290B65C-SegmentedRaftLogWorker close()
2021-09-27 13:02:40,580 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: shutdown
2021-09-27 13:02:40,580 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=519ef5ef-9d20-4644-bfcf-82e4cbdfde08
2021-09-27 13:02:40,580 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-LeaderStateImpl
2021-09-27 13:02:40,580 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:40,581 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:40,581 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-32BA557238E2: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0
2021-09-27 13:02:40,581 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->fd95f95c-8aff-4525-8224-f6a714ea83f7-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:40,582 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->f7d91da2-1753-44ec-94ba-8dbd50c250be-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:40,582 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->f7d91da2-1753-44ec-94ba-8dbd50c250be#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:40,583 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->f7d91da2-1753-44ec-94ba-8dbd50c250be-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:40,583 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->f7d91da2-1753-44ec-94ba-8dbd50c250be: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:40,584 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-32BA557238E2: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-1/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0 took: 2 ms
2021-09-27 13:02:40,584 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:40,584 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:40,585 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: Completed APPEND_ENTRIES, lastRequest: 519ef5ef-9d20-4644-bfcf-82e4cbdfde08->fd95f95c-8aff-4525-8224-f6a714ea83f7#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-27 13:02:40,585 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->fd95f95c-8aff-4525-8224-f6a714ea83f7-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:40,585 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2->fd95f95c-8aff-4525-8224-f6a714ea83f7: nextIndex: updateUnconditionally 1 -> 0
2021-09-27 13:02:40,588 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2: closes. applyIndex: 0
2021-09-27 13:02:40,588 [519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: close
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: shutdown
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState
2021-09-27 13:02:40,589 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:40,590 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:40,590 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-32BA557238E2: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0
2021-09-27 13:02:40,591 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-32BA557238E2: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:40,591 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:40,591 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:40,591 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2: closes. applyIndex: 0
2021-09-27 13:02:40,591 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:40,597 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08@group-32BA557238E2-SegmentedRaftLogWorker close()
2021-09-27 13:02:40,597 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-32BA557238E2-SegmentedRaftLogWorker close()
2021-09-27 13:02:40,600 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown server with port 34909 now
2021-09-27 13:02:40,600 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: shutdown
2021-09-27 13:02:40,602 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-438B0102AF33,id=f7d91da2-1753-44ec-94ba-8dbd50c250be
2021-09-27 13:02:40,602 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-LeaderStateImpl
2021-09-27 13:02:40,603 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:40,603 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:40,603 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-438B0102AF33: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33/sm/snapshot.1_0
2021-09-27 13:02:40,604 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-438B0102AF33: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-0/data/ratis/1da54995-cbae-4907-ba01-438b0102af33/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:40,605 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:40,605 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:40,605 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33: closes. applyIndex: 0
2021-09-27 13:02:40,605 [f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:40,607 [grpc-default-executor-0] WARN  client.GrpcClientProtocolService (LogUtils.java:warn(122)) - 2-UnorderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-27 13:02:40,611 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f7d91da2-1753-44ec-94ba-8dbd50c250be@group-438B0102AF33-SegmentedRaftLogWorker close()
2021-09-27 13:02:40,621 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 519ef5ef-9d20-4644-bfcf-82e4cbdfde08: shutdown server with port 34909 successfully
2021-09-27 13:02:40,622 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@19de060e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-519ef5ef-9d20-4644-bfcf-82e4cbdfde08: Stopped
2021-09-27 13:02:40,623 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown server with port 40421 now
2021-09-27 13:02:40,632 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - f7d91da2-1753-44ec-94ba-8dbd50c250be: shutdown server with port 40421 successfully
2021-09-27 13:02:40,632 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@39d6f792] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-f7d91da2-1753-44ec-94ba-8dbd50c250be: Stopped
2021-09-27 13:02:40,641 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:40,644 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:40,911 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-09-27 13:02:40,912 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:41,028 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:41,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:41,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:41,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:41,315 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:41,385 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:42,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:42,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:42,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:42,385 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:42,524 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:43,300 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:43,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:43,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:43,319 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:43,525 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:43,649 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:43,654 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4c135290{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:43,655 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6a3f8b90{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:43,656 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:43,656 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1c2a8f9d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:43,656 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1fc903a7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:43,660 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:43,664 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@62f2875a{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:43,664 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@55b41269{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:43,664 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:43,664 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ad217d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:43,665 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5402bc9d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:44,126 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5106400745ns, electionTimeout:5104ms
2021-09-27 13:02:44,128 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,128 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-09-27 13:02:44,128 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:44,128 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38
2021-09-27 13:02:44,148 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38 ELECTION round 0: submit vote requests at term 4 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:44,154 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 4, (t:0, i:0))
2021-09-27 13:02:44,154 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FOLLOWER: reject ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 1 > candidate's priority 0
2021-09-27 13:02:44,154 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:44,154 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,155 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,157 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:44,158 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t4. Peer's state: 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E:t4, leader=null, voted=null, raftlog=159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:44,159 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: receive requestVote(ELECTION, 93f5d682-b529-4dec-992f-471b3f563d5f, group-D504F7A57A3E, 4, (t:0, i:0))
2021-09-27 13:02:44,159 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 93f5d682-b529-4dec-992f-471b3f563d5f: our priority 0 <= candidate's priority 0
2021-09-27 13:02:44,159 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:93f5d682-b529-4dec-992f-471b3f563d5f
2021-09-27 13:02:44,159 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,159 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,160 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:44,168 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:44,168 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 93f5d682-b529-4dec-992f-471b3f563d5f<-159e7922-fc40-4889-8d03-297f78dafa91#0:FAIL-t4
2021-09-27 13:02:44,168 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38 ELECTION round 0: result REJECTED
2021-09-27 13:02:44,168 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from CANDIDATE to FOLLOWER at term 4 for REJECTED
2021-09-27 13:02:44,168 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38
2021-09-27 13:02:44,169 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:44,170 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E replies to ELECTION vote request: 93f5d682-b529-4dec-992f-471b3f563d5f<-15ac14bf-0cad-4421-bcbf-9dc549621410#0:OK-t4. Peer's state: 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E:t4, leader=null, voted=93f5d682-b529-4dec-992f-471b3f563d5f, raftlog=15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:44,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:44,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:44,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:44,384 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:44,524 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:44,820 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:45,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:45,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:45,301 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:45,885 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:45,912 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:45,913 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: close
2021-09-27 13:02:45,919 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: shutdown
2021-09-27 13:02:45,920 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:45,920 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-LeaderStateImpl
2021-09-27 13:02:45,920 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:45,922 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:45,923 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-F1992E32146C: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10
2021-09-27 13:02:45,925 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-F1992E32146C: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10 took: 2 ms
2021-09-27 13:02:45,925 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:45,925 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:45,928 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C: closes. applyIndex: 10
2021-09-27 13:02:45,929 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:45,929 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->fe82f976-ce9d-4273-bb83-e88fe3fe4f5a-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->fe82f976-ce9d-4273-bb83-e88fe3fe4f5a-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:45,930 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: Completed APPEND_ENTRIES, lastRequest: 98d2ff82-3114-448d-a853-4e0e8b3d27f9->fe82f976-ce9d-4273-bb83-e88fe3fe4f5a#209-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:02:45,930 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->fe82f976-ce9d-4273-bb83-e88fe3fe4f5a-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:45,930 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:02:45,932 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C-SegmentedRaftLogWorker close()
2021-09-27 13:02:45,932 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: shutdown
2021-09-27 13:02:45,932 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-90845C64705F,id=98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:45,933 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-LeaderStateImpl
2021-09-27 13:02:45,933 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:45,933 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:45,933 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-90845C64705F: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f/sm/snapshot.1_0
2021-09-27 13:02:45,934 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->623c436b-d721-44ab-8ceb-7a2aa2028f82-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->623c436b-d721-44ab-8ceb-7a2aa2028f82-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-27 13:02:45,935 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-90845C64705F: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-0/data/ratis/0296a415-dc89-41a9-bc56-90845c64705f/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:45,935 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: Completed APPEND_ENTRIES, lastRequest: 98d2ff82-3114-448d-a853-4e0e8b3d27f9->623c436b-d721-44ab-8ceb-7a2aa2028f82#209-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-27 13:02:45,935 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:45,935 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:45,936 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F: closes. applyIndex: 0
2021-09-27 13:02:45,936 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->623c436b-d721-44ab-8ceb-7a2aa2028f82-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-27 13:02:45,936 [98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:45,936 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-F1992E32146C->623c436b-d721-44ab-8ceb-7a2aa2028f82: nextIndex: updateUnconditionally 11 -> 10
2021-09-27 13:02:45,938 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9@group-90845C64705F-SegmentedRaftLogWorker close()
2021-09-27 13:02:45,938 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown server with port 40689 now
2021-09-27 13:02:45,946 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 98d2ff82-3114-448d-a853-4e0e8b3d27f9: shutdown server with port 40689 successfully
2021-09-27 13:02:45,946 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@1afc641e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-98d2ff82-3114-448d-a853-4e0e8b3d27f9: Stopped
2021-09-27 13:02:45,961 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:46,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:46,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:46,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:46,325 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:46,532 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:47,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:47,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:47,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:47,385 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:47,825 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:48,029 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:48,251 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:7688813961ns, electionTimeout:5091ms
2021-09-27 13:02:48,251 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:48,251 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-27 13:02:48,251 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:48,251 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39
2021-09-27 13:02:48,253 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: change Leader from 519ef5ef-9d20-4644-bfcf-82e4cbdfde08 to null at term 1 for ELECTION
2021-09-27 13:02:48,257 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39 ELECTION round 0: submit vote requests at term 2 for 0: [fd95f95c-8aff-4525-8224-f6a714ea83f7|rpc:10.1.0.51:35779|dataStream:|priority:0, 519ef5ef-9d20-4644-bfcf-82e4cbdfde08|rpc:10.1.0.51:34909|dataStream:|priority:1, f7d91da2-1753-44ec-94ba-8dbd50c250be|rpc:10.1.0.51:40421|dataStream:|priority:0], old=null
2021-09-27 13:02:48,270 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39 ELECTION round 0: result REJECTED
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39
2021-09-27 13:02:48,274 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: start fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:48,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:48,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:48,302 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:48,659 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-09-27 13:02:48,664 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: close
2021-09-27 13:02:48,676 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: shutdown
2021-09-27 13:02:48,676 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-32BA557238E2,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:48,676 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState
2021-09-27 13:02:48,676 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:48,676 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:48,677 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-32BA557238E2: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0
2021-09-27 13:02:48,678 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-32BA557238E2: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/c8a396f4-6e44-4b18-98e3-32ba557238e2/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:48,678 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:48,678 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:48,679 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2: closes. applyIndex: 0
2021-09-27 13:02:48,679 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:48,681 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-32BA557238E2-SegmentedRaftLogWorker close()
2021-09-27 13:02:48,683 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: shutdown
2021-09-27 13:02:48,683 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-967D52F9FE74,id=fd95f95c-8aff-4525-8224-f6a714ea83f7
2021-09-27 13:02:48,683 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-LeaderStateImpl
2021-09-27 13:02:48,684 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:48,684 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:48,685 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-967D52F9FE74: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74/sm/snapshot.1_0
2021-09-27 13:02:48,686 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-967D52F9FE74: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-25ee2234-43f9-444b-adf9-2fd239a9416c/datanode-2/data/ratis/f90dbd21-4426-4e0b-9545-967d52f9fe74/sm/snapshot.1_0 took: 1 ms
2021-09-27 13:02:48,686 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:48,686 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:48,687 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74: closes. applyIndex: 0
2021-09-27 13:02:48,687 [fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:48,688 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fd95f95c-8aff-4525-8224-f6a714ea83f7@group-967D52F9FE74-SegmentedRaftLogWorker close()
2021-09-27 13:02:48,690 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown server with port 35779 now
2021-09-27 13:02:48,722 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - fd95f95c-8aff-4525-8224-f6a714ea83f7: shutdown server with port 35779 successfully
2021-09-27 13:02:48,723 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@5f4fa422] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-fd95f95c-8aff-4525-8224-f6a714ea83f7: Stopped
2021-09-27 13:02:48,761 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-09-27 13:02:48,886 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:48,976 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:48,985 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@30d7b9d8{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:48,985 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@57f61587{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:48,985 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:48,986 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@e43ac97{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:48,986 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@a9cd0d5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:49,000 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:49,004 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:49,009 [Time-limited test] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-09-27 13:02:49,024 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-27 13:02:49,024 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-09-27 13:02:49,030 [Time-limited test] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-27 13:02:49,030 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-27 13:02:49,159 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5004563101ns, electionTimeout:5002ms
2021-09-27 13:02:49,159 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:49,160 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2021-09-27 13:02:49,160 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:49,160 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40
2021-09-27 13:02:49,172 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40 ELECTION round 0: submit vote requests at term 5 for -1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:49,217 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: receive requestVote(ELECTION, 159e7922-fc40-4889-8d03-297f78dafa91, group-D504F7A57A3E, 5, (t:0, i:0))
2021-09-27 13:02:49,217 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 159e7922-fc40-4889-8d03-297f78dafa91: our priority 0 <= candidate's priority 1
2021-09-27 13:02:49,217 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:49,217 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 93f5d682-b529-4dec-992f-471b3f563d5f: shutdown 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:49,217 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 93f5d682-b529-4dec-992f-471b3f563d5f: start 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:49,217 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:49,225 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: receive requestVote(ELECTION, 159e7922-fc40-4889-8d03-297f78dafa91, group-D504F7A57A3E, 5, (t:0, i:0))
2021-09-27 13:02:49,225 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FOLLOWER: accept ELECTION from 159e7922-fc40-4889-8d03-297f78dafa91: our priority 0 <= candidate's priority 1
2021-09-27 13:02:49,225 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E replies to ELECTION vote request: 159e7922-fc40-4889-8d03-297f78dafa91<-93f5d682-b529-4dec-992f-471b3f563d5f#0:OK-t5. Peer's state: 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E:t5, leader=null, voted=159e7922-fc40-4889-8d03-297f78dafa91, raftlog=93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:49,226 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:49,226 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: shutdown 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:49,226 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 15ac14bf-0cad-4421-bcbf-9dc549621410: start 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState
2021-09-27 13:02:49,226 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 159e7922-fc40-4889-8d03-297f78dafa91<-93f5d682-b529-4dec-992f-471b3f563d5f#0:OK-t5
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40 ELECTION round 0: result PASSED
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 159e7922-fc40-4889-8d03-297f78dafa91: shutdown 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-D504F7A57A3E with new leaderId: 159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: change Leader from null to 159e7922-fc40-4889-8d03-297f78dafa91 at term 5 for becomeLeader, leader elected after 25426ms
2021-09-27 13:02:49,232 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:49,233 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:49,233 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:49,233 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:49,233 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:49,233 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:49,234 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E replies to ELECTION vote request: 159e7922-fc40-4889-8d03-297f78dafa91<-15ac14bf-0cad-4421-bcbf-9dc549621410#0:OK-t5. Peer's state: 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E:t5, leader=null, voted=159e7922-fc40-4889-8d03-297f78dafa91, raftlog=15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|priority:0], old=null
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:49,234 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:49,239 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:49,240 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 2167ebed-7ddb-4ae8-8da7-d504f7a57a3e, Nodes: 15ac14bf-0cad-4421-bcbf-9dc549621410{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=38239, RATIS=38513, RATIS_ADMIN=38513, RATIS_SERVER=38513, STANDALONE=44505], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}93f5d682-b529-4dec-992f-471b3f563d5f{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=37159, RATIS=43201, RATIS_ADMIN=43201, RATIS_SERVER=43201, STANDALONE=45975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}159e7922-fc40-4889-8d03-297f78dafa91{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=33397, RATIS=45769, RATIS_ADMIN=45769, RATIS_SERVER=45769, STANDALONE=41729], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:159e7922-fc40-4889-8d03-297f78dafa91, CreationTimestamp2021-09-27T13:02:21.165Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:02:49,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:02:49,264 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:02:49,265 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:49,265 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:02:49,265 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:02:49,265 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:49,265 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:49,266 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 159e7922-fc40-4889-8d03-297f78dafa91: start 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderStateImpl
2021-09-27 13:02:49,266 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:49,269 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-1/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/current/log_inprogress_0
2021-09-27 13:02:49,278 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-D504F7A57A3E with new leaderId: 159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:49,278 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: change Leader from null to 159e7922-fc40-4889-8d03-297f78dafa91 at term 5 for appendEntries, leader elected after 25610ms
2021-09-27 13:02:49,285 [grpc-default-executor-5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-D504F7A57A3E with new leaderId: 159e7922-fc40-4889-8d03-297f78dafa91
2021-09-27 13:02:49,285 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: change Leader from null to 159e7922-fc40-4889-8d03-297f78dafa91 at term 5 for appendEntries, leader elected after 25548ms
2021-09-27 13:02:49,337 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:49,337 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:02:49,337 [Listener at 127.0.0.1/37211] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:49,338 [Listener at 127.0.0.1/37211] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:49,340 [Listener at 127.0.0.1/37211] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-27 13:02:49,340 [Listener at 127.0.0.1/37211] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-27 13:02:49,341 [Listener at 127.0.0.1/37211] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:49,341 [Listener at 127.0.0.1/37211] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:49,355 [159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 159e7922-fc40-4889-8d03-297f78dafa91@group-D504F7A57A3E: set configuration 0: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:49,356 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E: set configuration 0: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:49,356 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:49,357 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E: set configuration 0: [159e7922-fc40-4889-8d03-297f78dafa91|rpc:10.1.0.51:45769|dataStream:|priority:1, 15ac14bf-0cad-4421-bcbf-9dc549621410|rpc:10.1.0.51:38513|dataStream:|priority:0, 93f5d682-b529-4dec-992f-471b3f563d5f|rpc:10.1.0.51:43201|dataStream:|priority:0], old=null
2021-09-27 13:02:49,357 [grpc-default-executor-5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:49,358 [15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 15ac14bf-0cad-4421-bcbf-9dc549621410@group-D504F7A57A3E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-0/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/current/log_inprogress_0
2021-09-27 13:02:49,361 [93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 93f5d682-b529-4dec-992f-471b3f563d5f@group-D504F7A57A3E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4a2b3efa-bcb6-43fe-aee7-9d49212c5c24/datanode-2/data/ratis/2167ebed-7ddb-4ae8-8da7-d504f7a57a3e/current/log_inprogress_0
2021-09-27 13:02:49,359 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:49,443 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:49,595 [Listener at 127.0.0.1/37211] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 253 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:49,596 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(553)) - DataNode Restarts Failed!
2021-09-27 13:02:49,596 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-09-27 13:02:49,598 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:49,599 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:49,600 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:49,601 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-09-27 13:02:49,609 [Listener at 127.0.0.1/37211] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:49,610 [Listener at 127.0.0.1/37211] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:49,610 [Listener at 127.0.0.1/37211] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:49,622 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:49,623 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:49,623 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=7819133e-45c2-47e0-8046-f1992e32146c which uses HEALTHY READONLY datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:49,623 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c close command to datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:49,623 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c close command to datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:49,623 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7819133e-45c2-47e0-8046-f1992e32146c close command to datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:49,640 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 7819133e-45c2-47e0-8046-f1992e32146c, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.736Z[Etc/UTC]] removed.
2021-09-27 13:02:49,641 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:49,641 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=37600848-c086-45b5-afc9-4d84636e088b since it stays at CLOSED stage.
2021-09-27 13:02:49,641 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=0296a415-dc89-41a9-bc56-90845c64705f which uses HEALTHY READONLY datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-09-27 13:02:49,641 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=37600848-c086-45b5-afc9-4d84636e088b close command to datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:49,641 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=0296a415-dc89-41a9-bc56-90845c64705f close command to datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:02:49,642 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 37600848-c086-45b5-afc9-4d84636e088b, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:623c436b-d721-44ab-8ceb-7a2aa2028f82, CreationTimestamp2021-09-27T13:02:07.735Z[Etc/UTC]] removed.
2021-09-27 13:02:49,642 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=f6308dcc-4240-42b1-a801-94537de5118c since it stays at CLOSED stage.
2021-09-27 13:02:49,642 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=f6308dcc-4240-42b1-a801-94537de5118c close command to datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:49,642 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 0296a415-dc89-41a9-bc56-90845c64705f, Nodes: 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:98d2ff82-3114-448d-a853-4e0e8b3d27f9, CreationTimestamp2021-09-27T13:02:07.258Z[Etc/UTC]] removed.
2021-09-27 13:02:49,642 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:removePipeline(211)) - Pipeline Pipeline[ Id: f6308dcc-4240-42b1-a801-94537de5118c, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, CreationTimestamp2021-09-27T13:02:07.507Z[Etc/UTC]] removed.
2021-09-27 13:02:49,642 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=0296a415-dc89-41a9-bc56-90845c64705f since it stays at CLOSED stage.
2021-09-27 13:02:49,643 [RatisPipelineUtilsThread - 0] ERROR pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:createPipelines(231)) - Error while scrubbing pipelines.
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=0296a415-dc89-41a9-bc56-90845c64705f not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:251)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerV2Impl.getContainers(PipelineStateManagerV2Impl.java:184)
	at sun.reflect.GeneratedMethodAccessor93.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getContainers(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:321)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.scrubPipeline(PipelineManagerImpl.java:385)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreatorV2.createPipelines(BackgroundPipelineCreatorV2.java:229)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreatorV2.run(BackgroundPipelineCreatorV2.java:176)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:49,643 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:49,644 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-09-27 13:02:49,646 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-09-27 13:02:49,925 [Listener at 127.0.0.1/37211] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-27 13:02:49,930 [IPC Server handler 2 on default port 44273] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:49,944 [Listener at 127.0.0.1/37211] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-27 13:02:49,945 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=7819133e-45c2-47e0-8046-f1992e32146c is not found
2021-09-27 13:02:49,945 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=f6308dcc-4240-42b1-a801-94537de5118c is not found
2021-09-27 13:02:49,961 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:49,962 [Listener at 127.0.0.1/37211] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:49,962 [Listener at 127.0.0.1/37211] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-27 13:02:49,965 [Listener at 127.0.0.1/37211] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-27 13:02:49,965 [Listener at 127.0.0.1/37211] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-27 13:02:49,965 [Listener at 127.0.0.1/37211] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-27 13:02:49,973 [Listener at 127.0.0.1/37211] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-27 13:02:49,975 [Listener at 127.0.0.1/37211] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:49,975 [Listener at 127.0.0.1/37211] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-27 13:02:49,976 [Listener at 127.0.0.1/37211] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-27 13:02:49,976 [Listener at 127.0.0.1/37211] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-27 13:02:49,976 [Listener at 127.0.0.1/37211] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-27 13:02:49,976 [IPC Server handler 5 on default port 44273] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:49,986 [Listener at 127.0.0.1/37211] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-27 13:02:49,986 [Listener at 127.0.0.1/37211] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-27 13:02:49,986 [Listener at 127.0.0.1/37211] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-27 13:02:49,987 [Listener at 127.0.0.1/37211] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-27 13:02:49,987 [Listener at 127.0.0.1/37211] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-09-27 13:02:49,997 [Listener at 127.0.0.1/37211] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-09-27 13:02:49,998 [Listener at 127.0.0.1/37211] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-09-27 13:02:50,013 [Listener at 127.0.0.1/37211] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:50,015 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 9 milliseconds for processing 0 containers.
2021-09-27 13:02:50,015 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:50,016 [Listener at 0.0.0.0/35591] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:50,017 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:50,018 [Listener at 0.0.0.0/45765] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:50,018 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:50,053 [Listener at 0.0.0.0/44183] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-27 13:02:50,070 [Listener at 0.0.0.0/44183] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-27 13:02:50,070 [Listener at 0.0.0.0/44183] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:50,070 [Listener at 0.0.0.0/44183] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-09-27 13:02:50,070 [Listener at 0.0.0.0/44183] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:50,071 [Listener at 0.0.0.0/44183] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:50,071 [Listener at 0.0.0.0/44183] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:50,071 [Listener at 0.0.0.0/44183] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44183
2021-09-27 13:02:50,071 [Listener at 0.0.0.0/44183] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-09-27 13:02:50,196 [Listener at 0.0.0.0/44183] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:44183
2021-09-27 13:02:50,205 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:50,205 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:50,230 [Listener at 0.0.0.0/44183] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:45765
2021-09-27 13:02:50,231 [Listener at 0.0.0.0/44183] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:45765
2021-09-27 13:02:50,231 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:50,231 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:50,324 [Listener at 0.0.0.0/44183] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:35591
2021-09-27 13:02:50,324 [Listener at 0.0.0.0/44183] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:35591
2021-09-27 13:02:50,325 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:50,325 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:50,338 [Listener at 0.0.0.0/44183] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-27 13:02:50,338 [Listener at 0.0.0.0/44183] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:50,340 [Listener at 0.0.0.0/44183] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:50,352 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@53df2381] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:50,355 [Listener at 0.0.0.0/44183] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:50,357 [Listener at 0.0.0.0/44183] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:50,357 [Listener at 0.0.0.0/44183] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-27 13:02:50,357 [Listener at 0.0.0.0/44183] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:50,358 [Listener at 0.0.0.0/44183] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:50,358 [Listener at 0.0.0.0/44183] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39921
2021-09-27 13:02:50,358 [Listener at 0.0.0.0/44183] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:50,411 [Listener at 0.0.0.0/44183] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:50,411 [Listener at 0.0.0.0/44183] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:50,411 [Listener at 0.0.0.0/44183] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:50,432 [IPC Server handler 18 on default port 44273] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:50,440 [Listener at 0.0.0.0/44183] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@31332dc8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:50,441 [Listener at 0.0.0.0/44183] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@b8192bf{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:50,444 [Listener at 0.0.0.0/44183] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5928f47b{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:50,449 [Listener at 0.0.0.0/44183] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5744fea0{HTTP/1.1, (http/1.1)}{0.0.0.0:39921}
2021-09-27 13:02:50,450 [Listener at 0.0.0.0/44183] INFO  server.Server (Server.java:doStart(415)) - Started @82889ms
2021-09-27 13:02:50,450 [Listener at 0.0.0.0/44183] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:50,452 [Listener at 0.0.0.0/44183] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:39921
2021-09-27 13:02:50,452 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:50,457 [Listener at 0.0.0.0/44183] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-09-27 13:02:50,457 [Listener at 0.0.0.0/44183] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-09-27 13:02:50,457 [Listener at 0.0.0.0/44183] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-09-27 13:02:50,457 [Listener at 0.0.0.0/44183] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-09-27 13:02:50,464 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:50,466 [Listener at 0.0.0.0/44183] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-27 13:02:50,476 [IPC Server handler 15 on default port 44273] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:50,477 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=37600848-c086-45b5-afc9-4d84636e088b is not found
2021-09-27 13:02:50,477 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=7819133e-45c2-47e0-8046-f1992e32146c is not found
2021-09-27 13:02:50,492 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: remove  FOLLOWER 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C:t1, leader=98d2ff82-3114-448d-a853-4e0e8b3d27f9, voted=98d2ff82-3114-448d-a853-4e0e8b3d27f9, raftlog=623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:50,492 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: shutdown
2021-09-27 13:02:50,492 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:50,493 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState
2021-09-27 13:02:50,493 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:50,493 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:50,495 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-F1992E32146C: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10
2021-09-27 13:02:50,497 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-F1992E32146C: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10 took: 3 ms
2021-09-27 13:02:50,498 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:50,498 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:50,500 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: closes. applyIndex: 10
2021-09-27 13:02:50,500 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:50,517 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C-SegmentedRaftLogWorker close()
2021-09-27 13:02:50,518 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-F1992E32146C: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:50,518 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=7819133e-45c2-47e0-8046-f1992e32146c command on datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82.
2021-09-27 13:02:50,518 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: remove    LEADER 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B:t1, leader=623c436b-d721-44ab-8ceb-7a2aa2028f82, voted=623c436b-d721-44ab-8ceb-7a2aa2028f82, raftlog=623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:50,518 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: shutdown
2021-09-27 13:02:50,518 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D84636E088B,id=623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:50,519 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-LeaderStateImpl
2021-09-27 13:02:50,519 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:50,519 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:50,520 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D84636E088B: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b/sm/snapshot.1_0
2021-09-27 13:02:50,521 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D84636E088B: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b/sm/snapshot.1_0 took: 2 ms
2021-09-27 13:02:50,522 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:50,522 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:50,523 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: closes. applyIndex: 0
2021-09-27 13:02:50,523 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:50,536 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B-SegmentedRaftLogWorker close()
2021-09-27 13:02:50,537 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4D84636E088B: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/37600848-c086-45b5-afc9-4d84636e088b
2021-09-27 13:02:50,537 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=37600848-c086-45b5-afc9-4d84636e088b command on datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82.
2021-09-27 13:02:50,537 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:50,537 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:02:50,537 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:50,538 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:02:50,560 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:02:50,561 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data-0/containers/hdds/123b3c50-4b12-4415-a133-095bed6ec734 -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:02:50,562 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:50,627 [Listener at 0.0.0.0/44183] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 160 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-27 13:02:50,628 [Listener at 0.0.0.0/44183] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-27 13:02:50,628 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:50,651 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-27 13:02:50,652 [Listener at 0.0.0.0/44183] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:50,652 [Listener at 0.0.0.0/44183] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-27 13:02:50,929 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: remove  FOLLOWER fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C:t1, leader=98d2ff82-3114-448d-a853-4e0e8b3d27f9, voted=98d2ff82-3114-448d-a853-4e0e8b3d27f9, raftlog=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLog:OPENED:c10,f10,i10, conf=0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:0, 98d2ff82-3114-448d-a853-4e0e8b3d27f9|rpc:10.1.0.51:40689|dataStream:|priority:1, 623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:0], old=null RUNNING
2021-09-27 13:02:50,929 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: shutdown
2021-09-27 13:02:50,930 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F1992E32146C,id=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:50,930 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState
2021-09-27 13:02:50,930 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater: set stopIndex = 10
2021-09-27 13:02:50,930 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:02:50,930 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-F1992E32146C: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10
2021-09-27 13:02:50,932 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-F1992E32146C: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c/sm/snapshot.1_10 took: 1 ms
2021-09-27 13:02:50,932 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater: Took a snapshot at index 10
2021-09-27 13:02:50,932 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-27 13:02:50,933 [IPC Server handler 2 on default port 44273] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-09-27 13:02:50,934 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: closes. applyIndex: 10
2021-09-27 13:02:50,934 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:50,948 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C-SegmentedRaftLogWorker close()
2021-09-27 13:02:50,948 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-F1992E32146C: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/7819133e-45c2-47e0-8046-f1992e32146c
2021-09-27 13:02:50,949 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=7819133e-45c2-47e0-8046-f1992e32146c command on datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a.
2021-09-27 13:02:50,949 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: remove    LEADER fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C:t1, leader=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, voted=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, raftlog=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:1], old=null RUNNING
2021-09-27 13:02:50,949 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: shutdown
2021-09-27 13:02:50,949 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-94537DE5118C,id=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:50,949 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-LeaderStateImpl
2021-09-27 13:02:50,949 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-PendingRequests: sendNotLeaderResponses
2021-09-27 13:02:50,949 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater: set stopIndex = 0
2021-09-27 13:02:50,950 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-94537DE5118C: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c/sm/snapshot.1_0
2021-09-27 13:02:50,964 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-94537DE5118C: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c/sm/snapshot.1_0 took: 14 ms
2021-09-27 13:02:50,964 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater: Took a snapshot at index 0
2021-09-27 13:02:50,964 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-27 13:02:50,965 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: closes. applyIndex: 0
2021-09-27 13:02:50,965 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-27 13:02:50,967 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C-SegmentedRaftLogWorker close()
2021-09-27 13:02:50,968 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(377)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-94537DE5118C: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/f6308dcc-4240-42b1-a801-94537de5118c
2021-09-27 13:02:50,968 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=f6308dcc-4240-42b1-a801-94537de5118c command on datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a.
2021-09-27 13:02:50,968 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:50,968 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-09-27 13:02:50,968 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-09-27 13:02:50,968 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-09-27 13:02:51,005 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-09-27 13:02:51,005 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data-0/containers/hdds/123b3c50-4b12-4415-a133-095bed6ec734 -> 33c750ff-d16e-4f26-876b-adbbea1504fe as part of SCM HA finalization for datanode.
2021-09-27 13:02:51,006 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-09-27 13:02:51,006 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:51,043 [Listener at 0.0.0.0/44183] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-27 13:02:51,052 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:51,060 [Listener at 0.0.0.0/44183] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-27 13:02:51,060 [Listener at 0.0.0.0/44183] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:51,060 [Listener at 0.0.0.0/44183] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:51,060 [Listener at 0.0.0.0/44183] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-27 13:02:51,061 [Listener at 0.0.0.0/44183] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:33431
2021-09-27 13:02:51,062 [Listener at 0.0.0.0/44183] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-27 13:02:51,069 [Listener at 0.0.0.0/44183] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33431 (custom)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33431 (custom)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33431 (custom)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-27 13:02:51,070 [Listener at 0.0.0.0/44183] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-27 13:02:51,072 [Listener at 0.0.0.0/44183] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:51,072 [Listener at 0.0.0.0/44183] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:51,072 [Listener at 0.0.0.0/44183] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:51,072 [Listener at 0.0.0.0/44183] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis] (custom)
2021-09-27 13:02:51,084 [Listener at 0.0.0.0/44183] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:33431|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@58fc714d[Not completed]
2021-09-27 13:02:51,084 [Listener at 0.0.0.0/44183] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 33431
2021-09-27 13:02:51,085 [Listener at 0.0.0.0/44183] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-27 13:02:51,085 [pool-560-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:33431|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-27 13:02:51,093 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:51,123 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:33431|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis] (custom)
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:51,124 [pool-560-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-09-27 13:02:51,130 [pool-560-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:51,134 [pool-560-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-09-27 13:02:51,135 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-09-27 13:02:51,135 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:51,135 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:51,135 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:51,135 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:51,136 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:51,137 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-27 13:02:51,137 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-27 13:02:51,137 [pool-560-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:51,137 [pool-560-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:51,143 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:51,143 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-09-27 13:02:51,144 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-27 13:02:51,144 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-27 13:02:51,144 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-09-27 13:02:51,144 [pool-560-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:51,183 [Listener at 127.0.0.1/33093] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-27 13:02:51,184 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:33093
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer om1 at port 33431
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:33431|priority:0], old=null
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:51,242 [Listener at 127.0.0.1/33093] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:312)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:303)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:518)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1290)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:51,243 [Listener at 127.0.0.1/33093] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-09-27 13:02:51,243 [Listener at 127.0.0.1/33093] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-09-27 13:02:51,245 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 33431
2021-09-27 13:02:51,246 [Listener at 127.0.0.1/33093] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-27 13:02:51,246 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@123763ef] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-09-27 13:02:51,285 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-09-27 13:02:51,285 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:51,286 [Listener at 127.0.0.1/33093] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:51,302 [Listener at 127.0.0.1/33093] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:51,304 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:51,304 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-27 13:02:51,305 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:51,305 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:51,305 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35529
2021-09-27 13:02:51,305 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:51,336 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:51,337 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:51,337 [Listener at 127.0.0.1/33093] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:51,338 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@72fd98ff{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:51,338 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@36b7fd52{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-27 13:02:51,341 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7cfe6e65{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-27 13:02:51,352 [Listener at 127.0.0.1/33093] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@51076e8f{HTTP/1.1, (http/1.1)}{0.0.0.0:35529}
2021-09-27 13:02:51,352 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(415)) - Started @83791ms
2021-09-27 13:02:51,352 [Listener at 127.0.0.1/33093] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:51,355 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:35529
2021-09-27 13:02:51,363 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-27 13:02:51,363 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-27 13:02:51,390 [Listener at 127.0.0.1/33093] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-27 13:02:51,419 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2d826eb4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:51,434 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:51,434 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:51,434 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:51,474 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:02:51,474 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:51,475 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-09-27 13:02:51,475 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:51,479 [Listener at 127.0.0.1/33093] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:51,480 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=eed79ae2-6b07-4069-8511-683f2fad251d to datanode:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:51,481 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: eed79ae2-6b07-4069-8511-683f2fad251d, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:51.480Z[Etc/UTC]].
2021-09-27 13:02:51,481 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:02:51,481 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=aed74e0a-7c51-4954-84f7-4158fbb7e14e to datanode:623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:51,481 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: aed74e0a-7c51-4954-84f7-4158fbb7e14e, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:51.481Z[Etc/UTC]].
2021-09-27 13:02:51,482 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:02:51,536 [Listener at 127.0.0.1/33093] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:51,685 [Listener at 127.0.0.1/33093] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 148 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:51,690 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:51,691 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:51,691 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:51,691 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:51,694 [Listener at 127.0.0.1/33093] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:51,695 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:51,695 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data-0/containers/hdds
2021-09-27 13:02:51,731 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data-0/containers/hdds
2021-09-27 13:02:51,770 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(515)) - Ozone container server stopped.
2021-09-27 13:02:51,816 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis to VolumeSet
2021-09-27 13:02:51,821 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis
2021-09-27 13:02:51,824 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis
2021-09-27 13:02:51,828 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@7c07e2aa{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:51,829 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1427d443{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-27 13:02:51,829 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:51,829 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@20ac3ac2{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-09-27 13:02:51,829 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1ef8247b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-27 13:02:51,831 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-27 13:02:51,833 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35979
2021-09-27 13:02:51,853 [IPC Server listener on 35979] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 35979
2021-09-27 13:02:51,884 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:51,897 [Thread-1469] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data-0/containers/hdds
2021-09-27 13:02:51,897 [Listener at 127.0.0.1/33093] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:51,899 [Listener at 127.0.0.1/33093] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:51,900 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:51,901 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:51,902 [Listener at 127.0.0.1/33093] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:51,902 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:51,902 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:51,902 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis] (custom)
2021-09-27 13:02:51,929 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:51,929 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:51,930 [Listener at 127.0.0.1/33093] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:51,940 [Listener at 127.0.0.1/33093] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:51,942 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:51,943 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:51,943 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:51,943 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:51,943 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45417
2021-09-27 13:02:51,943 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:51,977 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:52,040 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:52,040 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:52,040 [Listener at 127.0.0.1/33093] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-27 13:02:52,043 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@602b4d63{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:52,044 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@65b3453c{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:52,133 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@453625a3{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-45417-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-755704357104855188/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:52,156 [Listener at 127.0.0.1/33093] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@434c0e0e{HTTP/1.1, (http/1.1)}{0.0.0.0:45417}
2021-09-27 13:02:52,156 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(415)) - Started @84596ms
2021-09-27 13:02:52,156 [Listener at 127.0.0.1/33093] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:52,157 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:45417
2021-09-27 13:02:52,164 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:52,164 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:52,164 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-09-27 13:02:52,172 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:52,229 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:52,229 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:52,232 [Listener at 127.0.0.1/33093] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:52,260 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@f2e141a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:52,270 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/meta/datanode.id
2021-09-27 13:02:52,323 [Listener at 127.0.0.1/33093] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:52,352 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-27 13:02:52,352 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-27 13:02:52,353 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-27 13:02:52,355 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40379
2021-09-27 13:02:52,356 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1113523730ns, electionTimeout:1112ms
2021-09-27 13:02:52,356 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-09-27 13:02:52,356 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:52,356 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:52,356 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection41
2021-09-27 13:02:52,381 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:52,382 [IPC Server listener on 40379] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 40379
2021-09-27 13:02:52,381 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-27 13:02:52,382 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-27 13:02:52,387 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42769
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection41 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:33431|priority:0], old=null
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection41 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection41
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1265ms
2021-09-27 13:02:52,400 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:52,403 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-27 13:02:52,403 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-27 13:02:52,404 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-27 13:02:52,404 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:52,404 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:52,405 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-09-27 13:02:52,405 [om1@group-C5BA1605619E-LeaderElection41] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:52,410 [IPC Server listener on 42769] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 42769
2021-09-27 13:02:52,429 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:33431|admin:|client:|dataStream:|priority:0], old=null
2021-09-27 13:02:52,429 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-27 13:02:52,431 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-09-27 13:02:52,431 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: addNew group-683F2FAD251D:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1] returns group-683F2FAD251D:java.util.concurrent.CompletableFuture@7f139034[Not completed]
2021-09-27 13:02:52,446 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-27 13:02:52,449 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-09-27 13:02:52,453 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4bfd12d0{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-27 13:02:52,454 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@c348d20{HTTP/1.1, (http/1.1)}{0.0.0.0:46817}
2021-09-27 13:02:52,454 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-27 13:02:52,454 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3e16cccc{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-27 13:02:52,454 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@73d945{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-27 13:02:52,455 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-27 13:02:52,455 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:52,455 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: new RaftServerImpl for group-683F2FAD251D:[fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:52,464 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:33431"
]
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:52,464 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: ConfigurationManager, init=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis] (custom)
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:52,465 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/eed79ae2-6b07-4069-8511-683f2fad251d does not exist. Creating ...
2021-09-27 13:02:52,466 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-27 13:02:52,468 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/eed79ae2-6b07-4069-8511-683f2fad251d/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:52,471 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-27 13:02:52,471 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-27 13:02:52,472 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-27 13:02:52,473 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-09-27 13:02:52,474 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/eed79ae2-6b07-4069-8511-683f2fad251d has been successfully formatted.
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-683F2FAD251D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:52,478 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/eed79ae2-6b07-4069-8511-683f2fad251d
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:52,479 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:52,480 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:52,480 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:52,480 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:52,480 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:52,480 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:52,481 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:52,482 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:52,482 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:52,482 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:52,483 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: eed79ae2-6b07-4069-8511-683f2fad251d, Nodes: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fe82f976-ce9d-4273-bb83-e88fe3fe4f5a, CreationTimestamp2021-09-27T13:02:51.480Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:52,500 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:52,502 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: start as a follower, conf=-1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null
2021-09-27 13:02:52,502 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:52,502 [pool-302-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState
2021-09-27 13:02:52,517 [pool-302-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-683F2FAD251D,id=fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:52,524 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-09-27 13:02:52,524 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=eed79ae2-6b07-4069-8511-683f2fad251d
2021-09-27 13:02:52,524 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=eed79ae2-6b07-4069-8511-683f2fad251d.
2021-09-27 13:02:52,553 [Listener at 127.0.0.1/33093] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 225 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:52,554 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:52,554 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:52,557 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:52,557 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:52,562 [Listener at 127.0.0.1/33093] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:52,563 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:52,580 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data-0/containers/hdds
2021-09-27 13:02:52,596 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data-0/containers/hdds
2021-09-27 13:02:52,645 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis to VolumeSet
2021-09-27 13:02:52,645 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis
2021-09-27 13:02:52,646 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis
2021-09-27 13:02:52,784 [Thread-1486] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data-0/containers/hdds
2021-09-27 13:02:52,785 [Listener at 127.0.0.1/33093] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:52,790 [Listener at 127.0.0.1/33093] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:52,790 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:52,790 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:52,791 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:52,792 [Listener at 127.0.0.1/33093] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:52,793 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:52,793 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:52,793 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis] (custom)
2021-09-27 13:02:52,816 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:52,816 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:52,817 [Listener at 127.0.0.1/33093] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:52,832 [Listener at 127.0.0.1/33093] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:52,833 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:52,836 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:52,836 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:52,836 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:52,836 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 34723
2021-09-27 13:02:52,836 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:52,883 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:52,883 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:52,883 [Listener at 127.0.0.1/33093] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:52,884 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@d8e8ab8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:52,885 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@20ae1da9{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:52,978 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6ef5e83e{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-34723-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5959680688217606333/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:52,983 [Listener at 127.0.0.1/33093] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@71303fae{HTTP/1.1, (http/1.1)}{0.0.0.0:34723}
2021-09-27 13:02:52,983 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(415)) - Started @85423ms
2021-09-27 13:02:52,983 [Listener at 127.0.0.1/33093] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:start(281)) - HttpServer failed to start.
java.lang.NullPointerException: config
	at org.apache.hadoop.thirdparty.com.google.common.base.Preconditions.checkNotNull(Preconditions.java:899)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.registerSink(MetricsSystemImpl.java:298)
	at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.register(MetricsSystemImpl.java:277)
	at org.apache.hadoop.hdds.server.http.BaseHttpServer.start(BaseHttpServer.java:300)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:279)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.lambda$startHddsDatanodes$4(MiniOzoneClusterImpl.java:490)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.startHddsDatanodes(MiniOzoneClusterImpl.java:488)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:613)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:02:52,991 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:52,991 [Listener at 127.0.0.1/33093] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-27 13:02:52,996 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:53,009 [Listener at 127.0.0.1/33093] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-09-27 13:02:53,020 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:53,020 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:53,024 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@31db3fdc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:53,033 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/meta/datanode.id
2021-09-27 13:02:53,033 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-27 13:02:53,033 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-09-27 13:02:53,038 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-27 13:02:53,038 [Listener at 127.0.0.1/33093] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-27 13:02:53,100 [Listener at 127.0.0.1/33093] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net ip:10.1.0.51
2021-09-27 13:02:53,151 [Listener at 127.0.0.1/33093] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-09-27 13:02:53,259 [Listener at 127.0.0.1/33093] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 107 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-27 13:02:53,260 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-09-27 13:02:53,260 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-09-27 13:02:53,260 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-09-27 13:02:53,260 [Listener at 127.0.0.1/33093] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-09-27 13:02:53,262 [Listener at 127.0.0.1/33093] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-09-27 13:02:53,262 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data-0/containers/hdds to VolumeSet
2021-09-27 13:02:53,262 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data-0/containers/hdds
2021-09-27 13:02:53,300 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data-0/containers/hdds
2021-09-27 13:02:53,324 [Listener at 127.0.0.1/33093] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis to VolumeSet
2021-09-27 13:02:53,324 [Listener at 127.0.0.1/33093] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis
2021-09-27 13:02:53,325 [Listener at 127.0.0.1/33093] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis
2021-09-27 13:02:53,416 [Thread-1500] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data-0/containers/hdds
2021-09-27 13:02:53,426 [Listener at 127.0.0.1/33093] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:53,430 [Listener at 127.0.0.1/33093] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-09-27 13:02:53,431 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:02:53,432 [Listener at 127.0.0.1/33093] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-27 13:02:53,432 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:53,432 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:53,432 [Listener at 127.0.0.1/33093] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis] (custom)
2021-09-27 13:02:53,445 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-09-27 13:02:53,445 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-27 13:02:53,456 [Listener at 127.0.0.1/33093] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-27 13:02:53,476 [Listener at 127.0.0.1/33093] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-27 13:02:53,476 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: addNew group-4158FBB7E14E:[623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1] returns group-4158FBB7E14E:java.util.concurrent.CompletableFuture@676b93ce[Not completed]
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: new RaftServerImpl for group-4158FBB7E14E:[623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: ConfigurationManager, init=-1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:53,477 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis] (custom)
2021-09-27 13:02:53,478 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:53,478 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:53,478 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/aed74e0a-7c51-4954-84f7-4158fbb7e14e does not exist. Creating ...
2021-09-27 13:02:53,479 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/aed74e0a-7c51-4954-84f7-4158fbb7e14e/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:53,480 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-27 13:02:53,481 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-09-27 13:02:53,481 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-27 13:02:53,481 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-27 13:02:53,481 [Listener at 127.0.0.1/33093] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42287
2021-09-27 13:02:53,481 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-27 13:02:53,482 [pool-321-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/aed74e0a-7c51-4954-84f7-4158fbb7e14e has been successfully formatted.
2021-09-27 13:02:53,486 [pool-321-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4158FBB7E14E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:53,487 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/aed74e0a-7c51-4954-84f7-4158fbb7e14e
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:53,488 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:53,488 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:53,491 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: aed74e0a-7c51-4954-84f7-4158fbb7e14e, Nodes: 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:623c436b-d721-44ab-8ceb-7a2aa2028f82, CreationTimestamp2021-09-27T13:02:51.481Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:53,498 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:53,499 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:53,500 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:53,509 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: start as a follower, conf=-1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null
2021-09-27 13:02:53,509 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:53,509 [pool-321-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState
2021-09-27 13:02:53,515 [pool-321-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4158FBB7E14E,id=623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:53,521 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=aed74e0a-7c51-4954-84f7-4158fbb7e14e
2021-09-27 13:02:53,521 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=aed74e0a-7c51-4954-84f7-4158fbb7e14e.
2021-09-27 13:02:53,522 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-27 13:02:53,522 [Listener at 127.0.0.1/33093] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-27 13:02:53,524 [Listener at 127.0.0.1/33093] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-27 13:02:53,529 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@42f9442e{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-27 13:02:53,529 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@54c81edb{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-09-27 13:02:53,628 [Listener at 127.0.0.1/33093] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4a96c14a{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42287-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-938416987512342525/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-09-27 13:02:53,638 [Listener at 127.0.0.1/33093] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4542eaf8{HTTP/1.1, (http/1.1)}{0.0.0.0:42287}
2021-09-27 13:02:53,638 [Listener at 127.0.0.1/33093] INFO  server.Server (Server.java:doStart(415)) - Started @86078ms
2021-09-27 13:02:53,639 [Listener at 127.0.0.1/33093] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-27 13:02:53,639 [Listener at 127.0.0.1/33093] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42287
2021-09-27 13:02:53,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:53,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:53,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:53,640 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(456)) - Ozone container server started.
2021-09-27 13:02:53,692 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-09-27 13:02:53,692 [Datanode State Machine Thread - 0] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-09-27 13:02:53,702 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@69df0cdb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-27 13:02:53,723 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/meta/datanode.id
2021-09-27 13:02:54,298 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:54,298 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:54,300 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43579
2021-09-27 13:02:54,301 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis 9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:54,308 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start RPC server
2021-09-27 13:02:54,308 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: GrpcService started, listening on 41627
2021-09-27 13:02:54,309 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 9a5579cf-18c0-43ac-98e8-dad6ac319a54 is started using port 41627 for RATIS
2021-09-27 13:02:54,309 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 9a5579cf-18c0-43ac-98e8-dad6ac319a54 is started using port 41627 for RATIS_ADMIN
2021-09-27 13:02:54,309 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis 9a5579cf-18c0-43ac-98e8-dad6ac319a54 is started using port 41627 for RATIS_SERVER
2021-09-27 13:02:54,320 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 9a5579cf-18c0-43ac-98e8-dad6ac319a54 is started using port 46125
2021-09-27 13:02:54,334 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@41f82fb3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-9a5579cf-18c0-43ac-98e8-dad6ac319a54: Started
2021-09-27 13:02:54,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:54,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:54,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:54,641 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:55,047 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:55,048 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:55,053 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 46213
2021-09-27 13:02:55,057 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:02:55,076 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start RPC server
2021-09-27 13:02:55,081 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: GrpcService started, listening on 35005
2021-09-27 13:02:55,083 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis ac63f0cb-74ef-4892-9850-da260c7d0e8a is started using port 35005 for RATIS
2021-09-27 13:02:55,083 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis ac63f0cb-74ef-4892-9850-da260c7d0e8a is started using port 35005 for RATIS_ADMIN
2021-09-27 13:02:55,083 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis ac63f0cb-74ef-4892-9850-da260c7d0e8a is started using port 35005 for RATIS_SERVER
2021-09-27 13:02:55,088 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc ac63f0cb-74ef-4892-9850-da260c7d0e8a is started using port 46527
2021-09-27 13:02:55,104 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@4e76e5d1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-ac63f0cb-74ef-4892-9850-da260c7d0e8a: Started
2021-09-27 13:02:55,640 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-09-27 13:02:55,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:55,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:55,734 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-09-27 13:02:55,734 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-09-27 13:02:55,736 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41285
2021-09-27 13:02:55,744 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(481)) - Starting XceiverServerRatis d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:02:55,764 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start RPC server
2021-09-27 13:02:55,766 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: GrpcService started, listening on 45431
2021-09-27 13:02:55,776 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis d83d08fc-c48a-43aa-b732-a7eb6f74a169 is started using port 45431 for RATIS
2021-09-27 13:02:55,776 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis d83d08fc-c48a-43aa-b732-a7eb6f74a169 is started using port 45431 for RATIS_ADMIN
2021-09-27 13:02:55,776 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(502)) - XceiverServerRatis d83d08fc-c48a-43aa-b732-a7eb6f74a169 is started using port 45431 for RATIS_SERVER
2021-09-27 13:02:55,776 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1716245361@6e0009c4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-d83d08fc-c48a-43aa-b732-a7eb6f74a169: Started
2021-09-27 13:02:55,780 [EndpointStateMachine task thread for /0.0.0.0:35591 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc d83d08fc-c48a-43aa-b732-a7eb6f74a169 is started using port 38383
2021-09-27 13:02:56,263 [IPC Server handler 0 on default port 35591] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:56,263 [IPC Server handler 0 on default port 35591] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 9a5579cf-18c0-43ac-98e8-dad6ac319a54{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=43579, RATIS=41627, RATIS_ADMIN=41627, RATIS_SERVER=41627, STANDALONE=46125], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:56,270 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-09-27 13:02:56,270 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-09-27 13:02:56,281 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-09-27 13:02:56,296 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:56,297 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b6faf5b2-9afd-4c77-a47b-fb20fbf009a2 to datanode:9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:56,303 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b6faf5b2-9afd-4c77-a47b-fb20fbf009a2, Nodes: 9a5579cf-18c0-43ac-98e8-dad6ac319a54{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=43579, RATIS=41627, RATIS_ADMIN=41627, RATIS_SERVER=41627, STANDALONE=46125], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:56.297Z[Etc/UTC]].
2021-09-27 13:02:56,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 1 of 3 DN Heartbeats.
2021-09-27 13:02:56,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:56,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:57,026 [IPC Server handler 0 on default port 35591] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:02:57,026 [IPC Server handler 0 on default port 35591] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : ac63f0cb-74ef-4892-9850-da260c7d0e8a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=46213, RATIS=35005, RATIS_ADMIN=35005, RATIS_SERVER=35005, STANDALONE=46527], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:57,026 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:57,037 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-09-27 13:02:57,044 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=aaf0f633-1ed9-4940-83d7-88038b70decf to datanode:ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:02:57,045 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: aaf0f633-1ed9-4940-83d7-88038b70decf, Nodes: ac63f0cb-74ef-4892-9850-da260c7d0e8a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=46213, RATIS=35005, RATIS_ADMIN=35005, RATIS_SERVER=35005, STANDALONE=46527], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:57.044Z[Etc/UTC]].
2021-09-27 13:02:57,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-09-27 13:02:57,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:57,641 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:57,673 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5171020385ns, electionTimeout:5155ms
2021-09-27 13:02:57,673 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState
2021-09-27 13:02:57,673 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:57,673 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:57,673 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42
2021-09-27 13:02:57,688 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42 ELECTION round 0: submit vote requests at term 1 for -1: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|priority:1], old=null
2021-09-27 13:02:57,688 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:57,689 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: shutdown fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42
2021-09-27 13:02:57,689 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:57,689 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-683F2FAD251D with new leaderId: fe82f976-ce9d-4273-bb83-e88fe3fe4f5a
2021-09-27 13:02:57,689 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: change Leader from null to fe82f976-ce9d-4273-bb83-e88fe3fe4f5a at term 1 for becomeLeader, leader elected after 5210ms
2021-09-27 13:02:57,694 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:57,694 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:57,696 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:57,700 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:57,700 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:57,700 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:57,700 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:57,700 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a: start fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderStateImpl
2021-09-27 13:02:57,701 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:57,703 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-1/data/ratis/eed79ae2-6b07-4069-8511-683f2fad251d/current/log_inprogress_0
2021-09-27 13:02:57,719 [IPC Server handler 9 on default port 35591] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:02:57,720 [IPC Server handler 9 on default port 35591] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : d83d08fc-c48a-43aa-b732-a7eb6f74a169{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41285, RATIS=45431, RATIS_ADMIN=45431, RATIS_SERVER=45431, STANDALONE=38383], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:02:57,720 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:57,731 [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D-LeaderElection42] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - fe82f976-ce9d-4273-bb83-e88fe3fe4f5a@group-683F2FAD251D: set configuration 0: [fe82f976-ce9d-4273-bb83-e88fe3fe4f5a|rpc:10.1.0.51:46645|dataStream:|priority:1], old=null
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-09-27 13:02:57,738 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-09-27 13:02:57,741 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=8efc46b5-9468-4009-865e-21bacc6de13f to datanode:d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:02:57,741 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 8efc46b5-9468-4009-865e-21bacc6de13f, Nodes: d83d08fc-c48a-43aa-b732-a7eb6f74a169{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41285, RATIS=45431, RATIS_ADMIN=45431, RATIS_SERVER=45431, STANDALONE=38383], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:57.741Z[Etc/UTC]].
2021-09-27 13:02:57,741 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=355200f6-ab6f-483b-b5a3-8b4062adb49c to datanode:ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:02:57,741 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=355200f6-ab6f-483b-b5a3-8b4062adb49c to datanode:9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:57,741 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=355200f6-ab6f-483b-b5a3-8b4062adb49c to datanode:d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:02:57,742 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 355200f6-ab6f-483b-b5a3-8b4062adb49c, Nodes: ac63f0cb-74ef-4892-9850-da260c7d0e8a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=46213, RATIS=35005, RATIS_ADMIN=35005, RATIS_SERVER=35005, STANDALONE=46527], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9a5579cf-18c0-43ac-98e8-dad6ac319a54{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=43579, RATIS=41627, RATIS_ADMIN=41627, RATIS_SERVER=41627, STANDALONE=46125], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d83d08fc-c48a-43aa-b732-a7eb6f74a169{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41285, RATIS=45431, RATIS_ADMIN=45431, RATIS_SERVER=45431, STANDALONE=38383], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-09-27T13:02:57.741Z[Etc/UTC]].
2021-09-27 13:02:58,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:58,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:58,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:58,657 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5147654301ns, electionTimeout:5138ms
2021-09-27 13:02:58,657 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState
2021-09-27 13:02:58,657 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:02:58,657 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:02:58,657 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43
2021-09-27 13:02:58,683 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43 ELECTION round 0: submit vote requests at term 1 for -1: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|priority:1], old=null
2021-09-27 13:02:58,683 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:02:58,683 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: shutdown 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43
2021-09-27 13:02:58,687 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:02:58,687 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-4158FBB7E14E with new leaderId: 623c436b-d721-44ab-8ceb-7a2aa2028f82
2021-09-27 13:02:58,687 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: change Leader from null to 623c436b-d721-44ab-8ceb-7a2aa2028f82 at term 1 for becomeLeader, leader elected after 5200ms
2021-09-27 13:02:58,687 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:02:58,687 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:58,689 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:02:58,689 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:02:58,690 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:02:58,690 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:02:58,690 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:02:58,690 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82: start 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderStateImpl
2021-09-27 13:02:58,691 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:02:58,692 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-123b3c50-4b12-4415-a133-095bed6ec734/datanode-2/data/ratis/aed74e0a-7c51-4954-84f7-4158fbb7e14e/current/log_inprogress_0
2021-09-27 13:02:58,708 [623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 623c436b-d721-44ab-8ceb-7a2aa2028f82@group-4158FBB7E14E: set configuration 0: [623c436b-d721-44ab-8ceb-7a2aa2028f82|rpc:10.1.0.51:35245|dataStream:|priority:1], old=null
2021-09-27 13:02:59,272 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: addNew group-FB20FBF009A2:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:1] returns group-FB20FBF009A2:java.util.concurrent.CompletableFuture@7f31cc0e[Not completed]
2021-09-27 13:02:59,283 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: new RaftServerImpl for group-FB20FBF009A2:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:59,313 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:59,313 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:59,313 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: ConfigurationManager, init=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis] (custom)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:59,314 [pool-573-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/b6faf5b2-9afd-4c77-a47b-fb20fbf009a2 does not exist. Creating ...
2021-09-27 13:02:59,319 [pool-573-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/b6faf5b2-9afd-4c77-a47b-fb20fbf009a2/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:59,322 [pool-573-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/b6faf5b2-9afd-4c77-a47b-fb20fbf009a2 has been successfully formatted.
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-FB20FBF009A2: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:59,335 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/b6faf5b2-9afd-4c77-a47b-fb20fbf009a2
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:59,336 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:59,337 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:59,338 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:59,338 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,338 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,338 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:59,339 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: b6faf5b2-9afd-4c77-a47b-fb20fbf009a2, Nodes: 9a5579cf-18c0-43ac-98e8-dad6ac319a54{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=43579, RATIS=41627, RATIS_ADMIN=41627, RATIS_SERVER=41627, STANDALONE=46125], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:9a5579cf-18c0-43ac-98e8-dad6ac319a54, CreationTimestamp2021-09-27T13:02:56.297Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:59,356 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:59,358 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: start as a follower, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:1], old=null
2021-09-27 13:02:59,358 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:59,358 [pool-573-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState
2021-09-27 13:02:59,380 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:59,380 [pool-573-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FB20FBF009A2,id=9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:59,390 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=b6faf5b2-9afd-4c77-a47b-fb20fbf009a2
2021-09-27 13:02:59,390 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b6faf5b2-9afd-4c77-a47b-fb20fbf009a2.
2021-09-27 13:02:59,390 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: addNew group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1] returns group-8B4062ADB49C:java.util.concurrent.CompletableFuture@7b0e5730[Not completed]
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: new RaftServerImpl for group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: ConfigurationManager, init=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:59,391 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis] (custom)
2021-09-27 13:02:59,392 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:59,392 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:59,392 [pool-573-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c does not exist. Creating ...
2021-09-27 13:02:59,401 [pool-573-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:59,404 [pool-573-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c has been successfully formatted.
2021-09-27 13:02:59,405 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:59,405 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8B4062ADB49C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:59,406 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,408 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:59,412 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:59,416 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:59,417 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:59,421 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,422 [pool-573-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:59,432 [pool-573-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:59,438 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: start as a follower, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:02:59,438 [pool-573-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:59,438 [pool-573-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:02:59,441 [pool-573-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B4062ADB49C,id=9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:02:59,451 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=355200f6-ab6f-483b-b5a3-8b4062adb49c
2021-09-27 13:02:59,477 [grpc-default-executor-5] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: addNew group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1] returns group-8B4062ADB49C:java.util.concurrent.CompletableFuture@5cd5f5cf[Not completed]
2021-09-27 13:02:59,480 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: new RaftServerImpl for group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: ConfigurationManager, init=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:59,483 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis] (custom)
2021-09-27 13:02:59,484 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:59,484 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:59,484 [pool-593-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c does not exist. Creating ...
2021-09-27 13:02:59,486 [pool-593-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:59,488 [pool-593-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c has been successfully formatted.
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8B4062ADB49C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:59,490 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:59,490 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,491 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:59,491 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:59,492 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:59,494 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:59,500 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:59,508 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,512 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:59,517 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:59,519 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: start as a follower, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:02:59,519 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:59,519 [pool-593-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:02:59,520 [pool-593-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B4062ADB49C,id=ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:02:59,572 [grpc-default-executor-5] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: addNew group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1] returns group-8B4062ADB49C:java.util.concurrent.CompletableFuture@73806b03[Not completed]
2021-09-27 13:02:59,573 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: new RaftServerImpl for group-8B4062ADB49C:[9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: ConfigurationManager, init=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:02:59,592 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis] (custom)
2021-09-27 13:02:59,593 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:02:59,593 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:02:59,593 [pool-612-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c does not exist. Creating ...
2021-09-27 13:02:59,596 [pool-612-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:02:59,597 [pool-612-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c has been successfully formatted.
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8B4062ADB49C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:02:59,598 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:02:59,599 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:02:59,614 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:02:59,614 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:02:59,614 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,622 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:02:59,632 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:02:59,634 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: start as a follower, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:02:59,634 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:02:59,634 [pool-612-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:02:59,640 [pool-612-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B4062ADB49C,id=d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:02:59,641 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:02:59,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:02:59,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:02:59,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:02:59,676 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=355200f6-ab6f-483b-b5a3-8b4062adb49c.
2021-09-27 13:02:59,906 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:00,024 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: addNew group-88038B70DECF:[ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1] returns group-88038B70DECF:java.util.concurrent.CompletableFuture@15c0881[Not completed]
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: new RaftServerImpl for group-88038B70DECF:[ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: ConfigurationManager, init=-1: [ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:03:00,025 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis] (custom)
2021-09-27 13:03:00,026 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:03:00,026 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:03:00,026 [pool-593-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/aaf0f633-1ed9-4940-83d7-88038b70decf does not exist. Creating ...
2021-09-27 13:03:00,027 [pool-593-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/aaf0f633-1ed9-4940-83d7-88038b70decf/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:03:00,028 [pool-593-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/aaf0f633-1ed9-4940-83d7-88038b70decf has been successfully formatted.
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-88038B70DECF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:03:00,029 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:03:00,029 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/aaf0f633-1ed9-4940-83d7-88038b70decf
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:03:00,030 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:03:00,031 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:03:00,032 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: aaf0f633-1ed9-4940-83d7-88038b70decf, Nodes: ac63f0cb-74ef-4892-9850-da260c7d0e8a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=46213, RATIS=35005, RATIS_ADMIN=35005, RATIS_SERVER=35005, STANDALONE=46527], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:ac63f0cb-74ef-4892-9850-da260c7d0e8a, CreationTimestamp2021-09-27T13:02:57.044Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:03:00,033 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:00,034 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:03:00,034 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:03:00,034 [pool-593-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:03:00,037 [pool-593-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:03:00,039 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: start as a follower, conf=-1: [ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:00,039 [pool-593-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:03:00,039 [pool-593-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState
2021-09-27 13:03:00,052 [pool-593-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-88038B70DECF,id=ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:00,053 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=aaf0f633-1ed9-4940-83d7-88038b70decf
2021-09-27 13:03:00,053 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=aaf0f633-1ed9-4940-83d7-88038b70decf.
2021-09-27 13:03:00,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:00,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:00,643 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:00,704 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: addNew group-21BACC6DE13F:[d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:1] returns group-21BACC6DE13F:java.util.concurrent.CompletableFuture@3036b52c[Not completed]
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: new RaftServerImpl for group-21BACC6DE13F:[d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:1] with ContainerStateMachine:uninitialized
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: ConfigurationManager, init=-1: [d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:1], old=null, confs=<EMPTY_MAP>
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis] (custom)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-27 13:03:00,705 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-27 13:03:00,706 [pool-612-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/8efc46b5-9468-4009-865e-21bacc6de13f does not exist. Creating ...
2021-09-27 13:03:00,708 [pool-612-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/8efc46b5-9468-4009-865e-21bacc6de13f/in_use.lock acquired by nodename 12412@fv-az148-96
2021-09-27 13:03:00,716 [pool-612-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/8efc46b5-9468-4009-865e-21bacc6de13f has been successfully formatted.
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-21BACC6DE13F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-09-27 13:03:00,717 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:03:00,717 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/8efc46b5-9468-4009-865e-21bacc6de13f
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-27 13:03:00,718 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-27 13:03:00,719 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-09-27 13:03:00,720 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 8efc46b5-9468-4009-865e-21bacc6de13f, Nodes: d83d08fc-c48a-43aa-b732-a7eb6f74a169{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41285, RATIS=45431, RATIS_ADMIN=45431, RATIS_SERVER=45431, STANDALONE=38383], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d83d08fc-c48a-43aa-b732-a7eb6f74a169, CreationTimestamp2021-09-27T13:02:57.741Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:03:00,721 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:00,721 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-09-27 13:03:00,721 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-27 13:03:00,722 [pool-612-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-27 13:03:00,722 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-27 13:03:00,722 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-09-27 13:03:00,722 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-09-27 13:03:00,722 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-09-27 13:03:00,725 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-09-27 13:03:00,725 [pool-612-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-09-27 13:03:00,726 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: start as a follower, conf=-1: [d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:1], old=null
2021-09-27 13:03:00,726 [pool-612-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-27 13:03:00,726 [pool-612-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState
2021-09-27 13:03:00,727 [pool-612-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21BACC6DE13F,id=d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:03:00,728 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(762)) - Created group PipelineID=8efc46b5-9468-4009-865e-21bacc6de13f
2021-09-27 13:03:00,728 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=8efc46b5-9468-4009-865e-21bacc6de13f.
2021-09-27 13:03:01,033 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:01,218 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:01,432 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:01,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:01,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:01,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:02,032 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:02,425 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:02,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:02,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:02,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:02,725 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:03,064 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:03,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:03,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:03,644 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:03,926 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:04,225 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:04,420 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5062380067ns, electionTimeout:5028ms
2021-09-27 13:03:04,420 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState
2021-09-27 13:03:04,421 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:03:04,421 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:04,421 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44
2021-09-27 13:03:04,447 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44 ELECTION round 0: submit vote requests at term 1 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:1], old=null
2021-09-27 13:03:04,448 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:03:04,448 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44
2021-09-27 13:03:04,448 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:03:04,452 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-FB20FBF009A2 with new leaderId: 9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:03:04,457 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: change Leader from null to 9a5579cf-18c0-43ac-98e8-dad6ac319a54 at term 1 for becomeLeader, leader elected after 5116ms
2021-09-27 13:03:04,457 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:03:04,458 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderStateImpl
2021-09-27 13:03:04,459 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:04,462 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/b6faf5b2-9afd-4c77-a47b-fb20fbf009a2/current/log_inprogress_0
2021-09-27 13:03:04,462 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2-LeaderElection44] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-FB20FBF009A2: set configuration 0: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:1], old=null
2021-09-27 13:03:04,472 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:04,472 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:04,536 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:04,549 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5111222654ns, electionTimeout:5108ms
2021-09-27 13:03:04,550 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,550 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:03:04,550 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:04,550 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45
2021-09-27 13:03:04,563 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45 ELECTION round 0: submit vote requests at term 1 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:04,584 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: receive requestVote(ELECTION, 9a5579cf-18c0-43ac-98e8-dad6ac319a54, group-8B4062ADB49C, 1, (t:0, i:0))
2021-09-27 13:03:04,584 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FOLLOWER: accept ELECTION from 9a5579cf-18c0-43ac-98e8-dad6ac319a54: our priority 0 <= candidate's priority 0
2021-09-27 13:03:04,584 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:03:04,584 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,584 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,584 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:03:04,602 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C replies to ELECTION vote request: 9a5579cf-18c0-43ac-98e8-dad6ac319a54<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:OK-t1. Peer's state: d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C:t1, leader=null, voted=9a5579cf-18c0-43ac-98e8-dad6ac319a54, raftlog=d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:04,629 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: receive requestVote(ELECTION, 9a5579cf-18c0-43ac-98e8-dad6ac319a54, group-8B4062ADB49C, 1, (t:0, i:0))
2021-09-27 13:03:04,629 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FOLLOWER: reject ELECTION from 9a5579cf-18c0-43ac-98e8-dad6ac319a54: our priority 1 > candidate's priority 0
2021-09-27 13:03:04,629 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9a5579cf-18c0-43ac-98e8-dad6ac319a54
2021-09-27 13:03:04,629 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,629 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,629 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:03:04,639 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C replies to ELECTION vote request: 9a5579cf-18c0-43ac-98e8-dad6ac319a54<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t1. Peer's state: ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C:t1, leader=null, voted=null, raftlog=ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 9a5579cf-18c0-43ac-98e8-dad6ac319a54<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:OK-t1
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 9a5579cf-18c0-43ac-98e8-dad6ac319a54<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t1
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45 ELECTION round 0: result REJECTED
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45
2021-09-27 13:03:04,646 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:04,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:04,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:04,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:04,664 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:04,973 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:05,134 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5094868400ns, electionTimeout:5072ms
2021-09-27 13:03:05,134 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState
2021-09-27 13:03:05,134 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:03:05,134 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:05,134 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46
2021-09-27 13:03:05,139 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46 ELECTION round 0: submit vote requests at term 1 for -1: [ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:05,139 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:03:05,139 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46
2021-09-27 13:03:05,139 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:03:05,139 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-88038B70DECF with new leaderId: ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:05,139 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:05,140 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: change Leader from null to ac63f0cb-74ef-4892-9850-da260c7d0e8a at term 1 for becomeLeader, leader elected after 5110ms
2021-09-27 13:03:05,141 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:05,141 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:03:05,143 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:03:05,143 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:03:05,144 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:03:05,144 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:03:05,144 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:03:05,149 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderStateImpl
2021-09-27 13:03:05,150 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:05,154 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/aaf0f633-1ed9-4940-83d7-88038b70decf/current/log_inprogress_0
2021-09-27 13:03:05,166 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-88038B70DECF: set configuration 0: [ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:05,225 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:05,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:05,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:05,652 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:05,857 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5130540714ns, electionTimeout:5129ms
2021-09-27 13:03:05,857 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState
2021-09-27 13:03:05,857 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-27 13:03:05,857 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:05,857 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47
2021-09-27 13:03:05,876 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47 ELECTION round 0: submit vote requests at term 1 for -1: [d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:1], old=null
2021-09-27 13:03:05,876 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47 ELECTION round 0: result PASSED (term=1)
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-21BACC6DE13F with new leaderId: d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: change Leader from null to d83d08fc-c48a-43aa-b732-a7eb6f74a169 at term 1 for becomeLeader, leader elected after 5159ms
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:03:05,877 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:03:05,877 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:03:05,878 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:05,878 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:03:05,879 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:03:05,879 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:03:05,879 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderStateImpl
2021-09-27 13:03:05,879 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:05,881 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/8efc46b5-9468-4009-865e-21bacc6de13f/current/log_inprogress_0
2021-09-27 13:03:05,896 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F-LeaderElection47] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-21BACC6DE13F: set configuration 0: [d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:1], old=null
2021-09-27 13:03:06,141 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:06,377 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:06,472 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:06,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:06,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:06,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:07,641 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:07,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:07,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:07,653 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:07,979 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:08,377 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:08,642 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:08,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:08,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:08,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:09,480 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:09,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:09,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:09,656 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:09,665 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:09,678 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5076125405ns, electionTimeout:5074ms
2021-09-27 13:03:09,679 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,679 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-27 13:03:09,679 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:09,679 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48
2021-09-27 13:03:09,693 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48 ELECTION round 0: submit vote requests at term 2 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:09,696 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5066671577ns, electionTimeout:5031ms
2021-09-27 13:03:09,696 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,696 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-27 13:03:09,696 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:09,696 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49
2021-09-27 13:03:09,704 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49 ELECTION round 0: submit vote requests at term 2 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:09,741 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: receive requestVote(ELECTION, d83d08fc-c48a-43aa-b732-a7eb6f74a169, group-8B4062ADB49C, 2, (t:0, i:0))
2021-09-27 13:03:09,741 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FOLLOWER: accept ELECTION from d83d08fc-c48a-43aa-b732-a7eb6f74a169: our priority 0 <= candidate's priority 0
2021-09-27 13:03:09,741 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d83d08fc-c48a-43aa-b732-a7eb6f74a169
2021-09-27 13:03:09,741 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,754 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,754 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-27 13:03:09,757 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C replies to ELECTION vote request: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:OK-t2. Peer's state: 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C:t2, leader=null, voted=d83d08fc-c48a-43aa-b732-a7eb6f74a169, raftlog=9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:09,780 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: receive requestVote(ELECTION, ac63f0cb-74ef-4892-9850-da260c7d0e8a, group-8B4062ADB49C, 2, (t:0, i:0))
2021-09-27 13:03:09,780 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FOLLOWER: reject ELECTION from ac63f0cb-74ef-4892-9850-da260c7d0e8a: already has voted for d83d08fc-c48a-43aa-b732-a7eb6f74a169 at current term 2
2021-09-27 13:03:09,781 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C replies to ELECTION vote request: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:FAIL-t2. Peer's state: 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C:t2, leader=null, voted=d83d08fc-c48a-43aa-b732-a7eb6f74a169, raftlog=9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:09,796 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: receive requestVote(ELECTION, d83d08fc-c48a-43aa-b732-a7eb6f74a169, group-8B4062ADB49C, 2, (t:0, i:0))
2021-09-27 13:03:09,796 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-CANDIDATE: reject ELECTION from d83d08fc-c48a-43aa-b732-a7eb6f74a169: already has voted for ac63f0cb-74ef-4892-9850-da260c7d0e8a at current term 2
2021-09-27 13:03:09,796 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C replies to ELECTION vote request: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t2. Peer's state: ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C:t2, leader=null, voted=ac63f0cb-74ef-4892-9850-da260c7d0e8a, raftlog=ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:OK-t2
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t2
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48 ELECTION round 0: result REJECTED
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48
2021-09-27 13:03:09,799 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,802 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: receive requestVote(ELECTION, ac63f0cb-74ef-4892-9850-da260c7d0e8a, group-8B4062ADB49C, 2, (t:0, i:0))
2021-09-27 13:03:09,803 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FOLLOWER: reject ELECTION from ac63f0cb-74ef-4892-9850-da260c7d0e8a: already has voted for d83d08fc-c48a-43aa-b732-a7eb6f74a169 at current term 2
2021-09-27 13:03:09,803 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C replies to ELECTION vote request: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:FAIL-t2. Peer's state: d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C:t2, leader=null, voted=d83d08fc-c48a-43aa-b732-a7eb6f74a169, raftlog=d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:FAIL-t2
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:FAIL-t2
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49 ELECTION round 0: result REJECTED
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49
2021-09-27 13:03:09,804 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:09,877 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:10,141 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:10,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:10,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:10,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:10,878 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:10,979 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:11,641 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:11,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:11,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:11,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:12,380 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:12,486 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:12,645 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:12,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:12,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:12,659 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:13,384 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:13,481 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:13,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:13,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:13,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:14,646 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:14,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:14,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-09-27 13:03:14,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:14,665 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:14,890 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5086600266ns, electionTimeout:5086ms
2021-09-27 13:03:14,891 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:14,891 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-09-27 13:03:14,891 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:14,891 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50
2021-09-27 13:03:14,897 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5098202118ns, electionTimeout:5079ms
2021-09-27 13:03:14,897 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:14,897 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-09-27 13:03:14,897 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:14,897 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51
2021-09-27 13:03:14,899 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5141452475ns, electionTimeout:5100ms
2021-09-27 13:03:14,899 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:14,899 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-09-27 13:03:14,908 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50 ELECTION round 0: submit vote requests at term 3 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:14,908 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-27 13:03:14,908 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection52
2021-09-27 13:03:14,910 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51 ELECTION round 0: submit vote requests at term 3 for -1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:14,920 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: receive requestVote(ELECTION, ac63f0cb-74ef-4892-9850-da260c7d0e8a, group-8B4062ADB49C, 3, (t:0, i:0))
2021-09-27 13:03:14,920 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-CANDIDATE: reject ELECTION from ac63f0cb-74ef-4892-9850-da260c7d0e8a: already has voted for d83d08fc-c48a-43aa-b732-a7eb6f74a169 at current term 3
2021-09-27 13:03:14,920 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C replies to ELECTION vote request: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:FAIL-t3. Peer's state: d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C:t3, leader=null, voted=d83d08fc-c48a-43aa-b732-a7eb6f74a169, raftlog=d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:14,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: receive requestVote(ELECTION, ac63f0cb-74ef-4892-9850-da260c7d0e8a, group-8B4062ADB49C, 3, (t:0, i:0))
2021-09-27 13:03:14,933 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-CANDIDATE: accept ELECTION from ac63f0cb-74ef-4892-9850-da260c7d0e8a: our priority 0 <= candidate's priority 1
2021-09-27 13:03:14,933 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: changes role from CANDIDATE to FOLLOWER at term 3 for candidate:ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:14,933 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: shutdown 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection52
2021-09-27 13:03:14,933 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54: start 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:14,945 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-LeaderElection52: skip running since this is already CLOSING
2021-09-27 13:03:14,953 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C replies to ELECTION vote request: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:OK-t3. Peer's state: 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C:t3, leader=null, voted=ac63f0cb-74ef-4892-9850-da260c7d0e8a, raftlog=9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50: ELECTION PASSED received 2 response(s) and 0 exception(s):
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:OK-t3
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: ac63f0cb-74ef-4892-9850-da260c7d0e8a<-d83d08fc-c48a-43aa-b732-a7eb6f74a169#0:FAIL-t3
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50 ELECTION round 0: result PASSED
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: shutdown ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-8B4062ADB49C with new leaderId: ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: change Leader from null to ac63f0cb-74ef-4892-9850-da260c7d0e8a at term 3 for becomeLeader, leader elected after 15471ms
2021-09-27 13:03:14,961 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:03:14,962 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:03:14,963 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:03:14,963 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:03:14,963 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:03:14,964 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:03:14,965 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 355200f6-ab6f-483b-b5a3-8b4062adb49c, Nodes: ac63f0cb-74ef-4892-9850-da260c7d0e8a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=46213, RATIS=35005, RATIS_ADMIN=35005, RATIS_SERVER=35005, STANDALONE=46527], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9a5579cf-18c0-43ac-98e8-dad6ac319a54{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=43579, RATIS=41627, RATIS_ADMIN=41627, RATIS_SERVER=41627, STANDALONE=46125], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d83d08fc-c48a-43aa-b732-a7eb6f74a169{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41285, RATIS=45431, RATIS_ADMIN=45431, RATIS_SERVER=45431, STANDALONE=38383], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:ac63f0cb-74ef-4892-9850-da260c7d0e8a, CreationTimestamp2021-09-27T13:02:57.741Z[Etc/UTC]] moved to OPEN state
2021-09-27 13:03:14,965 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-09-27 13:03:14,965 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-27 13:03:14,966 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-27 13:03:14,966 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-27 13:03:14,966 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-27 13:03:14,967 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-09-27 13:03:14,967 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-27 13:03:14,967 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-09-27 13:03:14,967 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-27 13:03:14,968 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a: start ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderStateImpl
2021-09-27 13:03:14,968 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:14,971 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-1/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/current/log_inprogress_0
2021-09-27 13:03:14,972 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: receive requestVote(ELECTION, d83d08fc-c48a-43aa-b732-a7eb6f74a169, group-8B4062ADB49C, 3, (t:0, i:0))
2021-09-27 13:03:14,974 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: receive requestVote(ELECTION, d83d08fc-c48a-43aa-b732-a7eb6f74a169, group-8B4062ADB49C, 3, (t:0, i:0))
2021-09-27 13:03:14,975 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-FOLLOWER: reject ELECTION from d83d08fc-c48a-43aa-b732-a7eb6f74a169: already has voted for ac63f0cb-74ef-4892-9850-da260c7d0e8a at current term 3
2021-09-27 13:03:14,975 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C replies to ELECTION vote request: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:FAIL-t3. Peer's state: 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C:t3, leader=null, voted=ac63f0cb-74ef-4892-9850-da260c7d0e8a, raftlog=9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|priority:1], old=null
2021-09-27 13:03:14,991 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-8B4062ADB49C with new leaderId: ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:14,992 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: change Leader from null to ac63f0cb-74ef-4892-9850-da260c7d0e8a at term 3 for appendEntries, leader elected after 15585ms
2021-09-27 13:03:15,003 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: changes role from CANDIDATE to FOLLOWER at term 3 for appendEntries
2021-09-27 13:03:15,003 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: shutdown d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51
2021-09-27 13:03:15,008 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169: start d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-FollowerState
2021-09-27 13:03:15,009 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(860)) - Leader change notification received for group: group-8B4062ADB49C with new leaderId: ac63f0cb-74ef-4892-9850-da260c7d0e8a
2021-09-27 13:03:15,009 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: change Leader from null to ac63f0cb-74ef-4892-9850-da260c7d0e8a at term 3 for appendEntries, leader elected after 15411ms
2021-09-27 13:03:15,012 [ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C: set configuration 0: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:15,012 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-LEADER: reject ELECTION from d83d08fc-c48a-43aa-b732-a7eb6f74a169: already has voted for ac63f0cb-74ef-4892-9850-da260c7d0e8a at current term 3
2021-09-27 13:03:15,013 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C replies to ELECTION vote request: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t3. Peer's state: ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C:t3, leader=ac63f0cb-74ef-4892-9850-da260c7d0e8a, voted=ac63f0cb-74ef-4892-9850-da260c7d0e8a, raftlog=ac63f0cb-74ef-4892-9850-da260c7d0e8a@group-8B4062ADB49C-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:15,013 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C: set configuration 0: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:15,014 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:15,016 [9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9a5579cf-18c0-43ac-98e8-dad6ac319a54@group-8B4062ADB49C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-0/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/current/log_inprogress_0
2021-09-27 13:03:15,032 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-27 13:03:15,032 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-9a5579cf-18c0-43ac-98e8-dad6ac319a54#0:FAIL-t3
2021-09-27 13:03:15,032 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: d83d08fc-c48a-43aa-b732-a7eb6f74a169<-ac63f0cb-74ef-4892-9850-da260c7d0e8a#0:FAIL-t3
2021-09-27 13:03:15,032 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-LeaderElection51 ELECTION round 0: result REJECTED
2021-09-27 13:03:15,075 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C: set configuration 0: [9a5579cf-18c0-43ac-98e8-dad6ac319a54|rpc:10.1.0.51:41627|dataStream:|priority:0, d83d08fc-c48a-43aa-b732-a7eb6f74a169|rpc:10.1.0.51:45431|dataStream:|priority:0, ac63f0cb-74ef-4892-9850-da260c7d0e8a|rpc:10.1.0.51:35005|dataStream:|priority:1], old=null
2021-09-27 13:03:15,075 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-27 13:03:15,078 [d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d83d08fc-c48a-43aa-b732-a7eb6f74a169@group-8B4062ADB49C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96a82961-d9f8-4083-a340-933ffb95fea4/datanode-2/data/ratis/355200f6-ab6f-483b-b5a3-8b4062adb49c/current/log_inprogress_0
2021-09-27 13:03:15,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-09-27 13:03:15,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-27 13:03:15,660 [Listener at 127.0.0.1/33093] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-27 13:03:19,688 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:24,688 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:29,689 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:34,690 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:39,691 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:44,691 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:49,692 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:54,692 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:03:59,693 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:04,693 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:09,693 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:14,694 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:19,694 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:24,694 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:29,695 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:34,695 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:39,695 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:44,696 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:49,696 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:51,484 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:04:54,697 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:04:59,697 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:04,697 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:09,698 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:14,698 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:19,698 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:24,699 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:29,699 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:34,699 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:39,700 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:44,700 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:49,700 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:54,701 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:05:59,701 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:04,701 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:09,702 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:14,702 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:19,702 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:24,703 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:29,704 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:34,704 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:39,704 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:44,705 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:49,705 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:51,485 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:06:54,705 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:06:59,706 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:02,484 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:sendDeleteCommand(1542)) - Sending delete container command for container #1 to datanode 623c436b-d721-44ab-8ceb-7a2aa2028f82{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=42679, RATIS=35245, RATIS_ADMIN=35245, RATIS_SERVER=35245, STANDALONE=45655], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:07:02,495 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:sendDeleteCommand(1542)) - Sending delete container command for container #1 to datanode fe82f976-ce9d-4273-bb83-e88fe3fe4f5a{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=36095, RATIS=46645, RATIS_ADMIN=46645, RATIS_SERVER=46645, STANDALONE=44673], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:07:02,495 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:sendDeleteCommand(1542)) - Sending delete container command for container #1 to datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:07:02,508 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 31 milliseconds for processing 2 containers.
2021-09-27 13:07:04,480 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:execute(621)) - No available thread in pool for past 0 seconds.
2021-09-27 13:07:04,706 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:09,706 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:14,707 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:15,896 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:07:19,707 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:24,707 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:29,708 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:34,708 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:39,708 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:40,659 [EventQueue-StaleNodeForStaleNodeHandler] INFO  node.StaleNodeHandler (StaleNodeHandler.java:onMessage(58)) - Datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to stale state. Finalizing its pipelines []
2021-09-27 13:07:44,709 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:49,709 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:50,015 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 1 milliseconds for processing 0 containers.
2021-09-27 13:07:54,710 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:07:59,711 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:04,711 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:09,712 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:14,712 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:19,712 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:24,716 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:29,716 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:34,716 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:39,717 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:44,717 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:49,717 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:51,487 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:08:54,718 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:08:59,718 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:04,719 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:09,719 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:14,721 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:19,722 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:24,722 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:29,722 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:34,723 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:39,723 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:44,723 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:49,724 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:54,732 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:09:59,732 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:04,732 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:09,733 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:14,733 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:19,734 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:24,734 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:29,734 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:34,735 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:39,735 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:44,736 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:49,736 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:51,503 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:10:54,737 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:10:59,737 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:04,737 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:09,738 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:14,738 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:19,738 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:24,739 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:29,739 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:34,739 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:39,740 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:44,740 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:49,740 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:54,741 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:11:59,741 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:02,512 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:sendDeleteCommand(1542)) - Sending delete container command for container #1 to datanode 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:12:02,512 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 3 milliseconds for processing 2 containers.
2021-09-27 13:12:04,741 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:09,742 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:14,742 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:15,896 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:12:19,742 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:24,743 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:29,743 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:34,743 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:39,744 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:40,844 [EventQueue-DeadNodeForDeadNodeHandler] INFO  node.DeadNodeHandler (DeadNodeHandler.java:onMessage(80)) - A dead datanode is detected. 98d2ff82-3114-448d-a853-4e0e8b3d27f9{ip: 10.1.0.51, host: fv-az148-96.bm4ck3pvxvsene1rjriu5fhcdb.bx.internal.cloudapp.net, ports: [REPLICATION=41657, RATIS=40689, RATIS_ADMIN=40689, RATIS_SERVER=40689, STANDALONE=34635], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
2021-09-27 13:12:40,861 [EventQueue-DeadNodeForDeadNodeHandler] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:remove(137)) - Removed a node: /default-rack/98d2ff82-3114-448d-a853-4e0e8b3d27f9
2021-09-27 13:12:44,744 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:49,744 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:50,015 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:12:51,506 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:12:54,745 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:12:59,745 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:04,745 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:09,747 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:14,748 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:19,748 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:24,748 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:29,749 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:34,753 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:39,753 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:44,754 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:49,754 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:54,754 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:13:59,755 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:04,755 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:09,755 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:14,756 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:19,756 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:24,756 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:29,757 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:34,758 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:39,759 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:44,759 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:49,759 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:51,510 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:14:54,759 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:14:59,760 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:04,760 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:09,760 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:14,762 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:19,762 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:24,763 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:29,763 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:34,764 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:39,764 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:44,764 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:49,765 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:54,765 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:15:59,765 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:04,766 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:09,766 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:14,767 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:19,768 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:24,768 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:29,768 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:34,769 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:39,770 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:44,770 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:49,771 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:51,516 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:16:54,771 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:16:59,771 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:02,522 [ReplicationMonitor] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:chooseDatanodes(140)) - No healthy node found to allocate container.
2021-09-27 13:17:02,522 [ReplicationMonitor] WARN  container.ReplicationManager (ReplicationManager.java:handleUnderReplicatedContainer(1196)) - Exception while replicating container 2.
org.apache.hadoop.hdds.scm.exceptions.SCMException: No healthy node found to allocate container.
	at org.apache.hadoop.hdds.scm.SCMCommonPlacementPolicy.chooseDatanodes(SCMCommonPlacementPolicy.java:141)
	at org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom.chooseDatanodes(SCMContainerPlacementRandom.java:78)
	at org.apache.hadoop.hdds.scm.container.ReplicationManager.handleUnderReplicatedContainer(ReplicationManager.java:1160)
	at org.apache.hadoop.hdds.scm.container.ReplicationManager.processContainer(ReplicationManager.java:516)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.apache.hadoop.hdds.scm.container.ReplicationManager.processAll(ReplicationManager.java:369)
	at org.apache.hadoop.hdds.scm.container.ReplicationManager.run(ReplicationManager.java:383)
	at java.lang.Thread.run(Thread.java:748)
2021-09-27 13:17:02,524 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 10 milliseconds for processing 2 containers.
2021-09-27 13:17:04,772 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:09,772 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:14,772 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:15,897 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:17:19,773 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:24,773 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:29,773 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:34,774 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:39,774 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:44,774 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:49,775 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:50,016 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-27 13:17:54,775 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:17:59,775 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:04,776 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:09,777 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:14,777 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:19,777 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:24,778 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:29,778 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:34,778 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:39,779 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:44,779 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:49,779 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:51,522 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:18:54,780 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:18:59,780 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:04,780 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:09,781 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:14,781 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:19,781 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:24,782 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:29,782 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:34,782 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:39,783 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:44,783 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:49,786 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:54,786 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:19:59,787 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:04,787 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:09,787 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:14,788 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:19,788 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:24,788 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:29,789 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:34,789 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:39,792 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:44,792 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:49,793 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:51,523 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-09-27 13:20:54,793 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:20:59,793 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:21:04,794 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:21:09,794 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:21:14,794 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:21:19,795 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-09-27 13:21:24,795 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
