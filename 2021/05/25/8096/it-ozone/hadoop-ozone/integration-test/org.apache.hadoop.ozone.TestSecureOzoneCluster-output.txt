2021-05-25 10:30:45,583 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:30:45,587 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:30:45,587 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:30:45,587 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:30:45,588 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:30:45,588 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:30:45,591 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:30:45,592 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:30:45,603 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:30:45,603 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:30:45,603 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:30:45,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:30:45,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:30:45,605 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:30:45,605 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:30:45,605 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:30:45,606 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:30:45,606 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:30:45,687 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:30:46,854 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:46,869 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:30:46,877 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:30:46,878 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:30:46,879 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:30:47,001 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:30:47,549 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:47,550 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:47,550 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:47,550 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:47,707 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:47,707 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:47,707 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:47,707 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:47,708 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:133a420e-9f52-4a4c-9d88-bfa4f48bad6a,clusterId:794193f7-5c23-4ede-9dda-8c4317e150a1,subject:scm-sub@fv-az297-667
2021-05-25 10:30:47,774 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:30:47,808 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:30:47,808 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:30:47,828 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:47,836 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit4192356214722190163/junit7196485217734732160/scm-meta/scm/sub-ca/certs.
2021-05-25 10:30:47,841 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit4192356214722190163/junit7196485217734732160/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:30:47,843 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit4192356214722190163/junit7196485217734732160/scm-meta/scm/sub-ca/certs/813121583802.crt.
2021-05-25 10:30:47,846 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit4192356214722190163/junit7196485217734732160/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:30:47,969 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:47,973 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:48,011 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938648009,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:48,017 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:30:48,018 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:30:48,043 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:48,170 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:48,335 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:30:48,335 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:30:48,376 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:30:48,376 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:30:48,380 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:30:48,382 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:30:48,422 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:30:48,477 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:30:48,487 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:30:48,517 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:30:48,524 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:30:48,524 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:30:48,552 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:30:48,572 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:30:48,595 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:30:48,598 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:30:48,619 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:30:48,621 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:30:48,623 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:30:48,637 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:48,638 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:48,639 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 813121583802 on primary SCM
2021-05-25 10:30:48,642 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:30:48,691 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:48,719 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:30:49,091 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:49,092 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:30:49,103 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:49,104 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:30:49,123 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:49,124 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:30:49,130 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:30:49,130 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:30:49,131 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:30:49,133 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1186)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-05-25 10:30:49,190 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-25 10:30:49,204 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-25 10:30:49,204 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-25 10:30:49,504 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-05-25 10:30:49,506 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:49,539 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1201)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-05-25 10:30:49,540 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-05-25 10:30:49,541 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:49,542 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-05-25 10:30:49,558 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-05-25 10:30:49,582 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1207)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-05-25 10:30:49,582 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-05-25 10:30:49,583 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:49,583 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-05-25 10:30:49,618 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(378)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-05-25 10:30:49,619 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:49,622 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-05-25 10:30:49,630 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@52a9d3ec] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:30:49,660 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-05-25 10:30:49,661 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:30:49,703 [Listener at 0.0.0.0/9860] INFO  util.log (Log.java:initialized(169)) - Logging initialized @5578ms to org.eclipse.jetty.util.log.Slf4jLog
2021-05-25 10:30:49,827 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:30:49,833 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:30:49,839 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:30:49,842 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-25 10:30:49,842 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:30:49,842 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:30:49,892 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-05-25 10:30:49,897 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:30:49,945 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:30:49,945 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:30:49,946 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-25 10:30:49,959 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@8fbd19a{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:30:49,960 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@11ea940a{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:30:50,008 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@613ac585{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:30:50,018 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3dd4531{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:30:50,018 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @5893ms
2021-05-25 10:30:50,021 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-25 10:30:50,021 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-25 10:30:50,022 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-05-25 10:30:50,029 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:50,029 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:50,039 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938650038,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:50,219 [pool-1-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938650216,test for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:30:50,242 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:43574
2021-05-25 10:30:50,361 [IPC Server handler 0 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getCertificate(268)) - Certificate with serial id 100 not found.
2021-05-25 10:30:50,371 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy36.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy36.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACert(SCMSecurityProtocolClientSideTranslatorPB.java:284)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACertificate(SCMSecurityProtocolClientSideTranslatorPB.java:277)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:50,380 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy36.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy36.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCertificate(SCMSecurityProtocolClientSideTranslatorPB.java:243)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testSCMSecurityProtocol$1(TestSecureOzoneCluster.java:327)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:326)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:50,381 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:30:50,381 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:30:50,382 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:30:50,382 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:30:50,390 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:30:50,390 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:30:50,390 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:30:50,391 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-05-25 10:30:50,393 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:51,422 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:30:51,423 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:30:51,423 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:30:51,423 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:30:51,427 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-05-25 10:30:51,428 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:30:51,428 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:30:51,428 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:30:51,428 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:51,439 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-05-25 10:30:51,441 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:51,442 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:30:51,448 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@613ac585{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:30:51,459 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3dd4531{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:30:51,459 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:30:51,459 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@11ea940a{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:30:51,460 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@8fbd19a{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:30:51,461 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:30:51,461 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:30:51,461 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-05-25 10:30:51,462 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:30:51,461 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:51,462 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:51,464 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:51,465 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:30:51,468 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:30:51,472 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-05-25 10:30:51,474 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-25 10:30:51,475 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-05-25 10:30:51,477 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:30:52,477 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:30:52,477 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:30:52,477 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(274)) - Replication Monitor Thread is not running.
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:30:52,478 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:52,479 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:52,480 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:30:52,480 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-05-25 10:30:52,480 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:30:52,508 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:30:52,509 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:30:52,510 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:30:52,510 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:30:52,510 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:30:52,510 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:30:52,510 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:30:52,517 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:30:52,759 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:52,759 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:30:52,760 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:30:52,760 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:30:52,760 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:30:52,833 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:30:52,926 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:52,927 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:52,927 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:52,927 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:52,941 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:52,941 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:52,941 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:52,941 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:52,943 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:1a08bf76-163d-4a4e-b37c-82468f413f20,clusterId:ea104637-452a-4b33-9887-d125bcc1897f,subject:scm-sub@fv-az297-667
2021-05-25 10:30:52,970 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:30:52,974 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:30:52,974 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:30:52,975 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:52,976 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/scm/sub-ca/certs.
2021-05-25 10:30:52,980 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:30:52,983 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/scm/sub-ca/certs/818320052502.crt.
2021-05-25 10:30:52,986 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:30:52,991 [pool-20-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:52,991 [pool-20-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:53,004 [pool-20-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938653004,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:53,006 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:30:53,006 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:30:53,007 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,008 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,089 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:30:53,090 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:30:53,093 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:30:53,093 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:30:53,093 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:30:53,093 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:30:53,094 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:30:53,095 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:30:53,095 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:30:53,095 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:30:53,096 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:30:53,096 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:30:53,097 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:30:53,098 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:30:53,099 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:30:53,100 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:30:53,101 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:30:53,101 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:30:53,102 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:53,102 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 2 milliseconds for processing 0 containers.
2021-05-25 10:30:53,103 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:53,106 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 818320052502 on primary SCM
2021-05-25 10:30:53,109 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:30:53,110 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:53,113 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:30:53,115 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:53,116 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:30:53,117 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:53,122 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:30:53,127 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:53,128 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:30:53,135 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:30:53,135 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:30:53,136 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:30:53,136 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1186)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-05-25 10:30:53,138 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-25 10:30:53,138 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-25 10:30:53,138 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-25 10:30:53,142 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-25 10:30:53,142 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-25 10:30:53,150 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-05-25 10:30:53,150 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:53,158 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-05-25 10:30:53,180 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1201)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-05-25 10:30:53,181 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-05-25 10:30:53,181 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:53,183 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-05-25 10:30:53,198 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1207)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-05-25 10:30:53,199 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-05-25 10:30:53,201 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:53,201 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-05-25 10:30:53,223 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(378)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-05-25 10:30:53,226 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:53,226 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-05-25 10:30:53,229 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-05-25 10:30:53,229 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:30:53,230 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:30:53,231 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:30:53,232 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:30:53,233 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-25 10:30:53,233 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:30:53,233 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:30:53,234 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-05-25 10:30:53,234 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:30:53,239 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:30:53,239 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:30:53,240 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-25 10:30:53,240 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4ea33674{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:30:53,241 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@2655dc00{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:30:53,244 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@6c4d3d94{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:30:53,239 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3790e5f5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:30:53,248 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@22e458ae{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:30:53,248 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @9123ms
2021-05-25 10:30:53,248 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:30:53,249 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-05-25 10:30:53,249 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,255 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:53,258 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:53,258 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:53,258 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:53,261 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,261 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,405 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:53,412 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:30:53,413 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:30:53,578 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner scm required for S3Gateway operations.
2021-05-25 10:30:53,584 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:30:53,584 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:30:53,590 [Listener at 0.0.0.0/9860] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-25 10:30:53,619 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:30:53,642 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:30:53,653 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:30:53,687 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:30:53,777 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:30:53,794 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:30:53,795 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:53,795 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:30:53,795 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:53,798 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:53,799 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:30:53,802 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:30:53,803 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:30:53,803 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:30:54,001 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:30:54,004 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:30:54,004 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:30:54,022 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis] (custom)
2021-05-25 10:30:54,028 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@619a2730[Not completed]
2021-05-25 10:30:54,028 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:30:54,050 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:54,050 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:30:54,096 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:54,097 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:54,097 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:54,097 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:54,101 [pool-20-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:54,101 [pool-20-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:54,108 [pool-50-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:30:54,113 [pool-20-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938654113,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:54,111 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:30:54,114 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:30:54,116 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:30:54,117 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:30:54,117 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:30:54,118 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:54,118 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:30:54,119 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:30:54,119 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:30:54,119 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:30:54,140 [pool-50-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:30:54,140 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis] (custom)
2021-05-25 10:30:54,145 [pool-20-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938654144,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:30:54,151 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:30:54,159 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:39835
2021-05-25 10:30:54,172 [pool-50-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:30:54,179 [pool-50-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:30:54,189 [pool-50-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:30:54,199 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:30:54,200 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:30:54,209 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:30:54,210 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:30:54,216 [pool-50-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:30:54,225 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:30:54,239 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:30:54,239 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:30:54,240 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:omInit(970)) - OM storage is already initialized. Initializing security
2021-05-25 10:30:54,240 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(990)) - Initializing secure OzoneManager.
2021-05-25 10:30:54,241 [Listener at localhost/1202] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:30:54,241 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:30:54,242 [Listener at localhost/1202] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(58)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:30:54,246 [pool-50-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:30:54,257 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:30:54,258 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:30:54,259 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:30:54,259 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:30:54,260 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:30:54,262 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:30:54,262 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:30:54,262 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:30:54,273 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:30:54,273 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:30:54,286 [pool-50-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:30:54,287 [pool-50-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:30:54,294 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:30:54,295 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:30:54,295 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:30:54,296 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:30:54,301 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:30:54,301 [pool-50-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:30:54,332 [pool-50-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:30:54,336 [pool-50-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:30:54,443 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(996)) - Init response: GETCERT
2021-05-25 10:30:54,445 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:54,445 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:54,445 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:54,445 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:54,446 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:54,446 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:54,446 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:54,446 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:54,446 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1443)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:1a08bf76-163d-4a4e-b37c-82468f413f20,clusterId:ea104637-452a-4b33-9887-d125bcc1897f,subject:scm@localhost
2021-05-25 10:30:54,457 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1459)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-05-25 10:30:54,475 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:40723
2021-05-25 10:30:54,481 [IPC Server handler 1 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(156)) - Processing CSR for om localhost, UUID: 9e9e7c3b-babf-4a25-a256-1a2637013049
2021-05-25 10:30:54,499 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1003)) - Successfully stored SCM signed certificate.
OM already initialized.Reusing existing cluster id for sd=/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/om;cid=ea104637-452a-4b33-9887-d125bcc1897f;layoutVersion=0
2021-05-25 10:30:54,501 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:30:54,503 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:30:54,510 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:30:54,511 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:30:54,511 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:30:54,511 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:30:54,511 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:30:54,512 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:54,512 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:54,512 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:54,512 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:54,512 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:54,516 [pool-20-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:54,516 [pool-20-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:54,520 [pool-20-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938654520,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:54,522 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:30:54,522 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:30:54,522 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:54,535 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/om/certs.
2021-05-25 10:30:54,537 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/om/certs/819852581705.crt.
2021-05-25 10:30:54,539 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/om/certs/ROOTCA-1.crt.
2021-05-25 10:30:54,540 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/om/certs/CA-818320052502.crt.
2021-05-25 10:30:54,541 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:54,542 [Listener at localhost/1202] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:30:54,542 [Listener at localhost/1202] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:30:54,587 [Listener at localhost/1202] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:30:54,592 [Listener at localhost/1202] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:30:54,592 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:30:54,592 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:30:54,592 [Listener at localhost/1202] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:30:54,592 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:30:54,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:30:54,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:30:54,594 [Listener at localhost/1202] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:30:54,595 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:30:54,596 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:30:54,596 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:30:54,597 [Listener at localhost/1202] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:30:54,597 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:30:54,597 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:30:54,597 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis] (custom)
2021-05-25 10:30:54,597 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - om1: found a subdirectory /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:30:54,600 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@57bdf341[Not completed]
2021-05-25 10:30:54,600 [pool-65-thread-1] INFO  server.RaftServer$Division (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:30:54,600 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:30:54,602 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:30:54,606 [pool-65-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:30:54,607 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis] (custom)
2021-05-25 10:30:54,607 [pool-65-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:30:54,603 [Listener at localhost/1202] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:54,608 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:30:54,619 [pool-65-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:54,620 [pool-65-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:30:54,634 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:30:54,641 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:30:54,657 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-05-25 10:30:54,663 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:55,622 [pool-65-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:55,622 [pool-65-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-05-25 10:30:56,094 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:30:56,095 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:30:56,095 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:30:56,095 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:30:56,099 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:30:56,100 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:30:56,100 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:30:56,100 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:56,102 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-05-25 10:30:56,108 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:56,109 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-05-25 10:30:56,110 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:30:56,110 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@6c4d3d94{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:30:56,111 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@22e458ae{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:30:56,112 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:30:56,112 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@2655dc00{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:30:56,112 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4ea33674{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:30:56,117 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:30:56,117 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:30:56,118 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-05-25 10:30:56,120 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:30:56,120 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:30:56,121 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:56,121 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:56,121 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:30:56,122 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:30:56,123 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-05-25 10:30:56,125 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-25 10:30:56,125 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-05-25 10:30:56,126 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:30:56,623 [pool-65-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:56,624 [pool-65-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-05-25 10:30:57,126 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(274)) - Replication Monitor Thread is not running.
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:30:57,127 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:30:57,127 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:30:57,128 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:30:57,129 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-05-25 10:30:57,129 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-05-25 10:30:57,129 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:30:57,624 [pool-65-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:57,625 [pool-65-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-05-25 10:30:58,625 [pool-65-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit2070608654502747239/junit2282409193864292610/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:30:58,626 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:30:58,626 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:30:58,626 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:30:58,627 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:30:58,627 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:30:58,627 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:30:58,627 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:30:58,653 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:30:58,654 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:30:58,655 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:30:58,655 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:30:58,655 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:30:58,657 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:30:58,817 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:58,818 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:30:58,818 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:30:58,818 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:30:58,818 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:30:59,084 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:30:59,406 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:59,406 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:59,407 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:59,407 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:59,411 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:59,411 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:59,411 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:59,411 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:59,411 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:d9263e79-dd32-47af-9794-2ca21362ab22,clusterId:2eb6e73b-ab88-4610-920e-4ff3b17f6aa2,subject:scm-sub@fv-az297-667
2021-05-25 10:30:59,423 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:30:59,431 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:30:59,431 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:30:59,431 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,433 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/scm/sub-ca/certs.
2021-05-25 10:30:59,435 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:30:59,437 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:30:59,438 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/scm/sub-ca/certs/824782961811.crt.
2021-05-25 10:30:59,441 [pool-66-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:59,441 [pool-66-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:59,450 [pool-66-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938659449,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:59,453 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:30:59,453 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:30:59,453 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,455 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,540 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:30:59,541 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:30:59,543 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:30:59,543 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:30:59,544 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:30:59,544 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:30:59,544 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:30:59,545 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:30:59,545 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:30:59,545 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:30:59,546 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:30:59,546 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:30:59,547 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:30:59,547 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:30:59,548 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:30:59,548 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:30:59,548 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:30:59,549 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:30:59,550 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:30:59,551 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:59,551 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:30:59,552 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 824782961811 on primary SCM
2021-05-25 10:30:59,553 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:30:59,554 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:59,554 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:30:59,559 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:59,561 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:30:59,566 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:59,566 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:30:59,572 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:30:59,573 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:30:59,579 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:30:59,580 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:30:59,580 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:30:59,580 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1186)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-05-25 10:30:59,582 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-25 10:30:59,582 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-25 10:30:59,582 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-25 10:30:59,589 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-25 10:30:59,590 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-25 10:30:59,596 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-05-25 10:30:59,598 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:59,598 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-05-25 10:30:59,611 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1201)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-05-25 10:30:59,611 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-05-25 10:30:59,612 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:59,612 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-05-25 10:30:59,626 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1207)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-05-25 10:30:59,626 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-05-25 10:30:59,628 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:59,628 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-05-25 10:30:59,646 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(378)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-05-25 10:30:59,647 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-05-25 10:30:59,648 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:30:59,655 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4a5a6f8d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:30:59,655 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-05-25 10:30:59,655 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:30:59,657 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:30:59,657 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:30:59,658 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:30:59,659 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-25 10:30:59,659 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:30:59,659 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:30:59,660 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-05-25 10:30:59,660 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:30:59,664 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:30:59,664 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:30:59,664 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-25 10:30:59,665 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@37ad4caa{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:30:59,665 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@382cf648{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:30:59,669 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@689a7000{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:30:59,670 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1ef1f4c3{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:30:59,670 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @15545ms
2021-05-25 10:30:59,670 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:30:59,671 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-05-25 10:30:59,671 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,672 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(990)) - Initializing secure OzoneManager.
2021-05-25 10:30:59,672 [Listener at 0.0.0.0/9860] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:30:59,672 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:30:59,672 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(58)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:30:59,859 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(996)) - Init response: GETCERT
2021-05-25 10:30:59,860 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:30:59,860 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:30:59,860 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:30:59,860 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:30:59,861 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:59,861 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:59,861 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:59,861 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:59,861 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1443)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:d9263e79-dd32-47af-9794-2ca21362ab22,clusterId:2eb6e73b-ab88-4610-920e-4ff3b17f6aa2,subject:scm@localhost
2021-05-25 10:30:59,864 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1459)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-05-25 10:30:59,873 [pool-66-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938659873,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:30:59,882 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:46497
2021-05-25 10:30:59,892 [IPC Server handler 1 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(156)) - Processing CSR for om localhost, UUID: 0e0454b8-b53c-40a1-a111-4b7360e063b4
2021-05-25 10:30:59,912 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1003)) - Successfully stored SCM signed certificate.
2021-05-25 10:30:59,914 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:30:59,914 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:30:59,914 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:30:59,914 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:30:59,914 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,918 [pool-66-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:30:59,918 [pool-66-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:30:59,923 [pool-66-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938659923,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:30:59,925 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:30:59,925 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:30:59,925 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,927 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/om/certs.
2021-05-25 10:30:59,929 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/om/certs/CA-824782961811.crt.
2021-05-25 10:30:59,930 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/om/certs/825261797978.crt.
2021-05-25 10:30:59,936 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/om/certs/ROOTCA-1.crt.
2021-05-25 10:30:59,937 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:30:59,939 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:30:59,939 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:00,017 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:00,017 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:00,017 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:00,030 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:00,030 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:00,030 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:00,030 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:00,032 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:00,032 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:00,033 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:00,033 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:00,033 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:00,034 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:00,036 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:00,036 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:00,036 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:00,037 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis] (custom)
2021-05-25 10:31:00,040 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@29c2352[Not completed]
2021-05-25 10:31:00,040 [Listener at 0.0.0.0/9860] INFO  2021-05-25 10:31:00,040 [pool-96-thread-1] om.OzoneManagerINFO ( OzoneManager.java :initializeRatisServer(server.RaftServer$Division1294 ()) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:00,040 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:00,043 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:00,043 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:00,044 [pool-96-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:00,049 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis] (custom)
2021-05-25 10:31:00,050 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:00,050 [pool-96-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:00,050 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:00,070 [pool-96-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:00,072 [pool-96-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:00,074 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:00,074 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit2944627843052350763/junit5439381425896089258/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:00,075 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:00,076 [pool-96-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:00,077 [pool-96-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:00,078 [pool-96-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:00,107 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:00,107 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:00,110 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:00,111 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:00,112 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:00,112 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:00,112 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:00,120 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-05-25 10:31:00,123 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:02,546 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:02,546 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:02,547 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:02,547 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:02,549 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:02,549 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-05-25 10:31:02,549 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:02,549 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:02,550 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:02,555 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-05-25 10:31:02,555 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:02,555 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:02,556 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@689a7000{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:31:02,556 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1ef1f4c3{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:31:02,557 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:31:02,557 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@382cf648{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:31:02,557 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@37ad4caa{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:31:02,559 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:02,559 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:02,559 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-05-25 10:31:02,569 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:02,569 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:02,569 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:02,569 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:02,571 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:02,573 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:02,574 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-05-25 10:31:02,576 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-25 10:31:02,577 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-05-25 10:31:02,578 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:02,578 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:02,578 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:02,579 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:02,579 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:02,579 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:02,579 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:02,579 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:02,580 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:02,580 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:02,581 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:03,581 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(274)) - Replication Monitor Thread is not running.
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:03,582 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:03,582 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:03,583 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-05-25 10:31:03,586 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-05-25 10:31:03,586 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:03,586 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:03,642 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:03,643 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:03,643 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:03,643 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:03,643 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:03,643 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:03,644 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:03,645 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:03,645 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:03,647 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:04,063 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,064 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:04,064 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:04,064 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:04,070 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:04,122 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:04,326 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:04,326 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:04,326 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:04,327 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:04,332 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:04,332 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:04,332 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:04,332 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:04,333 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:3bce8682-60ff-4285-9587-7141b2f05997,clusterId:61d67003-9ea5-452c-9a9d-217fd070a68c,subject:scm-sub@fv-az297-667
2021-05-25 10:31:04,344 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:04,347 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:04,347 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:04,348 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,348 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:04,350 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:04,354 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:04,356 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/scm/sub-ca/certs/829704383892.crt.
2021-05-25 10:31:04,376 [pool-97-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:04,376 [pool-97-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:04,379 [pool-97-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938664379,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:04,381 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:31:04,381 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:31:04,381 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,381 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,460 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:31:04,460 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:31:04,465 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:31:04,465 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:31:04,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:31:04,466 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:31:04,466 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:31:04,467 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:31:04,467 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:31:04,467 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:31:04,468 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:31:04,468 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:31:04,469 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:31:04,469 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:31:04,470 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:31:04,470 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:31:04,471 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:31:04,471 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:31:04,472 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:04,472 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:04,473 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:31:04,473 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 829704383892 on primary SCM
2021-05-25 10:31:04,475 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:31:04,476 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:04,478 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:31:04,483 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:04,486 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:31:04,487 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:04,488 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:31:04,489 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:04,491 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:31:04,493 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:31:04,493 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:31:04,493 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:31:04,498 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,500 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:04,501 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:04,501 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:04,502 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:04,502 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,505 [pool-97-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:04,505 [pool-97-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:04,516 [pool-97-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938664516,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:04,518 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:31:04,518 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:31:04,518 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,520 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:04,521 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:04,521 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:04,616 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:04,616 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:04,616 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:04,617 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:04,617 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:04,617 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:04,618 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:04,619 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:04,619 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:04,619 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:04,620 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:04,621 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:04,621 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:04,621 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:04,622 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:04,622 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:04,622 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:04,623 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis] (custom)
2021-05-25 10:31:04,623 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@1070cf8c[Not completed]
2021-05-25 10:31:04,623 [pool-125-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:04,623 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:04,624 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:04,626 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis] (custom)
2021-05-25 10:31:04,627 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:04,627 [pool-125-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:04,624 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:04,628 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:04,628 [pool-125-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:04,633 [pool-125-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:04,634 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit456073467687622087/junit8494314575690405822/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:04,635 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:04,636 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:04,636 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:04,636 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:04,636 [pool-125-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:04,636 [pool-125-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:04,642 [pool-125-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:04,647 [Listener at localhost/1202] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2021-05-25 10:31:04,649 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-25 10:31:04,649 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2021-05-25 10:31:04,659 [Listener at localhost/1202] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-25 10:31:04,659 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-25 10:31:04,667 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-05-25 10:31:04,667 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-05-25 10:31:04,671 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:04,672 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-25 10:31:04,673 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:04,674 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:04,675 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:04,678 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-05-25 10:31:04,725 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-05-25 10:31:04,730 [Listener at localhost/1202] ERROR om.OzoneManager (OzoneManager.java:startSecretManager(766)) - Unable to read key pair for OM.
org.apache.hadoop.hdds.security.OzoneSecurityException: Error reading keypair & certificate
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:290)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManager(OzoneManager.java:764)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManagerIfNecessary(OzoneManager.java:1394)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1113)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmInitializationSuccess(TestSecureOzoneCluster.java:458)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:286)
	... 19 more
2021-05-25 10:31:04,731 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:04,732 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@2a586873] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-05-25 10:31:05,731 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:05,732 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:05,732 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:07,466 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:07,467 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:07,468 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:07,468 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1320)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1318)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:07,469 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:07,469 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:07,470 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:07,470 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:07,471 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:07,471 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:07,471 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:07,473 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:07,475 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-05-25 10:31:07,476 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-05-25 10:31:07,476 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:07,476 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:07,476 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = -1
2021-05-25 10:31:07,477 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - om1@group-C5BA1605619E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-25 10:31:07,477 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:07,478 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: -1
2021-05-25 10:31:07,479 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-25 10:31:07,484 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-05-25 10:31:07,485 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:07,485 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:07,485 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:07,486 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-05-25 10:31:07,492 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-05-25 10:31:07,493 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@2a586873] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-05-25 10:31:07,493 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:07,493 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:07,494 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:07,494 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:07,494 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:07,494 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:07,494 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:07,523 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:07,523 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:07,523 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:07,524 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:07,524 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:07,524 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:07,524 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:07,525 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:07,527 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:07,664 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:07,669 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:07,669 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:07,669 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:07,669 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:07,669 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:07,673 [pool-128-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:07,673 [pool-128-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:07,680 [pool-128-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938667679,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:07,681 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:31:07,681 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:31:07,685 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:07,687 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:07,688 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:07,688 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:07,778 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:07,779 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:07,780 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:07,781 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:07,781 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:07,781 [Time-limited test] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:07,782 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:07,783 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:07,783 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:07,783 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:07,784 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:07,784 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:07,784 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:07,784 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:07,784 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:07,785 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:07,785 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:07,785 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:07,785 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:07,785 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:07,786 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:07,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:07,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:07,787 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis] (custom)
2021-05-25 10:31:07,787 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@50b446f0[Not completed]
2021-05-25 10:31:07,787 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:07,787 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:07,789 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:07,789 [pool-142-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:07,790 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis] (custom)
2021-05-25 10:31:07,790 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:07,791 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:07,791 [pool-142-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:07,797 [pool-142-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:07,798 [pool-142-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:07,799 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:07,799 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:07,799 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:07,799 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:07,799 [pool-142-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:07,801 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:07,802 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:07,803 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:07,803 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:07,803 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:07,803 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:07,808 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:07,808 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:07,808 [pool-142-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:07,809 [pool-142-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:07,810 [pool-142-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:07,958 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-25 10:31:07,959 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-05-25 10:31:07,959 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-05-25 10:31:07,959 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:07,959 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-25 10:31:07,960 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:07,960 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:07,961 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:07,965 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-05-25 10:31:07,966 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-05-25 10:31:07,966 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@28407387] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-05-25 10:31:07,966 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-05-25 10:31:07,970 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-05-25 10:31:07,972 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-05-25 10:31:07,982 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-05-25 10:31:07,982 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:31:07,983 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:31:07,984 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:31:07,986 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:31:07,987 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-25 10:31:07,987 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:31:07,987 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:31:07,989 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-05-25 10:31:07,989 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:31:07,995 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:31:07,995 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:31:07,995 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-25 10:31:07,996 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@23a0a2a4{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:31:07,996 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@205d9260{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:31:08,001 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2442c5bf{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:08,002 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2fd2c2f6{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:08,002 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @23877ms
2021-05-25 10:31:08,002 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:31:08,003 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-05-25 10:31:08,005 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:08,006 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-05-25 10:31:08,019 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-25 10:31:08,022 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3d51f484] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:31:08,378 [pool-128-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938668378,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:31:08,391 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:39625
2021-05-25 10:31:10,443 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-05-25 10:31:13,024 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5064051506ns, electionTimeout:5062ms
2021-05-25 10:31:13,025 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:13,025 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-25 10:31:13,029 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-25 10:31:13,029 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-05-25 10:31:13,034 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:13,035 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-05-25 10:31:13,036 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-05-25 10:31:13,036 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-25 10:31:13,036 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5237ms
2021-05-25 10:31:13,042 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-25 10:31:13,046 [om1@group-C5BA1605619E-LeaderElection1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:13,049 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-25 10:31:13,049 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:13,055 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-25 10:31:13,055 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-25 10:31:13,056 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-25 10:31:13,061 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:13,085 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-25 10:31:13,116 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-05-25 10:31:13,177 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit3630932319216220193/junit1965909618913067231/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-05-25 10:31:14,724 [OM StateMachine ApplyTransaction Thread - 0] INFO  security.S3RevokeSecretRequest (S3RevokeSecretRequest.java:validateAndUpdateCache(146)) - Secret for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM is revoked.
2021-05-25 10:31:14,728 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:14,744 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:14,745 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-05-25 10:31:14,745 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-05-25 10:31:14,745 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-05-25 10:31:14,746 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:14,746 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:14,747 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-05-25 10:31:14,748 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:14,748 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:14,749 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:8)
2021-05-25 10:31:14,749 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-05-25 10:31:14,750 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-05-25 10:31:14,750 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-05-25 10:31:14,750 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:14,751 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-05-25 10:31:14,751 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-25 10:31:14,753 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-05-25 10:31:14,754 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:14,754 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:14,754 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:14,754 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-05-25 10:31:14,757 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-05-25 10:31:14,757 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@28407387] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-05-25 10:31:14,757 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:14,757 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:14,757 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:14,758 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:14,758 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:14,758 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:14,758 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-25 10:31:14,758 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:14,758 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:14,759 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2442c5bf{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:14,760 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2fd2c2f6{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:14,760 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:31:14,761 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@205d9260{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:31:14,761 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@23a0a2a4{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:31:14,765 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:15,765 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:15,765 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:15,766 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:15,793 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:15,794 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:15,797 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:16,019 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,019 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:16,020 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:16,020 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:16,020 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:16,281 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:16,442 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:16,443 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:16,443 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:16,443 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:16,448 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:16,448 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:16,449 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:16,449 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:16,449 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:1817219d-7f5e-483e-8cbd-62b002bd36e0,clusterId:7e811bc2-10a0-4b27-a2d0-61b9d235b0b7,subject:scm-sub@fv-az297-667
2021-05-25 10:31:16,459 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:16,461 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:16,461 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:16,462 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,463 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:16,465 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/scm/sub-ca/certs/841819673948.crt.
2021-05-25 10:31:16,467 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:16,468 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:16,471 [pool-144-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:16,471 [pool-144-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:16,480 [pool-144-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938676479,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:16,482 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:31:16,482 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:31:16,482 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,482 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,570 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:31:16,570 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:31:16,572 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:31:16,573 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:31:16,573 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:31:16,573 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:31:16,574 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:31:16,575 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:31:16,575 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:31:16,575 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:31:16,576 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:31:16,576 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:31:16,580 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:31:16,580 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:31:16,582 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:31:16,582 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:31:16,583 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:31:16,583 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:31:16,584 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:16,586 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:16,586 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 841819673948 on primary SCM
2021-05-25 10:31:16,587 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:31:16,588 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:16,588 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:31:16,594 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:31:16,596 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:16,597 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:31:16,602 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:16,603 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:31:16,604 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:16,605 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:31:16,610 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:31:16,610 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:31:16,610 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:31:16,611 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,614 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:16,614 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:16,614 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:16,614 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:16,614 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,617 [pool-144-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:16,617 [pool-144-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:16,622 [pool-144-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938676621,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:16,624 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:31:16,624 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:31:16,624 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,626 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:16,627 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:16,628 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:16,716 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:16,716 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:16,716 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:16,717 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:16,717 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:16,717 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:16,718 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:16,719 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:16,719 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:16,720 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:16,721 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:16,721 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:16,721 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:16,721 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis] (custom)
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@7ef7f3c6[Not completed]
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:16,723 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:16,724 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:16,730 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis] (custom)
2021-05-25 10:31:16,731 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:16,731 [pool-172-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:16,725 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:16,732 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:16,742 [pool-172-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:16,745 [pool-172-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:16,746 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:16,747 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:16,747 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:16,747 [pool-172-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:16,747 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:16,748 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:16,749 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:16,749 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:16,762 [pool-172-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:16,762 [pool-172-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:16,769 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:16,770 [pool-172-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:16,771 [pool-172-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:17,184 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-25 10:31:17,184 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-05-25 10:31:17,184 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-05-25 10:31:17,185 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:17,185 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-25 10:31:17,185 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:17,185 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:17,186 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:17,187 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-05-25 10:31:17,194 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-05-25 10:31:17,194 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-05-25 10:31:17,194 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-05-25 10:31:17,195 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@14d0b38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-05-25 10:31:17,195 [Thread[Thread-1181,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-05-25 10:31:17,198 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-05-25 10:31:17,198 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:31:17,199 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:31:17,200 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:31:17,201 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:31:17,202 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-25 10:31:17,202 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:31:17,202 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:31:17,203 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-05-25 10:31:17,203 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:31:17,204 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:31:17,204 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:31:17,204 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-25 10:31:17,205 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@12cd8b19{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:31:17,205 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@1504a73b{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:31:17,208 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@34af8416{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:17,209 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4dc2e719{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:17,209 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @33084ms
2021-05-25 10:31:17,209 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:31:17,210 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-05-25 10:31:17,210 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:17,215 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-05-25 10:31:17,232 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-25 10:31:17,233 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@49173e98] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:31:17,236 [pool-144-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:17,236 [pool-144-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:17,240 [pool-144-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938677240,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:17,252 [pool-144-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938677251,test for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:31:17,259 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 127.0.0.1:58842
2021-05-25 10:31:19,283 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-05-25 10:31:22,362 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5177328685ns, electionTimeout:5176ms
2021-05-25 10:31:22,363 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:22,363 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-25 10:31:22,363 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-25 10:31:22,363 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection2
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: result PASSED (term=1)
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection2
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5621ms
2021-05-25 10:31:22,367 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-25 10:31:22,368 [om1@group-C5BA1605619E-LeaderElection2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:22,370 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-25 10:31:22,370 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:22,370 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-25 10:31:22,370 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-25 10:31:22,370 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-25 10:31:22,371 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:22,371 [om1@group-C5BA1605619E-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-25 10:31:22,378 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-05-25 10:31:22,378 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit1801868168028759727/junit83783993008133379/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-05-25 10:31:23,292 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:vol1 for user:owner1
2021-05-25 10:31:23,316 [Listener at localhost/1202] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy44.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy44.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransport.submitRequest(Hadoop3OmTransport.java:80)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:221)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listVolume(OzoneManagerProtocolClientSideTranslatorPB.java:425)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listAllVolumes(OzoneManagerProtocolClientSideTranslatorPB.java:414)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testAccessControlExceptionOnClient$5(TestSecureOzoneCluster.java:511)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAccessControlExceptionOnClient(TestSecureOzoneCluster.java:510)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:23,318 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:24,318 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:24,319 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:24,319 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:24,320 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:25,574 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:25,574 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:25,574 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:25,574 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:25,575 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1320)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1318)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:25,575 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:25,576 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:25,576 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:25,576 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:25,576 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:25,576 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:25,578 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:25,580 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-05-25 10:31:25,583 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:25,586 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-05-25 10:31:25,586 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-05-25 10:31:25,587 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:25,588 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:25,588 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-05-25 10:31:25,589 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:25,589 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:25,590 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 2
2021-05-25 10:31:25,590 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:2)
2021-05-25 10:31:25,590 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 2
2021-05-25 10:31:25,590 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
2021-05-25 10:31:25,590 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:25,590 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 2
2021-05-25 10:31:25,591 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-25 10:31:25,592 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-05-25 10:31:25,592 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:25,593 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:25,593 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:25,593 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-05-25 10:31:25,593 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-05-25 10:31:25,593 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@14d0b38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:25,594 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:25,594 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-25 10:31:25,597 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:25,597 [Thread[Thread-1181,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:25,598 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@34af8416{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:25,598 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4dc2e719{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:25,599 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:31:25,599 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@1504a73b{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:31:25,599 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@12cd8b19{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:31:25,619 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:25,619 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:25,620 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:25,620 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:25,620 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:25,620 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:25,620 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:25,621 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:25,621 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:25,621 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:25,621 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:25,621 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:25,623 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:25,888 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:25,888 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:25,888 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:25,888 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:25,888 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:26,418 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:26,579 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:26,579 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:26,579 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:26,579 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:26,584 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:26,584 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:26,584 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:26,584 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:26,585 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:dbe0ed36-c43a-4694-b83c-733a6a0c7949,clusterId:d2fff451-424a-41ee-ad07-33df6f4929ca,subject:scm-sub@fv-az297-667
2021-05-25 10:31:26,596 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:26,598 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:26,598 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:26,599 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:26,599 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit7039911985717532230/junit6777405222764141713/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:26,601 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit7039911985717532230/junit6777405222764141713/scm-meta/scm/sub-ca/certs/851956221550.crt.
2021-05-25 10:31:26,602 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit7039911985717532230/junit6777405222764141713/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:26,604 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit7039911985717532230/junit6777405222764141713/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:26,608 [pool-175-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:26,609 [pool-175-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:26,615 [pool-175-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938686613,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:26,622 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:31:26,623 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:31:26,623 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:26,624 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:26,707 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:31:26,707 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:31:26,710 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:31:26,710 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:31:26,710 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:31:26,710 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:31:26,711 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:31:26,712 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:31:26,713 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:31:26,713 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:31:26,713 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:31:26,713 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:31:26,714 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:31:26,715 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:31:26,715 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:31:26,716 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:31:26,718 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:31:26,718 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:31:26,719 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:26,720 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:26,720 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 851956221550 on primary SCM
2021-05-25 10:31:26,721 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:31:26,722 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:26,726 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:31:26,728 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:26,728 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:31:26,730 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:31:26,731 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:26,731 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:31:26,733 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:26,733 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:31:26,737 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:31:26,743 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:31:26,743 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:31:26,744 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:27,745 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:29,711 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:29,711 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:29,711 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:29,711 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:29,712 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:29,712 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:29,712 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:29,712 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:29,712 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1320)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1318)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:29,713 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:29,714 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:29,740 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:29,741 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:29,741 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:29,741 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:29,741 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:29,741 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:29,742 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:29,742 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:29,742 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:29,742 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:29,742 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:29,743 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:29,746 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:30,135 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,136 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:30,136 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:30,136 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:30,136 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:30,241 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:30,391 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:30,391 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:30,392 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:30,392 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:30,396 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:30,397 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:30,397 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:30,397 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:30,397 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:69d33e2c-8946-4dbd-98fc-a07e8c655aec,clusterId:1ad1f90e-185e-480e-b294-018635def03a,subject:scm-sub@fv-az297-667
2021-05-25 10:31:30,409 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:30,411 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:30,411 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:30,412 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,412 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:30,414 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/scm/sub-ca/certs/855768308343.crt.
2021-05-25 10:31:30,416 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:30,418 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:30,430 [pool-190-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:30,430 [pool-190-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:30,441 [pool-190-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938690441,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:30,443 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:31:30,444 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:31:30,444 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,444 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,535 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:31:30,535 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:31:30,539 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:31:30,539 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:31:30,539 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:31:30,540 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:31:30,541 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:31:30,543 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:31:30,543 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:31:30,543 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:31:30,543 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:31:30,543 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:31:30,544 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:31:30,545 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:31:30,546 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:31:30,546 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:31:30,548 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:31:30,549 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:31:30,549 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:31:30,552 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:30,553 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:30,554 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 855768308343 on primary SCM
2021-05-25 10:31:30,555 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:31:30,556 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:30,558 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:31:30,563 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:30,565 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:31:30,571 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:30,572 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:31:30,573 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:30,573 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:31:30,580 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:31:30,580 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:31:30,580 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:31:30,581 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,583 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:30,583 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:30,583 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:30,583 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:30,583 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,586 [pool-190-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:30,587 [pool-190-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:30,591 [pool-190-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938690590,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:30,593 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:31:30,593 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:31:30,593 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,595 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,600 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:30,600 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:30,713 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:30,713 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:30,713 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:30,725 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:30,726 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:30,726 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:30,726 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:30,727 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:30,728 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:30,729 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:30,729 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:30,729 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:30,729 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:30,730 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:30,731 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:30,732 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:30,732 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:30,732 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:30,732 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis] (custom)
2021-05-25 10:31:30,733 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@6d13de9[Not completed]
2021-05-25 10:31:30,733 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294RaftServerImpl.java:)) - OzoneManager Ratis server initialized at port 9872
<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:30,733 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:30,733 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:30,734 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:30,734 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:30,735 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:30,735 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:30,735 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:30,735 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:30,744 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:30,744 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:30,744 [pool-218-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:30,745 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis] (custom)
2021-05-25 10:31:30,745 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:30,745 [pool-218-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:30,746 [pool-218-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:30,748 [pool-218-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:30,748 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:30,749 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:30,750 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:30,750 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:30,750 [pool-218-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:30,750 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:30,751 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:30,751 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:30,751 [pool-218-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit8037753628500377743/junit783902005849003796/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:30,751 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:30,752 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:30,749 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:30,758 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:30,758 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:30,758 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:30,758 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:30,758 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:30,760 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:30,761 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:30,764 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:30,764 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:30,764 [pool-218-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:30,764 [pool-218-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:30,765 [pool-218-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:30,771 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:30,771 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:30,772 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:30,772 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:30,772 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,772 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:30,772 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:30,773 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:30,773 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:30,773 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:30,778 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:31,778 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:31,779 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:31,779 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:33,541 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:33,541 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:33,541 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:33,541 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:33,541 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:33,542 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:33,542 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:33,542 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:33,542 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1320)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1318)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:33,542 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:33,542 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:33,543 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:33,543 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:33,543 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:33,543 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:33,543 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:33,545 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:33,546 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:33,546 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:33,546 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:33,546 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:33,547 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:33,547 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:33,547 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:33,568 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:33,569 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:33,569 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:33,569 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:33,569 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:33,570 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:33,574 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:33,891 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:33,894 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-05-25 10:31:33,894 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-05-25 10:31:33,894 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-05-25 10:31:33,894 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-05-25 10:31:33,894 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:33,900 [pool-219-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:33,900 [pool-219-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:33,904 [pool-219-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938693903,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:33,906 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-05-25 10:31:33,906 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-05-25 10:31:33,907 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:33,909 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:33,910 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:33,910 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-25 10:31:33,999 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-05-25 10:31:33,999 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.token.max-lifetime(1000) assuming MILLISECONDS
2021-05-25 10:31:33,999 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-05-25 10:31:34,000 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-05-25 10:31:34,000 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-05-25 10:31:34,000 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:34,001 [Time-limited test] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-25 10:31:34,001 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-25 10:31:34,002 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-05-25 10:31:34,002 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-25 10:31:34,003 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:34,003 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-05-25 10:31:34,003 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-25 10:31:34,003 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:34,004 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-25 10:31:34,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-25 10:31:34,005 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-25 10:31:34,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:34,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:34,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis] (custom)
2021-05-25 10:31:34,005 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@27b9cbb2[Not completed]
2021-05-25 10:31:34,006 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-25 10:31:34,006 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-05-25 10:31:34,010 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-25 10:31:34,011 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-25 10:31:34,012 [pool-233-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-25 10:31:34,012 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis] (custom)
2021-05-25 10:31:34,013 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-25 10:31:34,013 [pool-233-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-05-25 10:31:34,018 [pool-233-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5542@fv-az297-667
2021-05-25 10:31:34,018 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-05-25 10:31:34,020 [pool-233-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-05-25 10:31:34,020 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-05-25 10:31:34,020 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-25 10:31:34,020 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-25 10:31:34,021 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:34,022 [pool-233-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-25 10:31:34,023 [pool-233-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100s (default)
2021-05-25 10:31:34,136 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-25 10:31:34,137 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-05-25 10:31:34,137 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-05-25 10:31:34,137 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:34,137 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-25 10:31:34,137 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:34,140 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:34,140 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:34,141 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-05-25 10:31:34,142 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-05-25 10:31:34,145 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-05-25 10:31:34,145 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-05-25 10:31:34,145 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@6215e2fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-05-25 10:31:34,146 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-05-25 10:31:34,150 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-05-25 10:31:34,150 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:31:34,151 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:31:34,152 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:31:34,153 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:31:34,153 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-25 10:31:34,154 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:31:34,154 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:31:34,154 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-05-25 10:31:34,154 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:31:34,156 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:31:34,156 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:31:34,156 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-25 10:31:34,157 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@2a457f35{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:31:34,157 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@1ee23b8a{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:31:34,163 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@9942889{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:34,164 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@51703a1c{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:34,164 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @50039ms
2021-05-25 10:31:34,164 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:31:34,165 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-05-25 10:31:34,165 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:34,169 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-05-25 10:31:34,178 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-25 10:31:34,178 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@55d88c77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:31:34,190 [pool-219-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938694189,om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:31:34,196 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:34891
2021-05-25 10:31:36,204 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-05-25 10:31:39,260 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5122563915ns, electionTimeout:5120ms
2021-05-25 10:31:39,260 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-05-25 10:31:39,260 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-25 10:31:39,260 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-25 10:31:39,261 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection3
2021-05-25 10:31:39,264 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-05-25 10:31:39,264 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: result PASSED (term=1)
2021-05-25 10:31:39,264 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection3
2021-05-25 10:31:39,264 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-25 10:31:39,264 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5244ms
2021-05-25 10:31:39,265 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-25 10:31:39,265 [om1@group-C5BA1605619E-LeaderElection3] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:39,265 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-25 10:31:39,265 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-25 10:31:39,265 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-25 10:31:39,266 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-25 10:31:39,266 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-25 10:31:39,266 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:39,266 [om1@group-C5BA1605619E-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-25 10:31:39,272 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-05-25 10:31:39,273 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit5317926322237454363/junit461482150607404069/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-05-25 10:31:41,272 [IPC Server handler 9 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1603)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-05-25T10:31:41.262Z, maxDate=2021-05-25T10:31:42.262Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: om tries to renew a token (OzoneToken owner=om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-05-25T10:31:41.262Z, maxDate=2021-05-25T10:31:42.262Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) with non-matching renewer randomService
2021-05-25 10:31:41,308 [IPC Server handler 7 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1603)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-05-25T10:31:40.210Z, maxDate=2072-10-16T21:03:22.612Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: token (OzoneToken owner=om/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-05-25T10:31:40.210Z, maxDate=2072-10-16T21:03:22.612Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) can't be found in cache
2021-05-25 10:31:41,309 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:41,316 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-05-25 10:31:41,316 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:41,317 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-05-25 10:31:41,317 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-05-25 10:31:41,317 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-05-25 10:31:41,317 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-05-25 10:31:41,317 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-05-25 10:31:41,318 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-05-25 10:31:41,318 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:41,319 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 6
2021-05-25 10:31:41,319 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:6)
2021-05-25 10:31:41,319 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 6
2021-05-25 10:31:41,319 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-05-25 10:31:41,319 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-05-25 10:31:41,319 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 6
2021-05-25 10:31:41,319 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-25 10:31:41,320 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-05-25 10:31:41,321 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-05-25 10:31:41,321 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-05-25 10:31:41,321 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-05-25 10:31:41,321 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-05-25 10:31:41,322 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-05-25 10:31:41,322 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$554/1658652810@6215e2fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-05-25 10:31:41,322 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-25 10:31:41,322 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-25 10:31:41,322 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:41,323 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:41,323 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-25 10:31:41,323 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-25 10:31:41,323 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-25 10:31:41,323 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:41,323 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:41,324 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@9942889{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-25 10:31:41,324 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@51703a1c{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-05-25 10:31:41,325 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:31:41,326 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@1ee23b8a{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:31:41,327 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@2a457f35{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:31:41,329 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:42,329 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:42,330 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-05-25 10:31:42,330 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:42,352 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:42,353 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:42,354 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:42,354 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:42,357 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:42,421 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:42,422 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:42,422 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:42,422 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:42,423 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:42,686 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:42,900 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:42,900 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:42,901 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:42,901 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:42,905 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:42,906 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:42,906 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:42,906 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:42,906 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:64066791-6f04-4185-8ed6-cf8d82473a64,clusterId:58d18a9b-0d23-4230-9ca0-1b65bd113064,subject:scm-sub@fv-az297-667
2021-05-25 10:31:42,917 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:42,920 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:42,920 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:42,921 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:42,921 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:42,923 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:42,926 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:42,927 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/868277677768.crt.
2021-05-25 10:31:42,928 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:42,928 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:42,929 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:42,929 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:42,931 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:42,932 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:42,934 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/868277677768.crt.
2021-05-25 10:31:42,935 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:42,935 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:42,935 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:42,936 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:42,938 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:42,939 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:42,941 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/868277677768.crt.
2021-05-25 10:31:42,941 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:42,941 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:42,941 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:42,942 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:42,943 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:42,945 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:42,947 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit1028387708560257442/junit3656425769047616385/scm-meta/scm/sub-ca/certs/868277677768.crt.
2021-05-25 10:31:42,947 [Time-limited test] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:43,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:43,969 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-05-25 10:31:43,970 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-05-25 10:31:43,970 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-05-25 10:31:43,970 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-05-25 10:31:43,970 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-05-25 10:31:43,970 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-05-25 10:31:43,970 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-05-25 10:31:43,971 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-05-25 10:31:43,973 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-05-25 10:31:44,354 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:44,354 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(90)) - Initializing secure StorageContainerManager.
2021-05-25 10:31:44,354 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(248)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-05-25 10:31:44,354 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(701)) - Certificate client init case: 0
2021-05-25 10:31:44,354 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-05-25 10:31:45,189 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(95)) - Init response: GETCERT
2021-05-25 10:31:45,290 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:45,290 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:45,290 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:45,290 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:45,295 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:20d:3aff:fe5d:bfbe%eth0 not returned.
2021-05-25 10:31:45,295 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.21,host:fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net
2021-05-25 10:31:45,296 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-05-25 10:31:45,296 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-05-25 10:31:45,296 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(274)) - Creating csr for SCM->hostName:fv-az297-667,scmId:e1d78f69-65ee-4992-ac8c-d7a0ab8b309b,clusterId:e1320dcd-3201-4efa-aa5e-b5645063564f,subject:scm-sub@fv-az297-667
2021-05-25 10:31:45,306 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(108)) - Successfully stored SCM signed certificate.
2021-05-25 10:31:45,309 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is null
2021-05-25 10:31:45,309 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(154)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-05-25 10:31:45,309 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:45,312 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(124)) - Loading certificate from location:/tmp/junit5800855650166878216/junit4640011364597160065/scm-meta/scm/sub-ca/certs.
2021-05-25 10:31:45,314 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit5800855650166878216/junit4640011364597160065/scm-meta/scm/sub-ca/certs/870666681490.crt.
2021-05-25 10:31:45,315 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit5800855650166878216/junit4640011364597160065/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-05-25 10:31:45,317 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(165)) - Added certificate from file:/tmp/junit5800855650166878216/junit4640011364597160065/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-05-25 10:31:45,320 [pool-237-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:45,320 [pool-237-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:45,325 [pool-237-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938705325,scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:45,327 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-05-25 10:31:45,327 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(765)) - SCM login successful.
2021-05-25 10:31:45,327 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:45,328 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-25 10:31:45,423 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/runner/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-25 10:31:45,423 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-25 10:31:45,430 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-25 10:31:45,431 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-25 10:31:45,432 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-25 10:31:45,432 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-25 10:31:45,433 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-25 10:31:45,436 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-25 10:31:45,436 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-25 10:31:45,436 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-25 10:31:45,437 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-25 10:31:45,437 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-25 10:31:45,438 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-25 10:31:45,439 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-25 10:31:45,440 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-25 10:31:45,440 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-25 10:31:45,441 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-25 10:31:45,442 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-25 10:31:45,446 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:45,447 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-05-25 10:31:45,447 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(677)) - Storing sub-ca certificate serialId 870666681490 on primary SCM
2021-05-25 10:31:45,448 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(685)) - Storing root certificate serialId 1
2021-05-25 10:31:45,449 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:45,450 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-25 10:31:45,454 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-05-25 10:31:45,457 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:45,457 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-05-25 10:31:45,459 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:45,459 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-05-25 10:31:45,460 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-25 10:31:45,461 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-05-25 10:31:45,464 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-25 10:31:45,464 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-25 10:31:45,464 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-25 10:31:45,465 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1186)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-05-25 10:31:45,465 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-25 10:31:45,468 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-05-25 10:31:45,472 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:45,474 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-05-25 10:31:45,487 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1201)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-05-25 10:31:45,489 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-05-25 10:31:45,489 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:45,490 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-05-25 10:31:45,505 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1207)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-05-25 10:31:45,505 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-05-25 10:31:45,508 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:45,508 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-05-25 10:31:45,525 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(378)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-05-25 10:31:45,526 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-25 10:31:45,526 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-05-25 10:31:45,534 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4a54ed31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-25 10:31:45,535 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-05-25 10:31:45,535 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-05-25 10:31:45,537 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-25 10:31:45,538 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-25 10:31:45,538 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-25 10:31:45,539 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-25 10:31:45,539 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-25 10:31:45,539 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-25 10:31:45,540 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-05-25 10:31:45,540 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-05-25 10:31:45,543 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-25 10:31:45,543 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-25 10:31:45,543 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-25 10:31:45,543 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5a63ecdb{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-25 10:31:45,544 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@33ded570{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-25 10:31:45,547 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@15b2a5df{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:31:45,548 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@49596fb4{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:31:45,548 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @61423ms
2021-05-25 10:31:45,548 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-25 10:31:45,549 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-05-25 10:31:45,551 [pool-237-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-05-25 10:31:45,551 [pool-237-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-05-25 10:31:45,555 [pool-237-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1621938705555,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-05-25 10:31:45,580 [pool-237-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1621938705580,test for scm/fv-az297-667.nmf1rxwemy4u5di1sxxf4ejcwb.jx.internal.cloudapp.net@EXAMPLE.COM
2021-05-25 10:31:45,595 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.21:53222
2021-05-25 10:31:45,720 [IPC Server handler 0 on default port 9860] INFO  ipc.Server (Server.java:logException(3018)) - IPC Server handler 0 on default port 9860, call Call#19 Retry#0 org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocol.submitRequest from 10.1.0.21:53222
org.apache.hadoop.security.AccessControlException: Access denied for user test@EXAMPLE.COM. Superuser privilege is required.
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.checkAdminAccess(StorageContainerManager.java:1505)
	at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer.forceExitSafeMode(SCMClientProtocolServer.java:646)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolServerSideTranslatorPB.java:588)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.processRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:285)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.submitRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:155)
	at org.apache.hadoop.hdds.protocol.proto.StorageContainerLocationProtocolProtos$StorageContainerLocationProtocolService$2.callBlockingMethod(StorageContainerLocationProtocolProtos.java:48216)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
2021-05-25 10:31:45,730 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy39.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRpcRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:160)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:144)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolClientSideTranslatorPB.java:674)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.hadoop.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAdminAccessControlException(TestSecureOzoneCluster.java:360)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-05-25 10:31:45,733 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:45,733 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-25 10:31:45,733 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:45,734 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:45,734 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:45,734 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:45,734 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:45,740 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-05-25 10:31:45,740 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:48,433 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-25 10:31:48,433 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:48,433 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:48,433 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:48,435 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-05-25 10:31:48,436 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:48,436 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:48,436 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:48,436 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:48,439 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-05-25 10:31:48,448 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:48,448 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:48,449 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@15b2a5df{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-25 10:31:48,451 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@49596fb4{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-05-25 10:31:48,451 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-25 10:31:48,452 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@33ded570{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-25 10:31:48,452 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5a63ecdb{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-25 10:31:48,452 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:48,453 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:48,453 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-05-25 10:31:48,453 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-25 10:31:48,454 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:48,454 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:48,454 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:48,457 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:48,458 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-25 10:31:48,460 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-05-25 10:31:48,463 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-25 10:31:48,468 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-05-25 10:31:48,468 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1274)) - Stopping Replication Manager Service.
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(274)) - Replication Monitor Thread is not running.
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1281)) - Stopping the Datanode Admin Monitor.
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1288)) - Stopping Lease Manager of the command watchers
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1291)) - Lease Manager of the command watchers stop failed
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1295)) - Stopping datanode service RPC server
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping block service RPC server
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-25 10:31:49,469 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping Storage Container Manager HTTP server.
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(385)) - Stopping the SCMSecurityProtocolServer.
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1328)) - Stopping Block Manager Service.
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1355)) - Stopping SCM Event Queue.
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-05-25 10:31:49,470 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
