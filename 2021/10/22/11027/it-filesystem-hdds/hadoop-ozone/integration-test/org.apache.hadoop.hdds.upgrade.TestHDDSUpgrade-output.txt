2021-10-22 16:57:00,632 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:00,735 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:00,736 [Mini-Cluster-Provider-Create] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:00,858 [Mini-Cluster-Provider-Create] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:00,861 [Mini-Cluster-Provider-Create] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:01,195 [Mini-Cluster-Provider-Create] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 212 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:01,304 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:01,311 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:01,316 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:01,316 [Mini-Cluster-Provider-Create] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:01,913 [Mini-Cluster-Provider-Create] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:02,048 [Mini-Cluster-Provider-Create] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:02,248 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:02,249 [Mini-Cluster-Provider-Create] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:02,301 [Mini-Cluster-Provider-Create] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-10-22 16:57:02,324 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:57:02,325 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:57:02,338 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:57:02,347 [Mini-Cluster-Provider-Create] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:02,408 [Mini-Cluster-Provider-Create] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:02,466 [Mini-Cluster-Provider-Create] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:02,475 [Mini-Cluster-Provider-Create] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:57:02,507 [Mini-Cluster-Provider-Create] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:02,512 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:02,512 [Mini-Cluster-Provider-Create] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:02,544 [Mini-Cluster-Provider-Create] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:02,565 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:02,592 [Mini-Cluster-Provider-Create] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:02,594 [Mini-Cluster-Provider-Create] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:02,600 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 2 milliseconds for processing 0 containers.
2021-10-22 16:57:02,608 [Mini-Cluster-Provider-Create] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:57:02,610 [Mini-Cluster-Provider-Create] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:57:02,617 [Mini-Cluster-Provider-Create] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:57:03,075 [Mini-Cluster-Provider-Create] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:03,121 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:03,184 [Listener at 0.0.0.0/41165] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:03,185 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:03,203 [Listener at 0.0.0.0/40849] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:03,204 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:03,269 [Listener at 0.0.0.0/37587] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:03,277 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:03,277 [Listener at 0.0.0.0/37587] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:03,277 [Listener at 0.0.0.0/37587] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:03,280 [Listener at 0.0.0.0/37587] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:03,282 [Listener at 0.0.0.0/37587] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:03,282 [Listener at 0.0.0.0/37587] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:03,283 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:37587
2021-10-22 16:57:03,353 [Listener at 0.0.0.0/37587] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-10-22 16:57:03,374 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:57:03,375 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 16:57:03,755 [Listener at 0.0.0.0/37587] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:37587
2021-10-22 16:57:03,756 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:03,756 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:03,798 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40849
2021-10-22 16:57:03,799 [Listener at 0.0.0.0/37587] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40849
2021-10-22 16:57:03,800 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:03,801 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:03,805 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41165
2021-10-22 16:57:03,805 [Listener at 0.0.0.0/37587] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:41165
2021-10-22 16:57:03,806 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:03,806 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:03,846 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@24a1c0a8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:03,855 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:57:03,855 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:03,884 [Listener at 0.0.0.0/37587] INFO  util.log (Log.java:initialized(170)) - Logging initialized @4934ms to org.eclipse.jetty.util.log.Slf4jLog
2021-10-22 16:57:04,005 [Listener at 0.0.0.0/37587] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:04,010 [Listener at 0.0.0.0/37587] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:04,019 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:04,021 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:04,022 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:04,022 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:04,066 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45221
2021-10-22 16:57:04,068 [Listener at 0.0.0.0/37587] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:04,102 [Listener at 0.0.0.0/37587] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:04,103 [Listener at 0.0.0.0/37587] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:04,104 [Listener at 0.0.0.0/37587] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:04,122 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@72a256f1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:04,123 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@74651d90{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:04,182 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@236a4baf{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:04,194 [Listener at 0.0.0.0/37587] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6b8efcde{HTTP/1.1, (http/1.1)}{0.0.0.0:45221}
2021-10-22 16:57:04,194 [Listener at 0.0.0.0/37587] INFO  server.Server (Server.java:doStart(415)) - Started @5244ms
2021-10-22 16:57:04,197 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:57:04,197 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:57:04,199 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:45221
2021-10-22 16:57:04,201 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:04,332 [Listener at 0.0.0.0/37587] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:57:04,337 [Listener at 0.0.0.0/37587] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:57:04,337 [Listener at 0.0.0.0/37587] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:57:04,337 [Listener at 0.0.0.0/37587] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:57:04,344 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:04,346 [Listener at 0.0.0.0/37587] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:57:04,408 [Listener at 0.0.0.0/37587] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 55 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:57:04,414 [Listener at 0.0.0.0/37587] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:57:04,415 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:04,893 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:04,901 [Listener at 0.0.0.0/37587] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:04,902 [Listener at 0.0.0.0/37587] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:05,163 [Listener at 0.0.0.0/37587] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:57:05,237 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:05,239 [Listener at 0.0.0.0/37587] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:57:05,271 [Listener at 0.0.0.0/37587] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:05,300 [Listener at 0.0.0.0/37587] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:34869
2021-10-22 16:57:05,309 [Listener at 0.0.0.0/37587] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:57:05,345 [Listener at 0.0.0.0/37587] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:05,433 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:05,438 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:57:05,438 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 34869 (custom)
2021-10-22 16:57:05,439 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:57:05,439 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 34869 (custom)
2021-10-22 16:57:05,439 [Listener at 0.0.0.0/37587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 34869 (custom)
2021-10-22 16:57:05,440 [Listener at 0.0.0.0/37587] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:57:05,441 [Listener at 0.0.0.0/37587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:05,441 [Listener at 0.0.0.0/37587] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:57:05,442 [Listener at 0.0.0.0/37587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:57:05,786 [Listener at 0.0.0.0/37587] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:05,788 [Listener at 0.0.0.0/37587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:05,788 [Listener at 0.0.0.0/37587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:05,808 [Listener at 0.0.0.0/37587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis] (custom)
2021-10-22 16:57:05,816 [Listener at 0.0.0.0/37587] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:34869|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@5192d839[Not completed]
2021-10-22 16:57:05,816 [Listener at 0.0.0.0/37587] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 34869
2021-10-22 16:57:05,844 [Listener at 0.0.0.0/37587] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:05,855 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:05,862 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:34869|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:57:05,869 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:57:05,870 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:57:05,870 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:05,870 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:05,870 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:05,870 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:05,871 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:05,879 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:34869|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:05,879 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis] (custom)
2021-10-22 16:57:05,892 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:05,892 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:05,902 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:57:05,905 [Listener at 127.0.0.1/37409] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:57:05,908 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:05,909 [Listener at 127.0.0.1/37409] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:57:05,923 [pool-39-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:57:05,925 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:57:05,928 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:05,928 [Listener at 127.0.0.1/37409] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:37409
2021-10-22 16:57:05,929 [Listener at 127.0.0.1/37409] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 34869
2021-10-22 16:57:05,939 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:05,939 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:05,953 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:05,961 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:05,961 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:05,968 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:57:05,968 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:05,969 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:57:05,970 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:05,970 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:57:05,970 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:05,972 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:05,972 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:05,973 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:05,985 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:57:05,985 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:57:05,993 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:05,993 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:05,997 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:05,998 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:57:05,999 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:57:05,999 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:57:06,001 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:57:06,001 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:06,055 [Listener at 127.0.0.1/37409] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:34869|priority:0], old=null
2021-10-22 16:57:06,057 [Listener at 127.0.0.1/37409] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:06,059 [Listener at 127.0.0.1/37409] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:06,060 [Listener at 127.0.0.1/37409] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:57:06,075 [Listener at 127.0.0.1/37409] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:57:06,141 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 34869
2021-10-22 16:57:06,146 [Listener at 127.0.0.1/37409] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:57:06,148 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@6410eafd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:57:06,162 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:57:06,162 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:06,164 [Listener at 127.0.0.1/37409] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:06,166 [Listener at 127.0.0.1/37409] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:06,167 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:06,168 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:57:06,168 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:06,168 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:06,170 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35133
2021-10-22 16:57:06,170 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:06,180 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:06,180 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:06,180 [Listener at 127.0.0.1/37409] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:06,181 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@51aa80f7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:06,182 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6084fc5c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:06,186 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2282ab1a{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:57:06,187 [Listener at 127.0.0.1/37409] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4000214a{HTTP/1.1, (http/1.1)}{0.0.0.0:35133}
2021-10-22 16:57:06,191 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(415)) - Started @7241ms
2021-10-22 16:57:06,191 [Listener at 127.0.0.1/37409] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:06,195 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:35133
2021-10-22 16:57:06,195 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:06,196 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:06,201 [Listener at 127.0.0.1/37409] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:57:06,215 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@21c3fb20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:06,405 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:06,405 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:06,406 [Listener at 127.0.0.1/37409] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:06,431 [Listener at 127.0.0.1/37409] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:06,470 [Listener at 127.0.0.1/37409] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:06,528 [Listener at 127.0.0.1/37409] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 52 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:06,532 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:06,532 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:06,533 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:06,533 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:06,535 [Listener at 127.0.0.1/37409] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:06,598 [Listener at 127.0.0.1/37409] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:06,600 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:06,602 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds
2021-10-22 16:57:06,627 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds
2021-10-22 16:57:06,653 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis to VolumeSet
2021-10-22 16:57:06,653 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis
2021-10-22 16:57:06,653 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis
2021-10-22 16:57:06,677 [Thread-131] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds
2021-10-22 16:57:06,677 [Listener at 127.0.0.1/37409] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:06,755 [Listener at 127.0.0.1/37409] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:06,755 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:06,756 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:06,758 [Listener at 127.0.0.1/37409] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:06,758 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:06,758 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:06,758 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis] (custom)
2021-10-22 16:57:06,880 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:06,880 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:06,882 [Listener at 127.0.0.1/37409] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:06,882 [Listener at 127.0.0.1/37409] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:06,883 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:06,884 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:06,885 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:06,885 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:06,886 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33127
2021-10-22 16:57:06,886 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:06,899 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:06,899 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:06,899 [Listener at 127.0.0.1/37409] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:06,900 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@71960e10{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:06,900 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4363840e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:06,966 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@358b5116{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33127-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-505207462274435674/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:06,967 [Listener at 127.0.0.1/37409] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@791dac58{HTTP/1.1, (http/1.1)}{0.0.0.0:33127}
2021-10-22 16:57:06,967 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(415)) - Started @8017ms
2021-10-22 16:57:06,967 [Listener at 127.0.0.1/37409] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:06,968 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33127
2021-10-22 16:57:06,970 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:06,970 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:06,970 [Listener at 127.0.0.1/37409] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:06,974 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:06,994 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:06,994 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:07,006 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@21b2106d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:07,008 [Listener at 127.0.0.1/37409] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:07,045 [Listener at 127.0.0.1/37409] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:07,098 [Listener at 127.0.0.1/37409] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 51 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:07,100 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:07,100 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:07,100 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:07,100 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:07,100 [Listener at 127.0.0.1/37409] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:07,102 [Listener at 127.0.0.1/37409] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:07,102 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:07,102 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds
2021-10-22 16:57:07,103 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds
2021-10-22 16:57:07,111 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1052610961ns, electionTimeout:1031ms
2021-10-22 16:57:07,112 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:07,113 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:07,116 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:07,116 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-10-22 16:57:07,132 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:34869|priority:0], old=null
2021-10-22 16:57:07,133 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:07,139 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-10-22 16:57:07,139 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:07,143 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis to VolumeSet
2021-10-22 16:57:07,143 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis
2021-10-22 16:57:07,144 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1214ms
2021-10-22 16:57:07,150 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:07,151 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis
2021-10-22 16:57:07,322 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:07,341 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:07,328 [Thread-145] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds
2021-10-22 16:57:07,347 [Listener at 127.0.0.1/37409] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:07,351 [Listener at 127.0.0.1/37409] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:07,352 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:07,352 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:07,353 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:07,353 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:07,353 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:07,353 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:07,353 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:07,361 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:07,365 [Listener at 127.0.0.1/37409] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:07,365 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:07,366 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:07,366 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis] (custom)
2021-10-22 16:57:07,376 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/meta/datanode.id
2021-10-22 16:57:07,370 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:57:07,376 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:07,377 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:07,382 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:07,383 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:07,386 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:57:07,395 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:07,395 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:07,397 [Listener at 127.0.0.1/37409] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:07,406 [Listener at 127.0.0.1/37409] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:07,407 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:07,408 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:07,408 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:07,408 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:07,409 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39911
2021-10-22 16:57:07,409 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:07,431 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:07,432 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:07,432 [Listener at 127.0.0.1/37409] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:07,433 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5558588{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:07,433 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@747a5eeb{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:07,423 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:07,481 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@637f4841{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-39911-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6210079945032372125/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:07,484 [Listener at 127.0.0.1/37409] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1e33cfb1{HTTP/1.1, (http/1.1)}{0.0.0.0:39911}
2021-10-22 16:57:07,485 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(415)) - Started @8535ms
2021-10-22 16:57:07,485 [Listener at 127.0.0.1/37409] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:07,486 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:39911
2021-10-22 16:57:07,494 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:07,494 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:07,494 [Listener at 127.0.0.1/37409] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:07,501 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:07,522 [Listener at 127.0.0.1/37409] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:07,532 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:34869|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:57:07,535 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:07,535 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:07,539 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@25a7ae95] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:07,564 [Listener at 127.0.0.1/37409] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:07,578 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/meta/datanode.id
2021-10-22 16:57:07,631 [Listener at 127.0.0.1/37409] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 62 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:07,636 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:07,636 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:07,637 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:07,637 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:07,637 [Listener at 127.0.0.1/37409] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:07,648 [Listener at 127.0.0.1/37409] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:07,648 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:07,649 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds
2021-10-22 16:57:07,653 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds
2021-10-22 16:57:07,657 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:57:07,696 [Listener at 127.0.0.1/37409] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis to VolumeSet
2021-10-22 16:57:07,696 [Listener at 127.0.0.1/37409] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis
2021-10-22 16:57:07,700 [Listener at 127.0.0.1/37409] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis
2021-10-22 16:57:07,720 [Thread-157] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds
2021-10-22 16:57:07,723 [Listener at 127.0.0.1/37409] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:07,727 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:07,728 [Listener at 127.0.0.1/37409] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:07,728 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:07,729 [Listener at 127.0.0.1/37409] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:07,729 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:07,729 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:07,729 [Listener at 127.0.0.1/37409] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis] (custom)
2021-10-22 16:57:07,736 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:07,736 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:07,737 [Listener at 127.0.0.1/37409] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:07,738 [Listener at 127.0.0.1/37409] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:07,738 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:07,739 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:07,739 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:07,739 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:07,740 [Listener at 127.0.0.1/37409] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33489
2021-10-22 16:57:07,740 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:07,742 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:07,742 [Listener at 127.0.0.1/37409] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:07,742 [Listener at 127.0.0.1/37409] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:07,749 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@55c7841c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:07,749 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7165ff2c{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:07,800 [Listener at 127.0.0.1/37409] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@21b1dd67{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33489-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7315934205279712152/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:07,802 [Listener at 127.0.0.1/37409] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@957b40{HTTP/1.1, (http/1.1)}{0.0.0.0:33489}
2021-10-22 16:57:07,802 [Listener at 127.0.0.1/37409] INFO  server.Server (Server.java:doStart(415)) - Started @8852ms
2021-10-22 16:57:07,802 [Listener at 127.0.0.1/37409] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:07,803 [Listener at 127.0.0.1/37409] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33489
2021-10-22 16:57:07,807 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:07,807 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:07,811 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:07,811 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:07,811 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:07,812 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:07,814 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5848ed91] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:07,819 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/meta/datanode.id
2021-10-22 16:57:07,832 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:34869"
]
2021-10-22 16:57:08,812 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:08,812 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:08,812 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:09,076 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:09,078 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:09,079 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 39241
2021-10-22 16:57:09,082 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:09,095 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start RPC server
2021-10-22 16:57:09,096 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: GrpcService started, listening on 40929
2021-10-22 16:57:09,097 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 3d105c53-23dd-414b-ad1c-b676e15a7de7 is started using port 40929 for RATIS
2021-10-22 16:57:09,097 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 3d105c53-23dd-414b-ad1c-b676e15a7de7 is started using port 40929 for RATIS_ADMIN
2021-10-22 16:57:09,097 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 3d105c53-23dd-414b-ad1c-b676e15a7de7 is started using port 40929 for RATIS_SERVER
2021-10-22 16:57:09,105 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 3d105c53-23dd-414b-ad1c-b676e15a7de7 is started using port 40999
2021-10-22 16:57:09,105 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@66395cb8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-3d105c53-23dd-414b-ad1c-b676e15a7de7: Started
2021-10-22 16:57:09,544 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:09,544 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:09,545 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41451
2021-10-22 16:57:09,548 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:09,549 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - b333e7df-46e0-461f-a358-6b9f1e940990: start RPC server
2021-10-22 16:57:09,550 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - b333e7df-46e0-461f-a358-6b9f1e940990: GrpcService started, listening on 42761
2021-10-22 16:57:09,551 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis b333e7df-46e0-461f-a358-6b9f1e940990 is started using port 42761 for RATIS
2021-10-22 16:57:09,551 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis b333e7df-46e0-461f-a358-6b9f1e940990 is started using port 42761 for RATIS_ADMIN
2021-10-22 16:57:09,551 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4dd0a8b6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-b333e7df-46e0-461f-a358-6b9f1e940990: Started
2021-10-22 16:57:09,551 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis b333e7df-46e0-461f-a358-6b9f1e940990 is started using port 42761 for RATIS_SERVER
2021-10-22 16:57:09,555 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc b333e7df-46e0-461f-a358-6b9f1e940990 is started using port 46517
2021-10-22 16:57:09,812 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:09,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:09,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:09,823 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:09,823 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:09,824 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 46835
2021-10-22 16:57:09,825 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:09,827 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start RPC server
2021-10-22 16:57:09,829 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: GrpcService started, listening on 35561
2021-10-22 16:57:09,829 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bb64e65f-ac54-4400-b84e-fa7de9c4383c is started using port 35561 for RATIS
2021-10-22 16:57:09,829 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bb64e65f-ac54-4400-b84e-fa7de9c4383c is started using port 35561 for RATIS_ADMIN
2021-10-22 16:57:09,829 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bb64e65f-ac54-4400-b84e-fa7de9c4383c is started using port 35561 for RATIS_SERVER
2021-10-22 16:57:09,829 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@13d86e74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-bb64e65f-ac54-4400-b84e-fa7de9c4383c: Started
2021-10-22 16:57:09,830 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc bb64e65f-ac54-4400-b84e-fa7de9c4383c is started using port 41637
2021-10-22 16:57:10,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:10,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:10,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:11,036 [IPC Server handler 19 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:11,038 [IPC Server handler 19 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:11,042 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:11,053 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871 to datanode:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:11,055 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:11,056 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:11,065 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6c6e7a5f-11c0-4b23-b03a-7df05e95f871, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:11.049Z[Etc/UTC]].
2021-10-22 16:57:11,068 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:11,541 [IPC Server handler 17 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:11,541 [IPC Server handler 17 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:11,542 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:11,543 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:11,548 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 to datanode:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:11,548 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 319f6c36-40eb-4fa9-ac62-d67bb69b9fa9, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:11.547Z[Etc/UTC]].
2021-10-22 16:57:11,813 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:57:11,814 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:11,814 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:11,817 [IPC Server handler 18 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:11,818 [IPC Server handler 18 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:11,818 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:11,819 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:11,819 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446 to datanode:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:11,820 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 03515e48-62ab-4666-8bc1-49aeaa637446, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:11.819Z[Etc/UTC]].
2021-10-22 16:57:11,823 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 to datanode:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:11,823 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 to datanode:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:11,823 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 to datanode:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:11,824 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e5edfcb6-d854-419e-a549-22d1846bcb57, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:11.823Z[Etc/UTC]].
2021-10-22 16:57:12,814 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:12,816 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:12,816 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:13,816 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:13,816 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:13,816 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:14,019 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: addNew group-7DF05E95F871:[3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1] returns group-7DF05E95F871:java.util.concurrent.CompletableFuture@283e3fe8[Not completed]
2021-10-22 16:57:14,035 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: new RaftServerImpl for group-7DF05E95F871:[3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,036 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,036 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,036 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,036 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,037 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,037 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,037 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,037 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: ConfigurationManager, init=-1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,037 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis] (custom)
2021-10-22 16:57:14,038 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,038 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,038 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871 does not exist. Creating ...
2021-10-22 16:57:14,042 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,043 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871 has been successfully formatted.
2021-10-22 16:57:14,046 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-7DF05E95F871: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,047 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,047 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,048 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 6c6e7a5f-11c0-4b23-b03a-7df05e95f871, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:3d105c53-23dd-414b-ad1c-b676e15a7de7, CreationTimestamp2021-10-22T16:57:11.049Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:14,051 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,051 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,051 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,052 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,053 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,053 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,053 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871
2021-10-22 16:57:14,053 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,053 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,054 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,056 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,057 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,058 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,058 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,064 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,065 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,065 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,065 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,065 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,065 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,068 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: start as a follower, conf=-1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null
2021-10-22 16:57:14,068 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,068 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState
2021-10-22 16:57:14,069 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DF05E95F871,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:14,078 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871
2021-10-22 16:57:14,079 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871.
2021-10-22 16:57:14,079 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: addNew group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0] returns group-22D1846BCB57:java.util.concurrent.CompletableFuture@18fa5652[Not completed]
2021-10-22 16:57:14,081 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: new RaftServerImpl for group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,081 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,081 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,081 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,081 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis] (custom)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,082 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,083 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 does not exist. Creating ...
2021-10-22 16:57:14,084 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,086 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 has been successfully formatted.
2021-10-22 16:57:14,088 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-22D1846BCB57: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,089 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,089 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,089 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,090 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,090 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,091 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,091 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,092 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,093 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,093 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,093 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,093 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,095 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,095 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,096 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,096 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,097 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,097 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,097 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,097 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,097 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,098 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,100 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:14,100 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,100 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:14,100 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:14,103 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:14,543 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - b333e7df-46e0-461f-a358-6b9f1e940990: addNew group-D67BB69B9FA9:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1] returns group-D67BB69B9FA9:java.util.concurrent.CompletableFuture@6d9f1511[Not completed]
2021-10-22 16:57:14,557 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - b333e7df-46e0-461f-a358-6b9f1e940990: new RaftServerImpl for group-D67BB69B9FA9:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,566 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis] (custom)
2021-10-22 16:57:14,567 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,567 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,567 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 does not exist. Creating ...
2021-10-22 16:57:14,568 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,571 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 has been successfully formatted.
2021-10-22 16:57:14,579 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D67BB69B9FA9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,582 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,582 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,582 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,582 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,582 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,583 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,583 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,583 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9
2021-10-22 16:57:14,583 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,583 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,584 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,585 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 319f6c36-40eb-4fa9-ac62-d67bb69b9fa9, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.547Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:14,586 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,587 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,590 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,591 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,591 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,609 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,610 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,612 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null
2021-10-22 16:57:14,612 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,612 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState
2021-10-22 16:57:14,616 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D67BB69B9FA9,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:14,620 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9
2021-10-22 16:57:14,621 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9.
2021-10-22 16:57:14,621 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - b333e7df-46e0-461f-a358-6b9f1e940990: addNew group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0] returns group-22D1846BCB57:java.util.concurrent.CompletableFuture@69a08c7a[Not completed]
2021-10-22 16:57:14,625 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - b333e7df-46e0-461f-a358-6b9f1e940990: new RaftServerImpl for group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,625 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis] (custom)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,626 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,627 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 does not exist. Creating ...
2021-10-22 16:57:14,628 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,630 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 has been successfully formatted.
2021-10-22 16:57:14,631 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-22D1846BCB57: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,632 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,632 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,632 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,632 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,633 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,633 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,633 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,633 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,634 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,635 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,638 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,639 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,645 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,646 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,647 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,653 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,653 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,653 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,653 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,653 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,654 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,654 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,655 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:14,655 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,655 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState
2021-10-22 16:57:14,657 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:14,663 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:14,688 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: addNew group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0] returns group-22D1846BCB57:java.util.concurrent.CompletableFuture@72f1c0c0[Not completed]
2021-10-22 16:57:14,691 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: new RaftServerImpl for group-22D1846BCB57:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,693 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,693 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,694 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,694 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,694 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,694 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,705 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,706 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,706 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis] (custom)
2021-10-22 16:57:14,706 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,706 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,706 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 does not exist. Creating ...
2021-10-22 16:57:14,708 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,709 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57 has been successfully formatted.
2021-10-22 16:57:14,710 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-22D1846BCB57: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,720 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,720 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,721 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,721 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,721 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,722 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,723 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,723 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,723 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,723 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,724 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,725 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,725 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,726 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,728 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:14,728 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,728 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:14,728 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:14,816 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: addNew group-49AEAA637446:[bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] returns group-49AEAA637446:java.util.concurrent.CompletableFuture@429d727e[Not completed]
2021-10-22 16:57:14,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:14,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:14,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:14,817 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: new RaftServerImpl for group-49AEAA637446:[bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:14,817 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: ConfigurationManager, init=-1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis] (custom)
2021-10-22 16:57:14,818 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:14,819 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:14,820 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446 does not exist. Creating ...
2021-10-22 16:57:14,819 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57.
2021-10-22 16:57:14,821 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:14,826 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446 has been successfully formatted.
2021-10-22 16:57:14,826 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-49AEAA637446: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:14,826 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:14,827 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:14,827 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:14,827 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:14,827 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,828 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:14,829 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 03515e48-62ab-4666-8bc1-49aeaa637446, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:bb64e65f-ac54-4400-b84e-fa7de9c4383c, CreationTimestamp2021-10-22T16:57:11.819Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:14,831 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:14,829 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57.
2021-10-22 16:57:14,830 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:14,831 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446
2021-10-22 16:57:14,831 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:14,831 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:14,831 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:14,832 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:14,832 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:14,832 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:14,832 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:14,832 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:14,833 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:14,835 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:14,838 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,838 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:14,839 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:14,840 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: start as a follower, conf=-1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:14,840 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:14,840 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState
2021-10-22 16:57:14,842 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-49AEAA637446,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:14,847 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446
2021-10-22 16:57:14,847 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446.
2021-10-22 16:57:15,592 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:15,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:15,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:15,817 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:16,136 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:16,332 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:16,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:16,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:16,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:17,096 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:17,333 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:17,636 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:17,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:17,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:17,818 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:18,595 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:18,819 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:18,819 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:18,819 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:19,139 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:19,191 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5122387384ns, electionTimeout:5116ms
2021-10-22 16:57:19,191 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState
2021-10-22 16:57:19,191 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:19,191 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:19,191 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2
2021-10-22 16:57:19,195 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null
2021-10-22 16:57:19,195 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:19,195 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2
2021-10-22 16:57:19,196 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:19,196 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-7DF05E95F871 with new leaderId: 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:19,196 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: change Leader from null to 3d105c53-23dd-414b-ad1c-b676e15a7de7 at term 1 for becomeLeader, leader elected after 5149ms
2021-10-22 16:57:19,196 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:19,197 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:19,197 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:19,197 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:19,197 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:19,197 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:19,198 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:19,198 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:19,198 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderStateImpl
2021-10-22 16:57:19,198 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:19,201 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:19,202 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871/current/log_inprogress_0
2021-10-22 16:57:19,211 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: set configuration 0: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:1], old=null
2021-10-22 16:57:19,271 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5170364718ns, electionTimeout:5169ms
2021-10-22 16:57:19,272 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,272 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:19,272 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:19,272 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3
2021-10-22 16:57:19,276 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:19,319 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: receive requestVote(ELECTION, 3d105c53-23dd-414b-ad1c-b676e15a7de7, group-22D1846BCB57, 1, (t:0, i:0))
2021-10-22 16:57:19,321 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FOLLOWER: accept ELECTION from 3d105c53-23dd-414b-ad1c-b676e15a7de7: our priority 0 <= candidate's priority 0
2021-10-22 16:57:19,321 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:19,321 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,321 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,322 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: receive requestVote(ELECTION, 3d105c53-23dd-414b-ad1c-b676e15a7de7, group-22D1846BCB57, 1, (t:0, i:0))
2021-10-22 16:57:19,323 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:19,322 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FOLLOWER: reject ELECTION from 3d105c53-23dd-414b-ad1c-b676e15a7de7: our priority 1 > candidate's priority 0
2021-10-22 16:57:19,331 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:19,332 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,332 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,332 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:19,337 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:19,464 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57 replies to ELECTION vote request: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-b333e7df-46e0-461f-a358-6b9f1e940990#0:FAIL-t1. Peer's state: b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57:t1, leader=null, voted=null, raftlog=b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:19,464 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57 replies to ELECTION vote request: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-bb64e65f-ac54-4400-b84e-fa7de9c4383c#0:OK-t1. Peer's state: bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57:t1, leader=null, voted=3d105c53-23dd-414b-ad1c-b676e15a7de7, raftlog=bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:19,471 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:57:19,472 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-b333e7df-46e0-461f-a358-6b9f1e940990#0:FAIL-t1
2021-10-22 16:57:19,472 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3 ELECTION round 0: result REJECTED
2021-10-22 16:57:19,472 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:57:19,472 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3
2021-10-22 16:57:19,472 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:19,786 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5173681748ns, electionTimeout:5169ms
2021-10-22 16:57:19,787 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState
2021-10-22 16:57:19,787 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:19,787 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:19,787 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4
2021-10-22 16:57:19,819 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:19,819 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:19,820 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:19,994 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5153440771ns, electionTimeout:5149ms
2021-10-22 16:57:19,994 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState
2021-10-22 16:57:19,994 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:19,995 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:19,995 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5
2021-10-22 16:57:20,104 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null
2021-10-22 16:57:20,104 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:20,104 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:20,104 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:20,104 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5
2021-10-22 16:57:20,104 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4
2021-10-22 16:57:20,104 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:20,104 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:20,104 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-49AEAA637446 with new leaderId: bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:20,105 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: change Leader from null to bb64e65f-ac54-4400-b84e-fa7de9c4383c at term 1 for becomeLeader, leader elected after 5277ms
2021-10-22 16:57:20,105 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:20,105 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:20,105 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:20,107 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:20,104 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-D67BB69B9FA9 with new leaderId: b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:20,107 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:20,111 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:20,111 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:20,111 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:20,111 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:20,112 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderStateImpl
2021-10-22 16:57:20,112 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:20,109 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: change Leader from null to b333e7df-46e0-461f-a358-6b9f1e940990 at term 1 for becomeLeader, leader elected after 5522ms
2021-10-22 16:57:20,117 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:20,119 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:20,119 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:20,120 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:20,121 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:20,121 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:20,121 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:20,121 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:20,122 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:20,122 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderStateImpl
2021-10-22 16:57:20,122 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:20,123 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: set configuration 0: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:20,124 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1], old=null
2021-10-22 16:57:20,127 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446/current/log_inprogress_0
2021-10-22 16:57:20,148 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9/current/log_inprogress_0
2021-10-22 16:57:20,199 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:20,619 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:20,820 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:20,820 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:20,820 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:21,107 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:21,698 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:21,820 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:21,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:21,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:22,119 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:22,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:22,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:22,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:23,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:23,200 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:23,821 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:23,822 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:23,822 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:24,120 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:24,201 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:24,399 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5067212759ns, electionTimeout:5063ms
2021-10-22 16:57:24,399 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState
2021-10-22 16:57:24,400 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:57:24,400 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:24,400 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6
2021-10-22 16:57:24,403 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:24,425 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: receive requestVote(ELECTION, b333e7df-46e0-461f-a358-6b9f1e940990, group-22D1846BCB57, 2, (t:0, i:0))
2021-10-22 16:57:24,425 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FOLLOWER: accept ELECTION from b333e7df-46e0-461f-a358-6b9f1e940990: our priority 0 <= candidate's priority 1
2021-10-22 16:57:24,425 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:24,425 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:24,425 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:24,425 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:24,426 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: receive requestVote(ELECTION, b333e7df-46e0-461f-a358-6b9f1e940990, group-22D1846BCB57, 2, (t:0, i:0))
2021-10-22 16:57:24,426 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FOLLOWER: accept ELECTION from b333e7df-46e0-461f-a358-6b9f1e940990: our priority 0 <= candidate's priority 1
2021-10-22 16:57:24,427 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:24,427 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:24,427 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:24,427 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:24,428 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57 replies to ELECTION vote request: b333e7df-46e0-461f-a358-6b9f1e940990<-3d105c53-23dd-414b-ad1c-b676e15a7de7#0:OK-t2. Peer's state: 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57:t2, leader=null, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:0], old=null
2021-10-22 16:57:24,430 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57 replies to ELECTION vote request: b333e7df-46e0-461f-a358-6b9f1e940990<-bb64e65f-ac54-4400-b84e-fa7de9c4383c#0:OK-t2. Peer's state: bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57:t2, leader=null, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:24,430 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: b333e7df-46e0-461f-a358-6b9f1e940990<-3d105c53-23dd-414b-ad1c-b676e15a7de7#0:OK-t2
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6 ELECTION round 0: result PASSED
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-22D1846BCB57 with new leaderId: b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: change Leader from null to b333e7df-46e0-461f-a358-6b9f1e940990 at term 2 for becomeLeader, leader elected after 9799ms
2021-10-22 16:57:24,431 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:24,433 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:24,434 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:24,453 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:24,454 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:24,454 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:24,457 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:24,457 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:24,457 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:24,462 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:24,462 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:24,462 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:24,462 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:24,462 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:24,463 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:24,463 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: e5edfcb6-d854-419e-a549-22d1846bcb57, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.823Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:24,472 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderStateImpl
2021-10-22 16:57:24,472 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:24,474 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:57:24,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:57:24,483 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/current/log_inprogress_0
2021-10-22 16:57:24,491 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:24,512 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-22D1846BCB57 with new leaderId: b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:24,512 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: change Leader from null to b333e7df-46e0-461f-a358-6b9f1e940990 at term 2 for appendEntries, leader elected after 9791ms
2021-10-22 16:57:24,514 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-22D1846BCB57 with new leaderId: b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:24,514 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: change Leader from null to b333e7df-46e0-461f-a358-6b9f1e940990 at term 2 for appendEntries, leader elected after 10425ms
2021-10-22 16:57:24,536 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:24,537 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:24,540 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/current/log_inprogress_0
2021-10-22 16:57:24,541 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null
2021-10-22 16:57:24,541 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:24,546 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/current/log_inprogress_0
2021-10-22 16:57:24,822 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:24,822 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:57:24,822 [Listener at 127.0.0.1/37409] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:24,833 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 16:57:24,851 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - XceiverClientMetrics metrics system started (again)
2021-10-22 16:57:24,865 [Listener at 127.0.0.1/37409] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:24,871 [Listener at 127.0.0.1/37409] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:24,872 [Listener at 127.0.0.1/37409] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:24,873 [Listener at 127.0.0.1/37409] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:24,873 [Listener at 127.0.0.1/37409] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:24,987 [Listener at 127.0.0.1/37409] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 107 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:24,994 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:24,995 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:24,995 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:24,995 [Listener at 127.0.0.1/37409] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:24,995 [Listener at 127.0.0.1/37409] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:24,996 [Listener at 127.0.0.1/37409] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:25,214 [Listener at 127.0.0.1/37409] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:25,216 [Listener at 127.0.0.1/37409] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:25,218 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:25,226 [Listener at 127.0.0.1/37409] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:25,238 [Listener at 127.0.0.1/37409] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:57:25,238 [Listener at 127.0.0.1/37409] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:57:25,238 [Listener at 127.0.0.1/37409] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:57:25,238 [Listener at 127.0.0.1/37409] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:25,250 [Listener at 127.0.0.1/37409] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:25,252 [Listener at 127.0.0.1/37409] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:25,252 [Listener at 127.0.0.1/37409] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:57:25,252 [Listener at 127.0.0.1/37409] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:25,252 [Listener at 127.0.0.1/37409] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:25,252 [Listener at 127.0.0.1/37409] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:25,260 [Listener at 127.0.0.1/37409] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:25,260 [Listener at 127.0.0.1/37409] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:25,261 [Listener at 127.0.0.1/37409] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:25,261 [Listener at 127.0.0.1/37409] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:25,271 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-10-22 16:57:25,272 [Listener at 127.0.0.1/37409] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:57:25,272 [Listener at 127.0.0.1/37409] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:57:25,273 [Listener at 127.0.0.1/37409] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:57:25,276 [Listener at 127.0.0.1/37409] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:25,284 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:25,292 [Listener at 0.0.0.0/34347] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:25,302 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:25,311 [Listener at 0.0.0.0/42431] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:25,318 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:25,381 [Listener at 0.0.0.0/45267] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:25,382 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:25,382 [Listener at 0.0.0.0/45267] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:25,382 [Listener at 0.0.0.0/45267] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:25,392 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:25,392 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:25,393 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:25,393 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45267
2021-10-22 16:57:25,393 [Listener at 0.0.0.0/45267] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-10-22 16:57:25,407 [Listener at 0.0.0.0/45267] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:45267
2021-10-22 16:57:25,409 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:25,410 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:25,485 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:42431
2021-10-22 16:57:25,486 [Listener at 0.0.0.0/45267] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:42431
2021-10-22 16:57:25,486 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:25,486 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:25,513 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34347
2021-10-22 16:57:25,514 [Listener at 0.0.0.0/45267] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34347
2021-10-22 16:57:25,515 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:25,515 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:25,526 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:57:25,526 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@10f640ec] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:25,526 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:25,530 [Listener at 0.0.0.0/45267] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:25,530 [Listener at 0.0.0.0/45267] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:25,533 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:25,534 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:25,534 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:25,534 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:25,535 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45273
2021-10-22 16:57:25,535 [Listener at 0.0.0.0/45267] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:25,537 [Listener at 0.0.0.0/45267] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:25,537 [Listener at 0.0.0.0/45267] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:25,537 [Listener at 0.0.0.0/45267] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:25,538 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@66aca9c4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:25,539 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6ed9b726{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:25,545 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@19646b43{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:25,546 [Listener at 0.0.0.0/45267] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2172f616{HTTP/1.1, (http/1.1)}{0.0.0.0:45273}
2021-10-22 16:57:25,546 [Listener at 0.0.0.0/45267] INFO  server.Server (Server.java:doStart(415)) - Started @26596ms
2021-10-22 16:57:25,546 [Listener at 0.0.0.0/45267] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:25,547 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:45273
2021-10-22 16:57:25,547 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:25,549 [Listener at 0.0.0.0/45267] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:57:25,550 [Listener at 0.0.0.0/45267] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:57:25,550 [Listener at 0.0.0.0/45267] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:57:25,550 [Listener at 0.0.0.0/45267] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:57:25,550 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:25,550 [Listener at 0.0.0.0/45267] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:57:25,613 [Listener at 0.0.0.0/45267] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 62 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:57:25,613 [Listener at 0.0.0.0/45267] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:57:25,614 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:25,630 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:25,631 [Listener at 0.0.0.0/45267] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:25,631 [Listener at 0.0.0.0/45267] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:25,868 [Listener at 0.0.0.0/45267] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:57:25,868 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:25,869 [Listener at 0.0.0.0/45267] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:57:25,869 [Listener at 0.0.0.0/45267] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:25,869 [Listener at 0.0.0.0/45267] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:25,869 [Listener at 0.0.0.0/45267] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:25,871 [Listener at 0.0.0.0/45267] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:41485
2021-10-22 16:57:25,871 [Listener at 0.0.0.0/45267] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:57:25,878 [Listener at 0.0.0.0/45267] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:25,878 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:25,878 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 41485 (custom)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 41485 (custom)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 41485 (custom)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:57:25,880 [Listener at 0.0.0.0/45267] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:57:25,881 [Listener at 0.0.0.0/45267] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:25,882 [Listener at 0.0.0.0/45267] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:25,882 [Listener at 0.0.0.0/45267] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:25,882 [Listener at 0.0.0.0/45267] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis] (custom)
2021-10-22 16:57:25,886 [Listener at 0.0.0.0/45267] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:41485|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@4b920211[Not completed]
2021-10-22 16:57:25,887 [pool-152-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:41485|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:57:25,887 [Listener at 0.0.0.0/45267] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 41485
2021-10-22 16:57:25,897 [Listener at 0.0.0.0/45267] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:25,902 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:25,928 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:25,931 [pool-152-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:41485|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:25,932 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis] (custom)
2021-10-22 16:57:25,941 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:25,941 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:25,941 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:57:25,943 [pool-152-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:25,951 [pool-152-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:57:25,951 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:57:25,952 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:25,953 [pool-152-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:25,966 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:25,966 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:57:25,966 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:57:25,966 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:57:25,972 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:57:25,972 [pool-152-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:25,975 [Listener at 127.0.0.1/43949] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:57:25,975 [Listener at 127.0.0.1/43949] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:57:25,990 [Listener at 127.0.0.1/43949] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:43949
2021-10-22 16:57:25,990 [Listener at 127.0.0.1/43949] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 41485
2021-10-22 16:57:25,990 [Listener at 127.0.0.1/43949] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:41485|priority:0], old=null
2021-10-22 16:57:25,990 [Listener at 127.0.0.1/43949] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:25,990 [Listener at 127.0.0.1/43949] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:25,991 [Listener at 127.0.0.1/43949] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:57:25,991 [Listener at 127.0.0.1/43949] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-10-22 16:57:26,006 [Listener at 127.0.0.1/43949] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:57:26,013 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 41485
2021-10-22 16:57:26,019 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 16:57:26,029 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7443e0b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:57:26,031 [Listener at 127.0.0.1/43949] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:57:26,036 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:57:26,037 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:26,038 [Listener at 127.0.0.1/43949] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:26,042 [Listener at 127.0.0.1/43949] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:26,043 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:26,044 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:57:26,044 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:26,044 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:26,045 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38739
2021-10-22 16:57:26,045 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:26,056 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:26,057 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:26,057 [Listener at 127.0.0.1/43949] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:26,058 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5509a0f9{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:26,058 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1772c679{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:26,076 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@626b9dfb{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:57:26,077 [Listener at 127.0.0.1/43949] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4dc00808{HTTP/1.1, (http/1.1)}{0.0.0.0:38739}
2021-10-22 16:57:26,077 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(415)) - Started @27127ms
2021-10-22 16:57:26,077 [Listener at 127.0.0.1/43949] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:26,079 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:38739
2021-10-22 16:57:26,079 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 16:57:26,086 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:26,087 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:26,141 [Listener at 127.0.0.1/43949] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:57:26,153 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@50168eb0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:26,185 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,185 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,185 [Listener at 127.0.0.1/43949] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:26,203 [Listener at 127.0.0.1/43949] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:26,233 [IPC Server handler 5 on default port 40849] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 16:57:26,233 [IPC Server handler 5 on default port 40849] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 16:57:26,248 [Listener at 127.0.0.1/43949] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:26,332 [Listener at 127.0.0.1/43949] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 83 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:26,344 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:26,344 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:26,345 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:26,345 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:26,345 [Listener at 127.0.0.1/43949] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:26,355 [Listener at 127.0.0.1/43949] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:26,356 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:26,356 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds
2021-10-22 16:57:26,359 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds
2021-10-22 16:57:26,375 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis to VolumeSet
2021-10-22 16:57:26,375 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis
2021-10-22 16:57:26,375 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis
2021-10-22 16:57:26,388 [Thread-360] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds
2021-10-22 16:57:26,389 [Listener at 127.0.0.1/43949] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:26,392 [Listener at 127.0.0.1/43949] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:26,392 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:26,392 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:26,392 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:26,393 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:26,393 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:26,393 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:26,393 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:26,393 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:26,394 [Listener at 127.0.0.1/43949] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:26,394 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:26,395 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:26,395 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:57:26,398 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:26,399 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:26,400 [Listener at 127.0.0.1/43949] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:26,400 [Listener at 127.0.0.1/43949] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:26,401 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:26,402 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:26,402 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:26,402 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:26,402 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 34341
2021-10-22 16:57:26,402 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:26,405 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:26,405 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:26,405 [Listener at 127.0.0.1/43949] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:26,409 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4a77481a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:26,410 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1678c2aa{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:26,485 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7b387c8e{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-34341-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7183932625307522629/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:26,489 [Listener at 127.0.0.1/43949] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1c4e122d{HTTP/1.1, (http/1.1)}{0.0.0.0:34341}
2021-10-22 16:57:26,489 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(415)) - Started @27539ms
2021-10-22 16:57:26,489 [Listener at 127.0.0.1/43949] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:26,491 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:34341
2021-10-22 16:57:26,491 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,492 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,492 [Listener at 127.0.0.1/43949] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:26,509 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:26,532 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:26,532 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:26,537 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5a3959cd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:26,549 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/meta/datanode.id
2021-10-22 16:57:26,550 [Listener at 127.0.0.1/43949] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:26,593 [Listener at 127.0.0.1/43949] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:26,663 [Listener at 127.0.0.1/43949] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 65 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:26,665 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:26,665 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:26,665 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:26,665 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:26,665 [Listener at 127.0.0.1/43949] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:26,675 [Listener at 127.0.0.1/43949] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:26,679 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:26,679 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds
2021-10-22 16:57:26,684 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds
2021-10-22 16:57:26,696 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:26,696 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:57:26,697 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 319f6c36-40eb-4fa9-ac62-d67bb69b9fa9, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.547Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:26,697 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: e5edfcb6-d854-419e-a549-22d1846bcb57, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.823Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:26,698 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 6c6e7a5f-11c0-4b23-b03a-7df05e95f871, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:3d105c53-23dd-414b-ad1c-b676e15a7de7, CreationTimestamp2021-10-22T16:57:11.049Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:26,698 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 03515e48-62ab-4666-8bc1-49aeaa637446, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:bb64e65f-ac54-4400-b84e-fa7de9c4383c, CreationTimestamp2021-10-22T16:57:11.819Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:26,698 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:57:26,698 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 16:57:26,713 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis to VolumeSet
2021-10-22 16:57:26,713 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis
2021-10-22 16:57:26,713 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 16:57:26,714 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis
2021-10-22 16:57:26,727 [Thread-384] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds
2021-10-22 16:57:26,727 [Listener at 127.0.0.1/43949] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:26,730 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:26,731 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:26,731 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:26,731 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:26,732 [Listener at 127.0.0.1/43949] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:26,732 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:26,732 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:26,733 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:57:26,736 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:26,736 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:26,738 [Listener at 127.0.0.1/43949] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:26,738 [Listener at 127.0.0.1/43949] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:26,739 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:26,740 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:26,740 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:26,740 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:26,741 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36991
2021-10-22 16:57:26,741 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:26,744 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:26,744 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:26,744 [Listener at 127.0.0.1/43949] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:26,744 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@23d216b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:26,745 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@52f55127{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:26,788 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@59aebd28{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36991-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2672364435088822137/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:26,790 [Listener at 127.0.0.1/43949] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@261d2483{HTTP/1.1, (http/1.1)}{0.0.0.0:36991}
2021-10-22 16:57:26,790 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(415)) - Started @27840ms
2021-10-22 16:57:26,790 [Listener at 127.0.0.1/43949] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:26,791 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36991
2021-10-22 16:57:26,793 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:26,794 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,799 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:26,799 [Listener at 127.0.0.1/43949] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:26,799 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:26,799 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:26,803 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3e9af0a7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:26,805 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/meta/datanode.id
2021-10-22 16:57:26,822 [Listener at 127.0.0.1/43949] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:26,846 [Listener at 127.0.0.1/43949] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:26,897 [Listener at 127.0.0.1/43949] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 50 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:26,898 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:26,898 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:26,898 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:26,898 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:26,899 [Listener at 127.0.0.1/43949] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:26,904 [Listener at 127.0.0.1/43949] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:26,904 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:26,904 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds
2021-10-22 16:57:26,905 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds
2021-10-22 16:57:26,921 [Listener at 127.0.0.1/43949] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis to VolumeSet
2021-10-22 16:57:26,921 [Listener at 127.0.0.1/43949] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis
2021-10-22 16:57:26,921 [Listener at 127.0.0.1/43949] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis
2021-10-22 16:57:26,935 [Thread-396] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds
2021-10-22 16:57:26,935 [Listener at 127.0.0.1/43949] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:26,938 [Listener at 127.0.0.1/43949] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:26,938 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:26,939 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:26,940 [Listener at 127.0.0.1/43949] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:26,941 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:26,941 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:26,941 [Listener at 127.0.0.1/43949] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:57:26,944 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:26,944 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:26,946 [Listener at 127.0.0.1/43949] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:26,950 [Listener at 127.0.0.1/43949] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:26,952 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:26,953 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:26,953 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:26,953 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:26,954 [Listener at 127.0.0.1/43949] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36453
2021-10-22 16:57:26,954 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:26,955 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:26,955 [Listener at 127.0.0.1/43949] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:26,956 [Listener at 127.0.0.1/43949] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:26,956 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@443fe670{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:26,956 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@39e053fe{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:27,000 [Listener at 127.0.0.1/43949] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5f1672d7{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36453-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7028927594920502331/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:27,001 [Listener at 127.0.0.1/43949] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7b57bb50{HTTP/1.1, (http/1.1)}{0.0.0.0:36453}
2021-10-22 16:57:27,002 [Listener at 127.0.0.1/43949] INFO  server.Server (Server.java:doStart(415)) - Started @28052ms
2021-10-22 16:57:27,002 [Listener at 127.0.0.1/43949] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:27,002 [Listener at 127.0.0.1/43949] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36453
2021-10-22 16:57:27,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:27,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:27,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:27,003 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:27,007 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:27,007 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:27,008 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3bb60fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:27,010 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/meta/datanode.id
2021-10-22 16:57:27,184 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1194037424ns, electionTimeout:1177ms
2021-10-22 16:57:27,184 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:27,185 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:27,185 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:27,185 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection7
2021-10-22 16:57:27,192 [om1@group-C5BA1605619E-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:41485|priority:0], old=null
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection7
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1241ms
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:57:27,193 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:27,194 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:27,194 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:27,194 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:27,194 [om1@group-C5BA1605619E-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:57:27,194 [om1@group-C5BA1605619E-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:27,206 [om1@group-C5BA1605619E-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:41485|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:57:27,207 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:57:27,208 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:41485"
]
2021-10-22 16:57:27,697 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,698 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,716 [pool-104-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:27,714 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,717 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,720 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:57:27,721 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,730 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:27,733 [pool-102-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:27,739 [pool-105-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:27,748 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,748 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,752 [pool-104-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:27,761 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:57:27,763 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,763 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,767 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,776 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:27,767 [pool-102-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:27,779 [pool-105-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:28,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:28,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:28,003 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:28,552 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:28,552 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:28,553 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41639
2021-10-22 16:57:28,554 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:28,558 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start RPC server
2021-10-22 16:57:28,559 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: GrpcService started, listening on 45425
2021-10-22 16:57:28,560 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 is started using port 45425 for RATIS
2021-10-22 16:57:28,560 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@293e29f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-9f9fdb93-7e22-4aa3-890b-feb385cc5d89: Started
2021-10-22 16:57:28,560 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 is started using port 45425 for RATIS_ADMIN
2021-10-22 16:57:28,561 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 is started using port 45425 for RATIS_SERVER
2021-10-22 16:57:28,562 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 is started using port 38923
2021-10-22 16:57:28,809 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:28,809 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:28,810 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 40449
2021-10-22 16:57:28,811 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:28,815 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start RPC server
2021-10-22 16:57:28,819 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: GrpcService started, listening on 33109
2021-10-22 16:57:28,820 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bf4ff601-ee24-45b9-a275-de70906bb8cb is started using port 33109 for RATIS
2021-10-22 16:57:28,820 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@50377fe8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-bf4ff601-ee24-45b9-a275-de70906bb8cb: Started
2021-10-22 16:57:28,820 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bf4ff601-ee24-45b9-a275-de70906bb8cb is started using port 33109 for RATIS_ADMIN
2021-10-22 16:57:28,820 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis bf4ff601-ee24-45b9-a275-de70906bb8cb is started using port 33109 for RATIS_SERVER
2021-10-22 16:57:28,821 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc bf4ff601-ee24-45b9-a275-de70906bb8cb is started using port 45805
2021-10-22 16:57:29,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:29,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:29,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:29,012 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:29,012 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:29,015 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33271
2021-10-22 16:57:29,015 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:29,017 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start RPC server
2021-10-22 16:57:29,018 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: GrpcService started, listening on 41493
2021-10-22 16:57:29,022 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 7fc6529c-fbd4-46bc-8435-07dde8e962e4 is started using port 41493 for RATIS
2021-10-22 16:57:29,022 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@69555b35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-7fc6529c-fbd4-46bc-8435-07dde8e962e4: Started
2021-10-22 16:57:29,022 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 7fc6529c-fbd4-46bc-8435-07dde8e962e4 is started using port 41493 for RATIS_ADMIN
2021-10-22 16:57:29,022 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 7fc6529c-fbd4-46bc-8435-07dde8e962e4 is started using port 41493 for RATIS_SERVER
2021-10-22 16:57:29,026 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 7fc6529c-fbd4-46bc-8435-07dde8e962e4 is started using port 41393
2021-10-22 16:57:30,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:30,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:30,004 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:30,540 [IPC Server handler 0 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:30,540 [IPC Server handler 0 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:30,543 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:30,543 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:30,543 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:30,544 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:30,544 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 44eb0df8-a0b9-4024-8c83-281d69b2ca49, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:30.543Z[Etc/UTC]].
2021-10-22 16:57:30,546 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:30,805 [IPC Server handler 3 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:30,806 [IPC Server handler 3 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:30,806 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:30,807 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:30,809 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:30,809 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a0246f60-0daf-4b16-b42a-97487a122027, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:30.809Z[Etc/UTC]].
2021-10-22 16:57:31,005 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:57:31,005 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:31,005 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:31,009 [IPC Server handler 2 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:31,011 [IPC Server handler 2 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:31,011 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:31,012 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:31,012 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: ab223706-868f-4b10-87e7-9ff268d9542b, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:31.012Z[Etc/UTC]].
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:31,013 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:31,014 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:31,015 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:31,015 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:31,015 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 9c23cdad-b496-419a-bfea-a869825fca63, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:31.014Z[Etc/UTC]].
2021-10-22 16:57:31,699 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:57:31,700 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 16:57:31,703 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 16:57:31,705 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:31,705 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:57:31,706 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 which uses HEALTHY READONLY datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:57:31,707 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:57:31,712 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 since it stays at CLOSED stage.
2021-10-22 16:57:31,714 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 close command to datanode b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:31,715 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 319f6c36-40eb-4fa9-ac62-d67bb69b9fa9, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.547Z[Etc/UTC]] removed.
2021-10-22 16:57:31,715 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871 since it stays at CLOSED stage.
2021-10-22 16:57:31,715 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871 close command to datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:31,715 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 6c6e7a5f-11c0-4b23-b03a-7df05e95f871, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:3d105c53-23dd-414b-ad1c-b676e15a7de7, CreationTimestamp2021-10-22T16:57:11.049Z[Etc/UTC]] removed.
2021-10-22 16:57:31,716 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446 since it stays at CLOSED stage.
2021-10-22 16:57:31,716 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446 close command to datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:31,716 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 close command to datanode b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:31,716 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 03515e48-62ab-4666-8bc1-49aeaa637446, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:bb64e65f-ac54-4400-b84e-fa7de9c4383c, CreationTimestamp2021-10-22T16:57:11.819Z[Etc/UTC]] removed.
2021-10-22 16:57:31,717 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 since it stays at CLOSED stage.
2021-10-22 16:57:31,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(213)) - Pipeline 319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-10-22 16:57:31,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 which uses HEALTHY READONLY datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:57:31,718 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:31,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:31,718 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:31,719 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:31,719 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: e5edfcb6-d854-419e-a549-22d1846bcb57, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:11.823Z[Etc/UTC]] removed.
2021-10-22 16:57:31,719 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:31,720 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 16:57:31,720 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 close command to datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:31,721 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(213)) - Pipeline e5edfcb6-d854-419e-a549-22d1846bcb57 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-10-22 16:57:31,721 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:57:31,721 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:57:31,754 [IPC Server handler 15 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:31,756 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 is not found
2021-10-22 16:57:31,757 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 is not found
2021-10-22 16:57:31,783 [IPC Server handler 1 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:31,790 [IPC Server handler 7 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,005 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:32,006 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:32,006 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:32,253 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - b333e7df-46e0-461f-a358-6b9f1e940990: remove    LEADER b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9:t1, leader=b333e7df-46e0-461f-a358-6b9f1e940990, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLog:OPENED:c0, conf=0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:57:32,254 [IPC Server handler 0 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,255 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: shutdown
2021-10-22 16:57:32,256 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D67BB69B9FA9,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:32,256 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-LeaderStateImpl
2021-10-22 16:57:32,257 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:32,259 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:32,260 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-D67BB69B9FA9: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9/sm/snapshot.1_0
2021-10-22 16:57:32,283 [IPC Server handler 19 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,283 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 is not found
2021-10-22 16:57:32,283 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871 is not found
2021-10-22 16:57:32,288 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-D67BB69B9FA9: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9/sm/snapshot.1_0 took: 28 ms
2021-10-22 16:57:32,289 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:32,290 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:32,291 [IPC Server handler 14 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,292 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 is not found
2021-10-22 16:57:32,292 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446 is not found
2021-10-22 16:57:32,299 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: closes. applyIndex: 0
2021-10-22 16:57:32,300 [b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,301 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,305 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-D67BB69B9FA9: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/319f6c36-40eb-4fa9-ac62-d67bb69b9fa9
2021-10-22 16:57:32,305 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=319f6c36-40eb-4fa9-ac62-d67bb69b9fa9 command on datanode b333e7df-46e0-461f-a358-6b9f1e940990.
2021-10-22 16:57:32,305 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - b333e7df-46e0-461f-a358-6b9f1e940990: remove    LEADER b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57:t2, leader=b333e7df-46e0-461f-a358-6b9f1e940990, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLog:OPENED:c10, conf=0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:57:32,306 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: shutdown
2021-10-22 16:57:32,306 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:32,306 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-LeaderStateImpl
2021-10-22 16:57:32,306 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->bb64e65f-ac54-4400-b84e-fa7de9c4383c-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->bb64e65f-ac54-4400-b84e-fa7de9c4383c-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:57:32,306 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->3d105c53-23dd-414b-ad1c-b676e15a7de7-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->3d105c53-23dd-414b-ad1c-b676e15a7de7-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:57:32,310 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: Completed APPEND_ENTRIES, lastRequest: b333e7df-46e0-461f-a358-6b9f1e940990->bb64e65f-ac54-4400-b84e-fa7de9c4383c#267-t2,previous=(t:2, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2021-10-22 16:57:32,311 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:32,312 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->bb64e65f-ac54-4400-b84e-fa7de9c4383c-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:57:32,310 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: Completed APPEND_ENTRIES, lastRequest: b333e7df-46e0-461f-a358-6b9f1e940990->3d105c53-23dd-414b-ad1c-b676e15a7de7#267-t2,previous=(t:2, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2021-10-22 16:57:32,316 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->bb64e65f-ac54-4400-b84e-fa7de9c4383c: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:57:32,317 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->3d105c53-23dd-414b-ad1c-b676e15a7de7-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:57:32,334 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-22D1846BCB57: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10
2021-10-22 16:57:32,331 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:57:32,335 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57->3d105c53-23dd-414b-ad1c-b676e15a7de7: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:57:32,341 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-22D1846BCB57: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10 took: 7 ms
2021-10-22 16:57:32,341 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:57:32,341 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:57:32,342 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: closes. applyIndex: 10
2021-10-22 16:57:32,342 [b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,343 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,345 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-22D1846BCB57: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:32,345 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 command on datanode b333e7df-46e0-461f-a358-6b9f1e940990.
2021-10-22 16:57:32,346 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:32,346 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:57:32,346 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:32,347 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:57:32,348 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:57:32,349 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data-0/containers/hdds/15e983f0-3030-4d1a-884b-db0b6a041153 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:57:32,350 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:57:32,782 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: remove    LEADER 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871:t1, leader=3d105c53-23dd-414b-ad1c-b676e15a7de7, voted=3d105c53-23dd-414b-ad1c-b676e15a7de7, raftlog=3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLog:OPENED:c0, conf=0: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:57:32,784 [IPC Server handler 6 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,784 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: shutdown
2021-10-22 16:57:32,786 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DF05E95F871,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:32,786 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-LeaderStateImpl
2021-10-22 16:57:32,786 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:32,787 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:32,788 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-7DF05E95F871: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871/sm/snapshot.1_0
2021-10-22 16:57:32,789 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-7DF05E95F871: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:57:32,790 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:32,790 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:32,790 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: remove    LEADER bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446:t1, leader=bb64e65f-ac54-4400-b84e-fa7de9c4383c, voted=bb64e65f-ac54-4400-b84e-fa7de9c4383c, raftlog=bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLog:OPENED:c0, conf=0: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:57:32,790 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: shutdown
2021-10-22 16:57:32,790 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-49AEAA637446,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:32,790 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-LeaderStateImpl
2021-10-22 16:57:32,791 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:32,791 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:32,791 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-49AEAA637446: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446/sm/snapshot.1_0
2021-10-22 16:57:32,792 [IPC Server handler 5 on default port 41165] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:57:32,792 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: closes. applyIndex: 0
2021-10-22 16:57:32,794 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,794 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-49AEAA637446: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:57:32,794 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:32,794 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:32,794 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: closes. applyIndex: 0
2021-10-22 16:57:32,794 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,799 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,800 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,801 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-49AEAA637446: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/03515e48-62ab-4666-8bc1-49aeaa637446
2021-10-22 16:57:32,801 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=03515e48-62ab-4666-8bc1-49aeaa637446 command on datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c.
2021-10-22 16:57:32,802 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: remove  FOLLOWER bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57:t2, leader=b333e7df-46e0-461f-a358-6b9f1e940990, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLog:OPENED:c10, conf=0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:57:32,802 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: shutdown
2021-10-22 16:57:32,802 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:32,802 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState
2021-10-22 16:57:32,802 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:32,804 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:57:32,804 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-22D1846BCB57: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10
2021-10-22 16:57:32,806 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-22D1846BCB57: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10 took: 3 ms
2021-10-22 16:57:32,806 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:57:32,807 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:57:32,811 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: closes. applyIndex: 10
2021-10-22 16:57:32,811 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,811 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-7DF05E95F871: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/6c6e7a5f-11c0-4b23-b03a-7df05e95f871
2021-10-22 16:57:32,812 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=6c6e7a5f-11c0-4b23-b03a-7df05e95f871 command on datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7.
2021-10-22 16:57:32,812 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: remove  FOLLOWER 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57:t2, leader=b333e7df-46e0-461f-a358-6b9f1e940990, voted=b333e7df-46e0-461f-a358-6b9f1e940990, raftlog=3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLog:OPENED:c10, conf=0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:57:32,812 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: shutdown
2021-10-22 16:57:32,812 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-22D1846BCB57,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:32,812 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState
2021-10-22 16:57:32,812 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:32,813 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,812 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:57:32,812 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-22D1846BCB57: Taking a snapshot at:(t:2, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10
2021-10-22 16:57:32,815 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-22D1846BCB57: Finished taking a snapshot at:(t:2, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57/sm/snapshot.2_10 took: 2 ms
2021-10-22 16:57:32,815 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:57:32,815 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:57:32,816 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: closes. applyIndex: 10
2021-10-22 16:57:32,816 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:32,822 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-22D1846BCB57: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:32,822 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 command on datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c.
2021-10-22 16:57:32,822 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57-SegmentedRaftLogWorker close()
2021-10-22 16:57:32,822 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:32,823 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:57:32,823 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:32,823 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:57:32,825 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-22D1846BCB57: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/e5edfcb6-d854-419e-a549-22d1846bcb57
2021-10-22 16:57:32,825 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e5edfcb6-d854-419e-a549-22d1846bcb57 command on datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7.
2021-10-22 16:57:32,825 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:32,826 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:57:32,826 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:32,826 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:57:32,827 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:57:32,828 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data-0/containers/hdds/15e983f0-3030-4d1a-884b-db0b6a041153 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:57:32,829 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:57:32,829 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:32,829 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:57:32,829 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data-0/containers/hdds/15e983f0-3030-4d1a-884b-db0b6a041153 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:57:32,831 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:57:32,831 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:32,927 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:57:32,927 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:32,928 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=568f572b-9698-4634-ba91-cbee057781de to datanode:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:32,930 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 568f572b-9698-4634-ba91-cbee057781de, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:32.928Z[Etc/UTC]].
2021-10-22 16:57:32,930 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-10-22 16:57:33,006 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:33,007 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:33,008 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:33,427 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:57:33,427 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:33,427 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:57:33,427 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:33,428 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=cb589dcb-e553-490d-beee-81e16ba81fdf to datanode:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:33,434 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: cb589dcb-e553-490d-beee-81e16ba81fdf, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:33.428Z[Etc/UTC]].
2021-10-22 16:57:33,434 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3365059a-4d20-4d23-b66a-4e1bca0f4b3d to datanode:b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:33,434 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3365059a-4d20-4d23-b66a-4e1bca0f4b3d to datanode:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:33,434 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3365059a-4d20-4d23-b66a-4e1bca0f4b3d to datanode:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:33,435 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3365059a-4d20-4d23-b66a-4e1bca0f4b3d, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:33.434Z[Etc/UTC]].
2021-10-22 16:57:33,435 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0 to datanode:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:33,436 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:33.435Z[Etc/UTC]].
2021-10-22 16:57:33,539 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-281D69B2CA49:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] returns group-281D69B2CA49:java.util.concurrent.CompletableFuture@5d7a34d9[Not completed]
2021-10-22 16:57:33,542 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-281D69B2CA49:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,543 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:57:33,544 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,544 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,544 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49 does not exist. Creating ...
2021-10-22 16:57:33,546 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,548 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49 has been successfully formatted.
2021-10-22 16:57:33,549 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-281D69B2CA49: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,549 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,549 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,550 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,550 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,551 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 44eb0df8-a0b9-4024-8c83-281d69b2ca49, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:30.543Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:33,553 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,554 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,555 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,555 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,555 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,555 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,557 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,557 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,558 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,558 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,567 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,568 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,570 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:57:33,572 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,572 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState
2021-10-22 16:57:33,573 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-281D69B2CA49,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:33,574 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49
2021-10-22 16:57:33,574 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49.
2021-10-22 16:57:33,574 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] returns group-A869825FCA63:java.util.concurrent.CompletableFuture@5945abae[Not completed]
2021-10-22 16:57:33,575 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,576 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 does not exist. Creating ...
2021-10-22 16:57:33,578 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,579 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 has been successfully formatted.
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A869825FCA63: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,580 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,581 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:33,582 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,582 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,582 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:57:33,582 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,588 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,589 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,592 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,592 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,593 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,593 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,594 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,596 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:57:33,596 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,596 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState
2021-10-22 16:57:33,597 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:33,597 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:57:33,609 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-A869825FCA63:java.util.concurrent.CompletableFuture@644103d4[Not completed]
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,610 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,611 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,613 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 does not exist. Creating ...
2021-10-22 16:57:33,616 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,622 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 has been successfully formatted.
2021-10-22 16:57:33,624 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A869825FCA63: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,624 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,624 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,625 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,625 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,625 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,627 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,628 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,629 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,630 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,630 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,630 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,631 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,633 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:33,633 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,633 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState
2021-10-22 16:57:33,633 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:33,650 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-A869825FCA63:java.util.concurrent.CompletableFuture@5f930f2f[Not completed]
2021-10-22 16:57:33,651 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-A869825FCA63:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,651 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,651 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,651 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,652 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,653 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 does not exist. Creating ...
2021-10-22 16:57:33,655 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,656 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63 has been successfully formatted.
2021-10-22 16:57:33,658 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A869825FCA63: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,659 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,659 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,659 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,659 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,660 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,661 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,662 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,663 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,663 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,664 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,666 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:33,666 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,666 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState
2021-10-22 16:57:33,666 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:33,671 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=9c23cdad-b496-419a-bfea-a869825fca63.
2021-10-22 16:57:33,752 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:33,753 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - b333e7df-46e0-461f-a358-6b9f1e940990: addNew group-CBEE057781DE:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1] returns group-CBEE057781DE:java.util.concurrent.CompletableFuture@6393e85b[Not completed]
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - b333e7df-46e0-461f-a358-6b9f1e940990: new RaftServerImpl for group-CBEE057781DE:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,756 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis] (custom)
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,757 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,758 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de does not exist. Creating ...
2021-10-22 16:57:33,760 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,761 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de has been successfully formatted.
2021-10-22 16:57:33,761 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CBEE057781DE: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,761 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,762 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,762 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,762 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,762 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 568f572b-9698-4634-ba91-cbee057781de, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:b333e7df-46e0-461f-a358-6b9f1e940990, CreationTimestamp2021-10-22T16:57:32.928Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:33,763 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,763 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,763 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,763 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de
2021-10-22 16:57:33,763 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,764 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,765 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,766 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,766 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,766 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,766 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,767 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,767 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,767 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,767 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,767 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,769 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null
2021-10-22 16:57:33,769 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,769 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState
2021-10-22 16:57:33,772 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CBEE057781DE,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:33,773 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=568f572b-9698-4634-ba91-cbee057781de
2021-10-22 16:57:33,776 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=568f572b-9698-4634-ba91-cbee057781de.
2021-10-22 16:57:33,776 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - b333e7df-46e0-461f-a358-6b9f1e940990: addNew group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] returns group-4E1BCA0F4B3D:java.util.concurrent.CompletableFuture@45e066de[Not completed]
2021-10-22 16:57:33,778 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - b333e7df-46e0-461f-a358-6b9f1e940990: new RaftServerImpl for group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,778 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis] (custom)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,779 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d does not exist. Creating ...
2021-10-22 16:57:33,781 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d has been successfully formatted.
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4E1BCA0F4B3D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,789 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,790 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,796 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,797 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,798 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,798 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,801 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,802 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,802 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,802 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,803 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,804 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-97487A122027:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] returns group-97487A122027:java.util.concurrent.CompletableFuture@75345006[Not completed]
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-97487A122027:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: ConfigurationManager, init=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,805 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,805 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:33,806 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027 does not exist. Creating ...
2021-10-22 16:57:33,806 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,806 [pool-74-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:33,807 [pool-74-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:33,808 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=3365059a-4d20-4d23-b66a-4e1bca0f4b3d
2021-10-22 16:57:33,808 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,811 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027 has been successfully formatted.
2021-10-22 16:57:33,812 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-97487A122027: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,813 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,813 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,813 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,813 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,814 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: a0246f60-0daf-4b16-b42a-97487a122027, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:bf4ff601-ee24-45b9-a275-de70906bb8cb, CreationTimestamp2021-10-22T16:57:30.809Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:33,814 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:33,823 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,823 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,824 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,826 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: addNew group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1] returns group-4E1BCA0F4B3D:java.util.concurrent.CompletableFuture@206c1be8[Not completed]
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: new RaftServerImpl for group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,827 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,827 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis] (custom)
2021-10-22 16:57:33,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,828 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,828 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,828 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d does not exist. Creating ...
2021-10-22 16:57:33,828 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,828 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,829 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,831 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d has been successfully formatted.
2021-10-22 16:57:33,831 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4E1BCA0F4B3D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,832 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,833 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,834 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,835 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,836 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,836 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,835 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,836 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,836 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,836 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,838 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,839 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,840 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: start as a follower, conf=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:57:33,840 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,840 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState
2021-10-22 16:57:33,838 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,840 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,842 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-97487A122027,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:33,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,843 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,844 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:33,844 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,844 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:33,844 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=a0246f60-0daf-4b16-b42a-97487a122027
2021-10-22 16:57:33,844 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=a0246f60-0daf-4b16-b42a-97487a122027.
2021-10-22 16:57:33,846 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:33,862 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: addNew group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1] returns group-4E1BCA0F4B3D:java.util.concurrent.CompletableFuture@7778e725[Not completed]
2021-10-22 16:57:33,863 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: new RaftServerImpl for group-4E1BCA0F4B3D:[b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:33,863 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:33,863 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:33,863 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: ConfigurationManager, init=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis] (custom)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:33,864 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d does not exist. Creating ...
2021-10-22 16:57:33,866 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:33,867 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d has been successfully formatted.
2021-10-22 16:57:33,868 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4E1BCA0F4B3D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:33,868 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:33,869 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:33,869 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:33,869 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:33,870 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,870 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:33,870 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:33,870 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d
2021-10-22 16:57:33,870 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:33,871 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:33,872 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:33,873 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:33,876 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,876 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:33,878 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:33,879 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:33,879 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:33,879 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:33,879 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:33,879 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:33,880 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: start as a follower, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:33,880 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:33,881 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:33,881 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:33,889 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=3365059a-4d20-4d23-b66a-4e1bca0f4b3d.
2021-10-22 16:57:34,008 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-9FF268D9542B:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] returns group-9FF268D9542B:java.util.concurrent.CompletableFuture@4f1f390[Not completed]
2021-10-22 16:57:34,008 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:34,008 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:34,008 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-9FF268D9542B:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: ConfigurationManager, init=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:34,009 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:57:34,010 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:34,010 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:34,010 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b does not exist. Creating ...
2021-10-22 16:57:34,012 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:34,014 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b has been successfully formatted.
2021-10-22 16:57:34,015 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-9FF268D9542B: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:34,015 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:34,015 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:34,015 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:34,015 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:34,016 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,016 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: ab223706-868f-4b10-87e7-9ff268d9542b, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:7fc6529c-fbd4-46bc-8435-07dde8e962e4, CreationTimestamp2021-10-22T16:57:31.012Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:34,016 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:34,017 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:34,017 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:34,017 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:34,018 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:34,019 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:34,020 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:34,021 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:34,025 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: start as a follower, conf=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:57:34,025 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:34,025 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState
2021-10-22 16:57:34,026 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9FF268D9542B,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:34,027 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b
2021-10-22 16:57:34,027 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b.
2021-10-22 16:57:34,282 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:34,282 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: addNew group-81E16BA81FDF:[3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1] returns group-81E16BA81FDF:java.util.concurrent.CompletableFuture@d24b420[Not completed]
2021-10-22 16:57:34,284 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: new RaftServerImpl for group-81E16BA81FDF:[3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:34,284 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: ConfigurationManager, init=-1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis] (custom)
2021-10-22 16:57:34,285 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:34,286 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:34,286 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf does not exist. Creating ...
2021-10-22 16:57:34,291 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:57:34,291 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: addNew group-0EBFDD9EBCA0:[bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] returns group-0EBFDD9EBCA0:java.util.concurrent.CompletableFuture@4c5a845d[Not completed]
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: new RaftServerImpl for group-0EBFDD9EBCA0:[bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: ConfigurationManager, init=-1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:34,292 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis] (custom)
2021-10-22 16:57:34,293 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:34,293 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:34,293 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0 does not exist. Creating ...
2021-10-22 16:57:34,295 [pool-93-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:34,295 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:34,301 [pool-93-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0 has been successfully formatted.
2021-10-22 16:57:34,302 [pool-93-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0EBFDD9EBCA0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:34,304 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0, Nodes: bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:bb64e65f-ac54-4400-b84e-fa7de9c4383c, CreationTimestamp2021-10-22T16:57:33.435Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:34,305 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:34,305 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:34,305 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:34,305 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:34,306 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:34,307 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,307 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:34,307 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:34,307 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:34,307 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:34,308 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:34,311 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf has been successfully formatted.
2021-10-22 16:57:34,312 [pool-55-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-81E16BA81FDF: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:34,312 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:34,312 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:34,312 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:34,312 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:34,312 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: cb589dcb-e553-490d-beee-81e16ba81fdf, Nodes: 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:3d105c53-23dd-414b-ad1c-b676e15a7de7, CreationTimestamp2021-10-22T16:57:33.428Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:34,313 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:34,318 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:34,319 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:34,319 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:34,319 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:34,320 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:34,320 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:34,318 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:34,321 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:34,322 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,322 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,322 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,322 [pool-93-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:34,325 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:34,325 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:34,325 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:34,325 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:34,326 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:34,326 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:34,327 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: start as a follower, conf=-1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null
2021-10-22 16:57:34,327 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:34,329 [pool-55-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState
2021-10-22 16:57:34,329 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:34,329 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:34,329 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:34,329 [pool-55-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-81E16BA81FDF,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:34,329 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:34,330 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:34,330 [pool-93-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:34,331 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=cb589dcb-e553-490d-beee-81e16ba81fdf
2021-10-22 16:57:34,331 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=cb589dcb-e553-490d-beee-81e16ba81fdf.
2021-10-22 16:57:34,334 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: start as a follower, conf=-1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:34,334 [pool-93-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:34,334 [pool-93-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState
2021-10-22 16:57:34,337 [pool-93-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0EBFDD9EBCA0,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:34,338 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0
2021-10-22 16:57:34,338 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0.
2021-10-22 16:57:34,582 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:34,813 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:35,008 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:35,009 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:35,009 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:35,516 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:35,817 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:36,009 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:36,009 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:36,009 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:36,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:36,712 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:57:37,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:37,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:37,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:37,017 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:37,319 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:37,582 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:38,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:38,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:38,010 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:38,517 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:38,582 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:38,628 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5055553068ns, electionTimeout:5055ms
2021-10-22 16:57:38,628 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState
2021-10-22 16:57:38,628 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:38,630 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:38,630 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8
2021-10-22 16:57:38,635 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-281D69B2CA49 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for becomeLeader, leader elected after 5086ms
2021-10-22 16:57:38,636 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:38,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:38,639 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,639 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:38,639 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:38,640 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:38,640 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:38,640 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,640 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:38,642 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderStateImpl
2021-10-22 16:57:38,643 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,645 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49/current/log_inprogress_0
2021-10-22 16:57:38,655 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1], old=null
2021-10-22 16:57:38,724 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5128097429ns, electionTimeout:5127ms
2021-10-22 16:57:38,725 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState
2021-10-22 16:57:38,725 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:38,725 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:38,725 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9
2021-10-22 16:57:38,730 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:57:38,741 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-A869825FCA63, 1, (t:0, i:0))
2021-10-22 16:57:38,741 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:57:38,741 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,741 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState
2021-10-22 16:57:38,741 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState
2021-10-22 16:57:38,741 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:38,745 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63 replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63:t1, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9 ELECTION round 0: result PASSED
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A869825FCA63 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for becomeLeader, leader elected after 5170ms
2021-10-22 16:57:38,750 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:38,751 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,751 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:38,752 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:38,753 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:38,753 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:38,753 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:38,753 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:38,753 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 9c23cdad-b496-419a-bfea-a869825fca63, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:31.014Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:57:38,754 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:57:38,756 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:38,756 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:38,756 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:38,756 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:38,756 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:38,757 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:38,757 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderStateImpl
2021-10-22 16:57:38,758 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,760 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/current/log_inprogress_0
2021-10-22 16:57:38,763 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-A869825FCA63, 1, (t:0, i:0))
2021-10-22 16:57:38,763 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:57:38,763 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,763 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState
2021-10-22 16:57:38,764 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:38,771 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState
2021-10-22 16:57:38,771 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:38,775 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63 replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-bf4ff601-ee24-45b9-a275-de70906bb8cb#0:OK-t1. Peer's state: bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63:t1, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:38,778 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A869825FCA63 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,778 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for appendEntries, leader elected after 5153ms
2021-10-22 16:57:38,779 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A869825FCA63 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:38,779 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for appendEntries, leader elected after 5119ms
2021-10-22 16:57:38,787 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:38,788 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,790 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:38,790 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,790 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/current/log_inprogress_0
2021-10-22 16:57:38,798 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/current/log_inprogress_0
2021-10-22 16:57:38,851 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5010542644ns, electionTimeout:5008ms
2021-10-22 16:57:38,851 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState
2021-10-22 16:57:38,851 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:38,852 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5008120219ns, electionTimeout:5005ms
2021-10-22 16:57:38,852 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:38,852 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10
2021-10-22 16:57:38,852 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,852 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:38,853 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:38,853 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11
2021-10-22 16:57:38,861 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-97487A122027 with new leaderId: bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: change Leader from null to bf4ff601-ee24-45b9-a275-de70906bb8cb at term 1 for becomeLeader, leader elected after 5049ms
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:38,862 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:38,863 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderStateImpl
2021-10-22 16:57:38,864 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,865 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027/current/log_inprogress_0
2021-10-22 16:57:38,866 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:38,870 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5101230014ns, electionTimeout:5098ms
2021-10-22 16:57:38,870 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState
2021-10-22 16:57:38,870 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:38,873 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:38,873 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12
2021-10-22 16:57:38,873 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: receive requestVote(ELECTION, 3d105c53-23dd-414b-ad1c-b676e15a7de7, group-4E1BCA0F4B3D, 1, (t:0, i:0))
2021-10-22 16:57:38,873 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FOLLOWER: accept ELECTION from 3d105c53-23dd-414b-ad1c-b676e15a7de7: our priority 0 <= candidate's priority 0
2021-10-22 16:57:38,873 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: receive requestVote(ELECTION, 3d105c53-23dd-414b-ad1c-b676e15a7de7, group-4E1BCA0F4B3D, 1, (t:0, i:0))
2021-10-22 16:57:38,873 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FOLLOWER: reject ELECTION from 3d105c53-23dd-414b-ad1c-b676e15a7de7: our priority 1 > candidate's priority 0
2021-10-22 16:57:38,873 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:38,873 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,873 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:38,874 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,878 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: set configuration 0: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:1], old=null
2021-10-22 16:57:38,878 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,878 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:38,879 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,879 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:38,881 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D replies to ELECTION vote request: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-b333e7df-46e0-461f-a358-6b9f1e940990#0:OK-t1. Peer's state: b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D:t1, leader=null, voted=3d105c53-23dd-414b-ad1c-b676e15a7de7, raftlog=b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:38,884 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D replies to ELECTION vote request: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-bb64e65f-ac54-4400-b84e-fa7de9c4383c#0:FAIL-t1. Peer's state: bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D:t1, leader=null, voted=null, raftlog=bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-b333e7df-46e0-461f-a358-6b9f1e940990#0:OK-t1
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 3d105c53-23dd-414b-ad1c-b676e15a7de7<-bb64e65f-ac54-4400-b84e-fa7de9c4383c#0:FAIL-t1
2021-10-22 16:57:38,885 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:1], old=null
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11 ELECTION round 0: result REJECTED
2021-10-22 16:57:38,885 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11
2021-10-22 16:57:38,885 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12
2021-10-22 16:57:38,885 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:38,885 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:38,885 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CBEE057781DE with new leaderId: b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:38,887 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: change Leader from null to b333e7df-46e0-461f-a358-6b9f1e940990 at term 1 for becomeLeader, leader elected after 5123ms
2021-10-22 16:57:38,887 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:38,888 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,888 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:38,889 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:38,889 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:38,889 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:38,891 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:38,891 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:38,891 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderStateImpl
2021-10-22 16:57:38,892 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:38,895 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:1], old=null
2021-10-22 16:57:38,896 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de/current/log_inprogress_0
2021-10-22 16:57:39,011 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:39,011 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:57:39,011 [Listener at 127.0.0.1/43949] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:39,013 [Listener at 127.0.0.1/43949] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,015 [Listener at 127.0.0.1/43949] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:39,015 [Listener at 127.0.0.1/43949] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:39,016 [Listener at 127.0.0.1/43949] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,017 [Listener at 127.0.0.1/43949] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:39,060 [Listener at 127.0.0.1/43949] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:39,061 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:39,061 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:39,061 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:39,062 [Listener at 127.0.0.1/43949] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:39,062 [Listener at 127.0.0.1/43949] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,062 [Listener at 127.0.0.1/43949] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,108 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5083348476ns, electionTimeout:5082ms
2021-10-22 16:57:39,109 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState
2021-10-22 16:57:39,109 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:39,110 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:39,110 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13
2021-10-22 16:57:39,121 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:57:39,121 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:39,121 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13
2021-10-22 16:57:39,121 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:39,121 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-9FF268D9542B with new leaderId: 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:39,122 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: change Leader from null to 7fc6529c-fbd4-46bc-8435-07dde8e962e4 at term 1 for becomeLeader, leader elected after 5106ms
2021-10-22 16:57:39,122 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:39,122 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,123 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:39,123 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:39,123 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:39,124 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:39,124 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,124 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:39,125 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderStateImpl
2021-10-22 16:57:39,125 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:39,126 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b/current/log_inprogress_0
2021-10-22 16:57:39,139 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: set configuration 0: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:1], old=null
2021-10-22 16:57:39,177 [Listener at 127.0.0.1/43949] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:39,177 [Listener at 127.0.0.1/43949] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:39,191 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,192 [Listener at 127.0.0.1/43949] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,202 [Listener at 127.0.0.1/43949] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:57:39,203 [Listener at 127.0.0.1/43949] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:57:39,203 [Listener at 127.0.0.1/43949] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:57:39,203 [Listener at 127.0.0.1/43949] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:39,206 [Listener at 127.0.0.1/43949] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:39,207 [Listener at 127.0.0.1/43949] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:39,207 [Listener at 127.0.0.1/43949] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:57:39,208 [Listener at 127.0.0.1/43949] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:39,208 [Listener at 127.0.0.1/43949] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:39,208 [Listener at 127.0.0.1/43949] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:39,215 [Listener at 127.0.0.1/43949] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:39,216 [Listener at 127.0.0.1/43949] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:39,216 [Listener at 127.0.0.1/43949] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:39,216 [Listener at 127.0.0.1/43949] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:39,217 [Listener at 127.0.0.1/43949] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:57:39,218 [Listener at 127.0.0.1/43949] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:57:39,218 [Listener at 127.0.0.1/43949] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:57:39,221 [Listener at 127.0.0.1/43949] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:39,222 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:39,223 [Listener at 0.0.0.0/34635] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:39,225 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:39,226 [Listener at 0.0.0.0/39675] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:39,228 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:39,240 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-10-22 16:57:39,267 [Listener at 0.0.0.0/46807] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:39,268 [Listener at 0.0.0.0/46807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:39,269 [Listener at 0.0.0.0/46807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:46807
2021-10-22 16:57:39,269 [Listener at 0.0.0.0/46807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-10-22 16:57:39,287 [Listener at 0.0.0.0/46807] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:46807
2021-10-22 16:57:39,288 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:39,288 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:39,299 [Listener at 0.0.0.0/46807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:39675
2021-10-22 16:57:39,299 [Listener at 0.0.0.0/46807] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:39675
2021-10-22 16:57:39,300 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:39,300 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:39,304 [Listener at 0.0.0.0/46807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34635
2021-10-22 16:57:39,305 [Listener at 0.0.0.0/46807] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34635
2021-10-22 16:57:39,305 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:39,305 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:39,333 [Listener at 0.0.0.0/46807] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:57:39,333 [Listener at 0.0.0.0/46807] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:39,334 [Listener at 0.0.0.0/46807] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:39,335 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@170a9ae9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:39,335 [Listener at 0.0.0.0/46807] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:39,336 [Listener at 0.0.0.0/46807] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:39,336 [Listener at 0.0.0.0/46807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:39,336 [Listener at 0.0.0.0/46807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:39,336 [Listener at 0.0.0.0/46807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:39,337 [Listener at 0.0.0.0/46807] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39345
2021-10-22 16:57:39,337 [Listener at 0.0.0.0/46807] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:39,340 [Listener at 0.0.0.0/46807] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:39,340 [Listener at 0.0.0.0/46807] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:39,340 [Listener at 0.0.0.0/46807] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:39,341 [Listener at 0.0.0.0/46807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@452e318{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:39,341 [Listener at 0.0.0.0/46807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@45dfece4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:39,347 [Listener at 0.0.0.0/46807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3bc3085f{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:39,361 [Listener at 0.0.0.0/46807] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2f9fad93{HTTP/1.1, (http/1.1)}{0.0.0.0:39345}
2021-10-22 16:57:39,361 [Listener at 0.0.0.0/46807] INFO  server.Server (Server.java:doStart(415)) - Started @40411ms
2021-10-22 16:57:39,361 [Listener at 0.0.0.0/46807] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:39,362 [Listener at 0.0.0.0/46807] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:39345
2021-10-22 16:57:39,362 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,368 [Listener at 0.0.0.0/46807] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:57:39,395 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5066337842ns, electionTimeout:5065ms
2021-10-22 16:57:39,396 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState
2021-10-22 16:57:39,396 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:39,396 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:39,396 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14
2021-10-22 16:57:39,407 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:1], old=null
2021-10-22 16:57:39,407 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:39,407 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14
2021-10-22 16:57:39,407 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5073101213ns, electionTimeout:5069ms
2021-10-22 16:57:39,407 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState
2021-10-22 16:57:39,407 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:39,408 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:39,408 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15
2021-10-22 16:57:39,408 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:39,408 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-81E16BA81FDF with new leaderId: 3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: change Leader from null to 3d105c53-23dd-414b-ad1c-b676e15a7de7 at term 1 for becomeLeader, leader elected after 5095ms
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:39,417 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:39,418 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:39,418 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,418 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:39,418 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderStateImpl
2021-10-22 16:57:39,418 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:39,420 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf/current/log_inprogress_0
2021-10-22 16:57:39,431 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: set configuration 0: [3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:1], old=null
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-0EBFDD9EBCA0 with new leaderId: bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: change Leader from null to bb64e65f-ac54-4400-b84e-fa7de9c4383c at term 1 for becomeLeader, leader elected after 5130ms
2021-10-22 16:57:39,433 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:39,434 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderStateImpl
2021-10-22 16:57:39,435 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:39,444 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0/current/log_inprogress_0
2021-10-22 16:57:39,446 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: set configuration 0: [bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:39,447 [Listener at 0.0.0.0/46807] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 78 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:57:39,448 [Listener at 0.0.0.0/46807] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:57:39,448 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,459 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:39,460 [Listener at 0.0.0.0/46807] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:39,460 [Listener at 0.0.0.0/46807] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:39,619 [Listener at 0.0.0.0/46807] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:57:39,619 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:39,619 [Listener at 0.0.0.0/46807] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:57:39,620 [Listener at 0.0.0.0/46807] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,620 [Listener at 0.0.0.0/46807] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,620 [Listener at 0.0.0.0/46807] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:39,622 [Listener at 0.0.0.0/46807] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:43731
2021-10-22 16:57:39,624 [Listener at 0.0.0.0/46807] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:57:39,624 [Listener at 0.0.0.0/46807] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43731 (custom)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43731 (custom)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43731 (custom)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:57:39,625 [Listener at 0.0.0.0/46807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:57:39,626 [Listener at 0.0.0.0/46807] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:39,626 [Listener at 0.0.0.0/46807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:39,627 [Listener at 0.0.0.0/46807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:39,627 [Listener at 0.0.0.0/46807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis] (custom)
2021-10-22 16:57:39,632 [Listener at 0.0.0.0/46807] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:43731|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@7e43bda[Not completed]
2021-10-22 16:57:39,632 [Listener at 0.0.0.0/46807] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 43731
2021-10-22 16:57:39,633 [Listener at 0.0.0.0/46807] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:39,634 [pool-270-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:43731|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:57:39,635 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:57:39,635 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:57:39,636 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:39,636 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:39,636 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:39,636 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:39,637 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:39,637 [pool-270-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:43731|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:39,638 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis] (custom)
2021-10-22 16:57:39,638 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:39,638 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:39,638 [pool-270-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:57:39,639 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:39,646 [pool-270-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:39,648 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:57:39,649 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:57:39,650 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:39,650 [pool-270-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:39,654 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:39,654 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:57:39,655 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:57:39,655 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:57:39,655 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:57:39,655 [pool-270-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:39,661 [Listener at 127.0.0.1/35301] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:57:39,661 [Listener at 127.0.0.1/35301] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:35301
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 43731
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:43731|priority:0], old=null
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:39,675 [Listener at 127.0.0.1/35301] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:57:39,676 [Listener at 127.0.0.1/35301] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:57:39,678 [Listener at 127.0.0.1/35301] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:57:39,681 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 43731
2021-10-22 16:57:39,681 [Listener at 127.0.0.1/35301] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:57:39,681 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2a406f8c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:57:39,690 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:57:39,690 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:39,691 [Listener at 127.0.0.1/35301] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:39,692 [Listener at 127.0.0.1/35301] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:39,693 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:39,694 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:57:39,694 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:39,694 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:39,694 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46733
2021-10-22 16:57:39,694 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:39,696 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:39,696 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:39,697 [Listener at 127.0.0.1/35301] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:39,697 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7c635d16{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:39,698 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4c58d4a7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:39,701 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4ff0de85{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:57:39,703 [Listener at 127.0.0.1/35301] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@22656ad0{HTTP/1.1, (http/1.1)}{0.0.0.0:46733}
2021-10-22 16:57:39,703 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(415)) - Started @40753ms
2021-10-22 16:57:39,703 [Listener at 127.0.0.1/35301] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:39,704 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:46733
2021-10-22 16:57:39,704 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:39,708 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:39,713 [Listener at 127.0.0.1/35301] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:57:39,714 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5a3f45a5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:39,727 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,727 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,727 [Listener at 127.0.0.1/35301] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:39,741 [Listener at 127.0.0.1/35301] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:39,765 [Listener at 127.0.0.1/35301] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:39,806 [Listener at 127.0.0.1/35301] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:39,807 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:39,808 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:39,808 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:39,808 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:39,808 [Listener at 127.0.0.1/35301] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:39,810 [Listener at 127.0.0.1/35301] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:39,810 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:39,810 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:57:39,810 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:57:39,824 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis to VolumeSet
2021-10-22 16:57:39,824 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis
2021-10-22 16:57:39,825 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis
2021-10-22 16:57:39,839 [Thread-623] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:57:39,839 [Listener at 127.0.0.1/35301] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:39,841 [Listener at 127.0.0.1/35301] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:39,841 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:39,841 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:39,841 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:39,842 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:39,842 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:39,842 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:39,842 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:39,842 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:39,843 [Listener at 127.0.0.1/35301] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:39,843 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:39,843 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:39,843 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:57:39,846 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:39,846 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:39,847 [Listener at 127.0.0.1/35301] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:39,847 [Listener at 127.0.0.1/35301] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:39,849 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:39,849 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:39,849 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:39,849 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:39,850 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45939
2021-10-22 16:57:39,850 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:39,853 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:39,853 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:39,853 [Listener at 127.0.0.1/35301] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:39,854 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@74e8090b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:39,854 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5d23cdb1{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:39,900 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@72d99ba3{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-45939-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3092439237751704200/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:39,902 [Listener at 127.0.0.1/35301] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3df6e6e5{HTTP/1.1, (http/1.1)}{0.0.0.0:45939}
2021-10-22 16:57:39,902 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(415)) - Started @40952ms
2021-10-22 16:57:39,902 [Listener at 127.0.0.1/35301] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:39,903 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:45939
2021-10-22 16:57:39,905 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:39,905 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,907 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:39,907 [Listener at 127.0.0.1/35301] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:39,910 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:39,910 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:39,925 [Listener at 127.0.0.1/35301] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:39,927 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5bc38103] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:39,931 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/meta/datanode.id
2021-10-22 16:57:39,954 [Listener at 127.0.0.1/35301] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:40,007 [Listener at 127.0.0.1/35301] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 52 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:40,009 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:40,009 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:40,009 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:40,009 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:40,009 [Listener at 127.0.0.1/35301] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:40,013 [Listener at 127.0.0.1/35301] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:40,013 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:40,013 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:57:40,015 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:57:40,033 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis to VolumeSet
2021-10-22 16:57:40,034 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis
2021-10-22 16:57:40,034 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis
2021-10-22 16:57:40,049 [Thread-635] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:57:40,049 [Listener at 127.0.0.1/35301] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:40,052 [Listener at 127.0.0.1/35301] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:40,052 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:40,052 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:40,052 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:40,052 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:40,053 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:40,053 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:40,053 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:40,053 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:40,054 [Listener at 127.0.0.1/35301] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:40,054 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:40,054 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:40,054 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:57:40,058 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:40,059 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:40,060 [Listener at 127.0.0.1/35301] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:40,062 [Listener at 127.0.0.1/35301] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:40,063 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:40,064 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:40,064 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:40,064 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:40,064 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33777
2021-10-22 16:57:40,064 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:40,067 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:40,067 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:40,067 [Listener at 127.0.0.1/35301] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:40,068 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4e747365{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:40,069 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2cd73646{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:40,110 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5840e8e4{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33777-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-4950831325580101876/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:40,112 [Listener at 127.0.0.1/35301] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3218e5a6{HTTP/1.1, (http/1.1)}{0.0.0.0:33777}
2021-10-22 16:57:40,112 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(415)) - Started @41162ms
2021-10-22 16:57:40,112 [Listener at 127.0.0.1/35301] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:40,113 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33777
2021-10-22 16:57:40,113 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:40,114 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:40,114 [Listener at 127.0.0.1/35301] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:40,116 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:40,129 [Listener at 127.0.0.1/35301] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:40,132 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:40,132 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:40,133 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@69366279] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:40,134 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/meta/datanode.id
2021-10-22 16:57:40,155 [Listener at 127.0.0.1/35301] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:40,255 [Listener at 127.0.0.1/35301] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 99 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:40,257 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:40,257 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:40,257 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:40,257 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:40,257 [Listener at 127.0.0.1/35301] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:40,259 [Listener at 127.0.0.1/35301] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:40,259 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:40,259 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:57:40,259 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:57:40,273 [Listener at 127.0.0.1/35301] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis to VolumeSet
2021-10-22 16:57:40,273 [Listener at 127.0.0.1/35301] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis
2021-10-22 16:57:40,274 [Listener at 127.0.0.1/35301] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis
2021-10-22 16:57:40,290 [Thread-647] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:57:40,290 [Listener at 127.0.0.1/35301] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:40,293 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:40,294 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:40,294 [Listener at 127.0.0.1/35301] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:40,294 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:40,295 [Listener at 127.0.0.1/35301] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:40,295 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:40,295 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:40,295 [Listener at 127.0.0.1/35301] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:57:40,298 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:40,298 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:40,303 [Listener at 127.0.0.1/35301] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:40,303 [Listener at 127.0.0.1/35301] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:40,304 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:40,305 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:40,305 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:40,305 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:40,306 [Listener at 127.0.0.1/35301] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32833
2021-10-22 16:57:40,306 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:40,315 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:40,315 [Listener at 127.0.0.1/35301] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:40,315 [Listener at 127.0.0.1/35301] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:40,316 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@369675cd{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:40,316 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@32817b7e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:40,358 [Listener at 127.0.0.1/35301] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@430e455f{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-32833-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1348272072511106974/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:40,360 [Listener at 127.0.0.1/35301] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3fb6e60{HTTP/1.1, (http/1.1)}{0.0.0.0:32833}
2021-10-22 16:57:40,360 [Listener at 127.0.0.1/35301] INFO  server.Server (Server.java:doStart(415)) - Started @41411ms
2021-10-22 16:57:40,361 [Listener at 127.0.0.1/35301] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:40,361 [Listener at 127.0.0.1/35301] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:32833
2021-10-22 16:57:40,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:40,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:40,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:40,362 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:40,374 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:40,374 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:40,376 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@73b523ed] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:40,377 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/meta/datanode.id
2021-10-22 16:57:40,739 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1064318463ns, electionTimeout:1061ms
2021-10-22 16:57:40,740 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:40,740 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:40,740 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:40,740 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection16
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:43731|priority:0], old=null
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection16 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection16
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1097ms
2021-10-22 16:57:40,745 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:57:40,746 [om1@group-C5BA1605619E-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:40,752 [om1@group-C5BA1605619E-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:43731|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:57:40,754 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:57:40,756 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:43731"
]
2021-10-22 16:57:41,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:41,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:41,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:41,713 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:57:41,937 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:41,937 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:41,938 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 45393
2021-10-22 16:57:41,938 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:41,943 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start RPC server
2021-10-22 16:57:41,944 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: GrpcService started, listening on 43791
2021-10-22 16:57:41,944 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS
2021-10-22 16:57:41,944 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS_ADMIN
2021-10-22 16:57:41,944 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS_SERVER
2021-10-22 16:57:41,944 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43267
2021-10-22 16:57:41,946 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@69711836] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-728e4f4b-82ae-4639-9130-a1513d8bab9d: Started
2021-10-22 16:57:42,137 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:42,138 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:42,140 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43991
2021-10-22 16:57:42,141 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:42,146 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start RPC server
2021-10-22 16:57:42,146 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: GrpcService started, listening on 43937
2021-10-22 16:57:42,147 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS
2021-10-22 16:57:42,147 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS_ADMIN
2021-10-22 16:57:42,147 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS_SERVER
2021-10-22 16:57:42,147 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@42866ad3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-f84af4ee-5ee7-459e-b74c-1ef900d5895a: Started
2021-10-22 16:57:42,148 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 35649
2021-10-22 16:57:42,362 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:42,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:42,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:42,381 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:42,381 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:42,383 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41127
2021-10-22 16:57:42,384 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:42,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start RPC server
2021-10-22 16:57:42,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: GrpcService started, listening on 45015
2021-10-22 16:57:42,388 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS
2021-10-22 16:57:42,388 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS_ADMIN
2021-10-22 16:57:42,388 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS_SERVER
2021-10-22 16:57:42,388 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 37423
2021-10-22 16:57:42,390 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@37545b42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-496e60f7-ff72-4faa-a603-98d08c2b20a2: Started
2021-10-22 16:57:43,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:43,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:43,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:43,898 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5018916835ns, electionTimeout:5010ms
2021-10-22 16:57:43,898 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:43,898 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:57:43,898 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:43,899 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17
2021-10-22 16:57:43,903 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17 ELECTION round 0: submit vote requests at term 2 for -1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:43,916 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: receive requestVote(ELECTION, bb64e65f-ac54-4400-b84e-fa7de9c4383c, group-4E1BCA0F4B3D, 2, (t:0, i:0))
2021-10-22 16:57:43,916 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FOLLOWER: accept ELECTION from bb64e65f-ac54-4400-b84e-fa7de9c4383c: our priority 0 <= candidate's priority 1
2021-10-22 16:57:43,917 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:43,917 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:43,917 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - b333e7df-46e0-461f-a358-6b9f1e940990: start b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:43,917 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:43,923 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: receive requestVote(ELECTION, bb64e65f-ac54-4400-b84e-fa7de9c4383c, group-4E1BCA0F4B3D, 2, (t:0, i:0))
2021-10-22 16:57:43,923 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FOLLOWER: accept ELECTION from bb64e65f-ac54-4400-b84e-fa7de9c4383c: our priority 0 <= candidate's priority 1
2021-10-22 16:57:43,923 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:43,923 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:43,924 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: start 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:43,924 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:43,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D replies to ELECTION vote request: bb64e65f-ac54-4400-b84e-fa7de9c4383c<-3d105c53-23dd-414b-ad1c-b676e15a7de7#0:OK-t2. Peer's state: 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D:t2, leader=null, voted=bb64e65f-ac54-4400-b84e-fa7de9c4383c, raftlog=3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:43,926 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D replies to ELECTION vote request: bb64e65f-ac54-4400-b84e-fa7de9c4383c<-b333e7df-46e0-461f-a358-6b9f1e940990#0:OK-t2. Peer's state: b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D:t2, leader=null, voted=bb64e65f-ac54-4400-b84e-fa7de9c4383c, raftlog=b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLog:OPENED:c-1, conf=-1: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|priority:1], old=null
2021-10-22 16:57:43,928 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:57:43,928 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: bb64e65f-ac54-4400-b84e-fa7de9c4383c<-3d105c53-23dd-414b-ad1c-b676e15a7de7#0:OK-t2
2021-10-22 16:57:43,928 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17 ELECTION round 0: result PASSED
2021-10-22 16:57:43,928 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4E1BCA0F4B3D with new leaderId: bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: change Leader from null to bb64e65f-ac54-4400-b84e-fa7de9c4383c at term 2 for becomeLeader, leader elected after 10060ms
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:43,929 [IPC Server handler 1 on default port 34635] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:43,930 [IPC Server handler 1 on default port 34635] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:43,929 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:43,930 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:43,931 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:43,932 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:43,935 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl
2021-10-22 16:57:43,935 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:43,939 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:43,943 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:43,948 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:43,949 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95 to datanode:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:43,955 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 2bdf57e7-3db7-41b3-bd27-b59c2741ea95, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:43.949Z[Etc/UTC]].
2021-10-22 16:57:43,957 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/current/log_inprogress_0
2021-10-22 16:57:43,958 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:43,958 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:43,959 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 3365059a-4d20-4d23-b66a-4e1bca0f4b3d, Nodes: b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:bb64e65f-ac54-4400-b84e-fa7de9c4383c, CreationTimestamp2021-10-22T16:57:33.434Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:43,963 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4E1BCA0F4B3D with new leaderId: bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:43,963 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: change Leader from null to bb64e65f-ac54-4400-b84e-fa7de9c4383c at term 2 for appendEntries, leader elected after 10131ms
2021-10-22 16:57:43,971 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4E1BCA0F4B3D with new leaderId: bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:43,971 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: change Leader from null to bb64e65f-ac54-4400-b84e-fa7de9c4383c at term 2 for appendEntries, leader elected after 10181ms
2021-10-22 16:57:43,981 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:43,982 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:43,982 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: set configuration 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:43,983 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:43,985 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/current/log_inprogress_0
2021-10-22 16:57:43,985 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/current/log_inprogress_0
2021-10-22 16:57:44,133 [IPC Server handler 7 on default port 34635] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:44,134 [IPC Server handler 7 on default port 34635] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:44,134 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:44,134 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0 to datanode:f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:44,135 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:44,136 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c52508ee-d28d-458d-98be-5e44fc1145f0, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:44.134Z[Etc/UTC]].
2021-10-22 16:57:44,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:57:44,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:44,363 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:44,377 [IPC Server handler 0 on default port 34635] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:44,377 [IPC Server handler 0 on default port 34635] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:44,378 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:44,378 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 to datanode:496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:44,379 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6f9a9254-a9b5-4b27-8dc4-d8017ffdc410, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:44.378Z[Etc/UTC]].
2021-10-22 16:57:44,379 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:44,379 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:44,379 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:44,380 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:44,380 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:44,380 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:44,380 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 to datanode:496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:44,380 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 to datanode:f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:44,380 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 to datanode:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:44,381 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 87849bf4-a9ff-4817-b90e-c1b338864489, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:44.380Z[Etc/UTC]].
2021-10-22 16:57:45,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:45,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:45,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:46,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:46,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:46,364 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:46,713 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-10-22 16:57:46,713 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:57:46,714 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-10-22 16:57:46,715 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:57:46,716 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:57:46,716 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:57:46,716 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:57:46,716 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:57:46,717 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:57:46,717 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:57:46,717 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:57:46,717 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41165
2021-10-22 16:57:46,722 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:46,727 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:46,897 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:41165 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":41165; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 16:57:46,928 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-B59C2741EA95:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1] returns group-B59C2741EA95:java.util.concurrent.CompletableFuture@775b9620[Not completed]
2021-10-22 16:57:46,929 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-B59C2741EA95:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:57:46,931 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:46,932 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:46,932 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95 does not exist. Creating ...
2021-10-22 16:57:46,933 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:46,936 [pool-283-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95 has been successfully formatted.
2021-10-22 16:57:46,937 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:57:46,939 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:57:46,940 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:57:46,940 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40849
2021-10-22 16:57:46,940 [pool-283-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B59C2741EA95: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:46,942 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:46,942 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:46,942 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:46,942 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:46,943 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:46,943 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 2bdf57e7-3db7-41b3-bd27-b59c2741ea95, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:43.949Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:46,943 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:46,943 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:46,944 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:46,950 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:46,946 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:46,945 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:57:46,945 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:46,952 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:57:46,953 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37587
2021-10-22 16:57:46,955 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:46,955 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:46,960 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:57:46,960 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:46,965 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:46,965 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@236a4baf{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:46,970 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6b8efcde{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:57:46,971 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:46,971 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:46,971 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:57:46,972 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:46,972 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:46,972 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:46,979 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:46,979 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@74651d90{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:57:46,979 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:46,980 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:46,980 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@72a256f1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:57:46,982 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null
2021-10-22 16:57:46,982 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:46,982 [pool-283-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState
2021-10-22 16:57:46,983 [pool-283-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B59C2741EA95,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:46,987 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95
2021-10-22 16:57:46,988 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95.
2021-10-22 16:57:46,988 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0] returns group-C1B338864489:java.util.concurrent.CompletableFuture@73640c13[Not completed]
2021-10-22 16:57:46,991 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:46,991 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:46,991 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:46,991 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:46,992 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:46,993 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:46,993 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:46,993 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:46,993 [pool-283-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:46,993 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:57:46,994 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:46,994 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:46,994 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 does not exist. Creating ...
2021-10-22 16:57:46,994 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:57:46,994 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:57:46,995 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:57:46,997 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:57:47,005 [pool-283-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:47,005 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:57:47,005 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:57:47,006 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:57:47,008 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-10-22 16:57:47,009 [pool-283-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 has been successfully formatted.
2021-10-22 16:57:47,010 [pool-283-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C1B338864489: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:47,010 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:47,010 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:47,010 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:47,010 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:47,011 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,011 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:47,011 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:47,011 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:47,011 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:57:47,012 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:47,014 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:47,014 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,014 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:47,014 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:47,014 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:47,015 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:47,015 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:47,017 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:47,018 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:47,018 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,018 [pool-283-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,019 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:47,019 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:47,020 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:47,020 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:47,020 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:47,020 [pool-283-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:47,022 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null
2021-10-22 16:57:47,022 [pool-283-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:47,023 [pool-283-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:57:47,026 [pool-283-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:47,035 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:57:47,036 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 16:57:47,037 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-10-22 16:57:47,038 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:47,038 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:47,039 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:47,039 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-10-22 16:57:47,049 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] returns group-C1B338864489:java.util.concurrent.CompletableFuture@1ea99c8e[Not completed]
2021-10-22 16:57:47,053 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:47,055 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:47,056 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 does not exist. Creating ...
2021-10-22 16:57:47,057 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:47,065 [pool-321-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 has been successfully formatted.
2021-10-22 16:57:47,067 [pool-321-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C1B338864489: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:47,067 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:47,067 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:47,067 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:47,067 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:47,068 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,069 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:47,069 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:47,069 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:47,073 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:47,073 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:47,074 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:47,075 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:47,075 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,075 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,077 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:47,078 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:47,078 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:47,078 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:47,078 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:47,078 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:47,080 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:47,080 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:47,080 [pool-321-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:57:47,085 [pool-321-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:47,090 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 50 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:47,092 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:47,093 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:47,115 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] returns group-C1B338864489:java.util.concurrent.CompletableFuture@2829434c[Not completed]
2021-10-22 16:57:47,119 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-C1B338864489:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:47,124 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:47,125 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 does not exist. Creating ...
2021-10-22 16:57:47,130 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:47,131 [pool-302-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489 has been successfully formatted.
2021-10-22 16:57:47,133 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-5E44FC1145F0:[f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1] returns group-5E44FC1145F0:java.util.concurrent.CompletableFuture@5647af98[Not completed]
2021-10-22 16:57:47,133 [pool-302-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C1B338864489: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:47,134 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:47,134 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:47,134 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:47,134 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:47,134 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,135 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:47,135 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:47,135 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:57:47,135 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:47,136 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:47,137 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:47,138 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:47,138 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,138 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:47,139 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:47,141 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-5E44FC1145F0:[f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:47,141 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: ConfigurationManager, init=-1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:47,142 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:47,143 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0 does not exist. Creating ...
2021-10-22 16:57:47,145 [pool-302-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0 has been successfully formatted.
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5E44FC1145F0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:47,147 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,148 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:47,149 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:47,149 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:47,149 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:47,149 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:47,149 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: c52508ee-d28d-458d-98be-5e44fc1145f0, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:f84af4ee-5ee7-459e-b74c-1ef900d5895a, CreationTimestamp2021-10-22T16:57:44.134Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:47,150 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:47,150 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:47,150 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:47,150 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,150 [pool-302-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,151 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:47,152 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:47,152 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:47,152 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:47,152 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:47,152 [pool-302-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:47,154 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:47,154 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:47,154 [pool-302-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:57:47,155 [pool-302-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:47,156 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: start as a follower, conf=-1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null
2021-10-22 16:57:47,156 [pool-302-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:47,156 [pool-302-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState
2021-10-22 16:57:47,171 [pool-302-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E44FC1145F0,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:47,175 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:47,175 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:47,179 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:47,180 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:47,180 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:47,186 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489.
2021-10-22 16:57:47,186 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:47,190 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0
2021-10-22 16:57:47,191 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0.
2021-10-22 16:57:47,191 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:47,193 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:47,193 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:47,193 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:47,197 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:47,197 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:47,197 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:47,197 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:47,199 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-10-22 16:57:47,199 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 1, healthy pipeline threshold count is 1
2021-10-22 16:57:47,199 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 1, pipeline's with at least one datanode reported threshold count is 1
2021-10-22 16:57:47,200 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:47,201 [Socket Reader #1 for port 41165] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 41165
2021-10-22 16:57:47,209 [Listener at 0.0.0.0/41165] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:47,209 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-10-22 16:57:47,209 [Socket Reader #1 for port 40849] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 40849
2021-10-22 16:57:47,211 [Listener at 0.0.0.0/40849] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:47,213 [Socket Reader #1 for port 37587] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 37587
2021-10-22 16:57:47,239 [Listener at 0.0.0.0/37587] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:47,239 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:47,240 [Listener at 0.0.0.0/37587] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:47,240 [Listener at 0.0.0.0/37587] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:47,240 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:37587
2021-10-22 16:57:47,242 [Listener at 0.0.0.0/37587] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-10-22 16:57:47,243 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:57:47,243 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 16:57:47,249 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:57:47,250 [Listener at 0.0.0.0/37587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:57:47,278 [Listener at 0.0.0.0/37587] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:37587
2021-10-22 16:57:47,278 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:47,298 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40849
2021-10-22 16:57:47,299 [Listener at 0.0.0.0/37587] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40849
2021-10-22 16:57:47,298 [IPC Server listener on 37587] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 37587: starting
2021-10-22 16:57:47,299 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:47,299 [IPC Server listener on 40849] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 40849: starting
2021-10-22 16:57:47,302 [Listener at 0.0.0.0/37587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41165
2021-10-22 16:57:47,302 [Listener at 0.0.0.0/37587] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:41165
2021-10-22 16:57:47,302 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:47,302 [IPC Server listener on 41165] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 41165: starting
2021-10-22 16:57:47,317 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:45221
2021-10-22 16:57:47,317 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:47,318 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@367337c0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:47,319 [Listener at 0.0.0.0/37587] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:47,321 [Listener at 0.0.0.0/37587] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:47,323 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:47,325 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:47,326 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:47,326 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:47,327 [Listener at 0.0.0.0/37587] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45221
2021-10-22 16:57:47,327 [Listener at 0.0.0.0/37587] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:47,335 [Listener at 0.0.0.0/37587] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:47,335 [Listener at 0.0.0.0/37587] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:47,336 [Listener at 0.0.0.0/37587] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:47,337 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6216256b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:47,338 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5a779a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:47,347 [Listener at 0.0.0.0/37587] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1d242841{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:47,348 [Listener at 0.0.0.0/37587] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5c3a42f0{HTTP/1.1, (http/1.1)}{0.0.0.0:45221}
2021-10-22 16:57:47,349 [Listener at 0.0.0.0/37587] INFO  server.Server (Server.java:doStart(415)) - Started @48399ms
2021-10-22 16:57:47,349 [Listener at 0.0.0.0/37587] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:47,350 [Listener at 0.0.0.0/37587] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:45221
2021-10-22 16:57:47,350 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:47,350 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:47,350 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:47,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:47,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:47,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:47,376 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-D8017FFDC410:[496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1] returns group-D8017FFDC410:java.util.concurrent.CompletableFuture@432e688c[Not completed]
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-D8017FFDC410:[496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:47,377 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:47,378 [pool-321-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: ConfigurationManager, init=-1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:47,378 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:57:47,378 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:47,378 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:47,378 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 does not exist. Creating ...
2021-10-22 16:57:47,380 [pool-321-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:47,381 [pool-321-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 has been successfully formatted.
2021-10-22 16:57:47,381 [pool-321-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D8017FFDC410: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:47,382 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:47,382 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:47,382 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:47,382 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:47,382 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:47,383 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:47,385 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:47,386 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:47,386 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,386 [pool-321-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:47,388 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 6f9a9254-a9b5-4b27-8dc4-d8017ffdc410, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:496e60f7-ff72-4faa-a603-98d08c2b20a2, CreationTimestamp2021-10-22T16:57:44.378Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:47,388 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:47,394 [pool-321-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:47,396 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: start as a follower, conf=-1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null
2021-10-22 16:57:47,396 [pool-321-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:47,396 [pool-321-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState
2021-10-22 16:57:47,399 [pool-321-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8017FFDC410,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:47,400 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410
2021-10-22 16:57:47,400 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410.
2021-10-22 16:57:47,887 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:47,919 [EndpointStateMachine task thread for /0.0.0.0:41165 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:41165. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-10-22 16:57:47,924 [IPC Server handler 0 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,924 [IPC Server handler 1 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,927 [IPC Server handler 2 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,928 [IPC Server handler 3 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,928 [IPC Server handler 3 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,928 [IPC Server handler 3 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,930 [IPC Server handler 6 on default port 41165] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:47,933 [IPC Server handler 7 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:57:47,934 [IPC Server handler 7 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : bb64e65f-ac54-4400-b84e-fa7de9c4383c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=46835, RATIS=35561, RATIS_ADMIN=35561, RATIS_SERVER=35561, STANDALONE=41637], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:47,938 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:47,938 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-10-22 16:57:47,939 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:47,943 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:47,944 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (OneReplicaPipelineSafeModeRule.java:process(120)) - SCM in safe mode. Pipelines with at least one datanode reported count is 1, required at least one datanode reported per pipeline count is 1
2021-10-22 16:57:47,945 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:47,949 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:48,012 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:48,150 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:48,350 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 1 of 3 DN Heartbeats.
2021-10-22 16:57:48,351 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:48,351 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:48,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:48,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:48,365 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:48,395 [IPC Server handler 0 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:48,395 [IPC Server handler 0 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : b333e7df-46e0-461f-a358-6b9f1e940990{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41451, RATIS=42761, RATIS_ADMIN=42761, RATIS_SERVER=42761, STANDALONE=46517], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:48,395 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:48,396 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:48,396 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:48,419 [IPC Server handler 1 on default port 41165] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:48,419 [IPC Server handler 1 on default port 41165] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 3d105c53-23dd-414b-ad1c-b676e15a7de7{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=39241, RATIS=40929, RATIS_ADMIN=40929, RATIS_SERVER=40929, STANDALONE=40999], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:48,420 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:48,421 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:48,421 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:57:48,422 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:57:49,010 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:49,352 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:49,352 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:57:49,352 [Listener at 0.0.0.0/37587] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:49,353 [Listener at 0.0.0.0/37587] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:86)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPostFinalizeUpgrade(TestHDDSUpgrade.java:742)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:57:49,356 [Listener at 0.0.0.0/37587] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:57:49,356 [Listener at 0.0.0.0/37587] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:57:49,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:49,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:49,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:49,388 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:49,462 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 16:57:49,463 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 16:57:49,463 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 16:57:49,463 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 16:57:49,465 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37409
2021-10-22 16:57:49,468 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:49,470 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:49,472 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 16:57:49,483 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 16:57:49,492 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 16:57:49,492 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:57:49,492 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:57:49,492 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:49,496 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 16:57:49,496 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 16:57:49,497 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 16:57:49,497 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 16:57:49,497 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 16:57:49,497 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 16:57:49,498 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:49,503 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 16:57:49,507 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 34869 now
2021-10-22 16:57:49,509 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 34869 successfully
2021-10-22 16:57:49,509 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@6410eafd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 16:57:49,509 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 16:57:49,509 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 16:57:49,516 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 16:57:49,517 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 16:57:49,526 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2282ab1a{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:57:49,527 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4000214a{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:57:49,527 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:57:49,561 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6084fc5c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:57:49,571 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@51aa80f7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:57:49,592 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 16:57:49,623 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 16:57:49,627 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 16:57:49,642 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 16:57:49,658 [IPC Server handler 1 on default port 42431] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 16:57:49,658 [IPC Server handler 1 on default port 42431] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 16:57:49,827 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:49,827 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:57:49,828 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: a0246f60-0daf-4b16-b42a-97487a122027, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:bf4ff601-ee24-45b9-a275-de70906bb8cb, CreationTimestamp2021-10-22T16:57:30.809Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:49,828 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 44eb0df8-a0b9-4024-8c83-281d69b2ca49, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:30.543Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:49,829 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: ab223706-868f-4b10-87e7-9ff268d9542b, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:7fc6529c-fbd4-46bc-8435-07dde8e962e4, CreationTimestamp2021-10-22T16:57:31.012Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:49,829 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 9c23cdad-b496-419a-bfea-a869825fca63, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:31.014Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:49,829 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:57:49,830 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 16:57:49,830 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 16:57:50,151 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:50,289 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,289 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,291 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,291 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,292 [pool-223-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:50,295 [pool-225-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:50,297 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:57:50,315 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,315 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:57:50,316 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,317 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,317 [pool-224-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:57:50,326 [pool-223-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:50,330 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:57:50,333 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,333 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,336 [pool-225-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:50,338 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,338 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:57:50,340 [pool-224-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:57:50,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:50,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:50,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:50,512 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:50,890 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:51,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:51,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:51,366 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:51,651 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:52,012 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:52,066 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5043745207ns, electionTimeout:5037ms
2021-10-22 16:57:52,067 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:57:52,067 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:52,067 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:52,067 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18
2021-10-22 16:57:52,075 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null
2021-10-22 16:57:52,076 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5093783819ns, electionTimeout:5091ms
2021-10-22 16:57:52,076 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState
2021-10-22 16:57:52,076 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:52,076 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:52,076 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19
2021-10-22 16:57:52,092 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: receive requestVote(ELECTION, 728e4f4b-82ae-4639-9130-a1513d8bab9d, group-C1B338864489, 1, (t:0, i:0))
2021-10-22 16:57:52,092 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FOLLOWER: accept ELECTION from 728e4f4b-82ae-4639-9130-a1513d8bab9d: our priority 0 <= candidate's priority 1
2021-10-22 16:57:52,092 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,092 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:57:52,092 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:57:52,092 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:52,093 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null
2021-10-22 16:57:52,094 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489 replies to ELECTION vote request: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t1. Peer's state: f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489:t1, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLog:OPENED:c-1, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B59C2741EA95 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for becomeLeader, leader elected after 5153ms
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:52,096 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,097 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:52,097 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:52,098 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:52,101 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t1
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18 ELECTION round 0: result PASSED
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for becomeLeader, leader elected after 5092ms
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:52,103 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,104 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:52,102 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,105 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:52,105 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderStateImpl
2021-10-22 16:57:52,105 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,106 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:52,107 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:52,107 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:52,107 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 87849bf4-a9ff-4817-b90e-c1b338864489, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:44.380Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:57:52,108 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:57:52,108 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/log_inprogress_0
2021-10-22 16:57:52,107 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:52,110 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:52,110 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:52,110 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:52,115 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:57:52,118 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: receive requestVote(ELECTION, 728e4f4b-82ae-4639-9130-a1513d8bab9d, group-C1B338864489, 1, (t:0, i:0))
2021-10-22 16:57:52,118 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FOLLOWER: accept ELECTION from 728e4f4b-82ae-4639-9130-a1513d8bab9d: our priority 0 <= candidate's priority 1
2021-10-22 16:57:52,119 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,119 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:57:52,119 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:57:52,119 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:52,119 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:57:52,120 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:52,120 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:57:52,121 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489 replies to ELECTION vote request: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-496e60f7-ff72-4faa-a603-98d08c2b20a2#0:OK-t1. Peer's state: 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489:t1, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLog:OPENED:c-1, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:52,121 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:57:52,122 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:52,122 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:52,123 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderStateImpl
2021-10-22 16:57:52,124 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,129 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0
2021-10-22 16:57:52,136 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,136 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for appendEntries, leader elected after 5068ms
2021-10-22 16:57:52,144 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:52,145 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:52,146 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,149 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0
2021-10-22 16:57:52,162 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:57:52,162 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for appendEntries, leader elected after 5028ms
2021-10-22 16:57:52,167 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:57:52,167 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,169 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0
2021-10-22 16:57:52,287 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5130871863ns, electionTimeout:5118ms
2021-10-22 16:57:52,287 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState
2021-10-22 16:57:52,287 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:52,288 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:52,288 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20
2021-10-22 16:57:52,292 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5E44FC1145F0 with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 1 for becomeLeader, leader elected after 5145ms
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,293 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderStateImpl
2021-10-22 16:57:52,295 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,297 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: set configuration 0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:57:52,297 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/log_inprogress_0
2021-10-22 16:57:52,367 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:52,367 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:57:52,367 [Listener at 127.0.0.1/35301] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:52,369 [Listener at 127.0.0.1/35301] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,373 [Listener at 127.0.0.1/35301] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:52,373 [Listener at 127.0.0.1/35301] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:52,374 [Listener at 127.0.0.1/35301] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,374 [Listener at 127.0.0.1/35301] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:52,417 [Listener at 127.0.0.1/35301] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 42 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:52,419 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:52,419 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:52,419 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:52,419 [Listener at 127.0.0.1/35301] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:52,419 [Listener at 127.0.0.1/35301] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,420 [Listener at 127.0.0.1/35301] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,456 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5059722207ns, electionTimeout:5056ms
2021-10-22 16:57:52,456 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState
2021-10-22 16:57:52,456 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:52,456 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:52,456 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21
2021-10-22 16:57:52,470 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null
2021-10-22 16:57:52,470 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:52,470 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-D8017FFDC410 with new leaderId: 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: change Leader from null to 496e60f7-ff72-4faa-a603-98d08c2b20a2 at term 1 for becomeLeader, leader elected after 5088ms
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,471 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:52,473 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderStateImpl
2021-10-22 16:57:52,474 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:52,476 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/current/log_inprogress_0
2021-10-22 16:57:52,490 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: set configuration 0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null
2021-10-22 16:57:52,532 [Listener at 127.0.0.1/35301] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:52,532 [Listener at 127.0.0.1/35301] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:52,535 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,535 [Listener at 127.0.0.1/35301] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,537 [Listener at 127.0.0.1/35301] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:57:52,537 [Listener at 127.0.0.1/35301] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:57:52,537 [Listener at 127.0.0.1/35301] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:57:52,537 [Listener at 127.0.0.1/35301] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:52,537 [Listener at 127.0.0.1/35301] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:52,538 [Listener at 127.0.0.1/35301] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:52,539 [Listener at 127.0.0.1/35301] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:57:52,539 [Listener at 127.0.0.1/35301] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:52,539 [Listener at 127.0.0.1/35301] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:52,539 [Listener at 127.0.0.1/35301] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:52,540 [Listener at 127.0.0.1/35301] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:52,540 [Listener at 127.0.0.1/35301] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:52,540 [Listener at 127.0.0.1/35301] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:52,541 [Listener at 127.0.0.1/35301] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:52,541 [Listener at 127.0.0.1/35301] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:57:52,542 [Listener at 127.0.0.1/35301] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:57:52,543 [Listener at 127.0.0.1/35301] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:57:52,548 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-10-22 16:57:52,548 [Listener at 127.0.0.1/35301] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:52,549 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:52,553 [Listener at 0.0.0.0/33509] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:52,555 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:52,560 [Listener at 0.0.0.0/40935] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:52,561 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:52,579 [Listener at 0.0.0.0/39903] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:52,580 [Listener at 0.0.0.0/39903] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:52,580 [Listener at 0.0.0.0/39903] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:52,580 [Listener at 0.0.0.0/39903] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:52,580 [Listener at 0.0.0.0/39903] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:52,581 [Listener at 0.0.0.0/39903] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:52,581 [Listener at 0.0.0.0/39903] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:52,581 [Listener at 0.0.0.0/39903] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39903
2021-10-22 16:57:52,581 [Listener at 0.0.0.0/39903] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-10-22 16:57:52,595 [Listener at 0.0.0.0/39903] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:39903
2021-10-22 16:57:52,596 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:52,596 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:52,603 [Listener at 0.0.0.0/39903] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40935
2021-10-22 16:57:52,603 [Listener at 0.0.0.0/39903] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40935
2021-10-22 16:57:52,603 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:52,607 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:52,614 [Listener at 0.0.0.0/39903] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:33509
2021-10-22 16:57:52,614 [Listener at 0.0.0.0/39903] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:33509
2021-10-22 16:57:52,614 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:52,619 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:52,627 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2a7cfc7b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:52,628 [Listener at 0.0.0.0/39903] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:57:52,628 [Listener at 0.0.0.0/39903] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:52,629 [Listener at 0.0.0.0/39903] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:52,629 [Listener at 0.0.0.0/39903] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:52,630 [Listener at 0.0.0.0/39903] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:52,631 [Listener at 0.0.0.0/39903] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:52,631 [Listener at 0.0.0.0/39903] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:52,631 [Listener at 0.0.0.0/39903] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:52,631 [Listener at 0.0.0.0/39903] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36583
2021-10-22 16:57:52,632 [Listener at 0.0.0.0/39903] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:52,637 [Listener at 0.0.0.0/39903] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:52,637 [Listener at 0.0.0.0/39903] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:52,637 [Listener at 0.0.0.0/39903] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:52,638 [Listener at 0.0.0.0/39903] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6ba57b0b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:52,638 [Listener at 0.0.0.0/39903] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@48507c3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:52,641 [Listener at 0.0.0.0/39903] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3caf909d{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:52,647 [Listener at 0.0.0.0/39903] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2d1ba93a{HTTP/1.1, (http/1.1)}{0.0.0.0:36583}
2021-10-22 16:57:52,647 [Listener at 0.0.0.0/39903] INFO  server.Server (Server.java:doStart(415)) - Started @53697ms
2021-10-22 16:57:52,647 [Listener at 0.0.0.0/39903] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:52,648 [Listener at 0.0.0.0/39903] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:36583
2021-10-22 16:57:52,648 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,650 [Listener at 0.0.0.0/39903] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:57:52,650 [Listener at 0.0.0.0/39903] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:57:52,650 [Listener at 0.0.0.0/39903] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:57:52,650 [Listener at 0.0.0.0/39903] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:57:52,650 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,651 [Listener at 0.0.0.0/39903] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:57:52,689 [Listener at 0.0.0.0/39903] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:57:52,690 [Listener at 0.0.0.0/39903] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:57:52,690 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,708 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:52,709 [Listener at 0.0.0.0/39903] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:52,709 [Listener at 0.0.0.0/39903] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:57:52,857 [Listener at 0.0.0.0/39903] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:57:52,857 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:52,857 [Listener at 0.0.0.0/39903] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:57:52,858 [Listener at 0.0.0.0/39903] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,858 [Listener at 0.0.0.0/39903] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,858 [Listener at 0.0.0.0/39903] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:57:52,859 [Listener at 0.0.0.0/39903] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:37673
2021-10-22 16:57:52,859 [Listener at 0.0.0.0/39903] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:57:52,868 [Listener at 0.0.0.0/39903] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:52,868 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:52,868 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:57:52,868 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37673 (custom)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37673 (custom)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37673 (custom)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:57:52,869 [Listener at 0.0.0.0/39903] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:57:52,870 [Listener at 0.0.0.0/39903] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:52,870 [Listener at 0.0.0.0/39903] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:52,870 [Listener at 0.0.0.0/39903] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:52,871 [Listener at 0.0.0.0/39903] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis] (custom)
2021-10-22 16:57:52,871 [Listener at 0.0.0.0/39903] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:37673|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@242e812f[Not completed]
2021-10-22 16:57:52,871 [Listener at 0.0.0.0/39903] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 37673
2021-10-22 16:57:52,872 [Listener at 0.0.0.0/39903] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:52,873 [pool-407-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:37673|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:57:52,875 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:57:52,875 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:57:52,875 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:52,875 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:37673|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis] (custom)
2021-10-22 16:57:52,876 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:52,877 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:52,877 [pool-407-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:57:52,878 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:57:52,879 [pool-407-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:52,882 [pool-407-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:57:52,883 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:57:52,883 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:52,883 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:52,883 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:52,883 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:52,884 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:52,890 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:57:52,893 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:57:52,893 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:52,893 [pool-407-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:57:52,900 [pool-407-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:52,909 [Listener at 127.0.0.1/34423] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:57:52,910 [Listener at 127.0.0.1/34423] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:57:52,923 [Listener at 127.0.0.1/34423] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:34423
2021-10-22 16:57:52,923 [Listener at 127.0.0.1/34423] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 37673
2021-10-22 16:57:52,923 [Listener at 127.0.0.1/34423] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:37673|priority:0], old=null
2021-10-22 16:57:52,924 [Listener at 127.0.0.1/34423] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:52,924 [Listener at 127.0.0.1/34423] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:52,924 [Listener at 127.0.0.1/34423] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:57:52,925 [Listener at 127.0.0.1/34423] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:57:52,926 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 37673
2021-10-22 16:57:52,926 [Listener at 127.0.0.1/34423] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:57:52,926 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@30838737] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:57:52,931 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:57:52,932 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:52,932 [Listener at 127.0.0.1/34423] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:52,933 [Listener at 127.0.0.1/34423] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:52,934 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:52,934 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:57:52,934 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:52,935 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:52,935 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 40435
2021-10-22 16:57:52,935 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:52,938 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:52,938 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:52,938 [Listener at 127.0.0.1/34423] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:52,939 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@687bbad2{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:52,940 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3c6af35d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:52,943 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4c156bfd{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:57:52,945 [Listener at 127.0.0.1/34423] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@13b36871{HTTP/1.1, (http/1.1)}{0.0.0.0:40435}
2021-10-22 16:57:52,945 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(415)) - Started @53995ms
2021-10-22 16:57:52,945 [Listener at 127.0.0.1/34423] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:52,946 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:40435
2021-10-22 16:57:52,946 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:52,946 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:57:52,951 [Listener at 127.0.0.1/34423] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:57:52,960 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6b4764df] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:52,969 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,969 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:52,969 [Listener at 127.0.0.1/34423] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:52,989 [Listener at 127.0.0.1/34423] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:53,014 [Listener at 127.0.0.1/34423] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:53,053 [Listener at 127.0.0.1/34423] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:53,054 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:53,055 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:53,055 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:53,055 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:53,055 [Listener at 127.0.0.1/34423] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:53,057 [Listener at 127.0.0.1/34423] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:53,058 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:53,058 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:57:53,059 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:57:53,074 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis to VolumeSet
2021-10-22 16:57:53,074 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis
2021-10-22 16:57:53,074 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis
2021-10-22 16:57:53,087 [Thread-990] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:57:53,088 [Listener at 127.0.0.1/34423] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:53,090 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:53,091 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:53,091 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:53,092 [Listener at 127.0.0.1/34423] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:53,092 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:53,092 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:53,092 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:57:53,099 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:53,099 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:53,100 [Listener at 127.0.0.1/34423] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:53,100 [Listener at 127.0.0.1/34423] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:53,101 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:53,102 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:53,102 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:53,102 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:53,103 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42321
2021-10-22 16:57:53,103 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:53,105 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:53,105 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:53,105 [Listener at 127.0.0.1/34423] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:53,109 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@18c82a00{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:53,109 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1567dae8{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:53,160 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@15501c69{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42321-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6858720797280698421/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:53,163 [Listener at 127.0.0.1/34423] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1ed7c61c{HTTP/1.1, (http/1.1)}{0.0.0.0:42321}
2021-10-22 16:57:53,163 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(415)) - Started @54213ms
2021-10-22 16:57:53,163 [Listener at 127.0.0.1/34423] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:53,163 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42321
2021-10-22 16:57:53,164 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:53,164 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:53,166 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:53,166 [Listener at 127.0.0.1/34423] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:53,171 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:53,171 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:53,176 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/meta/datanode.id
2021-10-22 16:57:53,176 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@f4c5426] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:53,180 [Listener at 127.0.0.1/34423] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:53,209 [Listener at 127.0.0.1/34423] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:53,249 [Listener at 127.0.0.1/34423] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:53,251 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:53,251 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:53,252 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:53,252 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:53,253 [Listener at 127.0.0.1/34423] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:53,254 [Listener at 127.0.0.1/34423] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:53,254 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:53,254 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:57:53,256 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:57:53,270 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis to VolumeSet
2021-10-22 16:57:53,270 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis
2021-10-22 16:57:53,271 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis
2021-10-22 16:57:53,284 [Thread-1002] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:57:53,284 [Listener at 127.0.0.1/34423] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:53,286 [Listener at 127.0.0.1/34423] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:53,286 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:53,286 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:53,286 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:53,287 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:53,287 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:53,287 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:53,287 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:53,287 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:53,288 [Listener at 127.0.0.1/34423] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:53,288 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:53,289 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:53,289 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:57:53,292 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:53,292 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:53,298 [Listener at 127.0.0.1/34423] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:53,302 [Listener at 127.0.0.1/34423] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:53,303 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:53,305 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:53,305 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:53,305 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:53,306 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36891
2021-10-22 16:57:53,306 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:53,310 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:53,310 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:53,317 [Listener at 127.0.0.1/34423] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:53,318 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@598ccf01{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:53,318 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6dd1bf63{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:53,364 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@33ddd67e{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36891-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2472993413097889145/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:53,371 [Listener at 127.0.0.1/34423] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7d64b13f{HTTP/1.1, (http/1.1)}{0.0.0.0:36891}
2021-10-22 16:57:53,371 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(415)) - Started @54421ms
2021-10-22 16:57:53,371 [Listener at 127.0.0.1/34423] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:53,372 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36891
2021-10-22 16:57:53,373 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:53,373 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:53,375 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:53,375 [Listener at 127.0.0.1/34423] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:57:53,378 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:53,379 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:53,391 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7ef99a99] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:53,396 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/meta/datanode.id
2021-10-22 16:57:53,396 [Listener at 127.0.0.1/34423] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:57:53,419 [Listener at 127.0.0.1/34423] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:53,458 [Listener at 127.0.0.1/34423] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:53,459 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:53,460 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:53,460 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:53,460 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:53,460 [Listener at 127.0.0.1/34423] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:57:53,461 [Listener at 127.0.0.1/34423] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:57:53,461 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:57:53,461 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:57:53,462 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:57:53,485 [Listener at 127.0.0.1/34423] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis to VolumeSet
2021-10-22 16:57:53,485 [Listener at 127.0.0.1/34423] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis
2021-10-22 16:57:53,485 [Listener at 127.0.0.1/34423] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis
2021-10-22 16:57:53,501 [Thread-1014] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:57:53,501 [Listener at 127.0.0.1/34423] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:53,504 [Listener at 127.0.0.1/34423] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:57:53,505 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:57:53,506 [Listener at 127.0.0.1/34423] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:57:53,506 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:53,506 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:53,506 [Listener at 127.0.0.1/34423] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:57:53,512 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:57:53,513 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:53,513 [Listener at 127.0.0.1/34423] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:53,514 [Listener at 127.0.0.1/34423] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:53,514 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:53,515 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:57:53,515 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:53,515 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:53,515 [Listener at 127.0.0.1/34423] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35591
2021-10-22 16:57:53,515 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:53,517 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:53,517 [Listener at 127.0.0.1/34423] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:53,517 [Listener at 127.0.0.1/34423] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:57:53,518 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5aa911eb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:53,519 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7c3edac0{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:57:53,559 [Listener at 127.0.0.1/34423] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@76a04f17{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-35591-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3267162931691795156/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:53,562 [Listener at 127.0.0.1/34423] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@763d9a5a{HTTP/1.1, (http/1.1)}{0.0.0.0:35591}
2021-10-22 16:57:53,562 [Listener at 127.0.0.1/34423] INFO  server.Server (Server.java:doStart(415)) - Started @54613ms
2021-10-22 16:57:53,563 [Listener at 127.0.0.1/34423] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:53,563 [Listener at 127.0.0.1/34423] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:35591
2021-10-22 16:57:53,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:53,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:53,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:53,573 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:57:53,580 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:53,580 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:53,585 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1f5cb589] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:53,586 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/meta/datanode.id
2021-10-22 16:57:53,928 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1004318591ns, electionTimeout:1003ms
2021-10-22 16:57:53,929 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:57:53,929 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:57:53,929 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:57:53,929 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection22
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:37673|priority:0], old=null
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection22 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection22
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1062ms
2021-10-22 16:57:53,945 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:57:53,946 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:53,946 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:57:53,946 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:57:53,947 [om1@group-C5BA1605619E-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:57:53,961 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:57:53,961 [om1@group-C5BA1605619E-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:37673|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:57:53,964 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:37673"
]
2021-10-22 16:57:54,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:54,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:54,573 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:54,599 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:57:54,600 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - b333e7df-46e0-461f-a358-6b9f1e940990: close
2021-10-22 16:57:54,600 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: shutdown
2021-10-22 16:57:54,600 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CBEE057781DE,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:54,600 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-LeaderStateImpl
2021-10-22 16:57:54,601 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:54,603 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:54,604 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CBEE057781DE: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de/sm/snapshot.1_0
2021-10-22 16:57:54,605 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:57:54,605 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CBEE057781DE: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/568f572b-9698-4634-ba91-cbee057781de/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:57:54,605 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:54,605 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:54,606 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: close
2021-10-22 16:57:54,606 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: shutdown
2021-10-22 16:57:54,606 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-81E16BA81FDF,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:54,606 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-LeaderStateImpl
2021-10-22 16:57:54,607 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:54,607 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:54,608 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-81E16BA81FDF: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf/sm/snapshot.1_0
2021-10-22 16:57:54,609 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE: closes. applyIndex: 0
2021-10-22 16:57:54,609 [b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:54,609 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-81E16BA81FDF: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/cb589dcb-e553-490d-beee-81e16ba81fdf/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:57:54,609 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:54,609 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:54,609 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-CBEE057781DE-SegmentedRaftLogWorker close()
2021-10-22 16:57:54,610 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF: closes. applyIndex: 0
2021-10-22 16:57:54,610 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:54,611 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: shutdown
2021-10-22 16:57:54,611 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=b333e7df-46e0-461f-a358-6b9f1e940990
2021-10-22 16:57:54,612 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:54,612 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:54,612 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4E1BCA0F4B3D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0
2021-10-22 16:57:54,612 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-81E16BA81FDF-SegmentedRaftLogWorker close()
2021-10-22 16:57:54,612 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:54,614 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4E1BCA0F4B3D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-1/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0 took: 2 ms
2021-10-22 16:57:54,614 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:54,614 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:54,614 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D: closes. applyIndex: 0
2021-10-22 16:57:54,615 [b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:54,615 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: shutdown
2021-10-22 16:57:54,615 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=3d105c53-23dd-414b-ad1c-b676e15a7de7
2021-10-22 16:57:54,615 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:57:54,615 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - b333e7df-46e0-461f-a358-6b9f1e940990@group-4E1BCA0F4B3D-SegmentedRaftLogWorker close()
2021-10-22 16:57:54,615 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:57:54,617 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4E1BCA0F4B3D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0
2021-10-22 16:57:54,616 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown server with port 42761 now
2021-10-22 16:57:54,619 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4E1BCA0F4B3D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-0/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0 took: 4 ms
2021-10-22 16:57:54,620 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:57:54,620 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:57:54,620 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:57:54,620 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D: closes. applyIndex: 0
2021-10-22 16:57:54,620 [3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:57:54,621 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7@group-4E1BCA0F4B3D-SegmentedRaftLogWorker close()
2021-10-22 16:57:54,623 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown server with port 40929 now
2021-10-22 16:57:54,639 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: installSnapshot onError, lastRequest: bb64e65f-ac54-4400-b84e-fa7de9c4383c->3d105c53-23dd-414b-ad1c-b676e15a7de7#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:57:54,643 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - b333e7df-46e0-461f-a358-6b9f1e940990: installSnapshot onError, lastRequest: bb64e65f-ac54-4400-b84e-fa7de9c4383c->b333e7df-46e0-461f-a358-6b9f1e940990#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:57:54,651 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 3d105c53-23dd-414b-ad1c-b676e15a7de7: shutdown server with port 40929 successfully
2021-10-22 16:57:54,651 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@66395cb8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-3d105c53-23dd-414b-ad1c-b676e15a7de7: Stopped
2021-10-22 16:57:54,655 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-10-22 16:57:54,655 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-10-22 16:57:54,655 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7(c0,m0,n1, attendVote=true, lastRpcSendTime=649, lastRpcResponseTime=646) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:54,656 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990(c0,m0,n1, attendVote=true, lastRpcSendTime=652, lastRpcResponseTime=648) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:54,674 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - b333e7df-46e0-461f-a358-6b9f1e940990: shutdown server with port 42761 successfully
2021-10-22 16:57:54,674 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4dd0a8b6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-b333e7df-46e0-461f-a358-6b9f1e940990: Stopped
2021-10-22 16:57:54,698 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:57:54,707 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:57:54,830 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:57:54,830 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:57:54,830 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:57:54,830 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:57:54,830 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:57:54,836 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34347
2021-10-22 16:57:54,841 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:54,842 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:54,862 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:34347 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":34347; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 16:57:54,872 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:34347 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":34347; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 16:57:54,873 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:34347 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":34347; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 16:57:55,257 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:57:55,257 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:57:55,257 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:57:55,260 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42431
2021-10-22 16:57:55,266 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:55,266 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:55,267 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 41129
2021-10-22 16:57:55,274 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:57:55,279 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start RPC server
2021-10-22 16:57:55,284 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: GrpcService started, listening on 44213
2021-10-22 16:57:55,288 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS
2021-10-22 16:57:55,288 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS_ADMIN
2021-10-22 16:57:55,289 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS_SERVER
2021-10-22 16:57:55,289 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 46291
2021-10-22 16:57:55,300 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:55,300 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:55,300 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:57:55,300 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:57:55,303 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2d893df1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Started
2021-10-22 16:57:55,311 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45267
2021-10-22 16:57:55,316 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:57:55,316 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:57:55,316 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:57:55,354 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@19646b43{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:55,356 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2172f616{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:57:55,357 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:57:55,359 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6ed9b726{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:57:55,360 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@66aca9c4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:57:55,361 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:57:55,361 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:57:55,363 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:57:55,364 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:57:55,389 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:57:55,389 [Time-limited test] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-10-22 16:57:55,389 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:57:55,392 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-10-22 16:57:55,446 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 16:57:55,447 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-10-22 16:57:55,447 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:57:55,447 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:57:55,448 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:55,448 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:57:55,489 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:55,489 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:55,490 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 44175
2021-10-22 16:57:55,492 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:57:55,497 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start RPC server
2021-10-22 16:57:55,498 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: GrpcService started, listening on 33885
2021-10-22 16:57:55,512 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS
2021-10-22 16:57:55,512 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS_ADMIN
2021-10-22 16:57:55,512 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS_SERVER
2021-10-22 16:57:55,519 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 41461
2021-10-22 16:57:55,519 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@39b723e3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Started
2021-10-22 16:57:55,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:55,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:55,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:55,638 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:57:55,639 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:57:55,642 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43317
2021-10-22 16:57:55,644 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:57:55,651 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start RPC server
2021-10-22 16:57:55,654 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 205 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:57:55,658 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: GrpcService started, listening on 43043
2021-10-22 16:57:55,660 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:57:55,660 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:55,660 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:57:55,660 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:57:55,662 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:55,664 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:57:55,675 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS
2021-10-22 16:57:55,675 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS_ADMIN
2021-10-22 16:57:55,675 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS_SERVER
2021-10-22 16:57:55,692 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4d68da19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-5bad66d6-0a83-4e06-be4a-65825076cd25: Started
2021-10-22 16:57:55,692 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43233
2021-10-22 16:57:55,738 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:57:55,738 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:57:55,740 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:55,740 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:57:55,741 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:57:55,758 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:57:55,758 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:55,759 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:57:55,759 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:57:55,759 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:57:55,773 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:57:55,773 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:57:55,774 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:57:55,774 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:57:55,783 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-10-22 16:57:55,788 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:57:55,788 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:57:55,799 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-10-22 16:57:55,815 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:55,826 [Socket Reader #1 for port 34347] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 34347
2021-10-22 16:57:55,829 [Listener at 0.0.0.0/34347] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:55,838 [Socket Reader #1 for port 42431] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 42431
2021-10-22 16:57:55,843 [Listener at 0.0.0.0/42431] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:57:55,853 [Socket Reader #1 for port 45267] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 45267
2021-10-22 16:57:55,895 [Datanode State Machine Daemon Thread] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:633)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:280)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:468)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-10-22 16:57:55,964 [Listener at 0.0.0.0/45267] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:57:55,966 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:57:55,966 [Listener at 0.0.0.0/45267] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:55,966 [Listener at 0.0.0.0/45267] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:57:55,967 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:57:55,967 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:57:55,967 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:57:55,967 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45267
2021-10-22 16:57:55,971 [Listener at 0.0.0.0/45267] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-10-22 16:57:55,976 [Listener at 0.0.0.0/45267] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:57:55,976 [Listener at 0.0.0.0/45267] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 16:57:56,027 [Listener at 0.0.0.0/45267] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:57:56,027 [Listener at 0.0.0.0/45267] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:57:56,107 [Listener at 0.0.0.0/45267] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:45267
2021-10-22 16:57:56,122 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:56,123 [IPC Server listener on 45267] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 45267: starting
2021-10-22 16:57:56,230 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:42431
2021-10-22 16:57:56,231 [Listener at 0.0.0.0/45267] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:42431
2021-10-22 16:57:56,463 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2d893df1] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Detected pause in JVM or host machine (eg GC): pause of approximately 159538269ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=184ms
GC pool 'PS Scavenge' had collection(s): count=1 time=22ms
2021-10-22 16:57:56,472 [IPC Server listener on 42431] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 42431: starting
2021-10-22 16:57:56,472 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:56,559 [Listener at 0.0.0.0/45267] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34347
2021-10-22 16:57:56,559 [Listener at 0.0.0.0/45267] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34347
2021-10-22 16:57:56,560 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:57:56,560 [IPC Server listener on 34347] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 34347: starting
2021-10-22 16:57:56,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:56,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:56,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:56,459 [EndpointStateMachine task thread for /0.0.0.0:34347 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:34347. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-10-22 16:57:56,459 [Datanode State Machine Daemon Thread] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:633)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:280)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:468)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-10-22 16:57:56,598 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:57:56,598 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990(c0,m0,n1, attendVote=true, lastRpcSendTime=2594, lastRpcResponseTime=2590) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:56,459 [Datanode State Machine Daemon Thread] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:633)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:280)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:468)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-10-22 16:57:56,602 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:57:56,607 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7(c0,m0,n1, attendVote=true, lastRpcSendTime=9, lastRpcResponseTime=2598) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:56,626 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5f38559f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:57:56,626 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:45273
2021-10-22 16:57:56,627 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:57:56,628 [Listener at 0.0.0.0/45267] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:57:56,635 [Listener at 0.0.0.0/45267] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:57:56,636 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:57:56,637 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:57:56,637 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:57:56,637 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:57:56,647 [Listener at 0.0.0.0/45267] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45273
2021-10-22 16:57:56,647 [Listener at 0.0.0.0/45267] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:57:56,660 [Listener at 0.0.0.0/45267] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:57:56,660 [Listener at 0.0.0.0/45267] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:57:56,660 [Listener at 0.0.0.0/45267] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:57:56,661 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@342af710{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:57:56,661 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6ff3a99a{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:57:56,676 [Listener at 0.0.0.0/45267] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1bca2e1c{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:57:56,694 [Listener at 0.0.0.0/45267] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4a1e4e55{HTTP/1.1, (http/1.1)}{0.0.0.0:45273}
2021-10-22 16:57:56,695 [Listener at 0.0.0.0/45267] INFO  server.Server (Server.java:doStart(415)) - Started @57745ms
2021-10-22 16:57:56,695 [Listener at 0.0.0.0/45267] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:57:56,696 [Listener at 0.0.0.0/45267] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:45273
2021-10-22 16:57:56,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:57:56,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:56,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:56,714 [IPC Server handler 0 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,714 [IPC Server handler 2 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,715 [IPC Server handler 0 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,729 [IPC Server handler 4 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,732 [IPC Server handler 5 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,741 [IPC Server handler 6 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,741 [IPC Server handler 7 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,744 [IPC Server handler 8 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,745 [IPC Server handler 9 on default port 34347] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 16:57:56,960 [IPC Server handler 10 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:56,960 [IPC Server handler 10 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:56,971 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-10-22 16:57:56,971 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:56,971 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:56,986 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:56,987 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:57,004 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:57,004 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:57,017 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: c1a5acbb-021e-43d5-852b-4b06f5b28998, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:56.987Z[Etc/UTC]].
2021-10-22 16:57:57,099 [IPC Server handler 11 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:57,100 [IPC Server handler 11 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:57,100 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,100 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7 to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:57,103 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:57,103 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 53f4acb7-1a0a-48b7-baa9-346f43c084f7, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.100Z[Etc/UTC]].
2021-10-22 16:57:57,103 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:57,117 [IPC Server handler 12 on default port 34347] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:57,117 [IPC Server handler 12 on default port 34347] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:57,117 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,118 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:57,118 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e4661637-a02c-4d9a-a76a-9e13e614ae32, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.118Z[Etc/UTC]].
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:57,125 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,126 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:57,126 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:57,126 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:57,126 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 491de468-b086-4989-aed3-a4275be628d5, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.126Z[Etc/UTC]].
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:57:57,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:57:57,177 [IPC Server handler 8 on default port 33509] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:57:57,177 [IPC Server handler 8 on default port 33509] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:57,181 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:57:57,181 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:57:57,198 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:57:57,224 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 to datanode:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:57:57,239 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b3e0cb48-4467-4a39-8f4e-cb2948e85db6, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.227Z[Etc/UTC]].
2021-10-22 16:57:57,392 [IPC Server handler 7 on default port 33509] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:57:57,392 [IPC Server handler 7 on default port 33509] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:57,392 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,393 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e to datanode:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:57:57,407 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:57:57,408 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 483f8609-9759-4eed-ab2f-a8c9f50b869e, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.393Z[Etc/UTC]].
2021-10-22 16:57:57,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:57:57,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:57,574 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:57,585 [IPC Server handler 6 on default port 33509] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:57:57,586 [IPC Server handler 6 on default port 33509] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:57:57,586 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,586 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee to datanode:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:57:57,587 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e4fb8209-7462-4c22-b0de-58b368e349ee, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.586Z[Etc/UTC]].
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:57:57,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:57:57,597 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 to datanode:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:57:57,597 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 to datanode:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:57:57,597 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 to datanode:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:57:57,597 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 459ef781-59c2-42bf-9527-455b613222b4, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.597Z[Etc/UTC]].
2021-10-22 16:57:57,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:57,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:57:57,696 [Listener at 0.0.0.0/45267] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:57,702 [Listener at 0.0.0.0/45267] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:80)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmPreFinalizeUpgrade(TestHDDSUpgrade.java:692)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:57:57,703 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:57:57,703 [Listener at 0.0.0.0/45267] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:57:57,704 [Listener at 0.0.0.0/45267] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: c1a5acbb-021e-43d5-852b-4b06f5b28998, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:56.987Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:57,704 [Listener at 0.0.0.0/45267] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: e4661637-a02c-4d9a-a76a-9e13e614ae32, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.118Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:57,704 [Listener at 0.0.0.0/45267] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 491de468-b086-4989-aed3-a4275be628d5, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.126Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:57,705 [Listener at 0.0.0.0/45267] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 53f4acb7-1a0a-48b7-baa9-346f43c084f7, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:57:57.100Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:57:57,705 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:57:57,725 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:57:57,759 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:57:57,762 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@358b5116{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:57,765 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@637f4841{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:57:57,766 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1e33cfb1{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:57:57,766 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:57:57,780 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@747a5eeb{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:57:57,781 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5558588{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:57:57,791 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@791dac58{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:57:57,791 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:57:57,794 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4363840e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:57:57,795 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@71960e10{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:57:57,959 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-4B06F5B28998:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] returns group-4B06F5B28998:java.util.concurrent.CompletableFuture@30e9728[Not completed]
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-4B06F5B28998:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:57,960 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:57,961 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998 does not exist. Creating ...
2021-10-22 16:57:57,964 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:57,965 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998 has been successfully formatted.
2021-10-22 16:57:57,966 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4B06F5B28998: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:57,966 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:57,966 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:57,967 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:57,967 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:57,967 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:57,968 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:57,970 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:57,971 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:57,973 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:57,973 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:57,982 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:57,982 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:57,983 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:57,983 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:57,983 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:57,983 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:57,984 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:57:57,984 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:57,984 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState
2021-10-22 16:57:57,990 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B06F5B28998,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:57,999 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998
2021-10-22 16:57:57,999 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998.
2021-10-22 16:57:57,999 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] returns group-A4275BE628D5:java.util.concurrent.CompletableFuture@5f6750dd[Not completed]
2021-10-22 16:57:58,002 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:58,002 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:58,002 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:58,002 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:58,003 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5 does not exist. Creating ...
2021-10-22 16:57:58,005 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:58,008 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5 has been successfully formatted.
2021-10-22 16:57:58,008 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4275BE628D5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:58,008 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:58,008 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:58,009 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:58,009 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:58,009 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,009 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:58,009 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:58,010 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:58,012 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:58,013 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:58,013 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,013 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,018 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:58,018 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:58,019 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:58,019 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:58,019 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:58,019 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:58,022 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:57:58,022 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:58,022 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState
2021-10-22 16:57:58,030 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:57:58,038 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:57:58,069 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-A4275BE628D5:java.util.concurrent.CompletableFuture@4c393cc2[Not completed]
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:58,070 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:57:58,071 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:58,071 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:58,071 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5 does not exist. Creating ...
2021-10-22 16:57:58,072 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:58,074 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5 has been successfully formatted.
2021-10-22 16:57:58,074 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4275BE628D5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:58,075 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:58,075 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:58,076 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:58,076 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:58,077 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,077 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:58,077 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:58,077 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:58,078 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:58,079 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:58,080 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:58,080 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:58,081 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:58,083 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:58,083 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:58,083 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState
2021-10-22 16:57:58,083 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:58,098 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-346F43C084F7:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] returns group-346F43C084F7:java.util.concurrent.CompletableFuture@a361d7e[Not completed]
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-346F43C084F7:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:58,099 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: ConfigurationManager, init=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:58,100 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:57:58,100 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:58,100 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:58,100 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7 does not exist. Creating ...
2021-10-22 16:57:58,107 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-9E13E614AE32:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] returns group-9E13E614AE32:java.util.concurrent.CompletableFuture@7bf3b0d0[Not completed]
2021-10-22 16:57:58,109 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-9E13E614AE32:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:57:58,109 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:58,109 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: ConfigurationManager, init=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:58,110 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:57:58,120 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:58,122 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7 has been successfully formatted.
2021-10-22 16:57:58,123 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-346F43C084F7: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:58,123 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:58,123 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:58,123 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:58,123 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:58,124 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:58,125 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,126 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:58,126 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:58,126 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:58,126 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:58,126 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:58,127 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:58,128 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:58,129 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,130 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,133 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-A4275BE628D5:java.util.concurrent.CompletableFuture@d594bfe[Not completed]
2021-10-22 16:57:58,146 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:58,147 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:58,147 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:58,147 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:58,147 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:58,147 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:58,149 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: start as a follower, conf=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:57:58,149 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:58,149 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState
2021-10-22 16:57:58,164 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-346F43C084F7,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:57:58,176 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:58,176 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:58,177 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32 does not exist. Creating ...
2021-10-22 16:57:58,182 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7
2021-10-22 16:57:58,183 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7.
2021-10-22 16:57:58,187 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:58,188 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32 has been successfully formatted.
2021-10-22 16:57:58,189 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-9E13E614AE32: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:58,191 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:58,191 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:58,191 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:58,191 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:58,192 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,193 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:58,193 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:58,193 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:58,193 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:58,193 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:58,194 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:58,202 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:58,203 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,203 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,206 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:58,207 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:58,207 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:58,207 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:58,207 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:58,207 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:58,209 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-A4275BE628D5:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:57:58,214 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:57:58,215 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:57:58,216 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:57:58,216 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5 does not exist. Creating ...
2021-10-22 16:57:58,218 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:57:58,223 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5 has been successfully formatted.
2021-10-22 16:57:58,223 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A4275BE628D5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:57:58,227 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:57:58,227 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:57:58,227 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:57:58,227 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:57:58,227 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,231 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:57:58,231 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:57:58,233 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:57:58,234 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:57:58,234 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:57:58,235 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:57:58,237 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:57:58,238 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,242 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:57:58,248 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:57:58,248 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:57:58,248 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:57:58,248 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:57:58,249 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:57:58,249 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:57:58,255 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: start as a follower, conf=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:57:58,266 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:58,267 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState
2021-10-22 16:57:58,275 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9E13E614AE32,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:58,282 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:57:58,282 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:57:58,282 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState
2021-10-22 16:57:58,282 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32
2021-10-22 16:57:58,282 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32.
2021-10-22 16:57:58,285 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:57:58,314 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=491de468-b086-4989-aed3-a4275be628d5.
2021-10-22 16:57:58,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:58,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:58,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:59,098 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:57:59,099 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7(c0,m0,n1, attendVote=true, lastRpcSendTime=2501, lastRpcResponseTime=5090) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:59,102 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:57:59,103 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990-GrpcLogAppender: Leader has not got in touch with Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5095) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:57:59,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:57:59,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:57:59,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:57:59,584 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(974)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 5200ms. In charge for: 15655ms. Conf: 0: [b333e7df-46e0-461f-a358-6b9f1e940990|rpc:10.1.0.29:42761|dataStream:|priority:0, 3d105c53-23dd-414b-ad1c-b676e15a7de7|rpc:10.1.0.29:40929|dataStream:|priority:0, bb64e65f-ac54-4400-b84e-fa7de9c4383c|rpc:10.1.0.29:35561|dataStream:|priority:1], old=null
2021-10-22 16:57:59,586 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(978)) - Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->b333e7df-46e0-461f-a358-6b9f1e940990(c0,m0,n1, attendVote=true, lastRpcSendTime=483, lastRpcResponseTime=5578)
2021-10-22 16:57:59,586 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(978)) - Follower bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D->3d105c53-23dd-414b-ad1c-b676e15a7de7(c0,m0,n1, attendVote=true, lastRpcSendTime=485, lastRpcResponseTime=5577)
2021-10-22 16:57:59,586 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2021-10-22 16:57:59,586 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl
2021-10-22 16:57:59,586 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-PendingRequests: sendNotLeaderResponses
2021-10-22 16:57:59,587 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: start bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:58:00,179 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-CB2948E85DB6:[0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1] returns group-CB2948E85DB6:java.util.concurrent.CompletableFuture@5edc3dc2[Not completed]
2021-10-22 16:58:00,181 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-CB2948E85DB6:[0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,184 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,186 [pool-420-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: ConfigurationManager, init=-1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,186 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:58:00,187 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,187 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,187 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6 does not exist. Creating ...
2021-10-22 16:58:00,191 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,192 [pool-420-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6 has been successfully formatted.
2021-10-22 16:58:00,195 [pool-420-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CB2948E85DB6: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,195 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,195 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,195 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,195 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,196 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: b3e0cb48-4467-4a39-8f4e-cb2948e85db6, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.227Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:00,196 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,197 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,198 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,198 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,198 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,198 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,202 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,202 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,203 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,204 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,204 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,205 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: start as a follower, conf=-1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null
2021-10-22 16:58:00,205 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,205 [pool-420-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState
2021-10-22 16:58:00,205 [pool-420-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB2948E85DB6,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:00,207 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6
2021-10-22 16:58:00,207 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6.
2021-10-22 16:58:00,207 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0] returns group-455B613222B4:java.util.concurrent.CompletableFuture@5ae3a2c1[Not completed]
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,208 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:58:00,209 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,209 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,209 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 does not exist. Creating ...
2021-10-22 16:58:00,214 [pool-420-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,216 [pool-420-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 has been successfully formatted.
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-455B613222B4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,217 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,218 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,219 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,219 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,220 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,220 [pool-420-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,222 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:00,226 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,226 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,227 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,227 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,227 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,227 [pool-420-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,228 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:58:00,228 [pool-420-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,229 [pool-420-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:00,229 [pool-420-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:00,234 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:58:00,254 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] returns group-455B613222B4:java.util.concurrent.CompletableFuture@424ec8cd[Not completed]
2021-10-22 16:58:00,255 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,257 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,257 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,257 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,257 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,257 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,258 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 does not exist. Creating ...
2021-10-22 16:58:00,264 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,266 [pool-458-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 has been successfully formatted.
2021-10-22 16:58:00,268 [pool-458-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-455B613222B4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,269 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,269 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,269 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,269 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,270 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,271 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,272 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,272 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,272 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,272 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,272 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,273 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,274 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,280 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,280 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,284 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,284 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,284 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,284 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,284 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,285 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,286 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:00,286 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,286 [pool-458-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:00,293 [pool-458-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:00,321 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] returns group-455B613222B4:java.util.concurrent.CompletableFuture@bf52ef[Not completed]
2021-10-22 16:58:00,321 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-455B613222B4:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,324 [pool-439-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,325 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:58:00,325 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,325 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,325 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 does not exist. Creating ...
2021-10-22 16:58:00,329 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,331 [pool-439-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4 has been successfully formatted.
2021-10-22 16:58:00,333 [pool-439-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-455B613222B4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,333 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,333 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,333 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,333 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,334 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,334 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,334 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,335 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,336 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,337 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,337 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,337 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,342 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,342 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,343 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,343 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,344 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,345 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,346 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:00,346 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,346 [pool-439-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:00,350 [pool-439-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:58:00,366 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=459ef781-59c2-42bf-9527-455b613222b4.
2021-10-22 16:58:00,391 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-A8C9F50B869E:[945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1] returns group-A8C9F50B869E:java.util.concurrent.CompletableFuture@2456290b[Not completed]
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-A8C9F50B869E:[945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: ConfigurationManager, init=-1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,392 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:58:00,393 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,393 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,393 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e does not exist. Creating ...
2021-10-22 16:58:00,394 [pool-439-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,396 [pool-439-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e has been successfully formatted.
2021-10-22 16:58:00,396 [pool-439-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A8C9F50B869E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,396 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,396 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,396 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,397 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,398 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,398 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,398 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,398 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,400 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 483f8609-9759-4eed-ab2f-a8c9f50b869e, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, CreationTimestamp2021-10-22T16:57:57.393Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:00,401 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:00,401 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,402 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,402 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,402 [pool-439-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,406 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,406 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,407 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,407 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,407 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,407 [pool-439-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,408 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: start as a follower, conf=-1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null
2021-10-22 16:58:00,413 [pool-439-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,414 [pool-439-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState
2021-10-22 16:58:00,417 [pool-439-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C9F50B869E,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:58:00,422 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e
2021-10-22 16:58:00,422 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e.
2021-10-22 16:58:00,575 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:00,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:00,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:00,585 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-58B368E349EE:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1] returns group-58B368E349EE:java.util.concurrent.CompletableFuture@2af1e13c[Not completed]
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-58B368E349EE:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:00,586 [pool-458-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:00,587 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:58:00,587 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:00,587 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:00,587 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee does not exist. Creating ...
2021-10-22 16:58:00,589 [pool-458-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:00,591 [pool-458-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee has been successfully formatted.
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-58B368E349EE: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:00,592 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:00,593 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:00,594 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:00,595 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:00,596 [pool-458-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:00,596 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: e4fb8209-7462-4c22-b0de-58b368e349ee, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:5bad66d6-0a83-4e06-be4a-65825076cd25, CreationTimestamp2021-10-22T16:57:57.586Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:00,596 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:00,597 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null
2021-10-22 16:58:00,597 [pool-458-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:00,597 [pool-458-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState
2021-10-22 16:58:00,599 [pool-458-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58B368E349EE,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:00,607 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee
2021-10-22 16:58:00,608 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee.
2021-10-22 16:58:01,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:01,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:01,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:01,595 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:01,898 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:02,220 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:02,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:02,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:02,576 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:02,593 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:02,705 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:58:02,705 [Listener at 0.0.0.0/45267] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 16:58:02,706 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 16:58:02,713 [Listener at 0.0.0.0/45267] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:58:02,713 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:02,713 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 which uses HEALTHY READONLY datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,714 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 close command to datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:02,714 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: c1a5acbb-021e-43d5-852b-4b06f5b28998, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:56.987Z[Etc/UTC]] removed.
2021-10-22 16:58:02,714 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 which uses HEALTHY READONLY datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,714 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 close command to datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:02,715 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 44eb0df8-a0b9-4024-8c83-281d69b2ca49, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:55.759Z[Etc/UTC]] removed.
2021-10-22 16:58:02,715 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 which uses HEALTHY READONLY datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,716 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 close command to datanode bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 close command to datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 close command to datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 9c23cdad-b496-419a-bfea-a869825fca63, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:57:55.759Z[Etc/UTC]] removed.
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 which uses HEALTHY READONLY datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 close command to datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 close command to datanode bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:02,717 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=491de468-b086-4989-aed3-a4275be628d5 close command to datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:02,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 491de468-b086-4989-aed3-a4275be628d5, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:, CreationTimestamp2021-10-22T16:57:57.126Z[Etc/UTC]] removed.
2021-10-22 16:58:02,718 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:58:02,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:02,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 which uses HEALTHY READONLY datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,718 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 close command to datanode bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:02,718 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 since it stays at CLOSED stage.
2021-10-22 16:58:02,719 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: e4661637-a02c-4d9a-a76a-9e13e614ae32, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:bf4ff601-ee24-45b9-a275-de70906bb8cb, CreationTimestamp2021-10-22T16:57:57.118Z[Etc/UTC]] removed.
2021-10-22 16:58:02,720 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 which uses HEALTHY READONLY datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,720 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 close command to datanode bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:02,720 [RatisPipelineUtilsThread - 0] ERROR pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:createPipelines(231)) - Error while scrubbing pipelines.
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:251)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getContainers(PipelineStateManagerImpl.java:184)
	at sun.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getContainers(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:321)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.scrubPipeline(PipelineManagerImpl.java:385)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator.createPipelines(BackgroundPipelineCreator.java:229)
	at org.apache.hadoop.hdds.scm.pipeline.BackgroundPipelineCreator.run(BackgroundPipelineCreator.java:176)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:58:02,721 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: a0246f60-0daf-4b16-b42a-97487a122027, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:bf4ff601-ee24-45b9-a275-de70906bb8cb, CreationTimestamp2021-10-22T16:57:55.759Z[Etc/UTC]] removed.
2021-10-22 16:58:02,722 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:02,725 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b which uses HEALTHY READONLY datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,725 [IPC Server handler 8 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:02,726 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 16:58:02,727 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b close command to datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:02,727 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: ab223706-868f-4b10-87e7-9ff268d9542b, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:7fc6529c-fbd4-46bc-8435-07dde8e962e4, CreationTimestamp2021-10-22T16:57:55.759Z[Etc/UTC]] removed.
2021-10-22 16:58:02,727 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7 which uses HEALTHY READONLY datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:02,727 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7 close command to datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:02,727 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 53f4acb7-1a0a-48b7-baa9-346f43c084f7, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:7fc6529c-fbd4-46bc-8435-07dde8e962e4, CreationTimestamp2021-10-22T16:57:57.100Z[Etc/UTC]] removed.
2021-10-22 16:58:02,803 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:02,804 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: close
2021-10-22 16:58:02,810 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: shutdown
2021-10-22 16:58:02,810 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0EBFDD9EBCA0,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:58:02,810 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-LeaderStateImpl
2021-10-22 16:58:02,810 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:02,811 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:02,811 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0EBFDD9EBCA0: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0/sm/snapshot.1_0
2021-10-22 16:58:02,812 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0EBFDD9EBCA0: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/b0068162-7b8e-4b5e-a2e5-0ebfdd9ebca0/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:02,812 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:02,812 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:02,813 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0: closes. applyIndex: 0
2021-10-22 16:58:02,813 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:02,813 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-0EBFDD9EBCA0-SegmentedRaftLogWorker close()
2021-10-22 16:58:02,816 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: shutdown
2021-10-22 16:58:02,816 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4E1BCA0F4B3D,id=bb64e65f-ac54-4400-b84e-fa7de9c4383c
2021-10-22 16:58:02,816 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState
2021-10-22 16:58:02,816 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:02,816 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4E1BCA0F4B3D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0
2021-10-22 16:58:02,817 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4E1BCA0F4B3D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-15e983f0-3030-4d1a-884b-db0b6a041153/datanode-2/data/ratis/3365059a-4d20-4d23-b66a-4e1bca0f4b3d/sm/snapshot.2_0 took: 1 ms
2021-10-22 16:58:02,817 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:02,817 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:02,816 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:02,818 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D: closes. applyIndex: 0
2021-10-22 16:58:02,818 [bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:02,838 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c@group-4E1BCA0F4B3D-SegmentedRaftLogWorker close()
2021-10-22 16:58:02,864 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown server with port 35561 now
2021-10-22 16:58:02,879 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - bb64e65f-ac54-4400-b84e-fa7de9c4383c: shutdown server with port 35561 successfully
2021-10-22 16:58:02,879 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@13d86e74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-bb64e65f-ac54-4400-b84e-fa7de9c4383c: Stopped
2021-10-22 16:58:02,911 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:02,914 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:03,009 [IPC Server handler 12 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5023348774ns, electionTimeout:5015ms
2021-10-22 16:58:03,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:03,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:03,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23
2021-10-22 16:58:03,067 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:03,070 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5085959490ns, electionTimeout:5079ms
2021-10-22 16:58:03,070 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState
2021-10-22 16:58:03,070 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:03,078 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:03,078 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-A4275BE628D5, 1, (t:0, i:0))
2021-10-22 16:58:03,078 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24
2021-10-22 16:58:03,078 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:58:03,079 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,079 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,087 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,087 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:03,090 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-A4275BE628D5, 1, (t:0, i:0))
2021-10-22 16:58:03,090 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5 replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5:t1, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23 ELECTION round 0: result PASSED
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24
2021-10-22 16:58:03,095 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:03,095 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4B06F5B28998 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,095 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for becomeLeader, leader elected after 5128ms
2021-10-22 16:58:03,095 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:03,096 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,096 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:03,097 [IPC Server handler 14 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,097 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 is not found
2021-10-22 16:58:03,097 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 is not found
2021-10-22 16:58:03,098 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:03,098 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:03,090 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:58:03,097 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:03,094 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:03,098 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4275BE628D5 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,098 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for becomeLeader, leader elected after 5089ms
2021-10-22 16:58:03,098 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,099 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:03,100 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:03,101 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:03,103 [IPC Server handler 15 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,104 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 is not found
2021-10-22 16:58:03,104 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 is not found
2021-10-22 16:58:03,104 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:03,104 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:03,114 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderStateImpl
2021-10-22 16:58:03,115 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,117 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5/current/log_inprogress_0
2021-10-22 16:58:03,098 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:03,098 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,117 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,118 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:03,118 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,118 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:03,118 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderStateImpl
2021-10-22 16:58:03,119 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,125 [IPC Server handler 16 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,135 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998/current/log_inprogress_0
2021-10-22 16:58:03,139 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4275BE628D5 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,139 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for appendEntries, leader elected after 5063ms
2021-10-22 16:58:03,139 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,139 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:03,146 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5 replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-bf4ff601-ee24-45b9-a275-de70906bb8cb#0:OK-t1. Peer's state: bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5:t1, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:03,168 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1], old=null
2021-10-22 16:58:03,170 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:03,170 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,171 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:03,173 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5/current/log_inprogress_0
2021-10-22 16:58:03,181 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A4275BE628D5 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:03,182 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for appendEntries, leader elected after 4957ms
2021-10-22 16:58:03,183 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5034041659ns, electionTimeout:5015ms
2021-10-22 16:58:03,183 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState
2021-10-22 16:58:03,183 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:03,191 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:03,191 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25
2021-10-22 16:58:03,212 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:03,212 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-346F43C084F7 with new leaderId: 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: change Leader from null to 7fc6529c-fbd4-46bc-8435-07dde8e962e4 at term 1 for becomeLeader, leader elected after 5089ms
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,213 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:03,215 [IPC Server handler 18 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b is not found
2021-10-22 16:58:03,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:03,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:03,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7 is not found
2021-10-22 16:58:03,217 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,219 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:03,219 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:03,219 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:03,220 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,220 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:03,220 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderStateImpl
2021-10-22 16:58:03,220 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,220 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5/current/log_inprogress_0
2021-10-22 16:58:03,225 [IPC Server handler 19 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,232 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7/current/log_inprogress_0
2021-10-22 16:58:03,242 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: set configuration 0: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:1], old=null
2021-10-22 16:58:03,319 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5052237719ns, electionTimeout:5043ms
2021-10-22 16:58:03,319 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState
2021-10-22 16:58:03,320 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:03,320 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:03,320 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26
2021-10-22 16:58:03,332 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:58:03,332 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:03,333 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26
2021-10-22 16:58:03,333 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:03,333 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-9E13E614AE32 with new leaderId: bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:03,334 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: change Leader from null to bf4ff601-ee24-45b9-a275-de70906bb8cb at term 1 for becomeLeader, leader elected after 5143ms
2021-10-22 16:58:03,334 [IPC Server handler 1 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,335 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 is not found
2021-10-22 16:58:03,335 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 is not found
2021-10-22 16:58:03,335 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:03,335 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:03,341 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:03,341 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,341 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:03,341 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:03,341 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:03,342 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:03,342 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:03,342 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:03,342 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderStateImpl
2021-10-22 16:58:03,342 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:03,356 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: set configuration 0: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:1], old=null
2021-10-22 16:58:03,359 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32/current/log_inprogress_0
2021-10-22 16:58:03,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:03,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:03,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:03,602 [IPC Server handler 0 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,602 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 is not found
2021-10-22 16:58:03,603 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 is not found
2021-10-22 16:58:03,603 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:03,603 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:03,624 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: remove  FOLLOWER 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLog:OPENED:c10, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:03,624 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: shutdown
2021-10-22 16:58:03,625 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,625 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState
2021-10-22 16:58:03,625 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:58:03,625 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:03,625 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A869825FCA63: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10
2021-10-22 16:58:03,634 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A869825FCA63: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10 took: 9 ms
2021-10-22 16:58:03,634 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:58:03,634 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:58:03,635 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: closes. applyIndex: 10
2021-10-22 16:58:03,635 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:03,638 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63-SegmentedRaftLogWorker close()
2021-10-22 16:58:03,640 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A869825FCA63: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:58:03,640 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 command on datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4.
2021-10-22 16:58:03,640 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: remove  FOLLOWER 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLog:OPENED:c0, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:03,640 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: shutdown
2021-10-22 16:58:03,641 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,641 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState
2021-10-22 16:58:03,641 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:03,641 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:03,641 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4275BE628D5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0
2021-10-22 16:58:03,643 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4275BE628D5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:03,643 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:03,643 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:03,643 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: closes. applyIndex: 0
2021-10-22 16:58:03,643 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:03,645 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5-SegmentedRaftLogWorker close()
2021-10-22 16:58:03,648 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-A4275BE628D5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:58:03,648 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 command on datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4.
2021-10-22 16:58:03,648 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: remove    LEADER 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B:t1, leader=7fc6529c-fbd4-46bc-8435-07dde8e962e4, voted=7fc6529c-fbd4-46bc-8435-07dde8e962e4, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLog:OPENED:c0, conf=0: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:03,648 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: shutdown
2021-10-22 16:58:03,648 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9FF268D9542B,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,648 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-LeaderStateImpl
2021-10-22 16:58:03,648 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:03,649 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:03,649 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-9FF268D9542B: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b/sm/snapshot.1_0
2021-10-22 16:58:03,650 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-9FF268D9542B: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:58:03,650 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:03,650 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:03,651 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: closes. applyIndex: 0
2021-10-22 16:58:03,651 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:03,651 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B-SegmentedRaftLogWorker close()
2021-10-22 16:58:03,656 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-9FF268D9542B: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/ab223706-868f-4b10-87e7-9ff268d9542b
2021-10-22 16:58:03,656 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ab223706-868f-4b10-87e7-9ff268d9542b command on datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4.
2021-10-22 16:58:03,656 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: remove    LEADER 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7:t1, leader=7fc6529c-fbd4-46bc-8435-07dde8e962e4, voted=7fc6529c-fbd4-46bc-8435-07dde8e962e4, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLog:OPENED:c0, conf=0: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:03,656 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: shutdown
2021-10-22 16:58:03,656 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-346F43C084F7,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,657 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-LeaderStateImpl
2021-10-22 16:58:03,657 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:03,657 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:03,658 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-346F43C084F7: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7/sm/snapshot.1_0
2021-10-22 16:58:03,659 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-346F43C084F7: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:03,659 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:03,659 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:03,659 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: closes. applyIndex: 0
2021-10-22 16:58:03,659 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:03,665 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7-SegmentedRaftLogWorker close()
2021-10-22 16:58:03,668 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-346F43C084F7: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/53f4acb7-1a0a-48b7-baa9-346f43c084f7
2021-10-22 16:58:03,668 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=53f4acb7-1a0a-48b7-baa9-346f43c084f7 command on datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4.
2021-10-22 16:58:03,668 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:03,668 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:58:03,668 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:03,668 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:58:03,670 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:58:03,670 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data-0/containers/hdds/61ec62c2-ac9e-4266-a8ea-be4a3bce3542 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:58:03,671 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:03,721 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:03,834 [IPC Server handler 10 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:03,906 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:03,976 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:58:03,976 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:03,976 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=45efe299-6bc4-4466-972d-602ca18e547e to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:03,977 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 45efe299-6bc4-4466-972d-602ca18e547e, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:03.976Z[Etc/UTC]].
2021-10-22 16:58:03,977 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-10-22 16:58:04,009 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: remove    LEADER 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLog:OPENED:c0, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:04,009 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: shutdown
2021-10-22 16:58:04,009 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4B06F5B28998,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,009 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-LeaderStateImpl
2021-10-22 16:58:04,009 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,010 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,011 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4B06F5B28998: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998/sm/snapshot.1_0
2021-10-22 16:58:04,011 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4B06F5B28998: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:04,012 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,012 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,012 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: closes. applyIndex: 0
2021-10-22 16:58:04,012 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,016 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,019 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-4B06F5B28998: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/c1a5acbb-021e-43d5-852b-4b06f5b28998
2021-10-22 16:58:04,019 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=c1a5acbb-021e-43d5-852b-4b06f5b28998 command on datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89.
2021-10-22 16:58:04,020 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: remove    LEADER 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLog:OPENED:c0, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:04,020 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: shutdown
2021-10-22 16:58:04,020 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-281D69B2CA49,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,020 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-LeaderStateImpl
2021-10-22 16:58:04,020 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,020 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,020 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-281D69B2CA49: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49/sm/snapshot.1_0
2021-10-22 16:58:04,021 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-281D69B2CA49: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:04,022 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,022 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,022 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: closes. applyIndex: 0
2021-10-22 16:58:04,022 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,023 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,025 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-281D69B2CA49: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/44eb0df8-a0b9-4024-8c83-281d69b2ca49
2021-10-22 16:58:04,025 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=44eb0df8-a0b9-4024-8c83-281d69b2ca49 command on datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89.
2021-10-22 16:58:04,026 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: remove    LEADER 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLog:OPENED:c10, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:04,036 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: shutdown
2021-10-22 16:58:04,036 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,037 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-LeaderStateImpl
2021-10-22 16:58:04,046 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:04,047 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: Completed APPEND_ENTRIES, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->7fc6529c-fbd4-46bc-8435-07dde8e962e4#332-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-10-22 16:58:04,048 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->7fc6529c-fbd4-46bc-8435-07dde8e962e4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:04,048 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->7fc6529c-fbd4-46bc-8435-07dde8e962e4: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:58:04,052 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->bf4ff601-ee24-45b9-a275-de70906bb8cb-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->bf4ff601-ee24-45b9-a275-de70906bb8cb-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:04,052 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: Completed APPEND_ENTRIES, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->bf4ff601-ee24-45b9-a275-de70906bb8cb#96-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-10-22 16:58:04,054 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->bf4ff601-ee24-45b9-a275-de70906bb8cb-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:04,054 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63->bf4ff601-ee24-45b9-a275-de70906bb8cb: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:58:04,054 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,064 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A869825FCA63: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10
2021-10-22 16:58:04,064 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:58:04,066 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A869825FCA63: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10 took: 2 ms
2021-10-22 16:58:04,066 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:58:04,066 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:58:04,067 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: closes. applyIndex: 10
2021-10-22 16:58:04,067 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,080 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,086 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A869825FCA63: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:58:04,086 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 command on datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89.
2021-10-22 16:58:04,086 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: remove    LEADER 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLog:OPENED:c0, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:04,086 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: shutdown
2021-10-22 16:58:04,086 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,086 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-LeaderStateImpl
2021-10-22 16:58:04,087 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,088 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4275BE628D5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0
2021-10-22 16:58:04,088 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,089 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4275BE628D5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:58:04,089 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,089 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,090 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: closes. applyIndex: 0
2021-10-22 16:58:04,090 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,091 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:04,091 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,092 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->bf4ff601-ee24-45b9-a275-de70906bb8cb-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->bf4ff601-ee24-45b9-a275-de70906bb8cb-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:04,092 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: Completed APPEND_ENTRIES, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->7fc6529c-fbd4-46bc-8435-07dde8e962e4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:58:04,094 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->7fc6529c-fbd4-46bc-8435-07dde8e962e4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:04,094 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->7fc6529c-fbd4-46bc-8435-07dde8e962e4: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:58:04,094 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: Completed APPEND_ENTRIES, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->bf4ff601-ee24-45b9-a275-de70906bb8cb#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:58:04,095 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->bf4ff601-ee24-45b9-a275-de70906bb8cb-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:04,095 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5->bf4ff601-ee24-45b9-a275-de70906bb8cb: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:58:04,099 [IPC Server handler 15 on default port 34347] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:04,104 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-A4275BE628D5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:58:04,104 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 command on datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89.
2021-10-22 16:58:04,104 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,104 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:58:04,104 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:04,105 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:58:04,113 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:58:04,114 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data-0/containers/hdds/61ec62c2-ac9e-4266-a8ea-be4a3bce3542 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:58:04,115 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:04,115 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,115 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,116 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,225 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: remove  FOLLOWER bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLog:OPENED:c10, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:04,225 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: shutdown
2021-10-22 16:58:04,225 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A869825FCA63,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,225 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState
2021-10-22 16:58:04,226 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:58:04,226 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:04,226 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A869825FCA63: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10
2021-10-22 16:58:04,228 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A869825FCA63: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63/sm/snapshot.1_10 took: 1 ms
2021-10-22 16:58:04,228 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:58:04,228 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:58:04,229 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: closes. applyIndex: 10
2021-10-22 16:58:04,229 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,231 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,232 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A869825FCA63: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/9c23cdad-b496-419a-bfea-a869825fca63
2021-10-22 16:58:04,232 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 command on datanode bf4ff601-ee24-45b9-a275-de70906bb8cb.
2021-10-22 16:58:04,232 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: remove  FOLLOWER bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5:t1, leader=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLog:OPENED:c0, conf=0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:04,232 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: shutdown
2021-10-22 16:58:04,233 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A4275BE628D5,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,233 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState
2021-10-22 16:58:04,233 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,233 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:04,233 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A4275BE628D5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0
2021-10-22 16:58:04,240 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A4275BE628D5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5/sm/snapshot.1_0 took: 8 ms
2021-10-22 16:58:04,242 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,242 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,242 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: closes. applyIndex: 0
2021-10-22 16:58:04,243 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,246 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,247 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-A4275BE628D5: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/491de468-b086-4989-aed3-a4275be628d5
2021-10-22 16:58:04,247 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 command on datanode bf4ff601-ee24-45b9-a275-de70906bb8cb.
2021-10-22 16:58:04,248 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: remove    LEADER bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32:t1, leader=bf4ff601-ee24-45b9-a275-de70906bb8cb, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLog:OPENED:c0, conf=0: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:04,248 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: shutdown
2021-10-22 16:58:04,248 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9E13E614AE32,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,248 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-LeaderStateImpl
2021-10-22 16:58:04,248 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,251 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-9E13E614AE32: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32/sm/snapshot.1_0
2021-10-22 16:58:04,252 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,266 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-9E13E614AE32: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32/sm/snapshot.1_0 took: 15 ms
2021-10-22 16:58:04,266 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,266 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,266 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: closes. applyIndex: 0
2021-10-22 16:58:04,267 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,269 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,270 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-9E13E614AE32: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/e4661637-a02c-4d9a-a76a-9e13e614ae32
2021-10-22 16:58:04,270 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 command on datanode bf4ff601-ee24-45b9-a275-de70906bb8cb.
2021-10-22 16:58:04,271 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: remove    LEADER bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027:t1, leader=bf4ff601-ee24-45b9-a275-de70906bb8cb, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLog:OPENED:c0, conf=0: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:04,271 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: shutdown
2021-10-22 16:58:04,271 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-97487A122027,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,271 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-LeaderStateImpl
2021-10-22 16:58:04,271 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:04,273 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:04,274 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-97487A122027: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027/sm/snapshot.1_0
2021-10-22 16:58:04,275 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-97487A122027: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:58:04,275 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:04,275 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:04,276 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: closes. applyIndex: 0
2021-10-22 16:58:04,276 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:04,276 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027-SegmentedRaftLogWorker close()
2021-10-22 16:58:04,279 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-97487A122027: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/a0246f60-0daf-4b16-b42a-97487a122027
2021-10-22 16:58:04,279 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 command on datanode bf4ff601-ee24-45b9-a275-de70906bb8cb.
2021-10-22 16:58:04,279 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,279 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:58:04,280 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:04,280 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:58:04,282 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:58:04,282 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data-0/containers/hdds/61ec62c2-ac9e-4266-a8ea-be4a3bce3542 -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:58:04,285 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:04,285 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,285 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,336 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e4661637-a02c-4d9a-a76a-9e13e614ae32 is not found
2021-10-22 16:58:04,336 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=a0246f60-0daf-4b16-b42a-97487a122027 is not found
2021-10-22 16:58:04,336 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=9c23cdad-b496-419a-bfea-a869825fca63 is not found
2021-10-22 16:58:04,336 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=491de468-b086-4989-aed3-a4275be628d5 is not found
2021-10-22 16:58:04,476 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:58:04,476 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:04,479 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=dd9b566f-23b2-4f6a-a268-697ccd1086bb to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,479 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: dd9b566f-23b2-4f6a-a268-697ccd1086bb, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:04.479Z[Etc/UTC]].
2021-10-22 16:58:04,480 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-10-22 16:58:04,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:04,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:04,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:04,600 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:04,715 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:04,715 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-602CA18E547E:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] returns group-602CA18E547E:java.util.concurrent.CompletableFuture@e0998e0[Not completed]
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-602CA18E547E:[7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:04,716 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: ConfigurationManager, init=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:04,717 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e does not exist. Creating ...
2021-10-22 16:58:04,719 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:04,726 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e has been successfully formatted.
2021-10-22 16:58:04,726 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-602CA18E547E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:04,727 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 45efe299-6bc4-4466-972d-602ca18e547e, Nodes: 7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:7fc6529c-fbd4-46bc-8435-07dde8e962e4, CreationTimestamp2021-10-22T16:58:03.976Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:04,728 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:04,728 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:04,728 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:04,728 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:04,738 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:04,739 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:04,739 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:04,739 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:04,740 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:04,741 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:04,741 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:04,741 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:04,742 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:04,750 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:04,751 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:04,751 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:04,751 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:04,751 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:04,751 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:04,752 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: start as a follower, conf=-1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:58:04,753 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:04,753 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState
2021-10-22 16:58:04,763 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-602CA18E547E,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:04,772 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=45efe299-6bc4-4466-972d-602ca18e547e
2021-10-22 16:58:04,772 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=45efe299-6bc4-4466-972d-602ca18e547e.
2021-10-22 16:58:04,976 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:58:04,976 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:04,977 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=e4ad4fc2-d58c-4a98-b0d9-3193561931f8 to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,977 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: e4ad4fc2-d58c-4a98-b0d9-3193561931f8, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:04.977Z[Etc/UTC]].
2021-10-22 16:58:04,977 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=be60d435-4ce7-46b9-b64b-ef3591f0362f to datanode:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:04,978 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=be60d435-4ce7-46b9-b64b-ef3591f0362f to datanode:7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:04,978 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=be60d435-4ce7-46b9-b64b-ef3591f0362f to datanode:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:04,978 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: be60d435-4ce7-46b9-b64b-ef3591f0362f, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:04.977Z[Etc/UTC]].
2021-10-22 16:58:05,222 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:05,313 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5107933968ns, electionTimeout:5107ms
2021-10-22 16:58:05,313 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState
2021-10-22 16:58:05,313 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:05,314 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:05,314 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27 ELECTION round 0: submit vote requests at term 1 for -1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CB2948E85DB6 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 1 for becomeLeader, leader elected after 5130ms
2021-10-22 16:58:05,325 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:05,326 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,326 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:05,326 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:05,326 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:05,326 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:05,326 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:05,329 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,329 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:05,329 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderStateImpl
2021-10-22 16:58:05,329 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:05,334 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:05,335 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-697CCD1086BB:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] returns group-697CCD1086BB:java.util.concurrent.CompletableFuture@7fcc3b76[Not completed]
2021-10-22 16:58:05,340 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: set configuration 0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:58:05,342 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5055966952ns, electionTimeout:5049ms
2021-10-22 16:58:05,343 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:05,343 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:05,343 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:05,343 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28
2021-10-22 16:58:05,349 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/log_inprogress_0
2021-10-22 16:58:05,351 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-697CCD1086BB:[bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:05,351 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: ConfigurationManager, init=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:05,352 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb does not exist. Creating ...
2021-10-22 16:58:05,354 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:05,355 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb has been successfully formatted.
2021-10-22 16:58:05,357 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: dd9b566f-23b2-4f6a-a268-697ccd1086bb, Nodes: bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:bf4ff601-ee24-45b9-a275-de70906bb8cb, CreationTimestamp2021-10-22T16:58:04.479Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:05,357 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-697CCD1086BB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:05,357 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:05,358 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:05,358 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:05,358 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:05,362 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,362 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:05,363 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:05,364 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:05,365 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:05,369 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:05,370 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,370 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,371 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:05,371 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:05,371 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28 ELECTION round 0: submit vote requests at term 1 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:05,372 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:05,372 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:05,386 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:05,386 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:05,388 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: start as a follower, conf=-1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:58:05,388 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:05,388 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState
2021-10-22 16:58:05,396 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-697CCD1086BB,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:05,397 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=dd9b566f-23b2-4f6a-a268-697ccd1086bb
2021-10-22 16:58:05,397 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=dd9b566f-23b2-4f6a-a268-697ccd1086bb.
2021-10-22 16:58:05,398 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: addNew group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] returns group-EF3591F0362F:java.util.concurrent.CompletableFuture@3acebaeb[Not completed]
2021-10-22 16:58:05,398 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5169548161ns, electionTimeout:5167ms
2021-10-22 16:58:05,398 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:05,398 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:05,398 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:05,398 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection29
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: new RaftServerImpl for group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:05,401 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis] (custom)
2021-10-22 16:58:05,403 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:05,403 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:05,403 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f does not exist. Creating ...
2021-10-22 16:58:05,405 [pool-194-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:05,407 [pool-194-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f has been successfully formatted.
2021-10-22 16:58:05,417 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: receive requestVote(ELECTION, 5bad66d6-0a83-4e06-be4a-65825076cd25, group-455B613222B4, 1, (t:0, i:0))
2021-10-22 16:58:05,420 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-CANDIDATE: reject ELECTION from 5bad66d6-0a83-4e06-be4a-65825076cd25: our priority 1 > candidate's priority 0
2021-10-22 16:58:05,420 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:05,420 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection29
2021-10-22 16:58:05,420 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:05,422 [pool-194-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EF3591F0362F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:05,423 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:05,423 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:05,423 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:05,423 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:05,423 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4 replies to ELECTION vote request: 5bad66d6-0a83-4e06-be4a-65825076cd25<-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#0:FAIL-t1. Peer's state: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4:t1, leader=null, voted=null, raftlog=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:58:05,425 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 5bad66d6-0a83-4e06-be4a-65825076cd25<-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#0:FAIL-t1
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28 ELECTION round 0: result REJECTED
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28
2021-10-22 16:58:05,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:05,425 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:05,426 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:05,425 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection29: skip running since this is already CLOSING
2021-10-22 16:58:05,432 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: receive requestVote(ELECTION, 5bad66d6-0a83-4e06-be4a-65825076cd25, group-455B613222B4, 1, (t:0, i:0))
2021-10-22 16:58:05,432 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FOLLOWER: accept ELECTION from 5bad66d6-0a83-4e06-be4a-65825076cd25: our priority 0 <= candidate's priority 0
2021-10-22 16:58:05,432 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:05,432 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:05,432 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:05,433 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:05,433 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:05,434 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:05,434 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,434 [pool-194-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:05,435 [pool-194-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:05,436 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4 replies to ELECTION vote request: 5bad66d6-0a83-4e06-be4a-65825076cd25<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t1. Peer's state: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4:t1, leader=null, voted=5bad66d6-0a83-4e06-be4a-65825076cd25, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:05,436 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:05,437 [pool-194-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:05,437 [pool-194-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:05,437 [pool-194-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:05,438 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=be60d435-4ce7-46b9-b64b-ef3591f0362f
2021-10-22 16:58:05,468 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-EF3591F0362F:java.util.concurrent.CompletableFuture@2ecaa8ae[Not completed]
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:05,469 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:05,470 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:05,470 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:58:05,470 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:05,470 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:05,470 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f does not exist. Creating ...
2021-10-22 16:58:05,472 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:05,475 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f has been successfully formatted.
2021-10-22 16:58:05,475 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EF3591F0362F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:05,478 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:05,478 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:05,479 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:05,480 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:05,481 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:05,481 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:05,482 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,482 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:05,492 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:05,494 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:05,494 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:05,494 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:05,502 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5088600150ns, electionTimeout:5084ms
2021-10-22 16:58:05,502 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState
2021-10-22 16:58:05,503 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:05,503 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:05,503 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:05,504 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30
2021-10-22 16:58:05,540 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: addNew group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] returns group-EF3591F0362F:java.util.concurrent.CompletableFuture@243c4c1e[Not completed]
2021-10-22 16:58:05,546 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: new RaftServerImpl for group-EF3591F0362F:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis] (custom)
2021-10-22 16:58:05,549 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30 ELECTION round 0: submit vote requests at term 1 for -1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null
2021-10-22 16:58:05,550 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:05,550 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A8C9F50B869E with new leaderId: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: change Leader from null to 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 at term 1 for becomeLeader, leader elected after 5154ms
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:05,551 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:05,552 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,552 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:05,552 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderStateImpl
2021-10-22 16:58:05,552 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:05,550 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:05,553 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f does not exist. Creating ...
2021-10-22 16:58:05,556 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: set configuration 0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:58:05,556 [pool-213-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:05,557 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/log_inprogress_0
2021-10-22 16:58:05,558 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:05,558 [pool-213-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f has been successfully formatted.
2021-10-22 16:58:05,558 [pool-213-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EF3591F0362F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:05,559 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:05,559 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:05,559 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:05,559 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:05,559 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,560 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:05,560 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:05,560 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f
2021-10-22 16:58:05,560 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:05,562 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:05,562 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,562 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:05,563 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:05,563 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:05,563 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:05,563 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:05,564 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:05,565 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:05,567 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,567 [pool-213-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,573 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:05,573 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:05,573 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:05,573 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:05,573 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:05,574 [pool-213-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:05,575 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:05,575 [pool-213-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:05,575 [pool-213-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:05,577 [pool-213-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:05,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:05,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:05,577 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:05,598 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=be60d435-4ce7-46b9-b64b-ef3591f0362f.
2021-10-22 16:58:05,599 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:05,599 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: addNew group-3193561931F8:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] returns group-3193561931F8:java.util.concurrent.CompletableFuture@319a7ddd[Not completed]
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: new RaftServerImpl for group-3193561931F8:[9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: ConfigurationManager, init=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis] (custom)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:05,600 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:05,601 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8 does not exist. Creating ...
2021-10-22 16:58:05,607 [pool-166-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:05,608 [pool-166-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8 has been successfully formatted.
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-3193561931F8: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:05,609 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:05,610 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:05,611 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:05,613 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: e4ad4fc2-d58c-4a98-b0d9-3193561931f8, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:58:04.977Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:05,617 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:05,617 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,617 [pool-166-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:05,624 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:05,624 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:05,624 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:05,624 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:05,625 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:05,625 [pool-166-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:05,626 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: start as a follower, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:58:05,626 [pool-166-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:05,626 [pool-166-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState
2021-10-22 16:58:05,630 [pool-166-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3193561931F8,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:05,631 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=e4ad4fc2-d58c-4a98-b0d9-3193561931f8
2021-10-22 16:58:05,631 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=e4ad4fc2-d58c-4a98-b0d9-3193561931f8.
2021-10-22 16:58:05,728 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5130628930ns, electionTimeout:5128ms
2021-10-22 16:58:05,728 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState
2021-10-22 16:58:05,728 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:05,728 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:05,728 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31
2021-10-22 16:58:05,733 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31 ELECTION round 0: submit vote requests at term 1 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null
2021-10-22 16:58:05,733 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:05,733 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31
2021-10-22 16:58:05,733 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:05,734 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-58B368E349EE with new leaderId: 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:05,734 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: change Leader from null to 5bad66d6-0a83-4e06-be4a-65825076cd25 at term 1 for becomeLeader, leader elected after 5141ms
2021-10-22 16:58:05,734 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:05,734 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,735 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:05,736 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:05,738 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderStateImpl
2021-10-22 16:58:05,738 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:05,752 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderElection31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null
2021-10-22 16:58:05,756 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/current/log_inprogress_0
2021-10-22 16:58:05,941 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:05,946 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@21b1dd67{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:05,947 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@957b40{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:05,947 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:05,952 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7165ff2c{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:05,953 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@55c7841c{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:58:05,956 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:58:05,958 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41165
2021-10-22 16:58:05,968 [IPC Server listener on 41165] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 41165
2021-10-22 16:58:05,968 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:06,196 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:58:06,197 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:58:06,197 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:58:06,208 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40849
2021-10-22 16:58:06,227 [IPC Server listener on 40849] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 40849
2021-10-22 16:58:06,231 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:58:06,231 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:58:06,231 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:06,235 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:06,242 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37587
2021-10-22 16:58:06,248 [IPC Server listener on 37587] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 37587
2021-10-22 16:58:06,249 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:58:06,249 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:06,254 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1d242841{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:58:06,254 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5c3a42f0{HTTP/1.1, (http/1.1)}{0.0.0.0:45221}
2021-10-22 16:58:06,254 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:06,261 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5a779a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:58:06,261 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6216256b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:06,270 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:58:06,270 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:58:06,271 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:58:06,271 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:58:06,292 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:58:06,292 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:58:06,292 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:58:06,293 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-10-22 16:58:06,309 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-10-22 16:58:06,327 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:06,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:06,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:06,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:07,554 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:07,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:07,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:07,578 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:07,718 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:58:07,741 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:07,827 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:08,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:08,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:08,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:08,736 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:08,827 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:09,053 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:09,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:09,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:09,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:09,860 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5107783697ns, electionTimeout:5097ms
2021-10-22 16:58:09,861 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState
2021-10-22 16:58:09,861 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:09,861 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:09,861 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32
2021-10-22 16:58:09,873 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32 ELECTION round 0: submit vote requests at term 1 for -1: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:1], old=null
2021-10-22 16:58:09,873 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:09,873 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32
2021-10-22 16:58:09,873 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:09,873 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-602CA18E547E with new leaderId: 7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:09,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: change Leader from null to 7fc6529c-fbd4-46bc-8435-07dde8e962e4 at term 1 for becomeLeader, leader elected after 5145ms
2021-10-22 16:58:09,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:09,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:09,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:09,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:09,878 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:09,878 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:09,879 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:09,879 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:09,879 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderStateImpl
2021-10-22 16:58:09,880 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:09,883 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e/current/log_inprogress_0
2021-10-22 16:58:09,893 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderElection32] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: set configuration 0: [7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:1], old=null
2021-10-22 16:58:10,327 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:10,421 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5033003190ns, electionTimeout:5024ms
2021-10-22 16:58:10,421 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState
2021-10-22 16:58:10,421 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:10,421 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:10,421 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33
2021-10-22 16:58:10,430 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33 ELECTION round 0: submit vote requests at term 1 for -1: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:1], old=null
2021-10-22 16:58:10,430 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:10,430 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33
2021-10-22 16:58:10,430 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:10,430 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-697CCD1086BB with new leaderId: bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:10,431 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: change Leader from null to bf4ff601-ee24-45b9-a275-de70906bb8cb at term 1 for becomeLeader, leader elected after 5073ms
2021-10-22 16:58:10,437 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:10,438 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:10,438 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:10,439 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:10,441 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:10,441 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:10,441 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:10,441 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:10,441 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderStateImpl
2021-10-22 16:58:10,442 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:10,444 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb/current/log_inprogress_0
2021-10-22 16:58:10,458 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderElection33] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: set configuration 0: [bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:1], old=null
2021-10-22 16:58:10,502 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5065689995ns, electionTimeout:5064ms
2021-10-22 16:58:10,502 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,503 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:10,503 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:10,503 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34
2021-10-22 16:58:10,512 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:10,534 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5108812708ns, electionTimeout:5091ms
2021-10-22 16:58:10,534 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:10,534 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:10,534 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:10,534 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35
2021-10-22 16:58:10,549 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: receive requestVote(ELECTION, bf4ff601-ee24-45b9-a275-de70906bb8cb, group-EF3591F0362F, 1, (t:0, i:0))
2021-10-22 16:58:10,549 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FOLLOWER: accept ELECTION from bf4ff601-ee24-45b9-a275-de70906bb8cb: our priority 0 <= candidate's priority 0
2021-10-22 16:58:10,550 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:10,550 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,550 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,550 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: receive requestVote(ELECTION, bf4ff601-ee24-45b9-a275-de70906bb8cb, group-EF3591F0362F, 1, (t:0, i:0))
2021-10-22 16:58:10,550 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FOLLOWER: reject ELECTION from bf4ff601-ee24-45b9-a275-de70906bb8cb: our priority 1 > candidate's priority 0
2021-10-22 16:58:10,550 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:10,550 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,550 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:10,553 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:10,554 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35 ELECTION round 0: submit vote requests at term 2 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:10,561 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F replies to ELECTION vote request: bf4ff601-ee24-45b9-a275-de70906bb8cb<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F:t1, leader=null, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:10,571 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,571 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:10,571 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: receive requestVote(ELECTION, 5bad66d6-0a83-4e06-be4a-65825076cd25, group-455B613222B4, 2, (t:0, i:0))
2021-10-22 16:58:10,571 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FOLLOWER: reject ELECTION from 5bad66d6-0a83-4e06-be4a-65825076cd25: our priority 1 > candidate's priority 0
2021-10-22 16:58:10,571 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:10,572 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:10,572 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:10,572 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:10,573 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F replies to ELECTION vote request: bf4ff601-ee24-45b9-a275-de70906bb8cb<-9f9fdb93-7e22-4aa3-890b-feb385cc5d89#0:FAIL-t1. Peer's state: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F:t1, leader=null, voted=null, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:10,577 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4 replies to ELECTION vote request: 5bad66d6-0a83-4e06-be4a-65825076cd25<-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#0:FAIL-t2. Peer's state: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4:t2, leader=null, voted=null, raftlog=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:58:10,578 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:10,578 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 5bad66d6-0a83-4e06-be4a-65825076cd25<-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#0:FAIL-t2
2021-10-22 16:58:10,578 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35 ELECTION round 0: result REJECTED
2021-10-22 16:58:10,579 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 16:58:10,579 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35
2021-10-22 16:58:10,579 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:10,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:10,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:10,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: bf4ff601-ee24-45b9-a275-de70906bb8cb<-9f9fdb93-7e22-4aa3-890b-feb385cc5d89#0:FAIL-t1
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: bf4ff601-ee24-45b9-a275-de70906bb8cb<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t1
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34 ELECTION round 0: result REJECTED
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34
2021-10-22 16:58:10,580 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:10,587 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: receive requestVote(ELECTION, 5bad66d6-0a83-4e06-be4a-65825076cd25, group-455B613222B4, 2, (t:0, i:0))
2021-10-22 16:58:10,587 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FOLLOWER: accept ELECTION from 5bad66d6-0a83-4e06-be4a-65825076cd25: our priority 0 <= candidate's priority 0
2021-10-22 16:58:10,588 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:58:10,588 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:10,588 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:10,588 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:10,593 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4 replies to ELECTION vote request: 5bad66d6-0a83-4e06-be4a-65825076cd25<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t2. Peer's state: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4:t2, leader=null, voted=5bad66d6-0a83-4e06-be4a-65825076cd25, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:10,736 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:10,813 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5186943425ns, electionTimeout:5182ms
2021-10-22 16:58:10,813 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState
2021-10-22 16:58:10,814 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:10,814 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:10,814 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36 ELECTION round 0: submit vote requests at term 1 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1], old=null
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-3193561931F8 with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 1 for becomeLeader, leader elected after 5214ms
2021-10-22 16:58:10,823 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:10,824 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:10,825 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderStateImpl
2021-10-22 16:58:10,825 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:10,828 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8/current/log_inprogress_0
2021-10-22 16:58:10,848 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1], old=null
2021-10-22 16:58:11,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:11,579 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:11,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:11,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:12,053 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:12,240 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:12,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:12,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:12,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:12,721 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:58:12,828 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:13,555 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:13,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:13,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:13,580 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:13,740 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:14,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:14,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:14,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:14,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:15,056 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:15,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:15,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:15,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:15,597 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5025431596ns, electionTimeout:5021ms
2021-10-22 16:58:15,597 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:58:15,597 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:58:15,597 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:15,597 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37
2021-10-22 16:58:15,604 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37 ELECTION round 0: submit vote requests at term 3 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:58:15,618 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: receive requestVote(ELECTION, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, group-455B613222B4, 3, (t:0, i:0))
2021-10-22 16:58:15,619 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FOLLOWER: accept ELECTION from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: our priority 0 <= candidate's priority 1
2021-10-22 16:58:15,619 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:15,619 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:15,619 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:58:15,619 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:15,628 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4 replies to ELECTION vote request: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t3. Peer's state: 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4:t3, leader=null, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:15,634 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:15,634 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t3
2021-10-22 16:58:15,634 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37 ELECTION round 0: result PASSED
2021-10-22 16:58:15,634 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 3 for becomeLeader, leader elected after 15417ms
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:15,635 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:15,636 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:15,636 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:15,636 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: receive requestVote(ELECTION, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, group-455B613222B4, 3, (t:0, i:0))
2021-10-22 16:58:15,636 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FOLLOWER: accept ELECTION from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: our priority 0 <= candidate's priority 1
2021-10-22 16:58:15,636 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:15,636 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:15,636 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:58:15,636 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:15,636 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:15,637 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:15,637 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:15,637 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:15,637 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:15,637 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 459ef781-59c2-42bf-9527-455b613222b4, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.597Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:58:15,638 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:58:15,643 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:15,643 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:15,643 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:15,644 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:15,644 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:15,644 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:15,644 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:15,645 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:15,645 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:15,645 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderStateImpl
2021-10-22 16:58:15,646 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:15,648 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0
2021-10-22 16:58:15,648 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4 replies to ELECTION vote request: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t3. Peer's state: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4:t3, leader=null, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:15,668 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection37] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:15,674 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:15,675 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 3 for appendEntries, leader elected after 15341ms
2021-10-22 16:58:15,675 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:58:15,675 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 3 for appendEntries, leader elected after 15406ms
2021-10-22 16:58:15,704 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:15,705 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:15,707 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0
2021-10-22 16:58:15,714 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5134265920ns, electionTimeout:5109ms
2021-10-22 16:58:15,714 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:15,714 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:15,715 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:15,715 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38
2021-10-22 16:58:15,717 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5146554836ns, electionTimeout:5127ms
2021-10-22 16:58:15,717 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:15,717 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:15,718 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:15,718 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39
2021-10-22 16:58:15,729 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38 ELECTION round 0: submit vote requests at term 2 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:15,734 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39 ELECTION round 0: submit vote requests at term 2 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:15,736 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: receive requestVote(ELECTION, bf4ff601-ee24-45b9-a275-de70906bb8cb, group-EF3591F0362F, 2, (t:0, i:0))
2021-10-22 16:58:15,736 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FOLLOWER: accept ELECTION from bf4ff601-ee24-45b9-a275-de70906bb8cb: our priority 0 <= candidate's priority 0
2021-10-22 16:58:15,736 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:15,736 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:15,736 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:15,736 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:15,738 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: receive requestVote(ELECTION, bf4ff601-ee24-45b9-a275-de70906bb8cb, group-EF3591F0362F, 2, (t:0, i:0))
2021-10-22 16:58:15,738 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-CANDIDATE: reject ELECTION from bf4ff601-ee24-45b9-a275-de70906bb8cb: already has voted for 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at current term 2
2021-10-22 16:58:15,738 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F replies to ELECTION vote request: bf4ff601-ee24-45b9-a275-de70906bb8cb<-9f9fdb93-7e22-4aa3-890b-feb385cc5d89#0:FAIL-t2. Peer's state: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F:t2, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:15,744 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:58:15,744 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:15,746 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0
2021-10-22 16:58:15,749 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F replies to ELECTION vote request: bf4ff601-ee24-45b9-a275-de70906bb8cb<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t2. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F:t2, leader=null, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:15,754 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:15,754 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: bf4ff601-ee24-45b9-a275-de70906bb8cb<-9f9fdb93-7e22-4aa3-890b-feb385cc5d89#0:FAIL-t2
2021-10-22 16:58:15,755 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-EF3591F0362F, 2, (t:0, i:0))
2021-10-22 16:58:15,755 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FOLLOWER: reject ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: already has voted for bf4ff601-ee24-45b9-a275-de70906bb8cb at current term 2
2021-10-22 16:58:15,755 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:FAIL-t2. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F:t2, leader=null, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:15,755 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-EF3591F0362F, 2, (t:0, i:0))
2021-10-22 16:58:15,755 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-CANDIDATE: reject ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: already has voted for bf4ff601-ee24-45b9-a275-de70906bb8cb at current term 2
2021-10-22 16:58:15,755 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-bf4ff601-ee24-45b9-a275-de70906bb8cb#0:FAIL-t2. Peer's state: bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F:t2, leader=null, voted=bf4ff601-ee24-45b9-a275-de70906bb8cb, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:15,762 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38 ELECTION round 0: result REJECTED
2021-10-22 16:58:15,762 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 16:58:15,763 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38
2021-10-22 16:58:15,763 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:15,765 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:58:15,765 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:FAIL-t2
2021-10-22 16:58:15,765 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-bf4ff601-ee24-45b9-a275-de70906bb8cb#0:FAIL-t2
2021-10-22 16:58:15,768 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39 ELECTION round 0: result REJECTED
2021-10-22 16:58:15,769 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 16:58:15,769 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39
2021-10-22 16:58:15,769 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:16,581 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:16,582 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:58:16,582 [Listener at 127.0.0.1/34423] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:17,721 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:58:20,773 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5003569300ns, electionTimeout:5003ms
2021-10-22 16:58:20,773 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState
2021-10-22 16:58:20,773 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:58:20,773 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:20,773 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40
2021-10-22 16:58:20,782 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40 ELECTION round 0: submit vote requests at term 3 for -1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:20,792 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-EF3591F0362F, 3, (t:0, i:0))
2021-10-22 16:58:20,792 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:58:20,792 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:20,792 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:20,794 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: start 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:20,794 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:20,796 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: receive requestVote(ELECTION, 9f9fdb93-7e22-4aa3-890b-feb385cc5d89, group-EF3591F0362F, 3, (t:0, i:0))
2021-10-22 16:58:20,796 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FOLLOWER: accept ELECTION from 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: our priority 0 <= candidate's priority 1
2021-10-22 16:58:20,796 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:20,796 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:20,796 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: start bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:20,797 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:20,798 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t3. Peer's state: 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F:t3, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-7fc6529c-fbd4-46bc-8435-07dde8e962e4#0:OK-t3
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40 ELECTION round 0: result PASSED
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-10-22 16:58:20,799 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F replies to ELECTION vote request: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89<-bf4ff601-ee24-45b9-a275-de70906bb8cb#0:OK-t3. Peer's state: bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F:t3, leader=null, voted=9f9fdb93-7e22-4aa3-890b-feb385cc5d89, raftlog=bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLog:OPENED:c-1, conf=-1: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|priority:0], old=null
2021-10-22 16:58:20,799 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EF3591F0362F with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 3 for becomeLeader, leader elected after 15320ms
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:20,800 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:20,803 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:20,803 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:20,803 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:20,803 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:20,803 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:20,804 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:20,804 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:20,805 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:20,806 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: start 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderStateImpl
2021-10-22 16:58:20,806 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:20,807 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: be60d435-4ce7-46b9-b64b-ef3591f0362f, Nodes: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41639, RATIS=45425, RATIS_ADMIN=45425, RATIS_SERVER=45425, STANDALONE=38923], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7fc6529c-fbd4-46bc-8435-07dde8e962e4{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33271, RATIS=41493, RATIS_ADMIN=41493, RATIS_SERVER=41493, STANDALONE=41393], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}bf4ff601-ee24-45b9-a275-de70906bb8cb{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=40449, RATIS=33109, RATIS_ADMIN=33109, RATIS_SERVER=33109, STANDALONE=45805], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:9f9fdb93-7e22-4aa3-890b-feb385cc5d89, CreationTimestamp2021-10-22T16:58:04.977Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:20,809 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/current/log_inprogress_0
2021-10-22 16:58:20,828 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EF3591F0362F with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:20,828 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 3 for appendEntries, leader elected after 15405ms
2021-10-22 16:58:20,832 [grpc-default-executor-1] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EF3591F0362F with new leaderId: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:20,832 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: change Leader from null to 9f9fdb93-7e22-4aa3-890b-feb385cc5d89 at term 3 for appendEntries, leader elected after 15273ms
2021-10-22 16:58:20,856 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:20,856 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:20,857 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:20,859 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/current/log_inprogress_0
2021-10-22 16:58:20,865 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: set configuration 0: [9f9fdb93-7e22-4aa3-890b-feb385cc5d89|rpc:10.1.0.29:45425|dataStream:|priority:1, 7fc6529c-fbd4-46bc-8435-07dde8e962e4|rpc:10.1.0.29:41493|dataStream:|priority:0, bf4ff601-ee24-45b9-a275-de70906bb8cb|rpc:10.1.0.29:33109|dataStream:|priority:0], old=null
2021-10-22 16:58:20,866 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:20,874 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/current/log_inprogress_0
2021-10-22 16:58:22,722 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-10-22 16:58:22,722 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:22,722 [Listener at 0.0.0.0/45267] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:22,723 [Listener at 0.0.0.0/45267] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:58:22,723 [Listener at 0.0.0.0/45267] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:58:22,832 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 16:58:22,832 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 16:58:22,833 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 16:58:22,833 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 16:58:22,835 [Listener at 127.0.0.1/34423] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:22,839 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43949
2021-10-22 16:58:22,840 [Listener at 127.0.0.1/34423] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:58:22,840 [Listener at 127.0.0.1/34423] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:58:22,843 [Listener at 127.0.0.1/34423] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:22,849 [Listener at 127.0.0.1/34423] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:22,863 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 16:58:22,878 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:58:22,878 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:22,878 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 16:58:22,885 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 16:58:22,885 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-10-22 16:58:22,885 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:58:22,885 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:22,897 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 16:58:22,897 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 16:58:22,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 16:58:22,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 16:58:22,898 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 16:58:22,898 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 16:58:22,898 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:22,920 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 16:58:22,921 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 41485 now
2021-10-22 16:58:22,924 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 41485 successfully
2021-10-22 16:58:22,924 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7443e0b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 16:58:22,924 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 16:58:22,924 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 16:58:22,928 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 16:58:22,935 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 16:58:22,944 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@626b9dfb{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:58:22,945 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4dc00808{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:22,945 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:22,957 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1772c679{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:58:22,958 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5509a0f9{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:22,982 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 16:58:23,079 [Listener at 127.0.0.1/34423] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 229 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:23,101 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:23,104 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:23,104 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:23,104 [Listener at 127.0.0.1/34423] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:23,106 [Listener at 127.0.0.1/34423] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,108 [Listener at 127.0.0.1/34423] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,167 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 16:58:23,205 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 16:58:23,223 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 16:58:23,309 [IPC Server handler 6 on default port 39675] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 16:58:23,309 [IPC Server handler 6 on default port 39675] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 16:58:23,351 [Listener at 127.0.0.1/34423] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:58:23,351 [Listener at 127.0.0.1/34423] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:58:23,353 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:23,353 [Listener at 127.0.0.1/34423] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:23,356 [Listener at 127.0.0.1/34423] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:58:23,356 [Listener at 127.0.0.1/34423] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:58:23,356 [Listener at 127.0.0.1/34423] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:58:23,356 [Listener at 127.0.0.1/34423] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:58:23,366 [Listener at 127.0.0.1/34423] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:58:23,367 [Listener at 127.0.0.1/34423] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:58:23,367 [Listener at 127.0.0.1/34423] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:58:23,367 [Listener at 127.0.0.1/34423] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:58:23,367 [Listener at 127.0.0.1/34423] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:58:23,367 [Listener at 127.0.0.1/34423] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:58:23,375 [Listener at 127.0.0.1/34423] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:58:23,376 [Listener at 127.0.0.1/34423] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:58:23,376 [Listener at 127.0.0.1/34423] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:58:23,376 [Listener at 127.0.0.1/34423] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:58:23,384 [Listener at 127.0.0.1/34423] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:58:23,384 [Listener at 127.0.0.1/34423] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:58:23,385 [Listener at 127.0.0.1/34423] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:58:23,387 [Listener at 127.0.0.1/34423] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:58:23,391 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:58:23,394 [Listener at 0.0.0.0/34855] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:58:23,416 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-10-22 16:58:23,429 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:58:23,432 [Listener at 0.0.0.0/34243] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:58:23,434 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:58:23,475 [Listener at 0.0.0.0/44807] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:58:23,477 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:58:23,477 [Listener at 0.0.0.0/44807] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:58:23,477 [Listener at 0.0.0.0/44807] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:58:23,478 [Listener at 0.0.0.0/44807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:23,480 [Listener at 0.0.0.0/44807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:23,480 [Listener at 0.0.0.0/44807] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:23,480 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44807
2021-10-22 16:58:23,488 [Listener at 0.0.0.0/44807] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-10-22 16:58:23,495 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:58:23,495 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 16:58:23,559 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:58:23,559 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:58:23,683 [Listener at 0.0.0.0/44807] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:44807
2021-10-22 16:58:23,683 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:58:23,683 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:58:23,685 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34243
2021-10-22 16:58:23,685 [Listener at 0.0.0.0/44807] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:34243
2021-10-22 16:58:23,686 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:58:23,686 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:58:23,689 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34855
2021-10-22 16:58:23,689 [Listener at 0.0.0.0/44807] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34855
2021-10-22 16:58:23,690 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:58:23,690 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:58:23,695 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:23,695 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:58:23,695 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: c52508ee-d28d-458d-98be-5e44fc1145f0, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:f84af4ee-5ee7-459e-b74c-1ef900d5895a, CreationTimestamp2021-10-22T16:57:44.134Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:58:23,695 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 2bdf57e7-3db7-41b3-bd27-b59c2741ea95, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:43.949Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:58:23,696 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 6f9a9254-a9b5-4b27-8dc4-d8017ffdc410, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:496e60f7-ff72-4faa-a603-98d08c2b20a2, CreationTimestamp2021-10-22T16:57:44.378Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:58:23,696 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 87849bf4-a9ff-4817-b90e-c1b338864489, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:44.380Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:58:23,795 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:58:23,799 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:58:23,800 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:23,801 [Listener at 0.0.0.0/44807] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:23,801 [Listener at 0.0.0.0/44807] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:23,802 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:23,802 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:58:23,803 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:23,803 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:23,803 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35785
2021-10-22 16:58:23,803 [Listener at 0.0.0.0/44807] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:23,805 [Listener at 0.0.0.0/44807] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:23,806 [Listener at 0.0.0.0/44807] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:23,806 [Listener at 0.0.0.0/44807] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:58:23,806 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5dcf4aae{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:23,807 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@66af2546{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:58:23,809 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@56ee5743] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:23,810 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 16:58:23,811 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 16:58:23,812 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@463c96f8{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:58:23,816 [Listener at 0.0.0.0/44807] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@759cbb8c{HTTP/1.1, (http/1.1)}{0.0.0.0:35785}
2021-10-22 16:58:23,816 [Listener at 0.0.0.0/44807] INFO  server.Server (Server.java:doStart(415)) - Started @84866ms
2021-10-22 16:58:23,816 [Listener at 0.0.0.0/44807] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:23,816 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:35785
2021-10-22 16:58:23,816 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,819 [Listener at 0.0.0.0/44807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:58:23,819 [Listener at 0.0.0.0/44807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:58:23,819 [Listener at 0.0.0.0/44807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:58:23,820 [Listener at 0.0.0.0/44807] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:58:23,820 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,820 [Listener at 0.0.0.0/44807] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:58:23,902 [Listener at 0.0.0.0/44807] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 80 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:58:23,902 [Listener at 0.0.0.0/44807] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:58:23,902 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,927 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:58:23,927 [Listener at 0.0.0.0/44807] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:58:23,928 [Listener at 0.0.0.0/44807] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:58:24,170 [Listener at 0.0.0.0/44807] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:58:24,170 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:58:24,171 [Listener at 0.0.0.0/44807] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:58:24,171 [Listener at 0.0.0.0/44807] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,171 [Listener at 0.0.0.0/44807] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,171 [Listener at 0.0.0.0/44807] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:58:24,172 [Listener at 0.0.0.0/44807] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:35095
2021-10-22 16:58:24,172 [Listener at 0.0.0.0/44807] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 35095 (custom)
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:58:24,173 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 35095 (custom)
2021-10-22 16:58:24,174 [Listener at 0.0.0.0/44807] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 35095 (custom)
2021-10-22 16:58:24,174 [Listener at 0.0.0.0/44807] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:58:24,174 [Listener at 0.0.0.0/44807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:24,174 [Listener at 0.0.0.0/44807] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:58:24,174 [Listener at 0.0.0.0/44807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:58:24,175 [Listener at 0.0.0.0/44807] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:24,175 [Listener at 0.0.0.0/44807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:58:24,175 [Listener at 0.0.0.0/44807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:24,175 [Listener at 0.0.0.0/44807] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis] (custom)
2021-10-22 16:58:24,182 [Listener at 0.0.0.0/44807] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:35095|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@53ce81ea[Not completed]
2021-10-22 16:58:24,182 [Listener at 0.0.0.0/44807] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 35095
2021-10-22 16:58:24,183 [Listener at 0.0.0.0/44807] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:58:24,183 [pool-557-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:35095|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:58:24,189 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:58:24,189 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:58:24,189 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:24,189 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:35095|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis] (custom)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:24,190 [pool-557-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:58:24,196 [pool-557-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:24,198 [pool-557-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:58:24,198 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:58:24,198 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:24,198 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:58:24,199 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:24,200 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:24,202 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:58:24,205 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:58:24,206 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:58:24,214 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:58:24,215 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:58:24,215 [pool-557-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:24,240 [Listener at 127.0.0.1/41731] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:58:24,244 [Listener at 127.0.0.1/41731] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:58:24,279 [Listener at 127.0.0.1/41731] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:41731
2021-10-22 16:58:24,280 [Listener at 127.0.0.1/41731] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 35095
2021-10-22 16:58:24,280 [Listener at 127.0.0.1/41731] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:35095|priority:0], old=null
2021-10-22 16:58:24,286 [Listener at 127.0.0.1/41731] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:24,286 [Listener at 127.0.0.1/41731] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:58:24,294 [Listener at 127.0.0.1/41731] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:58:24,295 [Listener at 127.0.0.1/41731] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-10-22 16:58:24,301 [Listener at 127.0.0.1/41731] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:58:24,302 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 35095
2021-10-22 16:58:24,302 [Listener at 127.0.0.1/41731] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:58:24,303 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2d12f95f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:58:24,307 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:58:24,307 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:24,308 [Listener at 127.0.0.1/41731] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:24,317 [Listener at 127.0.0.1/41731] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:24,318 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:24,318 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:58:24,318 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:24,318 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:24,319 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44445
2021-10-22 16:58:24,319 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:24,329 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:24,329 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:24,329 [Listener at 127.0.0.1/41731] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:58:24,330 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7648f119{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:24,331 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ff504b5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:58:24,334 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@48460092{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:58:24,346 [Listener at 127.0.0.1/41731] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@79e7fa49{HTTP/1.1, (http/1.1)}{0.0.0.0:44445}
2021-10-22 16:58:24,346 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(415)) - Started @85396ms
2021-10-22 16:58:24,346 [Listener at 127.0.0.1/41731] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:24,347 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:44445
2021-10-22 16:58:24,351 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:58:24,355 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:58:24,392 [Listener at 127.0.0.1/41731] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:58:24,408 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@29b2baa6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:24,442 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,442 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,442 [Listener at 127.0.0.1/41731] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:58:24,472 [Listener at 127.0.0.1/41731] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:24,505 [Listener at 127.0.0.1/41731] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:24,578 [Listener at 127.0.0.1/41731] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 72 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:24,583 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:24,583 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:24,583 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:24,583 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:24,589 [Listener at 127.0.0.1/41731] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:24,612 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,612 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,620 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,620 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,621 [pool-331-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:58:24,624 [Listener at 127.0.0.1/41731] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:24,624 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:24,624 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds
2021-10-22 16:58:24,625 [pool-330-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:58:24,634 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds
2021-10-22 16:58:24,659 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis to VolumeSet
2021-10-22 16:58:24,659 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis
2021-10-22 16:58:24,659 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis
2021-10-22 16:58:24,669 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:58:24,692 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,692 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:58:24,695 [pool-332-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:58:24,696 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,696 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,702 [pool-330-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:58:24,713 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,713 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,715 [Thread-1471] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds
2021-10-22 16:58:24,716 [pool-331-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:58:24,716 [Listener at 127.0.0.1/41731] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:24,718 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:24,719 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:24,720 [Listener at 127.0.0.1/41731] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:24,720 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:24,720 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:24,720 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis] (custom)
2021-10-22 16:58:24,736 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:58:24,736 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:24,737 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:58:24,737 [Listener at 127.0.0.1/41731] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:24,738 [Listener at 127.0.0.1/41731] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:24,741 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,741 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:58:24,743 [pool-332-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:58:24,750 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:24,750 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:24,750 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:24,751 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:24,752 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43645
2021-10-22 16:58:24,752 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:24,784 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:24,784 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:24,784 [Listener at 127.0.0.1/41731] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:58:24,785 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1f022b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:24,785 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@654603dc{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:24,830 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@23ed28b5{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-43645-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5980842483304618767/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:24,834 [Listener at 127.0.0.1/41731] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7246e295{HTTP/1.1, (http/1.1)}{0.0.0.0:43645}
2021-10-22 16:58:24,834 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(415)) - Started @85885ms
2021-10-22 16:58:24,834 [Listener at 127.0.0.1/41731] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:24,835 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:43645
2021-10-22 16:58:24,836 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,836 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:24,836 [Listener at 127.0.0.1/41731] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:58:24,846 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:24,875 [Listener at 127.0.0.1/41731] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:24,894 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:24,894 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:24,904 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5e648b3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:24,916 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/meta/datanode.id
2021-10-22 16:58:24,921 [Listener at 127.0.0.1/41731] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:25,004 [Listener at 127.0.0.1/41731] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 81 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:25,005 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:25,005 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:25,005 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:25,005 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:25,005 [Listener at 127.0.0.1/41731] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:25,007 [Listener at 127.0.0.1/41731] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:25,007 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:25,007 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds
2021-10-22 16:58:25,007 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds
2021-10-22 16:58:25,028 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis to VolumeSet
2021-10-22 16:58:25,030 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis
2021-10-22 16:58:25,038 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis
2021-10-22 16:58:25,051 [Thread-1483] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds
2021-10-22 16:58:25,051 [Listener at 127.0.0.1/41731] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:25,053 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:25,057 [Listener at 127.0.0.1/41731] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:25,057 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:25,057 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:25,057 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis] (custom)
2021-10-22 16:58:25,073 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:58:25,073 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:25,074 [Listener at 127.0.0.1/41731] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:25,078 [Listener at 127.0.0.1/41731] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:25,079 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:25,080 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:25,080 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:25,080 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:25,080 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38967
2021-10-22 16:58:25,080 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:25,097 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:25,098 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:25,098 [Listener at 127.0.0.1/41731] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:58:25,106 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1900482b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:25,106 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3bf7cf7d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:25,206 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5aa35638{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-38967-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5317850449141300746/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:25,210 [Listener at 127.0.0.1/41731] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4ac28b92{HTTP/1.1, (http/1.1)}{0.0.0.0:38967}
2021-10-22 16:58:25,210 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(415)) - Started @86260ms
2021-10-22 16:58:25,210 [Listener at 127.0.0.1/41731] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:25,214 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:38967
2021-10-22 16:58:25,226 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:25,226 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:25,227 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:25,227 [Listener at 127.0.0.1/41731] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:58:25,262 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:25,262 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:25,274 [Listener at 127.0.0.1/41731] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:25,274 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@62e3da61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:25,279 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/meta/datanode.id
2021-10-22 16:58:25,325 [Listener at 127.0.0.1/41731] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:25,382 [Listener at 127.0.0.1/41731] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 55 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:25,383 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:25,383 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:25,383 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:25,383 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:25,384 [Listener at 127.0.0.1/41731] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:25,389 [Listener at 127.0.0.1/41731] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:25,389 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:25,389 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds
2021-10-22 16:58:25,406 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds
2021-10-22 16:58:25,422 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1135282005ns, electionTimeout:1126ms
2021-10-22 16:58:25,422 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:58:25,422 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:25,422 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:25,422 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection41
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection41 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:35095|priority:0], old=null
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection41 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection41
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1231ms
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:58:25,430 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:58:25,431 [om1@group-C5BA1605619E-LeaderElection41] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:25,448 [om1@group-C5BA1605619E-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:35095|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:58:25,450 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:58:25,452 [Listener at 127.0.0.1/41731] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis to VolumeSet
2021-10-22 16:58:25,454 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:35095"
]
2021-10-22 16:58:25,456 [Listener at 127.0.0.1/41731] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis
2021-10-22 16:58:25,456 [Listener at 127.0.0.1/41731] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis
2021-10-22 16:58:25,478 [Thread-1497] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds
2021-10-22 16:58:25,478 [Listener at 127.0.0.1/41731] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:25,480 [Listener at 127.0.0.1/41731] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:25,480 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:25,480 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:58:25,480 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:58:25,480 [Listener at 127.0.0.1/41731] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:58:25,481 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:25,484 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:25,484 [Listener at 127.0.0.1/41731] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:25,484 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:25,485 [Listener at 127.0.0.1/41731] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:25,485 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:25,485 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:25,485 [Listener at 127.0.0.1/41731] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis] (custom)
2021-10-22 16:58:25,497 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:58:25,497 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:25,498 [Listener at 127.0.0.1/41731] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:25,500 [Listener at 127.0.0.1/41731] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:25,501 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:25,501 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:25,501 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:25,501 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:25,502 [Listener at 127.0.0.1/41731] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42925
2021-10-22 16:58:25,502 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:25,511 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:25,511 [Listener at 127.0.0.1/41731] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:25,511 [Listener at 127.0.0.1/41731] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:58:25,512 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3ed28d42{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:25,512 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@dac6cac{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:25,582 [Listener at 127.0.0.1/41731] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@671df74c{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42925-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5498603396832079141/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:25,585 [Listener at 127.0.0.1/41731] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6e7b9157{HTTP/1.1, (http/1.1)}{0.0.0.0:42925}
2021-10-22 16:58:25,585 [Listener at 127.0.0.1/41731] INFO  server.Server (Server.java:doStart(415)) - Started @86636ms
2021-10-22 16:58:25,586 [Listener at 127.0.0.1/41731] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:25,586 [Listener at 127.0.0.1/41731] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42925
2021-10-22 16:58:25,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:58:25,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:25,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:25,587 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:25,607 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:25,607 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:25,616 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@55639438] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:25,621 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/meta/datanode.id
2021-10-22 16:58:26,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:58:26,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:26,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:26,927 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:26,928 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:26,929 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33511
2021-10-22 16:58:26,934 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:26,940 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start RPC server
2021-10-22 16:58:26,940 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: GrpcService started, listening on 35685
2021-10-22 16:58:26,942 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 6de71699-dc39-4c6b-ada4-18dbb8f4503c is started using port 35685 for RATIS
2021-10-22 16:58:26,942 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 6de71699-dc39-4c6b-ada4-18dbb8f4503c is started using port 35685 for RATIS_ADMIN
2021-10-22 16:58:26,943 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 6de71699-dc39-4c6b-ada4-18dbb8f4503c is started using port 35685 for RATIS_SERVER
2021-10-22 16:58:26,946 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 6de71699-dc39-4c6b-ada4-18dbb8f4503c is started using port 34687
2021-10-22 16:58:26,957 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@76a07129] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-6de71699-dc39-4c6b-ada4-18dbb8f4503c: Started
2021-10-22 16:58:27,283 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:27,283 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:27,286 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43127
2021-10-22 16:58:27,290 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:27,316 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start RPC server
2021-10-22 16:58:27,318 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: GrpcService started, listening on 41395
2021-10-22 16:58:27,326 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 10180c5d-8671-43e1-a35b-bc2eb2023912 is started using port 41395 for RATIS
2021-10-22 16:58:27,326 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 10180c5d-8671-43e1-a35b-bc2eb2023912 is started using port 41395 for RATIS_ADMIN
2021-10-22 16:58:27,326 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 10180c5d-8671-43e1-a35b-bc2eb2023912 is started using port 41395 for RATIS_SERVER
2021-10-22 16:58:27,326 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 10180c5d-8671-43e1-a35b-bc2eb2023912 is started using port 45687
2021-10-22 16:58:27,327 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@51a99598] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-10180c5d-8671-43e1-a35b-bc2eb2023912: Started
2021-10-22 16:58:27,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:58:27,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:27,587 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:27,634 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:27,635 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:27,637 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 45917
2021-10-22 16:58:27,643 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:27,656 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start RPC server
2021-10-22 16:58:27,658 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - e40beabb-1436-4e16-9844-e17d7258fa3f: GrpcService started, listening on 39727
2021-10-22 16:58:27,660 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e40beabb-1436-4e16-9844-e17d7258fa3f is started using port 39727 for RATIS
2021-10-22 16:58:27,660 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e40beabb-1436-4e16-9844-e17d7258fa3f is started using port 39727 for RATIS_ADMIN
2021-10-22 16:58:27,660 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@65eb3e16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-e40beabb-1436-4e16-9844-e17d7258fa3f: Started
2021-10-22 16:58:27,660 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis e40beabb-1436-4e16-9844-e17d7258fa3f is started using port 39727 for RATIS_SERVER
2021-10-22 16:58:27,661 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc e40beabb-1436-4e16-9844-e17d7258fa3f is started using port 35487
2021-10-22 16:58:27,992 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:27,993 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: close
2021-10-22 16:58:27,993 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: shutdown
2021-10-22 16:58:27,993 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-697CCD1086BB,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:27,993 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-LeaderStateImpl
2021-10-22 16:58:27,993 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:27,994 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:27,995 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-697CCD1086BB: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb/sm/snapshot.1_0
2021-10-22 16:58:27,996 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-697CCD1086BB: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/dd9b566f-23b2-4f6a-a268-697ccd1086bb/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:27,996 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:27,996 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:27,996 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB: closes. applyIndex: 0
2021-10-22 16:58:27,996 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:27,999 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-697CCD1086BB-SegmentedRaftLogWorker close()
2021-10-22 16:58:28,001 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: shutdown
2021-10-22 16:58:28,001 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=bf4ff601-ee24-45b9-a275-de70906bb8cb
2021-10-22 16:58:28,001 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState
2021-10-22 16:58:28,002 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:28,002 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:28,003 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EF3591F0362F: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0
2021-10-22 16:58:28,004 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EF3591F0362F: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-1/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0 took: 1 ms
2021-10-22 16:58:28,004 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:28,004 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:28,005 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F: closes. applyIndex: 0
2021-10-22 16:58:28,006 [bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:28,012 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - bf4ff601-ee24-45b9-a275-de70906bb8cb@group-EF3591F0362F-SegmentedRaftLogWorker close()
2021-10-22 16:58:28,014 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown server with port 33109 now
2021-10-22 16:58:28,015 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->bf4ff601-ee24-45b9-a275-de70906bb8cb-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-10-22 16:58:28,016 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->bf4ff601-ee24-45b9-a275-de70906bb8cb-GrpcLogAppender: Leader has not got in touch with Follower 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->bf4ff601-ee24-45b9-a275-de70906bb8cb(c0,m0,n1, attendVote=true, lastRpcSendTime=2093, lastRpcResponseTime=2085) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:28,016 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: installSnapshot onError, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->bf4ff601-ee24-45b9-a275-de70906bb8cb#1-t3,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:58:28,018 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:28,019 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: close
2021-10-22 16:58:28,019 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: shutdown
2021-10-22 16:58:28,019 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3193561931F8,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:28,019 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-LeaderStateImpl
2021-10-22 16:58:28,019 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:28,020 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:28,020 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-3193561931F8: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8/sm/snapshot.1_0
2021-10-22 16:58:28,021 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-3193561931F8: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/e4ad4fc2-d58c-4a98-b0d9-3193561931f8/sm/snapshot.1_0 took: 0 ms
2021-10-22 16:58:28,021 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:28,021 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:28,022 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8: closes. applyIndex: 0
2021-10-22 16:58:28,022 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:28,037 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-3193561931F8-SegmentedRaftLogWorker close()
2021-10-22 16:58:28,039 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: shutdown
2021-10-22 16:58:28,040 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=9f9fdb93-7e22-4aa3-890b-feb385cc5d89
2021-10-22 16:58:28,040 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-LeaderStateImpl
2021-10-22 16:58:28,040 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:28,040 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:28,041 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->7fc6529c-fbd4-46bc-8435-07dde8e962e4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:28,041 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EF3591F0362F: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0
2021-10-22 16:58:28,042 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EF3591F0362F: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-0/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0 took: 1 ms
2021-10-22 16:58:28,043 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:28,043 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:28,043 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F: closes. applyIndex: 0
2021-10-22 16:58:28,043 [9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:28,046 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: Completed APPEND_ENTRIES, lastRequest: 9f9fdb93-7e22-4aa3-890b-feb385cc5d89->7fc6529c-fbd4-46bc-8435-07dde8e962e4#1-t3,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY
2021-10-22 16:58:28,047 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->7fc6529c-fbd4-46bc-8435-07dde8e962e4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:28,047 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F->7fc6529c-fbd4-46bc-8435-07dde8e962e4: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:58:28,053 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89@group-EF3591F0362F-SegmentedRaftLogWorker close()
2021-10-22 16:58:28,056 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown server with port 45425 now
2021-10-22 16:58:28,056 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - bf4ff601-ee24-45b9-a275-de70906bb8cb: shutdown server with port 33109 successfully
2021-10-22 16:58:28,056 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@50377fe8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-bf4ff601-ee24-45b9-a275-de70906bb8cb: Stopped
2021-10-22 16:58:28,063 [grpc-default-executor-0] WARN  client.GrpcClientProtocolService (LogUtils.java:warn(122)) - 2-UnorderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:58:28,073 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:28,073 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 9f9fdb93-7e22-4aa3-890b-feb385cc5d89: shutdown server with port 45425 successfully
2021-10-22 16:58:28,074 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@293e29f1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-9f9fdb93-7e22-4aa3-890b-feb385cc5d89: Stopped
2021-10-22 16:58:28,100 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:28,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:58:28,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:28,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:28,795 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:58:28,795 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:28,907 [IPC Server handler 0 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:28,908 [IPC Server handler 0 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:58:28,923 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:58:28,923 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:58:28,924 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:28,925 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 to datanode:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:28,929 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:28.925Z[Etc/UTC]].
2021-10-22 16:58:28,932 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:58:29,267 [IPC Server handler 1 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:29,267 [IPC Server handler 1 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:58:29,268 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:29,268 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 to datanode:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:29,279 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: eb61854c-cde6-4bac-9601-5f4a8791d3f6, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:29.268Z[Etc/UTC]].
2021-10-22 16:58:29,279 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:58:29,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:58:29,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:29,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:29,620 [IPC Server handler 2 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:29,620 [IPC Server handler 2 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:58:29,621 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:29,621 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 to datanode:e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:29,622 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f49cf1d9-2070-4b4e-b015-07e9fc9c39f3, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:29.621Z[Etc/UTC]].
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:58:29,627 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:29,628 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad to datanode:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:29,628 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad to datanode:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:29,628 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad to datanode:e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:29,629 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: ed19a783-84db-46a9-bf7e-1604aad1adad, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:29.628Z[Etc/UTC]].
2021-10-22 16:58:30,588 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:30,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:30,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:31,090 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:31,096 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@59aebd28{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:31,099 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@261d2483{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:31,099 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:31,099 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@52f55127{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:31,100 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@23d216b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:31,116 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:31,120 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@7b387c8e{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:31,124 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1c4e122d{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:31,124 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:31,125 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1678c2aa{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:31,125 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4a77481a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:31,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:31,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:31,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:31,907 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: addNew group-A2F5EBC6A820:[6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1] returns group-A2F5EBC6A820:java.util.concurrent.CompletableFuture@42c054a6[Not completed]
2021-10-22 16:58:31,912 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: new RaftServerImpl for group-A2F5EBC6A820:[6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:31,915 [pool-570-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: ConfigurationManager, init=-1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:31,916 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis] (custom)
2021-10-22 16:58:31,916 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:31,916 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:31,916 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 does not exist. Creating ...
2021-10-22 16:58:31,919 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:31,926 [pool-570-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 has been successfully formatted.
2021-10-22 16:58:31,929 [pool-570-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A2F5EBC6A820: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:31,929 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:31,929 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:31,929 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:31,929 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:31,930 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:31,931 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:31,931 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:31,931 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:31,931 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:31,931 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:31,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:31,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:31,932 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:31,932 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:31,933 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:6de71699-dc39-4c6b-ada4-18dbb8f4503c, CreationTimestamp2021-10-22T16:58:28.925Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:31,956 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:31,957 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:31,957 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:31,957 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:31,957 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:31,957 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:31,959 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: start as a follower, conf=-1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null
2021-10-22 16:58:31,962 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:31,963 [pool-570-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState
2021-10-22 16:58:31,963 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:31,967 [pool-570-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A2F5EBC6A820,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:31,970 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820
2021-10-22 16:58:31,970 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820.
2021-10-22 16:58:31,970 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: addNew group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] returns group-1604AAD1ADAD:java.util.concurrent.CompletableFuture@46ffd826[Not completed]
2021-10-22 16:58:31,971 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: new RaftServerImpl for group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:31,971 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:31,971 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis] (custom)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:31,972 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad does not exist. Creating ...
2021-10-22 16:58:31,974 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:31,980 [pool-570-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad has been successfully formatted.
2021-10-22 16:58:31,980 [pool-570-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1604AAD1ADAD: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:31,982 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:31,983 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:31,983 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:31,983 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:31,983 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:31,986 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:31,987 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:31,989 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:31,989 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:31,989 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:31,989 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:31,992 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:31,994 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:31,994 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:31,994 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:31,994 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:31,994 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:31,996 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:31,998 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:31,998 [pool-570-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:32,006 [pool-570-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:32,015 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 16:58:32,042 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: addNew group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1] returns group-1604AAD1ADAD:java.util.concurrent.CompletableFuture@510fe843[Not completed]
2021-10-22 16:58:32,044 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: new RaftServerImpl for group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:32,051 [pool-589-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:32,056 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis] (custom)
2021-10-22 16:58:32,057 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:32,057 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:32,057 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad does not exist. Creating ...
2021-10-22 16:58:32,062 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:32,064 [pool-589-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad has been successfully formatted.
2021-10-22 16:58:32,072 [pool-589-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1604AAD1ADAD: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:32,073 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:32,073 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:32,073 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:32,075 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:32,075 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:32,076 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:32,077 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:32,077 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:32,077 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:32,078 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:32,079 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:32,082 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,082 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,083 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:32,083 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:32,083 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:32,083 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:32,084 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:32,084 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:32,085 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:32,085 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:32,085 [pool-589-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:32,106 [pool-589-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:32,156 [grpc-default-executor-1] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e40beabb-1436-4e16-9844-e17d7258fa3f: addNew group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1] returns group-1604AAD1ADAD:java.util.concurrent.CompletableFuture@29a2a72c[Not completed]
2021-10-22 16:58:32,159 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e40beabb-1436-4e16-9844-e17d7258fa3f: new RaftServerImpl for group-1604AAD1ADAD:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:32,171 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:32,178 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:32,179 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:32,179 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:32,179 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:32,180 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:32,180 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:32,180 [pool-608-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:32,180 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis] (custom)
2021-10-22 16:58:32,181 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:32,181 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:32,181 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad does not exist. Creating ...
2021-10-22 16:58:32,183 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:32,194 [pool-608-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad has been successfully formatted.
2021-10-22 16:58:32,197 [pool-608-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1604AAD1ADAD: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:32,197 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:32,197 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:32,198 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:32,198 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:32,198 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,199 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:32,200 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:32,200 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:32,200 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:32,200 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:32,201 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:32,207 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:32,207 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,214 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:32,225 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:32,228 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:32,228 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:32,228 [pool-608-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:32,234 [pool-608-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:32,268 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: addNew group-5F4A8791D3F6:[10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] returns group-5F4A8791D3F6:java.util.concurrent.CompletableFuture@5ccf4e74[Not completed]
2021-10-22 16:58:32,268 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad.
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: new RaftServerImpl for group-5F4A8791D3F6:[10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:32,269 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: ConfigurationManager, init=-1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis] (custom)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:32,270 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6 does not exist. Creating ...
2021-10-22 16:58:32,271 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:32,274 [pool-589-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6 has been successfully formatted.
2021-10-22 16:58:32,274 [pool-589-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5F4A8791D3F6: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:32,275 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:32,275 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:32,275 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:32,275 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: eb61854c-cde6-4bac-9601-5f4a8791d3f6, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.268Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:32,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:32,276 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:32,276 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:32,277 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:32,278 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:32,278 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:32,279 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,279 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:32,281 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:32,284 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: start as a follower, conf=-1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:32,284 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:32,284 [pool-589-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState
2021-10-22 16:58:32,284 [pool-589-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5F4A8791D3F6,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:32,285 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6
2021-10-22 16:58:32,285 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6.
2021-10-22 16:58:32,483 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:32,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:32,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:32,589 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:32,616 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e40beabb-1436-4e16-9844-e17d7258fa3f: addNew group-07E9FC9C39F3:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1] returns group-07E9FC9C39F3:java.util.concurrent.CompletableFuture@21ba7c88[Not completed]
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e40beabb-1436-4e16-9844-e17d7258fa3f: new RaftServerImpl for group-07E9FC9C39F3:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:32,617 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis] (custom)
2021-10-22 16:58:32,618 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:32,618 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:32,618 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 does not exist. Creating ...
2021-10-22 16:58:32,622 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:32,626 [pool-608-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 has been successfully formatted.
2021-10-22 16:58:32,627 [pool-608-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-07E9FC9C39F3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:32,628 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: f49cf1d9-2070-4b4e-b015-07e9fc9c39f3, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:e40beabb-1436-4e16-9844-e17d7258fa3f, CreationTimestamp2021-10-22T16:58:29.621Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:32,628 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:32,628 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:32,629 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:32,630 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:32,631 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:32,631 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:32,631 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:32,632 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:32,634 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null
2021-10-22 16:58:32,634 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:32,634 [pool-608-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState
2021-10-22 16:58:32,634 [pool-608-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07E9FC9C39F3,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:32,647 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3
2021-10-22 16:58:32,647 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3.
2021-10-22 16:58:32,775 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:33,128 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:33,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:33,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:33,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:33,775 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:33,796 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:33,798 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: close
2021-10-22 16:58:33,799 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: shutdown
2021-10-22 16:58:33,799 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B59C2741EA95,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:33,799 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderStateImpl
2021-10-22 16:58:33,799 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:33,800 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:33,800 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: shutdown
2021-10-22 16:58:33,800 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B59C2741EA95: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/sm/snapshot.1_0
2021-10-22 16:58:33,800 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:33,800 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderStateImpl
2021-10-22 16:58:33,801 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:33,801 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:33,801 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:33,809 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B59C2741EA95: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/sm/snapshot.1_0 took: 9 ms
2021-10-22 16:58:33,809 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:33,810 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:33,810 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:58:33,810 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: closes. applyIndex: 0
2021-10-22 16:58:33,810 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C1B338864489: Taking a snapshot at:(t:1, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.1_10
2021-10-22 16:58:33,811 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:33,815 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: Completed APPEND_ENTRIES, lastRequest: 728e4f4b-82ae-4639-9130-a1513d8bab9d->496e60f7-ff72-4faa-a603-98d08c2b20a2#172-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-10-22 16:58:33,818 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker close()
2021-10-22 16:58:33,822 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C1B338864489: Finished taking a snapshot at:(t:1, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.1_10 took: 11 ms
2021-10-22 16:58:33,822 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:58:33,822 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:58:33,822 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: closes. applyIndex: 10
2021-10-22 16:58:33,823 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: Completed APPEND_ENTRIES, lastRequest: 728e4f4b-82ae-4639-9130-a1513d8bab9d->f84af4ee-5ee7-459e-b74c-1ef900d5895a#182-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-10-22 16:58:33,824 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:33,824 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:58:33,826 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:33,827 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:33,827 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:58:33,832 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:58:33,832 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown server with port 43791 now
2021-10-22 16:58:33,843 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown server with port 43791 successfully
2021-10-22 16:58:33,844 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@69711836] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-728e4f4b-82ae-4639-9130-a1513d8bab9d: Stopped
2021-10-22 16:58:33,852 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:33,983 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:34,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:34,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:34,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:35,127 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:35,485 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:35,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:35,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:35,618 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:35,801 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:36,106 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:36,107 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: close
2021-10-22 16:58:36,111 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: shutdown
2021-10-22 16:58:36,111 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-602CA18E547E,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:36,111 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-LeaderStateImpl
2021-10-22 16:58:36,111 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:36,112 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:36,113 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-602CA18E547E: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e/sm/snapshot.1_0
2021-10-22 16:58:36,114 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-602CA18E547E: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/45efe299-6bc4-4466-972d-602ca18e547e/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:36,115 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:36,115 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:36,115 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E: closes. applyIndex: 0
2021-10-22 16:58:36,115 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:36,120 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-602CA18E547E-SegmentedRaftLogWorker close()
2021-10-22 16:58:36,123 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: shutdown
2021-10-22 16:58:36,123 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EF3591F0362F,id=7fc6529c-fbd4-46bc-8435-07dde8e962e4
2021-10-22 16:58:36,123 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState
2021-10-22 16:58:36,123 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:36,123 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EF3591F0362F: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0
2021-10-22 16:58:36,124 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EF3591F0362F: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-61ec62c2-ac9e-4266-a8ea-be4a3bce3542/datanode-2/data/ratis/be60d435-4ce7-46b9-b64b-ef3591f0362f/sm/snapshot.3_0 took: 1 ms
2021-10-22 16:58:36,125 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:36,125 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:36,125 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:36,128 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F: closes. applyIndex: 0
2021-10-22 16:58:36,128 [7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:36,130 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4@group-EF3591F0362F-SegmentedRaftLogWorker close()
2021-10-22 16:58:36,134 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown server with port 41493 now
2021-10-22 16:58:36,147 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 7fc6529c-fbd4-46bc-8435-07dde8e962e4: shutdown server with port 41493 successfully
2021-10-22 16:58:36,148 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@69555b35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-7fc6529c-fbd4-46bc-8435-07dde8e962e4: Stopped
2021-10-22 16:58:36,155 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:36,619 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:36,619 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:36,619 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:36,629 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:36,859 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:36,864 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@72d99ba3{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:36,870 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3df6e6e5{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:36,870 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:36,871 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5d23cdb1{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:36,871 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@74e8090b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:36,877 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:36,882 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:36,882 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:58:36,985 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:37,030 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5031757463ns, electionTimeout:5023ms
2021-10-22 16:58:37,031 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,031 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:37,042 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:37,042 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42
2021-10-22 16:58:37,063 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42 ELECTION round 0: submit vote requests at term 1 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:37,089 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:37,120 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-1604AAD1ADAD, 1, (t:0, i:0))
2021-10-22 16:58:37,121 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FOLLOWER: accept ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 0 <= candidate's priority 0
2021-10-22 16:58:37,121 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:37,121 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,121 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,121 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:37,127 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t1. Peer's state: e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD:t1, leader=null, voted=6de71699-dc39-4c6b-ada4-18dbb8f4503c, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:37,158 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-1604AAD1ADAD, 1, (t:0, i:0))
2021-10-22 16:58:37,159 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FOLLOWER: reject ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 1 > candidate's priority 0
2021-10-22 16:58:37,159 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:37,159 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,159 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:37,159 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,162 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5199454455ns, electionTimeout:5195ms
2021-10-22 16:58:37,162 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState
2021-10-22 16:58:37,162 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:37,175 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-10180c5d-8671-43e1-a35b-bc2eb2023912#0:FAIL-t1. Peer's state: 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD:t1, leader=null, voted=null, raftlog=10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:37,177 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:37,177 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43
2021-10-22 16:58:37,205 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:58:37,205 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t1
2021-10-22 16:58:37,205 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-10180c5d-8671-43e1-a35b-bc2eb2023912#0:FAIL-t1
2021-10-22 16:58:37,205 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42 ELECTION round 0: result REJECTED
2021-10-22 16:58:37,206 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:58:37,206 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42
2021-10-22 16:58:37,206 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:37,221 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43 ELECTION round 0: submit vote requests at term 1 for -1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A2F5EBC6A820 with new leaderId: 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: change Leader from null to 6de71699-dc39-4c6b-ada4-18dbb8f4503c at term 1 for becomeLeader, leader elected after 5292ms
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,222 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderStateImpl
2021-10-22 16:58:37,223 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:37,227 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:37,229 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820/current/log_inprogress_0
2021-10-22 16:58:37,249 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderElection43] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: set configuration 0: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1], old=null
2021-10-22 16:58:37,287 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5003151476ns, electionTimeout:5002ms
2021-10-22 16:58:37,287 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState
2021-10-22 16:58:37,288 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:37,288 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:37,288 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44
2021-10-22 16:58:37,303 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:37,317 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44 ELECTION round 0: submit vote requests at term 1 for -1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:37,317 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:37,317 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44
2021-10-22 16:58:37,323 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:37,323 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5F4A8791D3F6 with new leaderId: 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:37,324 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: change Leader from null to 10180c5d-8671-43e1-a35b-bc2eb2023912 at term 1 for becomeLeader, leader elected after 5049ms
2021-10-22 16:58:37,324 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:37,324 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,324 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderStateImpl
2021-10-22 16:58:37,325 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:37,335 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 208 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:37,336 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:37,336 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:37,336 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:37,336 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:37,336 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:37,338 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:37,338 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6/current/log_inprogress_0
2021-10-22 16:58:37,352 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderElection44] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: set configuration 0: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:37,364 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:37,365 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:37,365 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:58:37,367 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:58:37,430 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis to VolumeSet
2021-10-22 16:58:37,430 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis
2021-10-22 16:58:37,430 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis
2021-10-22 16:58:37,482 [Thread-1575] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:58:37,581 [Thread-1575] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds
2021-10-22 16:58:37,581 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:37,583 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:37,586 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:37,587 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 43791 (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 43791 (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43791 (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:37,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:37,590 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:37,590 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:37,590 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:37,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:58:37,594 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:37,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-C1B338864489:[] returns group-C1B338864489:java.util.concurrent.CompletableFuture@4b8cfde5[Not completed]
2021-10-22 16:58:37,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95
2021-10-22 16:58:37,604 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-B59C2741EA95:[] returns group-B59C2741EA95:java.util.concurrent.CompletableFuture@45e10426[Not completed]
2021-10-22 16:58:37,610 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-C1B338864489:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:37,628 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:37,630 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:37,631 [pool-639-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=728e4f4b-82ae-4639-9130-a1513d8bab9d} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/raft-meta
2021-10-22 16:58:37,633 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:37,633 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:37,633 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:37,634 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:37,638 [pool-639-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-C1B338864489: Setting the last applied index to (t:1, i:10)
2021-10-22 16:58:37,643 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:37,643 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:37,643 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:37,643 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:37,643 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:37,644 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:37,644 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:37,644 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:37,644 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:37,645 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:37,645 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:37,645 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:37,645 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:37,646 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:37,646 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:37,646 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:45939
2021-10-22 16:58:37,647 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:37,648 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:37,648 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:37,648 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:37,648 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:37,649 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:37,649 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:37,649 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:37,649 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:37,650 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45939
2021-10-22 16:58:37,650 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:37,655 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:37,655 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:37,657 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:58:37,658 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1143728d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:37,658 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5b2d5a1f{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:37,664 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:37,664 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:37,677 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5042665987ns, electionTimeout:5030ms
2021-10-22 16:58:37,677 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState
2021-10-22 16:58:37,677 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:58:37,677 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:37,677 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45
2021-10-22 16:58:37,685 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45 ELECTION round 0: submit vote requests at term 1 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null
2021-10-22 16:58:37,688 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:58:37,688 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45
2021-10-22 16:58:37,688 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:58:37,688 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-07E9FC9C39F3 with new leaderId: e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:58:37,689 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: change Leader from null to e40beabb-1436-4e16-9844-e17d7258fa3f at term 1 for becomeLeader, leader elected after 5059ms
2021-10-22 16:58:37,689 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:37,689 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,689 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:37,689 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:37,690 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:37,690 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:37,690 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,690 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:37,695 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:37,698 [pool-639-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0
2021-10-22 16:58:37,699 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 10
2021-10-22 16:58:37,700 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:37,700 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderStateImpl
2021-10-22 16:58:37,701 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:37,702 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:37,726 [pool-639-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLog: commitIndex: updateToMax old=10, new=9, updated? false
2021-10-22 16:58:37,726 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:37,726 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:37,727 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:37,727 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:37,727 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:37,727 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:37,729 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-B59C2741EA95:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:37,729 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:37,729 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:37,729 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:37,729 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:37,730 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:37,736 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3/current/log_inprogress_0
2021-10-22 16:58:37,738 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:37,738 [pool-639-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=728e4f4b-82ae-4639-9130-a1513d8bab9d} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/raft-meta
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-B59C2741EA95: Setting the last applied index to (t:1, i:0)
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:37,739 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:37,740 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:37,741 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:37,741 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:37,741 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:37,741 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:37,745 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderElection45] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:1], old=null
2021-10-22 16:58:37,780 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:37,781 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:37,783 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:58:37,783 [pool-639-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/log_inprogress_0
2021-10-22 16:58:37,784 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:58:37,784 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:37,786 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:37,786 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:37,787 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:37,787 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:37,787 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:37,787 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:37,833 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@569a3ef0{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-45939-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3562183204548365565/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:37,851 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1acf9461{HTTP/1.1, (http/1.1)}{0.0.0.0:45939}
2021-10-22 16:58:37,852 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @98902ms
2021-10-22 16:58:37,852 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:37,855 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:45939
2021-10-22 16:58:37,858 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5633955477ns, electionTimeout:5035ms
2021-10-22 16:58:37,858 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:37,858 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:37,866 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:37,866 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:37,867 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46
2021-10-22 16:58:37,867 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:37,879 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: change Leader from 728e4f4b-82ae-4639-9130-a1513d8bab9d to null at term 1 for ELECTION
2021-10-22 16:58:37,885 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46 ELECTION round 0: submit vote requests at term 2 for 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:37,925 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:37,946 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:37,946 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:37,955 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: receive requestVote(ELECTION, f84af4ee-5ee7-459e-b74c-1ef900d5895a, group-C1B338864489, 2, (t:1, i:10))
2021-10-22 16:58:37,955 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FOLLOWER: accept ELECTION from f84af4ee-5ee7-459e-b74c-1ef900d5895a: our priority 0 <= candidate's priority 0
2021-10-22 16:58:37,955 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: change Leader from 728e4f4b-82ae-4639-9130-a1513d8bab9d to null at term 2 for updateCurrentTerm
2021-10-22 16:58:37,955 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:37,955 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:37,958 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2b492a3e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:37,967 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:37,967 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:37,972 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489 replies to ELECTION vote request: f84af4ee-5ee7-459e-b74c-1ef900d5895a<-496e60f7-ff72-4faa-a603-98d08c2b20a2#0:OK-t2. Peer's state: 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489:t2, leader=null, voted=f84af4ee-5ee7-459e-b74c-1ef900d5895a, raftlog=496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLog:OPENED:c10, conf=0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46: ELECTION PASSED received 1 response(s) and 1 exception(s):
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: f84af4ee-5ee7-459e-b74c-1ef900d5895a<-496e60f7-ff72-4faa-a603-98d08c2b20a2#0:OK-t2
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46 ELECTION round 0: result PASSED
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 2 for becomeLeader, leader elected after 94ms
2021-10-22 16:58:37,974 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:37,975 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:37,976 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:37,977 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:37,977 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:37,977 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:37,977 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:37,978 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:37,978 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:37,979 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderStateImpl
2021-10-22 16:58:37,979 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2021-10-22 16:58:37,981 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_0-10
2021-10-22 16:58:37,989 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11
2021-10-22 16:58:37,999 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:38,003 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-GrpcLogAppender: Leader has not got in touch with Follower f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d(c-1,m0,n11, attendVote=true, lastRpcSendTime=5227, lastRpcResponseTime=5227) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:38,005 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:38,005 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-GrpcLogAppender: Leader has not got in touch with Follower f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d(c-1,m0,n12, attendVote=true, lastRpcSendTime=1, lastRpcResponseTime=5229) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:38,016 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:38,029 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:38,029 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 2 for appendEntries, leader elected after 74ms
2021-10-22 16:58:38,047 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:38,047 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2021-10-22 16:58:38,050 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_0-10
2021-10-22 16:58:38,052 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11
2021-10-22 16:58:38,102 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:38,103 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-GrpcLogAppender: Leader has not got in touch with Follower f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d(c-1,m0,n13, attendVote=true, lastRpcSendTime=92, lastRpcResponseTime=5327) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:38,238 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:38,338 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:38,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:38,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:38,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:39,161 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:39,166 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5f1672d7{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:39,174 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7b57bb50{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:39,175 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:39,175 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@39e053fe{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:39,175 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@443fe670{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:58:39,182 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:58:39,186 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:58:39,186 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:58:39,189 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34347
2021-10-22 16:58:39,203 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:39,205 [IPC Server listener on 34347] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 34347
2021-10-22 16:58:39,214 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:39,493 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:58:39,494 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:58:39,494 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:58:39,500 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42431
2021-10-22 16:58:39,507 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:58:39,507 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:58:39,507 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:39,523 [IPC Server listener on 42431] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 42431
2021-10-22 16:58:39,523 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45267
2021-10-22 16:58:39,525 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:58:39,526 [IPC Server listener on 45267] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 45267
2021-10-22 16:58:39,526 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:58:39,552 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1bca2e1c{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:58:39,559 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4a1e4e55{HTTP/1.1, (http/1.1)}{0.0.0.0:45273}
2021-10-22 16:58:39,559 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:39,559 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6ff3a99a{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:58:39,559 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@342af710{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:39,564 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:58:39,564 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:58:39,564 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:58:39,564 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:58:39,572 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:58:39,572 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:58:39,574 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:58:39,576 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-10-22 16:58:39,578 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 16:58:39,590 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-10-22 16:58:39,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:39,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:39,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:39,750 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:39,973 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:39,982 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:39,993 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 32959
2021-10-22 16:58:39,993 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:40,011 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: start as a follower, conf=0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:40,011 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:58:40,012 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:58:40,013 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: start as a follower, conf=0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:58:40,013 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:58:40,032 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState
2021-10-22 16:58:40,046 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:40,046 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B59C2741EA95,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:40,084 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start RPC server
2021-10-22 16:58:40,086 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: GrpcService started, listening on 43791
2021-10-22 16:58:40,094 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS
2021-10-22 16:58:40,094 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS_ADMIN
2021-10-22 16:58:40,094 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 728e4f4b-82ae-4639-9130-a1513d8bab9d is started using port 43791 for RATIS_SERVER
2021-10-22 16:58:40,095 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7d57ecb8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-728e4f4b-82ae-4639-9130-a1513d8bab9d: Started
2021-10-22 16:58:40,343 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:40,624 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:40,625 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 2 for appendEntries, leader elected after 2981ms
2021-10-22 16:58:40,625 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1322)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: Failed appendEntries as previous log entry ((t:2, i:12)) is not found
2021-10-22 16:58:40,625 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: inconsistency entries. Reply:f84af4ee-5ee7-459e-b74c-1ef900d5895a<-728e4f4b-82ae-4639-9130-a1513d8bab9d#2503088:FAIL-t1,INCONSISTENCY,nextIndex=11,followerCommit=10
2021-10-22 16:58:40,629 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d: nextIndex: updateUnconditionally 13 -> 11
2021-10-22 16:58:40,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:40,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:40,634 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:40,637 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:40,637 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2021-10-22 16:58:40,639 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_0-10
2021-10-22 16:58:40,642 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11
2021-10-22 16:58:40,702 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:41,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:41,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:41,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:41,752 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:41,847 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:42,202 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:42,326 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5120562952ns, electionTimeout:5112ms
2021-10-22 16:58:42,327 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,327 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:42,327 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:42,327 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47
2021-10-22 16:58:42,334 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47 ELECTION round 0: submit vote requests at term 2 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:42,336 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-1604AAD1ADAD, 2, (t:0, i:0))
2021-10-22 16:58:42,336 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-1604AAD1ADAD, 2, (t:0, i:0))
2021-10-22 16:58:42,337 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FOLLOWER: reject ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 1 > candidate's priority 0
2021-10-22 16:58:42,337 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:42,337 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,337 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,337 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:42,337 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FOLLOWER: accept ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 0 <= candidate's priority 0
2021-10-22 16:58:42,338 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:58:42,338 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,340 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,340 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:42,341 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-10180c5d-8671-43e1-a35b-bc2eb2023912#0:FAIL-t2. Peer's state: 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD:t2, leader=null, voted=null, raftlog=10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:42,351 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t2. Peer's state: e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD:t2, leader=null, voted=6de71699-dc39-4c6b-ada4-18dbb8f4503c, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-10180c5d-8671-43e1-a35b-bc2eb2023912#0:FAIL-t2
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47 ELECTION round 0: result REJECTED
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47
2021-10-22 16:58:42,352 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:42,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:42,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:42,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:42,744 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:42,867 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:42,868 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: close
2021-10-22 16:58:42,868 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: shutdown
2021-10-22 16:58:42,868 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E44FC1145F0,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:42,868 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderStateImpl
2021-10-22 16:58:42,868 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:42,869 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:42,869 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: shutdown
2021-10-22 16:58:42,869 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:42,869 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderStateImpl
2021-10-22 16:58:42,869 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:42,869 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:42,870 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5E44FC1145F0: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/sm/snapshot.1_0
2021-10-22 16:58:42,870 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:42,873 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5E44FC1145F0: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/sm/snapshot.1_0 took: 3 ms
2021-10-22 16:58:42,875 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: set stopIndex = 12
2021-10-22 16:58:42,875 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C1B338864489: Taking a snapshot at:(t:2, i:12) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.2_12
2021-10-22 16:58:42,877 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: Completed APPEND_ENTRIES, lastRequest: f84af4ee-5ee7-459e-b74c-1ef900d5895a->728e4f4b-82ae-4639-9130-a1513d8bab9d#2503091-t2,previous=(t:2, i:11),leaderCommit=12,initializing? true,entries: size=1, first=(t:2, i:12), METADATAENTRY(c:11)
2021-10-22 16:58:42,877 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: Completed APPEND_ENTRIES, lastRequest: f84af4ee-5ee7-459e-b74c-1ef900d5895a->496e60f7-ff72-4faa-a603-98d08c2b20a2#2-t2,previous=(t:2, i:11),leaderCommit=11,initializing? true,entries: size=1, first=(t:2, i:12), METADATAENTRY(c:11)
2021-10-22 16:58:42,878 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C1B338864489: Finished taking a snapshot at:(t:2, i:12) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.2_12 took: 2 ms
2021-10-22 16:58:42,878 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: Took a snapshot at index 12
2021-10-22 16:58:42,878 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 12
2021-10-22 16:58:42,878 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:42,879 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->728e4f4b-82ae-4639-9130-a1513d8bab9d: nextIndex: updateUnconditionally 13 -> 12
2021-10-22 16:58:42,879 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:42,879 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:42,879 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:42,879 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2: nextIndex: updateUnconditionally 13 -> 12
2021-10-22 16:58:42,880 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: closes. applyIndex: 12
2021-10-22 16:58:42,880 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:42,881 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: closes. applyIndex: 0
2021-10-22 16:58:42,881 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:42,896 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker close()
2021-10-22 16:58:42,891 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:58:42,896 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown server with port 43937 now
2021-10-22 16:58:42,915 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown server with port 43937 successfully
2021-10-22 16:58:42,915 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@42866ad3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-f84af4ee-5ee7-459e-b74c-1ef900d5895a: Stopped
2021-10-22 16:58:42,920 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:43,635 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:43,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:43,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:43,710 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:43,847 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:44,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:44,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:44,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:44,743 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:45,181 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5149446988ns, electionTimeout:5105ms
2021-10-22 16:58:45,182 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState
2021-10-22 16:58:45,182 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:45,182 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:45,182 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48
2021-10-22 16:58:45,187 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48 ELECTION round 0: submit vote requests at term 2 for 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:58:45,187 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48 ELECTION round 0: result PASSED (term=2)
2021-10-22 16:58:45,188 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48
2021-10-22 16:58:45,188 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:58:45,188 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-B59C2741EA95 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:45,188 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 2 for becomeLeader, leader elected after 7448ms
2021-10-22 16:58:45,188 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:45,189 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:45,189 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:45,190 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderStateImpl
2021-10-22 16:58:45,191 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-10-22 16:58:45,199 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderElection48] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: set configuration 1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:58:45,206 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:45,219 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/log_0-0
2021-10-22 16:58:45,221 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/current/log_inprogress_1
2021-10-22 16:58:45,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:45,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:45,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:45,852 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:45,925 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:45,929 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5840e8e4{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:45,930 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3218e5a6{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:45,930 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:45,930 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2cd73646{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:45,930 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4e747365{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:45,936 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:45,937 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:45,938 [Time-limited test] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-10-22 16:58:45,946 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:58:45,947 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-10-22 16:58:45,975 [Time-limited test] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:58:45,975 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:58:46,048 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:46,094 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:46,206 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:46,212 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 117 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:46,215 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:46,217 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:46,222 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:46,222 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:46,223 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:46,227 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:46,228 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:46,228 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:58:46,235 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:58:46,249 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:46,250 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis to VolumeSet
2021-10-22 16:58:46,250 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis
2021-10-22 16:58:46,251 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis
2021-10-22 16:58:46,335 [Thread-1637] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:58:46,359 [Thread-1637] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds
2021-10-22 16:58:46,359 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:46,361 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:46,361 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:46,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 43937 (custom)
2021-10-22 16:58:46,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 43937 (custom)
2021-10-22 16:58:46,362 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43937 (custom)
2021-10-22 16:58:46,362 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:46,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:46,363 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:46,363 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:46,364 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:46,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:46,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:46,366 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:58:46,366 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0
2021-10-22 16:58:46,366 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-5E44FC1145F0:[] returns group-5E44FC1145F0:java.util.concurrent.CompletableFuture@568bfffb[Not completed]
2021-10-22 16:58:46,366 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:46,367 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-C1B338864489:[] returns group-C1B338864489:java.util.concurrent.CompletableFuture@171f349a[Not completed]
2021-10-22 16:58:46,369 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-5E44FC1145F0:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:46,372 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:46,373 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:46,375 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:46,375 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:58:46,375 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:46,375 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:46,373 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:33777
2021-10-22 16:58:46,376 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:46,377 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:46,377 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:46,378 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:46,379 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:46,379 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:46,379 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:46,380 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33777
2021-10-22 16:58:46,380 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:46,382 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:46,383 [pool-666-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=f84af4ee-5ee7-459e-b74c-1ef900d5895a} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/raft-meta
2021-10-22 16:58:46,385 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:46,385 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:46,386 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:58:46,386 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@60af193f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:46,387 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@24f52979{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:46,400 [pool-666-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-5E44FC1145F0: Setting the last applied index to (t:1, i:0)
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: set configuration 0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:46,401 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:46,402 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:46,403 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:46,403 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:46,403 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:46,403 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:46,403 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:46,404 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:46,404 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:46,405 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: set configuration 0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:58:46,406 [pool-666-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/log_inprogress_0
2021-10-22 16:58:46,409 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:58:46,409 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:46,417 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:46,417 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:46,417 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:46,417 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:46,417 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:46,418 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-C1B338864489:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:46,425 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:58:46,426 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:46,426 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:46,434 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:46,435 [pool-666-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=2, votedFor=f84af4ee-5ee7-459e-b74c-1ef900d5895a} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/raft-meta
2021-10-22 16:58:46,435 [pool-666-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-C1B338864489: Setting the last applied index to (t:2, i:12)
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:46,436 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:46,437 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:46,439 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:46,440 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:46,444 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:46,445 [pool-666-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_0-10
2021-10-22 16:58:46,445 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:46,445 [pool-666-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 2 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11
2021-10-22 16:58:46,445 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 12
2021-10-22 16:58:46,445 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 10
2021-10-22 16:58:46,446 [pool-666-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLog: commitIndex: updateToMax old=12, new=11, updated? false
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:46,453 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:46,509 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4699fc96{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-33777-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5006034112240734650/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:46,512 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@72213b92{HTTP/1.1, (http/1.1)}{0.0.0.0:33777}
2021-10-22 16:58:46,512 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @107562ms
2021-10-22 16:58:46,512 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:46,513 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:33777
2021-10-22 16:58:46,513 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:46,513 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:46,514 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:46,514 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:46,538 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@401d87bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:46,636 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:46,637 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:58:46,637 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:46,853 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:47,349 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5012349849ns, electionTimeout:5009ms
2021-10-22 16:58:47,350 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:47,350 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:58:47,350 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:47,350 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49
2021-10-22 16:58:47,364 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49 ELECTION round 0: submit vote requests at term 3 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:47,398 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: receive requestVote(ELECTION, 10180c5d-8671-43e1-a35b-bc2eb2023912, group-1604AAD1ADAD, 3, (t:0, i:0))
2021-10-22 16:58:47,399 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FOLLOWER: accept ELECTION from 10180c5d-8671-43e1-a35b-bc2eb2023912: our priority 0 <= candidate's priority 1
2021-10-22 16:58:47,399 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:47,399 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:47,399 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:47,399 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:47,408 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD replies to ELECTION vote request: 10180c5d-8671-43e1-a35b-bc2eb2023912<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t3. Peer's state: e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD:t3, leader=null, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:47,417 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:47,417 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 10180c5d-8671-43e1-a35b-bc2eb2023912<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t3
2021-10-22 16:58:47,417 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49 ELECTION round 0: result PASSED
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1604AAD1ADAD with new leaderId: 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: change Leader from null to 10180c5d-8671-43e1-a35b-bc2eb2023912 at term 3 for becomeLeader, leader elected after 15344ms
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:47,418 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:47,419 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: ed19a783-84db-46a9-bf7e-1604aad1adad, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.628Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:47,419 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:58:47,419 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:58:47,419 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:58:47,419 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:47,420 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:47,420 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:58:47,420 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:58:47,421 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:47,422 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:47,422 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:47,422 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:47,422 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:47,422 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:47,423 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderStateImpl
2021-10-22 16:58:47,424 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:47,426 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/current/log_inprogress_0
2021-10-22 16:58:47,444 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: receive requestVote(ELECTION, 10180c5d-8671-43e1-a35b-bc2eb2023912, group-1604AAD1ADAD, 3, (t:0, i:0))
2021-10-22 16:58:47,444 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FOLLOWER: accept ELECTION from 10180c5d-8671-43e1-a35b-bc2eb2023912: our priority 0 <= candidate's priority 1
2021-10-22 16:58:47,444 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:47,444 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:47,449 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 16:58:47,449 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:47,460 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD replies to ELECTION vote request: 10180c5d-8671-43e1-a35b-bc2eb2023912<-6de71699-dc39-4c6b-ada4-18dbb8f4503c#0:OK-t3. Peer's state: 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD:t3, leader=null, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 16:58:47,472 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:47,504 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1604AAD1ADAD with new leaderId: 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:47,505 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: change Leader from null to 10180c5d-8671-43e1-a35b-bc2eb2023912 at term 3 for appendEntries, leader elected after 15523ms
2021-10-22 16:58:47,506 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1604AAD1ADAD with new leaderId: 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:58:47,506 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: change Leader from null to 10180c5d-8671-43e1-a35b-bc2eb2023912 at term 3 for appendEntries, leader elected after 15308ms
2021-10-22 16:58:47,526 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:47,527 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:47,529 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/current/log_inprogress_0
2021-10-22 16:58:47,548 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 16:58:47,549 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:58:47,554 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/current/log_inprogress_0
2021-10-22 16:58:47,637 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:47,637 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:58:47,637 [Listener at 127.0.0.1/41731] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:48,304 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState: change to CANDIDATE, lastRpcElapsedTime:7670861363ns, electionTimeout:5147ms
2021-10-22 16:58:48,304 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:48,304 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:58:48,304 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:48,304 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50
2021-10-22 16:58:48,305 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: change Leader from f84af4ee-5ee7-459e-b74c-1ef900d5895a to null at term 2 for ELECTION
2021-10-22 16:58:48,307 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50 ELECTION round 0: submit vote requests at term 3 for 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:48,355 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: receive requestVote(ELECTION, 496e60f7-ff72-4faa-a603-98d08c2b20a2, group-C1B338864489, 3, (t:2, i:12))
2021-10-22 16:58:48,356 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FOLLOWER: reject ELECTION from 496e60f7-ff72-4faa-a603-98d08c2b20a2: our priority 1 > candidate's priority 0
2021-10-22 16:58:48,356 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: change Leader from f84af4ee-5ee7-459e-b74c-1ef900d5895a to null at term 3 for updateCurrentTerm
2021-10-22 16:58:48,356 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:48,356 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:58:48,356 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:58:48,356 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:48,365 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489 replies to ELECTION vote request: 496e60f7-ff72-4faa-a603-98d08c2b20a2<-728e4f4b-82ae-4639-9130-a1513d8bab9d#0:FAIL-t3. Peer's state: 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489:t3, leader=null, voted=null, raftlog=728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLog:OPENED:c12, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 496e60f7-ff72-4faa-a603-98d08c2b20a2<-728e4f4b-82ae-4639-9130-a1513d8bab9d#0:FAIL-t3
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50 ELECTION round 0: result REJECTED
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50
2021-10-22 16:58:48,366 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:48,536 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:48,536 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:48,537 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 46281
2021-10-22 16:58:48,537 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:48,538 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: start as a follower, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:48,538 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from      null to FOLLOWER at term 2 for startAsFollower
2021-10-22 16:58:48,538 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:48,538 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: start as a follower, conf=0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:58:48,539 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:58:48,542 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:48,545 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState
2021-10-22 16:58:48,545 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E44FC1145F0,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:48,546 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start RPC server
2021-10-22 16:58:48,547 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: GrpcService started, listening on 43937
2021-10-22 16:58:48,547 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS
2021-10-22 16:58:48,547 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS_ADMIN
2021-10-22 16:58:48,547 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis f84af4ee-5ee7-459e-b74c-1ef900d5895a is started using port 43937 for RATIS_SERVER
2021-10-22 16:58:48,548 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7b534938] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-f84af4ee-5ee7-459e-b74c-1ef900d5895a: Started
2021-10-22 16:58:51,514 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:58:51,515 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: close
2021-10-22 16:58:51,515 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: shutdown
2021-10-22 16:58:51,515 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: shutdown
2021-10-22 16:58:51,515 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8017FFDC410,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:51,515 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-LeaderStateImpl
2021-10-22 16:58:51,515 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:51,515 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:51,515 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:51,515 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:51,516 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C1B338864489: Taking a snapshot at:(t:2, i:12) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.2_12
2021-10-22 16:58:51,516 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:58:51,516 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-D8017FFDC410: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/sm/snapshot.1_0
2021-10-22 16:58:51,515 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater: set stopIndex = 12
2021-10-22 16:58:51,518 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C1B338864489: Finished taking a snapshot at:(t:2, i:12) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.2_12 took: 1 ms
2021-10-22 16:58:51,518 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater: Took a snapshot at index 12
2021-10-22 16:58:51,518 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 12
2021-10-22 16:58:51,518 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-D8017FFDC410: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:58:51,519 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:58:51,519 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:58:51,519 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: closes. applyIndex: 0
2021-10-22 16:58:51,519 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: closes. applyIndex: 12
2021-10-22 16:58:51,519 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:51,519 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:51,520 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker close()
2021-10-22 16:58:51,520 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:58:51,520 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown server with port 45015 now
2021-10-22 16:58:51,530 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown server with port 45015 successfully
2021-10-22 16:58:51,531 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@37545b42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-496e60f7-ff72-4faa-a603-98d08c2b20a2: Stopped
2021-10-22 16:58:51,539 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:58:53,550 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5012069805ns, electionTimeout:5004ms
2021-10-22 16:58:53,551 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:53,551 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:58:53,551 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:53,551 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51
2021-10-22 16:58:53,559 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5202848150ns, electionTimeout:5174ms
2021-10-22 16:58:53,560 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState
2021-10-22 16:58:53,560 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-10-22 16:58:53,561 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:53,561 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52
2021-10-22 16:58:53,562 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51 ELECTION round 0: submit vote requests at term 3 for 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,565 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52 ELECTION round 0: submit vote requests at term 4 for 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,579 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: receive requestVote(ELECTION, f84af4ee-5ee7-459e-b74c-1ef900d5895a, group-C1B338864489, 3, (t:2, i:12))
2021-10-22 16:58:53,579 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-CANDIDATE: reject ELECTION from f84af4ee-5ee7-459e-b74c-1ef900d5895a: current term 4 > candidate's term 3
2021-10-22 16:58:53,579 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489 replies to ELECTION vote request: f84af4ee-5ee7-459e-b74c-1ef900d5895a<-728e4f4b-82ae-4639-9130-a1513d8bab9d#0:FAIL-t4. Peer's state: 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489:t4, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLog:OPENED:c12, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,612 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51: ELECTION DISCOVERED_A_NEW_TERM (term=4) received 1 response(s) and 0 exception(s):
2021-10-22 16:58:53,612 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: f84af4ee-5ee7-459e-b74c-1ef900d5895a<-728e4f4b-82ae-4639-9130-a1513d8bab9d#0:FAIL-t4
2021-10-22 16:58:53,612 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51 ELECTION round 0: result DISCOVERED_A_NEW_TERM (term=4)
2021-10-22 16:58:53,613 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from CANDIDATE to FOLLOWER at term 4 for DISCOVERED_A_NEW_TERM (term=4)
2021-10-22 16:58:53,613 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51
2021-10-22 16:58:53,613 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:53,648 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: receive requestVote(ELECTION, 728e4f4b-82ae-4639-9130-a1513d8bab9d, group-C1B338864489, 4, (t:2, i:12))
2021-10-22 16:58:53,648 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FOLLOWER: accept ELECTION from 728e4f4b-82ae-4639-9130-a1513d8bab9d: our priority 0 <= candidate's priority 1
2021-10-22 16:58:53,648 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:53,648 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:53,648 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:53,650 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:53,653 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489 replies to ELECTION vote request: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t4. Peer's state: f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489:t4, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLog:OPENED:c12, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52: ELECTION PASSED received 1 response(s) and 1 exception(s):
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t4
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52 ELECTION round 0: result PASSED
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 4 for becomeLeader, leader elected after 5309ms
2021-10-22 16:58:53,665 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:53,666 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:53,668 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:53,669 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:58:53,669 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:53,669 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:58:53,670 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:58:53,670 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:53,670 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:53,671 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderStateImpl
2021-10-22 16:58:53,671 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2021-10-22 16:58:53,672 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_11-12
2021-10-22 16:58:53,673 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_13
2021-10-22 16:58:53,674 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:53,674 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Leader has not got in touch with Follower 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2(c-1,m0,n13, attendVote=true, lastRpcSendTime=5206, lastRpcResponseTime=5206) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:53,677 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5132322330ns, electionTimeout:5131ms
2021-10-22 16:58:53,678 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState
2021-10-22 16:58:53,678 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:58:53,678 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:58:53,678 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53
2021-10-22 16:58:53,680 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:53,681 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Leader has not got in touch with Follower 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2(c-1,m0,n14, attendVote=true, lastRpcSendTime=4, lastRpcResponseTime=5213) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:53,691 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderElection52] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: set configuration 13: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53 ELECTION round 0: submit vote requests at term 2 for 0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53 ELECTION round 0: result PASSED (term=2)
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5E44FC1145F0 with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 2 for becomeLeader, leader elected after 7291ms
2021-10-22 16:58:53,692 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:58:53,693 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:53,693 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:58:53,693 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:58:53,694 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:58:53,694 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:58:53,694 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:58:53,695 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:58:53,695 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderStateImpl
2021-10-22 16:58:53,696 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-C1B338864489 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:53,696 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 4 for appendEntries, leader elected after 7259ms
2021-10-22 16:58:53,696 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-10-22 16:58:53,712 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: set configuration 13: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:53,712 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2021-10-22 16:58:53,714 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_11-12
2021-10-22 16:58:53,721 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_13
2021-10-22 16:58:53,750 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: set configuration 1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:58:53,753 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/log_0-0
2021-10-22 16:58:53,754 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/current/log_inprogress_1
2021-10-22 16:58:53,805 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:58:53,806 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Leader has not got in touch with Follower 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->496e60f7-ff72-4faa-a603-98d08c2b20a2(c-1,m0,n15, attendVote=true, lastRpcSendTime=123, lastRpcResponseTime=5338) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:58:54,561 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:58:54,566 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@430e455f{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:54,580 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3fb6e60{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:58:54,580 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:58:54,580 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@32817b7e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:58:54,580 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@369675cd{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:58:54,583 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:54,584 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:58:54,584 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:58:54,611 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:58:54,678 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:58:54,806 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 105 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:58:54,807 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:58:54,807 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:58:54,807 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:58:54,807 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:58:54,808 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:58:54,816 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:58:54,818 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:58:54,818 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:58:54,853 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:58:54,879 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis to VolumeSet
2021-10-22 16:58:54,880 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis
2021-10-22 16:58:54,880 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis
2021-10-22 16:58:54,916 [Thread-1703] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:58:54,975 [Thread-1703] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds
2021-10-22 16:58:54,975 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:58:54,977 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:58:54,977 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:58:54,977 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 45015 (custom)
2021-10-22 16:58:54,977 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 45015 (custom)
2021-10-22 16:58:54,978 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 45015 (custom)
2021-10-22 16:58:54,978 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:58:54,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:54,978 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:58:54,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:58:54,979 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:58:54,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:54,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:54,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:58:54,980 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410
2021-10-22 16:58:55,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-D8017FFDC410:[] returns group-D8017FFDC410:java.util.concurrent.CompletableFuture@52e7e024[Not completed]
2021-10-22 16:58:55,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:55,003 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-C1B338864489:[] returns group-C1B338864489:java.util.concurrent.CompletableFuture@1bb605d2[Not completed]
2021-10-22 16:58:55,007 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-D8017FFDC410:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:55,023 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:32833
2021-10-22 16:58:55,024 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:58:55,025 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:58:55,034 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:58:55,035 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:58:55,036 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:58:55,036 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:58:55,036 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:58:55,042 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:55,042 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:55,043 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:55,051 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:55,052 [pool-693-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=496e60f7-ff72-4faa-a603-98d08c2b20a2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/current/raft-meta
2021-10-22 16:58:55,052 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32833
2021-10-22 16:58:55,067 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:58:55,058 [pool-693-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-D8017FFDC410: Setting the last applied index to (t:1, i:0)
2021-10-22 16:58:55,068 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: set configuration 0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null
2021-10-22 16:58:55,069 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:55,069 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:55,069 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:55,069 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:55,069 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:55,070 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:55,131 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:58:55,131 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:58:55,131 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:58:55,133 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@a3903db{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:58:55,133 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@395ac632{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:58:55,140 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:55,141 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:55,142 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: set configuration 0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null
2021-10-22 16:58:55,142 [pool-693-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410/current/log_inprogress_0
2021-10-22 16:58:55,142 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:58:55,142 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:55,148 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-C1B338864489:[] with ContainerStateMachine:uninitialized
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:58:55,151 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:55,152 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:55,159 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=3, votedFor=496e60f7-ff72-4faa-a603-98d08c2b20a2} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/raft-meta
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-C1B338864489: Setting the last applied index to (t:2, i:12)
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:55,163 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:55,164 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:55,165 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:55,165 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:55,166 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:55,166 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:55,173 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:55,185 [pool-693-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 11 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_0-10
2021-10-22 16:58:55,186 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: set configuration 11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:55,186 [pool-693-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 2 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/current/log_inprogress_11
2021-10-22 16:58:55,186 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 12
2021-10-22 16:58:55,186 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 10
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLog: commitIndex: updateToMax old=12, new=11, updated? false
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:55,198 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:55,274 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@fc4849d{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-32833-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-4842818364059655671/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:58:55,299 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2e00da1d{HTTP/1.1, (http/1.1)}{0.0.0.0:32833}
2021-10-22 16:58:55,299 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @116349ms
2021-10-22 16:58:55,299 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:58:55,300 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:32833
2021-10-22 16:58:55,332 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:58:55,332 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:58:55,332 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:58:55,332 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 16:58:55,332 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:58:55,334 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 16:58:55,335 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:58:55,335 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:58:55,351 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@15232167] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:58:55,392 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:58:55,392 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:55,393 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95 which uses HEALTHY READONLY datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:55,393 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95 close command to datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:55,400 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 2bdf57e7-3db7-41b3-bd27-b59c2741ea95, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:43.949Z[Etc/UTC]] removed.
2021-10-22 16:58:55,400 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:58:55,401 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 which uses HEALTHY READONLY datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:55,401 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 close command to datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:55,401 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 close command to datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:55,401 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 close command to datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:55,402 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 87849bf4-a9ff-4817-b90e-c1b338864489, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:57:44.380Z[Etc/UTC]] removed.
2021-10-22 16:58:55,402 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:55,402 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0 which uses HEALTHY READONLY datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:55,402 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0 close command to datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:55,403 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: c52508ee-d28d-458d-98be-5e44fc1145f0, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:f84af4ee-5ee7-459e-b74c-1ef900d5895a, CreationTimestamp2021-10-22T16:57:44.134Z[Etc/UTC]] removed.
2021-10-22 16:58:55,403 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:58:55,403 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 since it stays at CLOSED stage.
2021-10-22 16:58:55,406 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 close command to datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:55,407 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 6f9a9254-a9b5-4b27-8dc4-d8017ffdc410, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:496e60f7-ff72-4faa-a603-98d08c2b20a2, CreationTimestamp2021-10-22T16:57:44.378Z[Etc/UTC]] removed.
2021-10-22 16:58:55,406 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 which uses HEALTHY READONLY datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:58:55,420 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(67)) - Failed to close pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 which uses HEALTHY READONLY datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:121)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getPipeline(PipelineStateManagerImpl.java:125)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getPipeline(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.getPipeline(PipelineManagerImpl.java:210)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:58:55,408 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 16:58:55,671 [IPC Server handler 10 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:55,706 [IPC Server handler 5 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:56,171 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: remove    LEADER 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95:t2, leader=728e4f4b-82ae-4639-9130-a1513d8bab9d, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLog:OPENED:c2, conf=1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:56,171 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: shutdown
2021-10-22 16:58:56,171 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B59C2741EA95,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:56,171 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-LeaderStateImpl
2021-10-22 16:58:56,171 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:56,195 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: set stopIndex = 2
2021-10-22 16:58:56,195 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B59C2741EA95: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/sm/snapshot.2_2
2021-10-22 16:58:56,195 [IPC Server handler 9 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:56,196 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 is not found
2021-10-22 16:58:56,196 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B59C2741EA95: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95/sm/snapshot.2_2 took: 1 ms
2021-10-22 16:58:56,196 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: Took a snapshot at index 2
2021-10-22 16:58:56,196 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-10-22 16:58:56,198 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: closes. applyIndex: 2
2021-10-22 16:58:56,199 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:56,204 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95-SegmentedRaftLogWorker close()
2021-10-22 16:58:56,207 [IPC Server handler 19 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:56,216 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-B59C2741EA95: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/2bdf57e7-3db7-41b3-bd27-b59c2741ea95
2021-10-22 16:58:56,216 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=2bdf57e7-3db7-41b3-bd27-b59c2741ea95 command on datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d.
2021-10-22 16:58:56,217 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: remove    LEADER 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489:t4, leader=728e4f4b-82ae-4639-9130-a1513d8bab9d, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLog:OPENED:c14, conf=13: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:56,217 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: shutdown
2021-10-22 16:58:56,217 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:56,217 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-LeaderStateImpl
2021-10-22 16:58:56,217 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:56,222 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:58:56,223 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: Completed APPEND_ENTRIES, lastRequest: 728e4f4b-82ae-4639-9130-a1513d8bab9d->f84af4ee-5ee7-459e-b74c-1ef900d5895a#2-t4,previous=(t:4, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:4, i:14), METADATAENTRY(c:13)
2021-10-22 16:58:56,224 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:58:56,224 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489->f84af4ee-5ee7-459e-b74c-1ef900d5895a: nextIndex: updateUnconditionally 15 -> 14
2021-10-22 16:58:56,231 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: set stopIndex = 14
2021-10-22 16:58:56,232 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C1B338864489: Taking a snapshot at:(t:4, i:14) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.4_14
2021-10-22 16:58:56,234 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C1B338864489: Finished taking a snapshot at:(t:4, i:14) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.4_14 took: 2 ms
2021-10-22 16:58:56,234 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: Took a snapshot at index 14
2021-10-22 16:58:56,235 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-StateMachineUpdater: snapshotIndex: updateIncreasingly 10 -> 14
2021-10-22 16:58:56,235 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: closes. applyIndex: 14
2021-10-22 16:58:56,235 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:56,244 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:58:56,246 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-C1B338864489: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:56,246 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 command on datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d.
2021-10-22 16:58:56,246 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:56,246 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:58:56,246 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:56,246 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:58:56,252 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:58:56,253 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data-0/containers/hdds/883f3427-a505-43f4-9486-1245c279a00d -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:58:56,254 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:56,707 [IPC Server handler 13 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:57,075 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:58:57,075 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:57,075 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=a8ee625c-c02b-4383-acff-eb7551dd8949 to datanode:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:57,076 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a8ee625c-c02b-4383-acff-eb7551dd8949, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:57.075Z[Etc/UTC]].
2021-10-22 16:58:57,076 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-10-22 16:58:57,205 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: remove  FOLLOWER f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489:t4, leader=728e4f4b-82ae-4639-9130-a1513d8bab9d, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLog:OPENED:c13, conf=13: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:58:57,205 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: shutdown
2021-10-22 16:58:57,206 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:57,206 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState
2021-10-22 16:58:57,206 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: set stopIndex = 13
2021-10-22 16:58:57,206 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:58:57,206 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C1B338864489: Taking a snapshot at:(t:4, i:13) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.4_13
2021-10-22 16:58:57,208 [IPC Server handler 19 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:58:57,208 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0 is not found
2021-10-22 16:58:57,208 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 is not found
2021-10-22 16:58:57,209 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C1B338864489: Finished taking a snapshot at:(t:4, i:13) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489/sm/snapshot.4_13 took: 3 ms
2021-10-22 16:58:57,210 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: Took a snapshot at index 13
2021-10-22 16:58:57,210 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-StateMachineUpdater: snapshotIndex: updateIncreasingly 12 -> 13
2021-10-22 16:58:57,210 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: closes. applyIndex: 13
2021-10-22 16:58:57,210 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:57,213 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:58:57,215 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-C1B338864489: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:58:57,215 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 command on datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a.
2021-10-22 16:58:57,222 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: remove    LEADER f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0:t2, leader=f84af4ee-5ee7-459e-b74c-1ef900d5895a, voted=f84af4ee-5ee7-459e-b74c-1ef900d5895a, raftlog=f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLog:OPENED:c2, conf=1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:58:57,223 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: shutdown
2021-10-22 16:58:57,223 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5E44FC1145F0,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:57,223 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-LeaderStateImpl
2021-10-22 16:58:57,223 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-PendingRequests: sendNotLeaderResponses
2021-10-22 16:58:57,230 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: set stopIndex = 2
2021-10-22 16:58:57,230 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5E44FC1145F0: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/sm/snapshot.2_2
2021-10-22 16:58:57,233 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5E44FC1145F0: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0/sm/snapshot.2_2 took: 2 ms
2021-10-22 16:58:57,233 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: Took a snapshot at index 2
2021-10-22 16:58:57,233 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-10-22 16:58:57,233 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: closes. applyIndex: 2
2021-10-22 16:58:57,233 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:58:57,244 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0-SegmentedRaftLogWorker close()
2021-10-22 16:58:57,250 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-5E44FC1145F0: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/c52508ee-d28d-458d-98be-5e44fc1145f0
2021-10-22 16:58:57,250 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=c52508ee-d28d-458d-98be-5e44fc1145f0 command on datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a.
2021-10-22 16:58:57,250 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:57,250 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:58:57,251 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:58:57,251 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:58:57,253 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:58:57,253 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data-0/containers/hdds/883f3427-a505-43f4-9486-1245c279a00d -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:58:57,254 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:58:57,254 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:57,254 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:57,357 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:58:57,357 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:58:57,359 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 40213
2021-10-22 16:58:57,359 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:57,381 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: start as a follower, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:58:57,382 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: changes role from      null to FOLLOWER at term 3 for startAsFollower
2021-10-22 16:58:57,382 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:58:57,382 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:57,383 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: start as a follower, conf=0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null
2021-10-22 16:58:57,383 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:58:57,383 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState
2021-10-22 16:58:57,384 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8017FFDC410,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:58:57,385 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start RPC server
2021-10-22 16:58:57,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: GrpcService started, listening on 45015
2021-10-22 16:58:57,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS
2021-10-22 16:58:57,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS_ADMIN
2021-10-22 16:58:57,386 [EndpointStateMachine task thread for /0.0.0.0:34635 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 496e60f7-ff72-4faa-a603-98d08c2b20a2 is started using port 45015 for RATIS_SERVER
2021-10-22 16:58:57,393 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@6a83903b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-496e60f7-ff72-4faa-a603-98d08c2b20a2: Started
2021-10-22 16:58:57,670 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:57,670 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-EB7551DD8949:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1] returns group-EB7551DD8949:java.util.concurrent.CompletableFuture@22789fbc[Not completed]
2021-10-22 16:58:57,671 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-EB7551DD8949:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:57,671 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:57,672 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:58:57,673 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:57,673 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:57,673 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949 does not exist. Creating ...
2021-10-22 16:58:57,678 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:57,683 [pool-639-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949 has been successfully formatted.
2021-10-22 16:58:57,684 [pool-639-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-EB7551DD8949: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:57,684 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:57,684 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:57,684 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:57,684 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:57,684 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: a8ee625c-c02b-4383-acff-eb7551dd8949, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:58:57.075Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:57,689 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:57,690 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:57,690 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:57,690 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:57,691 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:57,693 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:57,693 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:57,694 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:57,695 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:57,695 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:57,695 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:57,697 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:57,698 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:57,698 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:57,698 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:57,698 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:57,698 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:57,700 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null
2021-10-22 16:58:57,700 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:57,700 [pool-639-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState
2021-10-22 16:58:57,701 [pool-639-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EB7551DD8949,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:58:57,701 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=a8ee625c-c02b-4383-acff-eb7551dd8949
2021-10-22 16:58:57,701 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=a8ee625c-c02b-4383-acff-eb7551dd8949.
2021-10-22 16:58:58,075 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:58:58,075 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:58:58,076 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=b1b21f24-41b5-4328-96e9-1dc269b63c3f to datanode:f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:58,077 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: b1b21f24-41b5-4328-96e9-1dc269b63c3f, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:58:58.076Z[Etc/UTC]].
2021-10-22 16:58:58,077 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-10-22 16:58:58,706 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:58:58,707 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-1DC269B63C3F:[f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1] returns group-1DC269B63C3F:java.util.concurrent.CompletableFuture@37f14404[Not completed]
2021-10-22 16:58:58,707 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-1DC269B63C3F:[f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:58:58,707 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: ConfigurationManager, init=-1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:58:58,708 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f does not exist. Creating ...
2021-10-22 16:58:58,710 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f has been successfully formatted.
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1DC269B63C3F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:58:58,715 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:58:58,716 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:58,716 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:58:58,716 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:58:58,716 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f
2021-10-22 16:58:58,717 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:58:58,717 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:58:58,717 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:58:58,717 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:58:58,717 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: b1b21f24-41b5-4328-96e9-1dc269b63c3f, Nodes: f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:f84af4ee-5ee7-459e-b74c-1ef900d5895a, CreationTimestamp2021-10-22T16:58:58.076Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:58:58,717 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:58:58,718 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:58:58,718 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:58:58,718 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:58:58,719 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:58:58,720 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:58:58,720 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:58,720 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:58:58,721 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:58:58,723 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: start as a follower, conf=-1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null
2021-10-22 16:58:58,723 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:58:58,723 [pool-666-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState
2021-10-22 16:58:58,724 [pool-666-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1DC269B63C3F,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:58:58,727 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=b1b21f24-41b5-4328-96e9-1dc269b63c3f
2021-10-22 16:58:58,727 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=b1b21f24-41b5-4328-96e9-1dc269b63c3f.
2021-10-22 16:58:59,355 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 is not found
2021-10-22 16:58:59,355 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 is not found
2021-10-22 16:59:00,401 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:59:01,356 [IPC Server handler 5 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:01,357 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 is not found
2021-10-22 16:59:01,357 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 is not found
2021-10-22 16:59:01,852 [IPC Server handler 3 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:02,355 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: remove  FOLLOWER 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489:t3, leader=null, voted=496e60f7-ff72-4faa-a603-98d08c2b20a2, raftlog=496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLog:OPENED:c12, conf=11: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:59:02,355 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: shutdown
2021-10-22 16:59:02,355 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C1B338864489,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:02,355 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState
2021-10-22 16:59:02,355 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-StateMachineUpdater: set stopIndex = 12
2021-10-22 16:59:02,356 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: closes. applyIndex: 12
2021-10-22 16:59:02,356 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:02,359 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-SegmentedRaftLogWorker close()
2021-10-22 16:59:02,368 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/87849bf4-a9ff-4817-b90e-c1b338864489
2021-10-22 16:59:02,368 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 command on datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2.
2021-10-22 16:59:02,368 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: remove  FOLLOWER 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410:t1, leader=null, voted=496e60f7-ff72-4faa-a603-98d08c2b20a2, raftlog=496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLog:OPENED:c0, conf=0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:59:02,368 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: shutdown
2021-10-22 16:59:02,368 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D8017FFDC410,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:02,368 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState
2021-10-22 16:59:02,368 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:02,369 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:02,369 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: closes. applyIndex: 0
2021-10-22 16:59:02,369 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:02,376 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410-SegmentedRaftLogWorker close()
2021-10-22 16:59:02,376 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-C1B338864489-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:02,402 [IPC Server handler 5 on default port 34635] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:02,404 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 is not found
2021-10-22 16:59:02,405 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=87849bf4-a9ff-4817-b90e-c1b338864489 is not found
2021-10-22 16:59:02,406 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-D8017FFDC410: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/6f9a9254-a9b5-4b27-8dc4-d8017ffdc410
2021-10-22 16:59:02,406 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=6f9a9254-a9b5-4b27-8dc4-d8017ffdc410 command on datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2.
2021-10-22 16:59:02,406 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:02,407 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:59:02,407 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:02,407 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:59:02,417 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:59:02,417 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(98)) - Creating symlink /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data-0/containers/hdds/883f3427-a505-43f4-9486-1245c279a00d -> ee3167b7-bee7-4b64-93b7-2f34565775dc as part of SCM HA finalization for datanode.
2021-10-22 16:59:02,420 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:02,420 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:02,830 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5129338393ns, electionTimeout:5113ms
2021-10-22 16:59:02,830 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState
2021-10-22 16:59:02,830 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:02,830 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:02,830 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54
2021-10-22 16:59:02,837 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54 ELECTION round 0: submit vote requests at term 1 for -1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1], old=null
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-EB7551DD8949 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for becomeLeader, leader elected after 5154ms
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:02,838 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:02,839 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderStateImpl
2021-10-22 16:59:02,840 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:02,843 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949/current/log_inprogress_0
2021-10-22 16:59:02,849 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1], old=null
2021-10-22 16:59:03,078 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:59:03,079 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:03,091 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=39cfda11-8995-4de1-8880-e3ac85eae426 to datanode:496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:03,091 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 39cfda11-8995-4de1-8880-e3ac85eae426, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:03.091Z[Etc/UTC]].
2021-10-22 16:59:03,092 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7badc6d1-fb03-4446-a556-ccee47802900 to datanode:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:03,092 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7badc6d1-fb03-4446-a556-ccee47802900 to datanode:f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:59:03,092 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7badc6d1-fb03-4446-a556-ccee47802900 to datanode:496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:03,092 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 7badc6d1-fb03-4446-a556-ccee47802900, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:03.092Z[Etc/UTC]].
2021-10-22 16:59:03,855 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:03,855 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-E3AC85EAE426:[496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1] returns group-E3AC85EAE426:java.util.concurrent.CompletableFuture@db2bda0[Not completed]
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-E3AC85EAE426:[496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:03,856 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: ConfigurationManager, init=-1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:03,857 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:59:03,857 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:03,857 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:03,857 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426 does not exist. Creating ...
2021-10-22 16:59:03,860 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:03,861 [pool-693-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426 has been successfully formatted.
2021-10-22 16:59:03,862 [pool-693-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-E3AC85EAE426: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:03,862 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:03,862 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:03,862 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:03,862 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:03,862 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 39cfda11-8995-4de1-8880-e3ac85eae426, Nodes: 496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:496e60f7-ff72-4faa-a603-98d08c2b20a2, CreationTimestamp2021-10-22T16:59:03.091Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:03,863 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,863 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:03,864 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:03,870 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:03,871 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:03,872 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:03,876 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:03,880 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,880 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,893 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:03,893 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:03,894 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:03,894 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:03,894 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:03,894 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:03,896 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: start as a follower, conf=-1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null
2021-10-22 16:59:03,896 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:03,896 [pool-693-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState
2021-10-22 16:59:03,898 [pool-693-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E3AC85EAE426,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:03,901 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5177902800ns, electionTimeout:5176ms
2021-10-22 16:59:03,901 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState
2021-10-22 16:59:03,901 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:03,904 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:03,904 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55
2021-10-22 16:59:03,910 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=39cfda11-8995-4de1-8880-e3ac85eae426
2021-10-22 16:59:03,910 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=39cfda11-8995-4de1-8880-e3ac85eae426.
2021-10-22 16:59:03,910 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: addNew group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0] returns group-CCEE47802900:java.util.concurrent.CompletableFuture@3755266[Not completed]
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: new RaftServerImpl for group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:03,912 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:03,913 [pool-693-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:03,913 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis] (custom)
2021-10-22 16:59:03,913 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:03,913 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:03,913 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 does not exist. Creating ...
2021-10-22 16:59:03,919 [pool-693-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:03,920 [pool-693-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 has been successfully formatted.
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CCEE47802900: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:03,923 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:03,924 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:03,926 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:03,926 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:03,926 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,926 [pool-693-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,931 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55 ELECTION round 0: submit vote requests at term 1 for -1: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:1], old=null
2021-10-22 16:59:03,931 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:03,931 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55
2021-10-22 16:59:03,931 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:03,931 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1DC269B63C3F with new leaderId: f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:03,939 [pool-693-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:03,941 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null
2021-10-22 16:59:03,941 [pool-693-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:03,942 [pool-693-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState
2021-10-22 16:59:03,942 [pool-693-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:03,951 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: change Leader from null to f84af4ee-5ee7-459e-b74c-1ef900d5895a at term 1 for becomeLeader, leader elected after 5215ms
2021-10-22 16:59:03,951 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:03,951 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:03,951 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderStateImpl
2021-10-22 16:59:03,952 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:03,958 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f/current/log_inprogress_0
2021-10-22 16:59:03,968 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: set configuration 0: [f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:1], old=null
2021-10-22 16:59:03,969 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=7badc6d1-fb03-4446-a556-ccee47802900
2021-10-22 16:59:03,985 [grpc-default-executor-3] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: addNew group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] returns group-CCEE47802900:java.util.concurrent.CompletableFuture@481d307a[Not completed]
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: new RaftServerImpl for group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:03,986 [pool-639-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:03,987 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis] (custom)
2021-10-22 16:59:03,987 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:03,987 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:03,987 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 does not exist. Creating ...
2021-10-22 16:59:03,988 [pool-639-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:03,990 [pool-639-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 has been successfully formatted.
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CCEE47802900: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:03,991 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:03,992 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:03,994 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:03,994 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:03,994 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,994 [pool-639-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:03,995 [pool-639-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:03,997 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:03,997 [pool-639-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:03,997 [pool-639-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState
2021-10-22 16:59:03,998 [pool-639-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:04,023 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: addNew group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] returns group-CCEE47802900:java.util.concurrent.CompletableFuture@1fea91ef[Not completed]
2021-10-22 16:59:04,023 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: new RaftServerImpl for group-CCEE47802900:[728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:04,023 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:04,023 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: ConfigurationManager, init=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis] (custom)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:04,024 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 does not exist. Creating ...
2021-10-22 16:59:04,026 [pool-666-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:04,027 [pool-666-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900 has been successfully formatted.
2021-10-22 16:59:04,028 [pool-666-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-CCEE47802900: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:04,032 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:04,032 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:04,032 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:04,032 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:04,033 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:04,034 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:04,035 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:04,035 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:04,036 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:04,036 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:04,036 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:04,036 [pool-666-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:04,060 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:04,061 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:04,061 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:04,061 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:04,061 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:04,061 [pool-666-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:04,063 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: start as a follower, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:04,063 [pool-666-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:04,063 [pool-666-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState
2021-10-22 16:59:04,069 [pool-666-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:59:04,092 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=7badc6d1-fb03-4446-a556-ccee47802900.
2021-10-22 16:59:05,402 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:59:08,909 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5012909351ns, electionTimeout:5010ms
2021-10-22 16:59:08,909 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState
2021-10-22 16:59:08,909 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:08,909 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:08,909 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56
2021-10-22 16:59:08,913 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56 ELECTION round 0: submit vote requests at term 1 for -1: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:1], old=null
2021-10-22 16:59:08,913 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:08,913 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56
2021-10-22 16:59:08,913 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:08,913 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-E3AC85EAE426 with new leaderId: 496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:08,914 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: change Leader from null to 496e60f7-ff72-4faa-a603-98d08c2b20a2 at term 1 for becomeLeader, leader elected after 5050ms
2021-10-22 16:59:08,915 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:08,915 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:08,915 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderStateImpl
2021-10-22 16:59:08,916 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:08,920 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: set configuration 0: [496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:1], old=null
2021-10-22 16:59:08,920 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426/current/log_inprogress_0
2021-10-22 16:59:09,042 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5044792305ns, electionTimeout:5043ms
2021-10-22 16:59:09,042 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState
2021-10-22 16:59:09,042 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:09,042 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:09,042 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57
2021-10-22 16:59:09,045 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57 ELECTION round 0: submit vote requests at term 1 for -1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:09,049 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: receive requestVote(ELECTION, 728e4f4b-82ae-4639-9130-a1513d8bab9d, group-CCEE47802900, 1, (t:0, i:0))
2021-10-22 16:59:09,049 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: receive requestVote(ELECTION, 728e4f4b-82ae-4639-9130-a1513d8bab9d, group-CCEE47802900, 1, (t:0, i:0))
2021-10-22 16:59:09,049 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FOLLOWER: accept ELECTION from 728e4f4b-82ae-4639-9130-a1513d8bab9d: our priority 0 <= candidate's priority 1
2021-10-22 16:59:09,049 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FOLLOWER: accept ELECTION from 728e4f4b-82ae-4639-9130-a1513d8bab9d: our priority 0 <= candidate's priority 1
2021-10-22 16:59:09,049 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:09,049 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState
2021-10-22 16:59:09,049 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: start f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState
2021-10-22 16:59:09,050 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:09,049 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:09,050 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState
2021-10-22 16:59:09,051 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: start 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState
2021-10-22 16:59:09,053 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:09,054 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900 replies to ELECTION vote request: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t1. Peer's state: f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900:t1, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLog:OPENED:c-1, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:09,061 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900 replies to ELECTION vote request: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-496e60f7-ff72-4faa-a603-98d08c2b20a2#0:OK-t1. Peer's state: 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900:t1, leader=null, voted=728e4f4b-82ae-4639-9130-a1513d8bab9d, raftlog=496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLog:OPENED:c-1, conf=-1: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|priority:0], old=null
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 728e4f4b-82ae-4639-9130-a1513d8bab9d<-f84af4ee-5ee7-459e-b74c-1ef900d5895a#0:OK-t1
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57 ELECTION round 0: result PASSED
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:09,063 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CCEE47802900 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for becomeLeader, leader elected after 5072ms
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:09,064 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:09,065 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:09,070 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 7badc6d1-fb03-4446-a556-ccee47802900, Nodes: 728e4f4b-82ae-4639-9130-a1513d8bab9d{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45393, RATIS=43791, RATIS_ADMIN=43791, RATIS_SERVER=43791, STANDALONE=43267], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}f84af4ee-5ee7-459e-b74c-1ef900d5895a{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43991, RATIS=43937, RATIS_ADMIN=43937, RATIS_SERVER=43937, STANDALONE=35649], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}496e60f7-ff72-4faa-a603-98d08c2b20a2{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41127, RATIS=45015, RATIS_ADMIN=45015, RATIS_SERVER=45015, STANDALONE=37423], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:728e4f4b-82ae-4639-9130-a1513d8bab9d, CreationTimestamp2021-10-22T16:59:03.092Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:09,072 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:09,072 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:09,072 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:09,072 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:09,072 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:09,073 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:09,074 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: start 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderStateImpl
2021-10-22 16:59:09,075 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:09,077 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/current/log_inprogress_0
2021-10-22 16:59:09,083 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CCEE47802900 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:09,083 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for appendEntries, leader elected after 5159ms
2021-10-22 16:59:09,089 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CCEE47802900 with new leaderId: 728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:09,090 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: change Leader from null to 728e4f4b-82ae-4639-9130-a1513d8bab9d at term 1 for appendEntries, leader elected after 5057ms
2021-10-22 16:59:09,100 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:09,100 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:09,106 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:09,111 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/current/log_inprogress_0
2021-10-22 16:59:09,117 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: set configuration 0: [728e4f4b-82ae-4639-9130-a1513d8bab9d|rpc:10.1.0.29:43791|dataStream:|priority:1, f84af4ee-5ee7-459e-b74c-1ef900d5895a|rpc:10.1.0.29:43937|dataStream:|priority:0, 496e60f7-ff72-4faa-a603-98d08c2b20a2|rpc:10.1.0.29:45015|dataStream:|priority:0], old=null
2021-10-22 16:59:09,117 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:09,120 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/current/log_inprogress_0
2021-10-22 16:59:10,403 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-10-22 16:59:10,403 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:10,403 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:10,403 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:59:10,403 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:59:10,511 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 16:59:10,512 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 16:59:10,512 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 16:59:10,512 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 16:59:10,514 [Listener at 127.0.0.1/41731] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:10,523 [Listener at 127.0.0.1/41731] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:59:10,523 [Listener at 127.0.0.1/41731] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:59:10,524 [Listener at 127.0.0.1/41731] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:10,527 [Listener at 127.0.0.1/41731] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:10,536 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35301
2021-10-22 16:59:10,544 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 16:59:10,547 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:10,560 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:10,560 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 16:59:10,560 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 16:59:10,560 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:59:10,560 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:10,561 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 16:59:10,561 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 16:59:10,561 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 16:59:10,561 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 16:59:10,561 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 16:59:10,561 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 16:59:10,562 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:10,565 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 16:59:10,565 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 43731 now
2021-10-22 16:59:10,566 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 43731 successfully
2021-10-22 16:59:10,566 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2a406f8c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 16:59:10,566 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 16:59:10,566 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 16:59:10,571 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 16:59:10,573 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 16:59:10,595 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4ff0de85{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:59:10,597 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@22656ad0{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:10,597 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:10,598 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4c58d4a7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:59:10,598 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7c635d16{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:10,631 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 16:59:10,816 [Listener at 127.0.0.1/41731] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 288 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:10,873 [Listener at 127.0.0.1/41731] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:10,952 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 16:59:10,986 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 16:59:11,062 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 16:59:11,097 [Listener at 127.0.0.1/41731] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:59:11,097 [Listener at 127.0.0.1/41731] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:59:11,132 [IPC Server handler 8 on default port 40935] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 16:59:11,132 [IPC Server handler 8 on default port 40935] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 16:59:11,140 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:11,141 [Listener at 127.0.0.1/41731] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:11,166 [Listener at 127.0.0.1/41731] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:59:11,166 [Listener at 127.0.0.1/41731] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:59:11,166 [Listener at 127.0.0.1/41731] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:59:11,166 [Listener at 127.0.0.1/41731] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:59:11,178 [Listener at 127.0.0.1/41731] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:59:11,179 [Listener at 127.0.0.1/41731] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:59:11,179 [Listener at 127.0.0.1/41731] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:59:11,180 [Listener at 127.0.0.1/41731] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:59:11,180 [Listener at 127.0.0.1/41731] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:59:11,180 [Listener at 127.0.0.1/41731] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:59:11,181 [Listener at 127.0.0.1/41731] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:59:11,181 [Listener at 127.0.0.1/41731] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:59:11,181 [Listener at 127.0.0.1/41731] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:59:11,181 [Listener at 127.0.0.1/41731] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:59:11,210 [Listener at 127.0.0.1/41731] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:59:11,210 [Listener at 127.0.0.1/41731] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:59:11,211 [Listener at 127.0.0.1/41731] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:59:11,211 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-10-22 16:59:11,219 [Listener at 127.0.0.1/41731] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:11,221 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:11,222 [Listener at 0.0.0.0/46803] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:11,222 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:11,243 [Listener at 0.0.0.0/41915] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:11,257 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:11,413 [Listener at 0.0.0.0/38623] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:59:11,421 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:59:11,422 [Listener at 0.0.0.0/38623] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:59:11,422 [Listener at 0.0.0.0/38623] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:59:11,422 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:11,427 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:11,427 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:11,427 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38623
2021-10-22 16:59:11,427 [Listener at 0.0.0.0/38623] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-10-22 16:59:11,518 [Listener at 0.0.0.0/38623] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:38623
2021-10-22 16:59:11,519 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:11,519 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:11,521 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:41915
2021-10-22 16:59:11,521 [Listener at 0.0.0.0/38623] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:41915
2021-10-22 16:59:11,521 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:11,522 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:11,543 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46803
2021-10-22 16:59:11,543 [Listener at 0.0.0.0/38623] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:46803
2021-10-22 16:59:11,543 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:11,544 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:11,549 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:59:11,549 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:11,550 [Listener at 0.0.0.0/38623] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:11,563 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@59fa057a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:11,568 [Listener at 0.0.0.0/38623] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:11,569 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:11,569 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:59:11,569 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:11,570 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:11,570 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46767
2021-10-22 16:59:11,570 [Listener at 0.0.0.0/38623] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:11,579 [Listener at 0.0.0.0/38623] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:11,579 [Listener at 0.0.0.0/38623] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:11,579 [Listener at 0.0.0.0/38623] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:11,580 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@92b1fe{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:11,580 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3e8757dd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:59:11,586 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@77c20962{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:59:11,621 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:11,639 [Listener at 0.0.0.0/38623] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@755d08eb{HTTP/1.1, (http/1.1)}{0.0.0.0:46767}
2021-10-22 16:59:11,639 [Listener at 0.0.0.0/38623] INFO  server.Server (Server.java:doStart(415)) - Started @132689ms
2021-10-22 16:59:11,639 [Listener at 0.0.0.0/38623] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:11,640 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:46767
2021-10-22 16:59:11,640 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:11,642 [Listener at 0.0.0.0/38623] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:59:11,830 [Listener at 0.0.0.0/38623] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 152 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:59:11,830 [Listener at 0.0.0.0/38623] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:59:11,830 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:11,882 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:11,883 [Listener at 0.0.0.0/38623] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:59:11,883 [Listener at 0.0.0.0/38623] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:59:12,153 [Listener at 0.0.0.0/38623] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:59:12,154 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:59:12,154 [Listener at 0.0.0.0/38623] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:59:12,154 [Listener at 0.0.0.0/38623] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:12,155 [Listener at 0.0.0.0/38623] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:12,175 [Listener at 0.0.0.0/38623] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:59:12,176 [Listener at 0.0.0.0/38623] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:37557
2021-10-22 16:59:12,176 [Listener at 0.0.0.0/38623] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:59:12,189 [Listener at 0.0.0.0/38623] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:12,189 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:12,193 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:59:12,193 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37557 (custom)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37557 (custom)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 37557 (custom)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:59:12,194 [Listener at 0.0.0.0/38623] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:59:12,195 [Listener at 0.0.0.0/38623] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:12,200 [Listener at 0.0.0.0/38623] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:59:12,200 [Listener at 0.0.0.0/38623] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:12,200 [Listener at 0.0.0.0/38623] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis] (custom)
2021-10-22 16:59:12,202 [Listener at 0.0.0.0/38623] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:37557|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@35221437[Not completed]
2021-10-22 16:59:12,203 [Listener at 0.0.0.0/38623] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 37557
2021-10-22 16:59:12,203 [Listener at 0.0.0.0/38623] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:12,204 [pool-771-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:37557|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:59:12,204 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:37557|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:12,229 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis] (custom)
2021-10-22 16:59:12,230 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:12,230 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:12,230 [pool-771-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:59:12,234 [pool-771-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:12,235 [pool-771-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:59:12,236 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:59:12,236 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:12,236 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:12,236 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:12,238 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:12,239 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:12,240 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:12,240 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:12,244 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:59:12,244 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:59:12,244 [pool-771-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:12,245 [pool-771-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:12,262 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:12,262 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:59:12,262 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:59:12,262 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:59:12,263 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:59:12,263 [pool-771-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:12,282 [Listener at 127.0.0.1/45189] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:59:12,282 [Listener at 127.0.0.1/45189] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:59:12,320 [Listener at 127.0.0.1/45189] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:45189
2021-10-22 16:59:12,320 [Listener at 127.0.0.1/45189] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 37557
2021-10-22 16:59:12,321 [Listener at 127.0.0.1/45189] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:37557|priority:0], old=null
2021-10-22 16:59:12,321 [Listener at 127.0.0.1/45189] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:12,321 [Listener at 127.0.0.1/45189] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:59:12,321 [Listener at 127.0.0.1/45189] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:59:12,322 [Listener at 127.0.0.1/45189] ERROR util.JmxRegister (JmxRegister.java:tryRegister(40)) - Failed to register JMX Bean with name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
javax.management.InstanceAlreadyExistsException: Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.ratis.util.JmxRegister.tryRegister(JmxRegister.java:38)
	at org.apache.ratis.util.JmxRegister.register(JmxRegister.java:56)
	at org.apache.ratis.server.impl.RaftServerImpl.registerMBean(RaftServerImpl.java:317)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:308)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy.start(RaftServerProxy.java:371)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.start(OzoneManagerRatisServer.java:522)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1310)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:597)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 16:59:12,335 [Listener at 127.0.0.1/45189] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:59:12,336 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 37557
2021-10-22 16:59:12,343 [Listener at 127.0.0.1/45189] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:59:12,344 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@3086d996] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:59:12,353 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:59:12,353 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:12,354 [Listener at 127.0.0.1/45189] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:12,355 [Listener at 127.0.0.1/45189] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:12,356 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:12,356 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:59:12,356 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:12,356 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:12,357 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 38469
2021-10-22 16:59:12,357 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:12,376 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:12,376 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:12,376 [Listener at 127.0.0.1/45189] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:59:12,385 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7d674440{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:12,386 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3ca92b2b{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:59:12,395 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3760cccd{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:59:12,428 [Listener at 127.0.0.1/45189] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@13eaabe8{HTTP/1.1, (http/1.1)}{0.0.0.0:38469}
2021-10-22 16:59:12,428 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(415)) - Started @133478ms
2021-10-22 16:59:12,428 [Listener at 127.0.0.1/45189] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:12,429 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:38469
2021-10-22 16:59:12,430 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:12,430 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:12,447 [Listener at 127.0.0.1/45189] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:59:12,463 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@684a5f7a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:12,488 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:12,488 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:12,489 [Listener at 127.0.0.1/45189] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:12,522 [Listener at 127.0.0.1/45189] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:12,592 [Listener at 127.0.0.1/45189] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:12,670 [Listener at 127.0.0.1/45189] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 76 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:12,692 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:12,695 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:12,695 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:12,695 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:12,696 [Listener at 127.0.0.1/45189] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:12,708 [Listener at 127.0.0.1/45189] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:12,731 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:12,750 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds
2021-10-22 16:59:12,767 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds
2021-10-22 16:59:12,821 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis to VolumeSet
2021-10-22 16:59:12,826 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis
2021-10-22 16:59:12,833 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis
2021-10-22 16:59:12,869 [Thread-1935] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds
2021-10-22 16:59:12,869 [Listener at 127.0.0.1/45189] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:12,871 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:12,872 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:12,872 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:12,873 [Listener at 127.0.0.1/45189] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:12,873 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:12,873 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:12,873 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis] (custom)
2021-10-22 16:59:12,889 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:59:12,889 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:12,890 [Listener at 127.0.0.1/45189] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:12,891 [Listener at 127.0.0.1/45189] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:12,891 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:12,892 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:12,892 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:12,892 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:12,892 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32897
2021-10-22 16:59:12,895 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:12,898 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:12,898 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:12,898 [Listener at 127.0.0.1/45189] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:59:12,899 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@79a1018b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:12,899 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@38745a76{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:13,027 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3eb7e6eb{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-32897-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-8474772626346273439/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:13,048 [Listener at 127.0.0.1/45189] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@424f66ba{HTTP/1.1, (http/1.1)}{0.0.0.0:32897}
2021-10-22 16:59:13,048 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(415)) - Started @134098ms
2021-10-22 16:59:13,048 [Listener at 127.0.0.1/45189] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:13,049 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:32897
2021-10-22 16:59:13,049 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:13,050 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:13,050 [Listener at 127.0.0.1/45189] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:13,060 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:13,098 [Listener at 127.0.0.1/45189] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:13,108 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:13,108 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:13,119 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6c472501] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:13,126 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/meta/datanode.id
2021-10-22 16:59:13,154 [Listener at 127.0.0.1/45189] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:13,245 [Listener at 127.0.0.1/45189] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 89 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:13,248 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:13,248 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:13,248 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:13,248 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:13,248 [Listener at 127.0.0.1/45189] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:13,249 [Listener at 127.0.0.1/45189] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:13,250 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:13,250 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds
2021-10-22 16:59:13,251 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds
2021-10-22 16:59:13,290 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis to VolumeSet
2021-10-22 16:59:13,290 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis
2021-10-22 16:59:13,344 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis
2021-10-22 16:59:13,411 [Thread-1947] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds
2021-10-22 16:59:13,411 [Listener at 127.0.0.1/45189] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:13,413 [Listener at 127.0.0.1/45189] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:13,413 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:13,413 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:59:13,413 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:59:13,414 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:59:13,414 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:13,414 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:13,414 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:13,414 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:13,415 [Listener at 127.0.0.1/45189] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:13,415 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:13,415 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:13,415 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis] (custom)
2021-10-22 16:59:13,421 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:59:13,421 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:13,422 [Listener at 127.0.0.1/45189] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:13,423 [Listener at 127.0.0.1/45189] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:13,423 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:13,424 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:13,424 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:13,424 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:13,424 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 32789
2021-10-22 16:59:13,424 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:13,426 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:13,426 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:13,426 [Listener at 127.0.0.1/45189] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:59:13,427 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3c6251d3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:13,427 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2a444d53{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:13,498 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1177135523ns, electionTimeout:1175ms
2021-10-22 16:59:13,498 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:59:13,498 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:13,498 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:13,498 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection58
2021-10-22 16:59:13,519 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection58 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:37557|priority:0], old=null
2021-10-22 16:59:13,520 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection58 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:13,520 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection58
2021-10-22 16:59:13,520 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:13,520 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 1284ms
2021-10-22 16:59:13,520 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:13,521 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:59:13,521 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:13,522 [om1@group-C5BA1605619E-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:59:13,526 [om1@group-C5BA1605619E-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:13,548 [om1@group-C5BA1605619E-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:37557|admin:|client:|dataStream:|priority:0], old=null
2021-10-22 16:59:13,558 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-10-22 16:59:13,563 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "om1"
address: "localhost:37557"
]
2021-10-22 16:59:13,574 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1a9a057a{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-32789-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5600681045469014202/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:13,585 [Listener at 127.0.0.1/45189] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@78dd5c47{HTTP/1.1, (http/1.1)}{0.0.0.0:32789}
2021-10-22 16:59:13,585 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(415)) - Started @134636ms
2021-10-22 16:59:13,586 [Listener at 127.0.0.1/45189] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:13,587 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:32789
2021-10-22 16:59:13,587 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:13,588 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:13,588 [Listener at 127.0.0.1/45189] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:13,594 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:13,631 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:13,631 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:13,645 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1a5748b1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:13,650 [Listener at 127.0.0.1/45189] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:13,660 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/meta/datanode.id
2021-10-22 16:59:13,690 [Listener at 127.0.0.1/45189] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:13,781 [Listener at 127.0.0.1/45189] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 89 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:13,796 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:13,796 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:13,796 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:13,796 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:13,796 [Listener at 127.0.0.1/45189] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:13,801 [Listener at 127.0.0.1/45189] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:13,801 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:13,801 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds
2021-10-22 16:59:13,801 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds
2021-10-22 16:59:13,859 [Listener at 127.0.0.1/45189] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis to VolumeSet
2021-10-22 16:59:13,859 [Listener at 127.0.0.1/45189] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis
2021-10-22 16:59:13,859 [Listener at 127.0.0.1/45189] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis
2021-10-22 16:59:13,971 [Thread-1961] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds
2021-10-22 16:59:13,971 [Listener at 127.0.0.1/45189] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:13,980 [Listener at 127.0.0.1/45189] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:13,980 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:13,980 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-10-22 16:59:13,980 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-10-22 16:59:13,981 [Listener at 127.0.0.1/45189] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-10-22 16:59:13,981 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:13,981 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:13,981 [Listener at 127.0.0.1/45189] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:13,981 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:13,982 [Listener at 127.0.0.1/45189] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:13,982 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:13,982 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:13,982 [Listener at 127.0.0.1/45189] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis] (custom)
2021-10-22 16:59:14,012 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-10-22 16:59:14,012 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:14,013 [Listener at 127.0.0.1/45189] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:14,014 [Listener at 127.0.0.1/45189] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:14,014 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:14,015 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:14,015 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:14,015 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:14,015 [Listener at 127.0.0.1/45189] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 41721
2021-10-22 16:59:14,015 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:14,017 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:14,017 [Listener at 127.0.0.1/45189] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:14,017 [Listener at 127.0.0.1/45189] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:14,019 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@51fe41e4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:14,019 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1cfc072d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:14,134 [Listener at 127.0.0.1/45189] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@349e3d22{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-41721-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3517643476276826480/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:14,139 [Listener at 127.0.0.1/45189] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1faafc08{HTTP/1.1, (http/1.1)}{0.0.0.0:41721}
2021-10-22 16:59:14,139 [Listener at 127.0.0.1/45189] INFO  server.Server (Server.java:doStart(415)) - Started @135189ms
2021-10-22 16:59:14,139 [Listener at 127.0.0.1/45189] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:14,140 [Listener at 127.0.0.1/45189] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:41721
2021-10-22 16:59:14,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:59:14,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:14,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:14,191 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:14,227 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:14,227 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:14,235 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@508ea7f7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:14,264 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/meta/datanode.id
2021-10-22 16:59:15,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:59:15,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:15,169 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:15,180 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:15,180 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:15,181 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38821
2021-10-22 16:59:15,182 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 0b93af3c-3bff-453d-a892-2543430d90de: start RPC server
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 0b93af3c-3bff-453d-a892-2543430d90de: GrpcService started, listening on 44709
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0b93af3c-3bff-453d-a892-2543430d90de is started using port 44709 for RATIS
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0b93af3c-3bff-453d-a892-2543430d90de is started using port 44709 for RATIS_ADMIN
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0b93af3c-3bff-453d-a892-2543430d90de is started using port 44709 for RATIS_SERVER
2021-10-22 16:59:15,192 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 0b93af3c-3bff-453d-a892-2543430d90de is started using port 40261
2021-10-22 16:59:15,209 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@1b109561] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-0b93af3c-3bff-453d-a892-2543430d90de: Started
2021-10-22 16:59:15,632 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:15,633 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: close
2021-10-22 16:59:15,633 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: shutdown
2021-10-22 16:59:15,633 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:15,633 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-LeaderStateImpl
2021-10-22 16:59:15,633 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->496e60f7-ff72-4faa-a603-98d08c2b20a2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:15,633 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:15,634 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: Completed APPEND_ENTRIES, lastRequest: 728e4f4b-82ae-4639-9130-a1513d8bab9d->496e60f7-ff72-4faa-a603-98d08c2b20a2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:59:15,634 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->f84af4ee-5ee7-459e-b74c-1ef900d5895a-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:15,635 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: Completed APPEND_ENTRIES, lastRequest: 728e4f4b-82ae-4639-9130-a1513d8bab9d->f84af4ee-5ee7-459e-b74c-1ef900d5895a#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:59:15,637 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->f84af4ee-5ee7-459e-b74c-1ef900d5895a-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:15,637 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->f84af4ee-5ee7-459e-b74c-1ef900d5895a: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:59:15,641 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:15,646 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->496e60f7-ff72-4faa-a603-98d08c2b20a2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:15,646 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900->496e60f7-ff72-4faa-a603-98d08c2b20a2: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:59:15,646 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CCEE47802900: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0
2021-10-22 16:59:15,647 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CCEE47802900: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:15,647 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:15,647 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:15,648 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900: closes. applyIndex: 0
2021-10-22 16:59:15,648 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:15,657 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-CCEE47802900-SegmentedRaftLogWorker close()
2021-10-22 16:59:15,659 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: shutdown
2021-10-22 16:59:15,659 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EB7551DD8949,id=728e4f4b-82ae-4639-9130-a1513d8bab9d
2021-10-22 16:59:15,659 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-LeaderStateImpl
2021-10-22 16:59:15,659 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:15,660 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:15,660 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-EB7551DD8949: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949/sm/snapshot.1_0
2021-10-22 16:59:15,663 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-EB7551DD8949: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-0/data/ratis/a8ee625c-c02b-4383-acff-eb7551dd8949/sm/snapshot.1_0 took: 2 ms
2021-10-22 16:59:15,663 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:15,663 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:15,667 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949: closes. applyIndex: 0
2021-10-22 16:59:15,667 [728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:15,671 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:15,672 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: close
2021-10-22 16:59:15,672 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: shutdown
2021-10-22 16:59:15,672 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:59:15,672 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState
2021-10-22 16:59:15,672 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:15,672 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:15,673 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CCEE47802900: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0
2021-10-22 16:59:15,674 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CCEE47802900: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:15,674 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:15,674 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:15,676 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900: closes. applyIndex: 0
2021-10-22 16:59:15,676 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:15,680 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d@group-EB7551DD8949-SegmentedRaftLogWorker close()
2021-10-22 16:59:15,680 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-CCEE47802900-SegmentedRaftLogWorker close()
2021-10-22 16:59:15,693 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:15,693 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:15,695 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 34255
2021-10-22 16:59:15,695 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown server with port 43791 now
2021-10-22 16:59:15,695 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: shutdown
2021-10-22 16:59:15,695 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1DC269B63C3F,id=f84af4ee-5ee7-459e-b74c-1ef900d5895a
2021-10-22 16:59:15,696 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-LeaderStateImpl
2021-10-22 16:59:15,696 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:15,697 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:15,697 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1DC269B63C3F: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f/sm/snapshot.1_0
2021-10-22 16:59:15,698 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1DC269B63C3F: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-1/data/ratis/b1b21f24-41b5-4328-96e9-1dc269b63c3f/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:15,699 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:15,699 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:15,702 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F: closes. applyIndex: 0
2021-10-22 16:59:15,703 [f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:15,709 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a@group-1DC269B63C3F-SegmentedRaftLogWorker close()
2021-10-22 16:59:15,711 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:15,739 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start RPC server
2021-10-22 16:59:15,740 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: GrpcService started, listening on 40903
2021-10-22 16:59:15,740 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 is started using port 40903 for RATIS
2021-10-22 16:59:15,740 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 is started using port 40903 for RATIS_ADMIN
2021-10-22 16:59:15,740 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 is started using port 40903 for RATIS_SERVER
2021-10-22 16:59:15,740 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 is started using port 37307
2021-10-22 16:59:15,742 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@52ee4e3f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: Started
2021-10-22 16:59:15,747 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown server with port 43937 now
2021-10-22 16:59:15,761 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 728e4f4b-82ae-4639-9130-a1513d8bab9d: shutdown server with port 43791 successfully
2021-10-22 16:59:15,761 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7d57ecb8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-728e4f4b-82ae-4639-9130-a1513d8bab9d: Stopped
2021-10-22 16:59:15,785 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:15,811 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - f84af4ee-5ee7-459e-b74c-1ef900d5895a: shutdown server with port 43937 successfully
2021-10-22 16:59:15,811 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7b534938] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-f84af4ee-5ee7-459e-b74c-1ef900d5895a: Stopped
2021-10-22 16:59:15,814 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:16,170 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 16:59:16,170 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:16,170 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:16,273 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:16,273 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:16,278 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 32859
2021-10-22 16:59:16,289 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:16,304 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start RPC server
2021-10-22 16:59:16,304 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 98908e51-2f97-4b53-a15b-7d12753460cc: GrpcService started, listening on 45989
2021-10-22 16:59:16,306 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 98908e51-2f97-4b53-a15b-7d12753460cc is started using port 45989 for RATIS
2021-10-22 16:59:16,306 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 98908e51-2f97-4b53-a15b-7d12753460cc is started using port 45989 for RATIS_ADMIN
2021-10-22 16:59:16,306 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 98908e51-2f97-4b53-a15b-7d12753460cc is started using port 45989 for RATIS_SERVER
2021-10-22 16:59:16,307 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 98908e51-2f97-4b53-a15b-7d12753460cc is started using port 35109
2021-10-22 16:59:16,307 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@632ce8f0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-98908e51-2f97-4b53-a15b-7d12753460cc: Started
2021-10-22 16:59:16,626 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:16,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: close
2021-10-22 16:59:16,627 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: shutdown
2021-10-22 16:59:16,628 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:16,628 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderStateImpl
2021-10-22 16:59:16,628 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:16,628 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:16,628 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:16,638 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: set stopIndex = 6
2021-10-22 16:59:16,641 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->5bad66d6-0a83-4e06-be4a-65825076cd25#91-t3,previous=(t:3, i:5),leaderCommit=4,initializing? true,entries: size=1, first=(t:3, i:6), METADATAENTRY(c:4)
2021-10-22 16:59:16,639 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:3, i:6) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.3_6
2021-10-22 16:59:16,639 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#89-t3,previous=(t:3, i:5),leaderCommit=4,initializing? true,entries: size=1, first=(t:3, i:6), METADATAENTRY(c:4)
2021-10-22 16:59:16,646 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:16,646 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:3, i:6) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.3_6 took: 7 ms
2021-10-22 16:59:16,647 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 6
2021-10-22 16:59:16,647 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-10-22 16:59:16,648 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 7 -> 6
2021-10-22 16:59:16,648 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:16,648 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 7 -> 6
2021-10-22 16:59:16,648 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: closes. applyIndex: 6
2021-10-22 16:59:16,648 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:16,658 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:16,659 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: shutdown
2021-10-22 16:59:16,659 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB2948E85DB6,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:16,659 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderStateImpl
2021-10-22 16:59:16,659 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:16,660 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CB2948E85DB6: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/sm/snapshot.1_0
2021-10-22 16:59:16,660 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:16,661 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CB2948E85DB6: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:16,661 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:16,661 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:16,662 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: closes. applyIndex: 0
2021-10-22 16:59:16,663 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:16,663 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker close()
2021-10-22 16:59:16,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown server with port 44213 now
2021-10-22 16:59:16,676 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown server with port 44213 successfully
2021-10-22 16:59:16,677 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2d893df1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Stopped
2021-10-22 16:59:16,679 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:17,123 [IPC Server handler 5 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:17,124 [IPC Server handler 5 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:59:17,128 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 16:59:17,131 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 16:59:17,146 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:17,147 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea to datanode:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:17,149 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 16:59:17,151 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 0078763c-5765-4d09-aee4-a0a7790625ea, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:17.147Z[Etc/UTC]].
2021-10-22 16:59:17,170 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 1 of 3 DN Heartbeats.
2021-10-22 16:59:17,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:17,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:17,637 [IPC Server handler 0 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:17,637 [IPC Server handler 0 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:59:17,637 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:17,638 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 to datanode:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:17,651 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3e4acf07-9261-4b6e-95ec-103f173fe6a3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:17.638Z[Etc/UTC]].
2021-10-22 16:59:17,651 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 16:59:18,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-10-22 16:59:18,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:18,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:18,241 [IPC Server handler 1 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:18,241 [IPC Server handler 1 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 16:59:18,242 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:18,242 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75 to datanode:98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:18,243 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 5e3f35be-be72-409c-8e49-69074cab8b75, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:18.242Z[Etc/UTC]].
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 16:59:18,249 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:18,250 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 to datanode:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:18,250 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 to datanode:98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:18,250 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 to datanode:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:18,251 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:18.250Z[Etc/UTC]].
2021-10-22 16:59:18,799 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:18,809 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@569a3ef0{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:18,820 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1acf9461{HTTP/1.1, (http/1.1)}{0.0.0.0:45939}
2021-10-22 16:59:18,820 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:18,830 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5b2d5a1f{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:18,831 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1143728d{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:18,842 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:18,882 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4699fc96{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:18,883 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@72213b92{HTTP/1.1, (http/1.1)}{0.0.0.0:33777}
2021-10-22 16:59:18,883 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:18,889 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@24f52979{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:18,900 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@60af193f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:19,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:19,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:19,197 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:19,708 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:19,713 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@15501c69{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:19,720 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1ed7c61c{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:19,721 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:19,721 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1567dae8{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:19,721 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@18c82a00{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:19,730 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:19,730 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:19,730 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:19,787 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:19,847 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:19,921 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 71 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:19,922 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:19,922 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:19,922 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:19,922 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:19,923 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:19,924 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:19,924 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:19,924 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:59:19,925 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:59:19,942 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis to VolumeSet
2021-10-22 16:59:19,943 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis
2021-10-22 16:59:19,943 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis
2021-10-22 16:59:19,993 [Thread-2002] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:59:20,127 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0b93af3c-3bff-453d-a892-2543430d90de: addNew group-A0A7790625EA:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1] returns group-A0A7790625EA:java.util.concurrent.CompletableFuture@4446d8a4[Not completed]
2021-10-22 16:59:20,128 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0b93af3c-3bff-453d-a892-2543430d90de: new RaftServerImpl for group-A0A7790625EA:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,146 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: ConfigurationManager, init=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis] (custom)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,147 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,161 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea does not exist. Creating ...
2021-10-22 16:59:20,163 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,165 [pool-784-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea has been successfully formatted.
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A0A7790625EA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,168 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,169 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,172 [Thread-2002] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds
2021-10-22 16:59:20,183 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:20,172 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 0078763c-5765-4d09-aee4-a0a7790625ea, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0b93af3c-3bff-453d-a892-2543430d90de, CreationTimestamp2021-10-22T16:59:17.147Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:20,182 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,212 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,212 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,212 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,212 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,206 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:20,198 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:20,219 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:20,219 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:20,221 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:20,221 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:20,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 44213 (custom)
2021-10-22 16:59:20,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 44213 (custom)
2021-10-22 16:59:20,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 44213 (custom)
2021-10-22 16:59:20,221 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:20,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,222 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:20,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:20,222 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,222 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,223 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,223 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,223 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,223 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,225 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: start as a follower, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null
2021-10-22 16:59:20,225 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:20,225 [pool-784-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState
2021-10-22 16:59:20,226 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:20,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,226 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:59:20,226 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:20,229 [pool-784-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0A7790625EA,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:20,238 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea
2021-10-22 16:59:20,239 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea.
2021-10-22 16:59:20,239 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0b93af3c-3bff-453d-a892-2543430d90de: addNew group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] returns group-4D07934EF5E3:java.util.concurrent.CompletableFuture@407954f4[Not completed]
2021-10-22 16:59:20,241 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0b93af3c-3bff-453d-a892-2543430d90de: new RaftServerImpl for group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,241 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: ConfigurationManager, init=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis] (custom)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,242 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 does not exist. Creating ...
2021-10-22 16:59:20,286 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,291 [pool-784-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 has been successfully formatted.
2021-10-22 16:59:20,307 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-455B613222B4:[] returns group-455B613222B4:java.util.concurrent.CompletableFuture@7d5a411e[Not completed]
2021-10-22 16:59:20,308 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6
2021-10-22 16:59:20,308 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-CB2948E85DB6:[] returns group-CB2948E85DB6:java.util.concurrent.CompletableFuture@149eed2b[Not completed]
2021-10-22 16:59:20,311 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-455B613222B4:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D07934EF5E3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,320 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,321 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,322 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,322 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,322 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,328 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,328 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,328 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,328 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,329 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,330 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,331 [pool-850-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=3, votedFor=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/raft-meta
2021-10-22 16:59:20,331 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:42321
2021-10-22 16:59:20,346 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:20,347 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:20,345 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,349 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,349 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,349 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,334 [pool-850-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-455B613222B4: Setting the last applied index to (t:3, i:6)
2021-10-22 16:59:20,350 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:20,350 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,350 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,350 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,350 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,354 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:20,355 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:20,355 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:20,355 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:20,355 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:20,356 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 42321
2021-10-22 16:59:20,356 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:20,354 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,364 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,365 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,365 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,390 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:20,390 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:20,391 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:20,397 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1e2b1988{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:20,398 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5f37b0dc{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:20,431 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,432 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,434 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:20,439 [pool-850-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0
2021-10-22 16:59:20,439 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 6
2021-10-22 16:59:20,439 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,449 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,451 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:20,452 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: start as a follower, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:20,452 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:20,452 [pool-784-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:20,475 [pool-784-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:20,476 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLog: commitIndex: updateToMax old=6, new=4, updated? false
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,504 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-CB2948E85DB6:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,508 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,509 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,509 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:59:20,509 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,509 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,519 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,519 [pool-850-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/raft-meta
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-CB2948E85DB6: Setting the last applied index to (t:1, i:0)
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: set configuration 0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,520 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,521 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,521 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,526 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6
2021-10-22 16:59:20,526 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,527 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,532 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98908e51-2f97-4b53-a15b-7d12753460cc: addNew group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1] returns group-4D07934EF5E3:java.util.concurrent.CompletableFuture@7679d2b5[Not completed]
2021-10-22 16:59:20,533 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,534 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,540 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 98908e51-2f97-4b53-a15b-7d12753460cc: new RaftServerImpl for group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,546 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,546 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,546 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,546 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,546 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: ConfigurationManager, init=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis] (custom)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,547 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 does not exist. Creating ...
2021-10-22 16:59:20,549 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,560 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: set configuration 0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:20,560 [pool-850-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/log_inprogress_0
2021-10-22 16:59:20,560 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:59:20,561 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,561 [pool-822-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 has been successfully formatted.
2021-10-22 16:59:20,571 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,572 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,572 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,572 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,572 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,572 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D07934EF5E3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,587 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,588 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,589 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,589 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,590 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,590 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,591 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,593 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: start as a follower, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:20,593 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:20,593 [pool-822-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:20,594 [pool-822-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:20,647 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: addNew group-103F173FE6A3:[0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] returns group-103F173FE6A3:java.util.concurrent.CompletableFuture@7ec45d23[Not completed]
2021-10-22 16:59:20,647 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: addNew group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1] returns group-4D07934EF5E3:java.util.concurrent.CompletableFuture@200308e4[Not completed]
2021-10-22 16:59:20,658 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3899eae9{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42321-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6769562017296256620/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:20,661 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@65c72711{HTTP/1.1, (http/1.1)}{0.0.0.0:42321}
2021-10-22 16:59:20,661 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @141711ms
2021-10-22 16:59:20,661 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:20,664 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42321
2021-10-22 16:59:20,666 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:20,673 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: new RaftServerImpl for group-103F173FE6A3:[0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,693 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: ConfigurationManager, init=-1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis] (custom)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,694 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,695 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3 does not exist. Creating ...
2021-10-22 16:59:20,696 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,698 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:20,698 [pool-803-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3 has been successfully formatted.
2021-10-22 16:59:20,704 [pool-803-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-103F173FE6A3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:20,704 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,705 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,705 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,705 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,705 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,706 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,706 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,706 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3
2021-10-22 16:59:20,706 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,707 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,708 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,709 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 3e4acf07-9261-4b6e-95ec-103f173fe6a3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T16:59:17.638Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:20,709 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,710 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,716 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: new RaftServerImpl for group-4D07934EF5E3:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:20,718 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:20,718 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: ConfigurationManager, init=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis] (custom)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:20,719 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 does not exist. Creating ...
2021-10-22 16:59:20,725 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:20,733 [pool-803-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 has been successfully formatted.
2021-10-22 16:59:20,755 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:20,755 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:20,762 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7266a5ce] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:20,770 [pool-803-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D07934EF5E3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:20,771 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:20,771 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:20,771 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:20,771 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:20,771 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:20,772 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:20,774 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:20,774 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:20,774 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,774 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:20,775 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:20,794 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:20,796 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: start as a follower, conf=-1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:20,796 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:20,796 [pool-803-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState
2021-10-22 16:59:20,818 [pool-803-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-103F173FE6A3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:20,819 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: start as a follower, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:20,820 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:20,820 [pool-803-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:20,820 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3
2021-10-22 16:59:20,820 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3.
2021-10-22 16:59:20,820 [pool-803-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:20,849 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3.
2021-10-22 16:59:21,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:21,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:21,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:21,240 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98908e51-2f97-4b53-a15b-7d12753460cc: addNew group-69074CAB8B75:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1] returns group-69074CAB8B75:java.util.concurrent.CompletableFuture@58d06e63[Not completed]
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 98908e51-2f97-4b53-a15b-7d12753460cc: new RaftServerImpl for group-69074CAB8B75:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: ConfigurationManager, init=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:21,241 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis] (custom)
2021-10-22 16:59:21,242 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:21,242 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:21,242 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75 does not exist. Creating ...
2021-10-22 16:59:21,244 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:21,245 [pool-822-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75 has been successfully formatted.
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-69074CAB8B75: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:21,246 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:21,247 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:21,248 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:21,248 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:21,248 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:21,248 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:21,248 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:21,249 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:21,250 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 5e3f35be-be72-409c-8e49-69074cab8b75, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:98908e51-2f97-4b53-a15b-7d12753460cc, CreationTimestamp2021-10-22T16:59:18.242Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:21,250 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:21,251 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:21,251 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:21,253 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:21,258 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:21,260 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: start as a follower, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null
2021-10-22 16:59:21,261 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:21,261 [pool-822-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState
2021-10-22 16:59:21,261 [pool-822-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69074CAB8B75,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:21,262 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75
2021-10-22 16:59:21,262 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75.
2021-10-22 16:59:21,326 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:21,834 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5234337648ns, electionTimeout:5085ms
2021-10-22 16:59:21,834 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:59:21,835 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-10-22 16:59:21,835 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:21,835 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59
2021-10-22 16:59:21,843 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca to null at term 3 for ELECTION
2021-10-22 16:59:21,855 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59 ELECTION round 0: submit vote requests at term 4 for 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:21,878 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: receive requestVote(ELECTION, 5bad66d6-0a83-4e06-be4a-65825076cd25, group-455B613222B4, 4, (t:3, i:6))
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FOLLOWER: accept ELECTION from 5bad66d6-0a83-4e06-be4a-65825076cd25: our priority 0 <= candidate's priority 0
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: change Leader from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca to null at term 4 for updateCurrentTerm
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:59:21,894 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:59:21,895 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:21,897 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4 replies to ELECTION vote request: 5bad66d6-0a83-4e06-be4a-65825076cd25<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t4. Peer's state: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4:t4, leader=null, voted=5bad66d6-0a83-4e06-be4a-65825076cd25, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog:OPENED:c6, conf=0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59: ELECTION PASSED received 1 response(s) and 1 exception(s):
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 5bad66d6-0a83-4e06-be4a-65825076cd25<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t4
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59 ELECTION round 0: result PASSED
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2021-10-22 16:59:21,898 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:21,899 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from null to 5bad66d6-0a83-4e06-be4a-65825076cd25 at term 4 for becomeLeader, leader elected after 55ms
2021-10-22 16:59:21,899 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:21,900 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:21,900 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:21,900 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:21,900 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:21,901 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:21,901 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:21,901 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:21,901 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:21,901 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:21,905 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:21,905 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:21,905 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:21,905 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:21,911 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:21,911 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:21,911 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:21,913 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:21,922 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:21,923 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:21,924 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderStateImpl
2021-10-22 16:59:21,924 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-10-22 16:59:21,925 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_0-6
2021-10-22 16:59:21,927 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7
2021-10-22 16:59:21,930 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:21,930 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: change Leader from null to 5bad66d6-0a83-4e06-be4a-65825076cd25 at term 4 for appendEntries, leader elected after 35ms
2021-10-22 16:59:21,935 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:21,936 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:21,937 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-GrpcLogAppender: Leader has not got in touch with Follower 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca(c-1,m0,n7, attendVote=true, lastRpcSendTime=5236, lastRpcResponseTime=5236) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:21,942 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:21,942 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-GrpcLogAppender: Leader has not got in touch with Follower 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca(c-1,m0,n8, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5241) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:21,943 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:21,943 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-10-22 16:59:21,944 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_0-6
2021-10-22 16:59:21,946 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7
2021-10-22 16:59:21,984 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:21,985 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-GrpcLogAppender: Leader has not got in touch with Follower 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca(c-1,m0,n9, attendVote=true, lastRpcSendTime=2, lastRpcResponseTime=5284) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:22,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:22,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:22,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:22,252 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:22,277 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:22,784 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:22,784 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:22,785 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 33297
2021-10-22 16:59:22,785 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:22,827 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:22,859 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: start as a follower, conf=0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:22,859 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:59:22,860 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState
2021-10-22 16:59:22,863 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB2948E85DB6,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:22,864 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: start as a follower, conf=0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:22,864 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from      null to FOLLOWER at term 3 for startAsFollower
2021-10-22 16:59:22,864 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:59:22,864 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:22,865 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start RPC server
2021-10-22 16:59:22,869 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: GrpcService started, listening on 44213
2021-10-22 16:59:22,872 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS
2021-10-22 16:59:22,873 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS_ADMIN
2021-10-22 16:59:22,873 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca is started using port 44213 for RATIS_SERVER
2021-10-22 16:59:22,873 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@3ccc33b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Started
2021-10-22 16:59:23,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:23,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:23,220 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:23,278 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:23,835 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:23,839 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: close
2021-10-22 16:59:23,839 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: shutdown
2021-10-22 16:59:23,839 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCEE47802900,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:23,839 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState
2021-10-22 16:59:23,839 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:23,839 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CCEE47802900: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0
2021-10-22 16:59:23,841 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CCEE47802900: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/7badc6d1-fb03-4446-a556-ccee47802900/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:23,841 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:23,841 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:23,843 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900: closes. applyIndex: 0
2021-10-22 16:59:23,843 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:23,847 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-SegmentedRaftLogWorker close()
2021-10-22 16:59:23,854 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: shutdown
2021-10-22 16:59:23,854 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E3AC85EAE426,id=496e60f7-ff72-4faa-a603-98d08c2b20a2
2021-10-22 16:59:23,854 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-LeaderStateImpl
2021-10-22 16:59:23,854 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:23,857 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:23,864 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-CCEE47802900-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:23,858 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-E3AC85EAE426: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426/sm/snapshot.1_0
2021-10-22 16:59:23,870 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-E3AC85EAE426: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-883f3427-a505-43f4-9486-1245c279a00d/datanode-2/data/ratis/39cfda11-8995-4de1-8880-e3ac85eae426/sm/snapshot.1_0 took: 12 ms
2021-10-22 16:59:23,870 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:23,870 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:23,873 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426: closes. applyIndex: 0
2021-10-22 16:59:23,874 [496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:23,877 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2@group-E3AC85EAE426-SegmentedRaftLogWorker close()
2021-10-22 16:59:23,884 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown server with port 45015 now
2021-10-22 16:59:23,895 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 496e60f7-ff72-4faa-a603-98d08c2b20a2: shutdown server with port 45015 successfully
2021-10-22 16:59:23,895 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@6a83903b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-496e60f7-ff72-4faa-a603-98d08c2b20a2: Stopped
2021-10-22 16:59:23,896 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:24,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:24,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:24,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:24,253 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:24,331 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:24,490 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:24,490 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: change Leader from null to 5bad66d6-0a83-4e06-be4a-65825076cd25 at term 4 for appendEntries, leader elected after 4139ms
2021-10-22 16:59:24,490 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1322)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: Failed appendEntries as previous log entry ((t:4, i:8)) is not found
2021-10-22 16:59:24,490 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: inconsistency entries. Reply:5bad66d6-0a83-4e06-be4a-65825076cd25<-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#2933855:FAIL-t3,INCONSISTENCY,nextIndex=7,followerCommit=6
2021-10-22 16:59:24,493 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: nextIndex: updateUnconditionally 9 -> 7
2021-10-22 16:59:24,509 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:24,509 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2021-10-22 16:59:24,513 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_0-6
2021-10-22 16:59:24,516 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7
2021-10-22 16:59:24,783 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:25,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:25,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:25,221 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:25,247 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5022546955ns, electionTimeout:5013ms
2021-10-22 16:59:25,248 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState
2021-10-22 16:59:25,248 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:25,248 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:25,248 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60
2021-10-22 16:59:25,256 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60 ELECTION round 0: submit vote requests at term 1 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A0A7790625EA with new leaderId: 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: change Leader from null to 0b93af3c-3bff-453d-a892-2543430d90de at term 1 for becomeLeader, leader elected after 5089ms
2021-10-22 16:59:25,257 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:25,258 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:25,258 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:25,258 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:25,259 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:25,259 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:25,259 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:25,260 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:25,260 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:25,260 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderStateImpl
2021-10-22 16:59:25,260 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:25,271 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea/current/log_inprogress_0
2021-10-22 16:59:25,295 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: set configuration 0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1], old=null
2021-10-22 16:59:25,501 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5048202142ns, electionTimeout:5025ms
2021-10-22 16:59:25,501 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,501 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:25,501 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:25,501 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61
2021-10-22 16:59:25,504 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61 ELECTION round 0: submit vote requests at term 1 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:25,512 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 1, (t:0, i:0))
2021-10-22 16:59:25,512 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:25,514 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:25,514 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,514 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,514 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:25,523 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 1, (t:0, i:0))
2021-10-22 16:59:25,540 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:25,540 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:25,540 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,540 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,540 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:25,559 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t1. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t1, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:25,562 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:25,562 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t1
2021-10-22 16:59:25,562 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61 ELECTION round 0: result REJECTED
2021-10-22 16:59:25,563 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 16:59:25,563 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61
2021-10-22 16:59:25,563 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:25,564 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t1. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t1, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:25,667 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:25,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: close
2021-10-22 16:59:25,669 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: shutdown
2021-10-22 16:59:25,669 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C9F50B869E,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:25,669 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderStateImpl
2021-10-22 16:59:25,669 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:25,670 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:25,670 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A8C9F50B869E: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/sm/snapshot.1_0
2021-10-22 16:59:25,672 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A8C9F50B869E: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:25,672 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:25,672 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:25,672 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: closes. applyIndex: 0
2021-10-22 16:59:25,673 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:25,673 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker close()
2021-10-22 16:59:25,673 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: shutdown
2021-10-22 16:59:25,673 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:25,674 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:59:25,674 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:4, i:8) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.4_8
2021-10-22 16:59:25,674 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: set stopIndex = 8
2021-10-22 16:59:25,675 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:4, i:8) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.4_8 took: 2 ms
2021-10-22 16:59:25,675 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 16:59:25,675 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 16:59:25,676 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: closes. applyIndex: 8
2021-10-22 16:59:25,676 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:25,687 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:25,687 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:25,688 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown server with port 33885 now
2021-10-22 16:59:25,689 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown server with port 33885 successfully
2021-10-22 16:59:25,689 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: installSnapshot onError, lastRequest: 5bad66d6-0a83-4e06-be4a-65825076cd25->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#2-t4,previous=(t:4, i:7),leaderCommit=7,initializing? true,entries: size=1, first=(t:4, i:8), METADATAENTRY(c:7): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:59:25,689 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@39b723e3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Stopped
2021-10-22 16:59:25,690 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-10-22 16:59:25,690 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 9 -> 8
2021-10-22 16:59:25,694 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:25,699 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:25,700 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 9 -> 8
2021-10-22 16:59:25,759 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,013 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5216852559ns, electionTimeout:5193ms
2021-10-22 16:59:26,014 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState
2021-10-22 16:59:26,014 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:26,014 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:26,014 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62
2021-10-22 16:59:26,070 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62 ELECTION round 0: submit vote requests at term 1 for -1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:26,073 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:26,073 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62
2021-10-22 16:59:26,073 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:26,073 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-103F173FE6A3 with new leaderId: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:26,073 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: change Leader from null to 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at term 1 for becomeLeader, leader elected after 5368ms
2021-10-22 16:59:26,074 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:26,074 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:26,074 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderStateImpl
2021-10-22 16:59:26,075 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:26,107 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: set configuration 0: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:26,108 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3/current/log_inprogress_0
2021-10-22 16:59:26,122 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,222 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:26,222 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:26,223 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:26,287 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5026094302ns, electionTimeout:5024ms
2021-10-22 16:59:26,287 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState
2021-10-22 16:59:26,287 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:26,287 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:26,287 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63 ELECTION round 0: submit vote requests at term 1 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-69074CAB8B75 with new leaderId: 98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: change Leader from null to 98908e51-2f97-4b53-a15b-7d12753460cc at term 1 for becomeLeader, leader elected after 5051ms
2021-10-22 16:59:26,297 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:26,298 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:26,298 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:26,299 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,309 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:26,309 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:26,309 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:26,309 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:26,309 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:26,310 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderStateImpl
2021-10-22 16:59:26,317 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:26,321 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: set configuration 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:1], old=null
2021-10-22 16:59:26,326 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75/current/log_inprogress_0
2021-10-22 16:59:26,615 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,762 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,803 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:26,950 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:26,990 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@fc4849d{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:26,998 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2e00da1d{HTTP/1.1, (http/1.1)}{0.0.0.0:32833}
2021-10-22 16:59:26,998 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:27,004 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@395ac632{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:27,006 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@a3903db{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:59:27,016 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:59:27,025 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:59:27,025 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:59:27,025 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:59:27,034 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34635
2021-10-22 16:59:27,057 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:27,057 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:27,151 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:59:27,152 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:59:27,152 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:59:27,154 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 39675
2021-10-22 16:59:27,164 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:59:27,165 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:59:27,165 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:27,165 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:27,170 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46807
2021-10-22 16:59:27,174 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:27,190 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:59:27,190 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3bc3085f{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:59:27,191 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:27,194 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2f9fad93{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:27,194 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:27,194 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@45dfece4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:59:27,194 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@452e318{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:27,198 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:59:27,198 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:59:27,199 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:59:27,199 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:59:27,214 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:59:27,215 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:59:27,218 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:59:27,220 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-10-22 16:59:27,224 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:27,224 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:27,224 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:27,234 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 16:59:27,234 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-10-22 16:59:27,897 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5037270467ns, electionTimeout:5033ms
2021-10-22 16:59:27,897 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState
2021-10-22 16:59:27,897 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:59:27,897 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:27,898 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64
2021-10-22 16:59:27,902 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64 ELECTION round 0: submit vote requests at term 2 for 0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:27,903 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64 ELECTION round 0: result PASSED (term=2)
2021-10-22 16:59:27,903 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64
2021-10-22 16:59:27,903 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:59:27,903 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-CB2948E85DB6 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:27,906 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 2 for becomeLeader, leader elected after 7382ms
2021-10-22 16:59:27,906 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:27,907 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:27,907 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:27,908 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:27,908 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:27,909 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:27,910 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:27,910 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:27,910 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderStateImpl
2021-10-22 16:59:27,910 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-10-22 16:59:27,913 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/log_0-0
2021-10-22 16:59:27,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: set configuration 1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:27,922 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/current/log_inprogress_1
2021-10-22 16:59:28,115 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:28,197 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:28,198 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 9 -> 8
2021-10-22 16:59:28,224 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:28,225 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:28,225 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:28,308 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:28,703 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:28,704 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@33ddd67e{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:28,707 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7d64b13f{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:28,707 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:28,707 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6dd1bf63{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:28,707 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@598ccf01{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:28,711 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:28,711 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:28,714 [Time-limited test] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-hddsdatanode.properties,hadoop-metrics2.properties
2021-10-22 16:59:28,715 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 16:59:28,715 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - HddsDatanode metrics system started
2021-10-22 16:59:28,737 [Time-limited test] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 16:59:28,737 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 16:59:28,761 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:28,872 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:28,938 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:29,009 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 63 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:29,010 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:29,011 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:29,011 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:29,011 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:29,011 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:29,012 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:29,013 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:29,013 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:59:29,013 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:59:29,056 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis to VolumeSet
2021-10-22 16:59:29,056 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis
2021-10-22 16:59:29,057 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis
2021-10-22 16:59:29,075 [Thread-2080] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:59:29,184 [Thread-2080] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds
2021-10-22 16:59:29,192 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:29,194 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:29,194 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:29,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 33885 (custom)
2021-10-22 16:59:29,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 33885 (custom)
2021-10-22 16:59:29,195 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 33885 (custom)
2021-10-22 16:59:29,195 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:29,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:29,195 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:29,195 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:29,196 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:29,198 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:29,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:29,199 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:59:29,199 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:29,203 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-455B613222B4:[] returns group-455B613222B4:java.util.concurrent.CompletableFuture@6ecf9f70[Not completed]
2021-10-22 16:59:29,203 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e
2021-10-22 16:59:29,203 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-A8C9F50B869E:[] returns group-A8C9F50B869E:java.util.concurrent.CompletableFuture@238137bf[Not completed]
2021-10-22 16:59:29,210 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-455B613222B4:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:29,213 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:29,215 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:29,216 [pool-884-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=4, votedFor=5bad66d6-0a83-4e06-be4a-65825076cd25} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/raft-meta
2021-10-22 16:59:29,224 [pool-884-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-455B613222B4: Setting the last applied index to (t:4, i:8)
2021-10-22 16:59:29,225 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:36891
2021-10-22 16:59:29,225 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:29,226 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:29,226 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:29,226 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:29,226 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:29,231 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:29,238 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:29,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:29,240 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:29,240 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:29,240 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:29,240 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:29,241 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:29,242 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:29,243 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,244 [pool-884-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_0-6
2021-10-22 16:59:29,251 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,251 [pool-884-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 2 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7
2021-10-22 16:59:29,251 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
2021-10-22 16:59:29,251 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 6
2021-10-22 16:59:29,256 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:29,257 [pool-884-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog: commitIndex: updateToMax old=8, new=7, updated? false
2021-10-22 16:59:29,257 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:29,257 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:29,257 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:29,258 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:29,258 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:29,258 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:29,258 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:29,258 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:29,258 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:29,259 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 36891
2021-10-22 16:59:29,259 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:29,260 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-A8C9F50B869E:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:59:29,261 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:29,262 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:29,263 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:29,263 [pool-884-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/raft-meta
2021-10-22 16:59:29,263 [pool-884-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-A8C9F50B869E: Setting the last applied index to (t:1, i:0)
2021-10-22 16:59:29,264 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: set configuration 0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:29,264 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:29,264 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:29,264 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:29,275 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:29,276 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:29,277 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:29,278 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:29,278 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:29,278 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:29,279 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:29,279 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:29,279 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:29,280 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@53027ae8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:29,280 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4e45b42e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:29,284 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:29,284 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:29,297 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: set configuration 0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:29,298 [pool-884-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/log_inprogress_0
2021-10-22 16:59:29,298 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:59:29,298 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:29,308 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:29,400 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1ded1756{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-36891-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7433376414656703052/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:29,405 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7c24e2d5{HTTP/1.1, (http/1.1)}{0.0.0.0:36891}
2021-10-22 16:59:29,405 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @150456ms
2021-10-22 16:59:29,406 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:29,406 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:36891
2021-10-22 16:59:29,410 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:injectDataNodeFailureDuringSCMUpgrade(548)) - Restarting datanode 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:29,411 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:29,412 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:29,412 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:29,419 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2538686a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:29,780 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(930)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderStateImpl send StartLeaderElectionRequest to follower:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca on term:4 because follower's priority:1 is higher than leader's:0 and follower's lastEntry index:8 catch up with leader's:8
2021-10-22 16:59:29,791 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState
2021-10-22 16:59:29,791 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2021-10-22 16:59:29,791 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:29,791 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65
2021-10-22 16:59:29,797 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: change Leader from 5bad66d6-0a83-4e06-be4a-65825076cd25 to null at term 4 for ELECTION
2021-10-22 16:59:29,802 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65 ELECTION round 0: submit vote requests at term 5 for 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,803 [Thread-2095] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(564)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:29,812 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: receive requestVote(ELECTION, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, group-455B613222B4, 5, (t:4, i:8))
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LEADER: accept ELECTION from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: our priority 0 <= candidate's priority 1
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from 5bad66d6-0a83-4e06-be4a-65825076cd25 to null at term 5 for updateCurrentTerm
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from    LEADER to FOLLOWER at term 5 for candidate:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-LeaderStateImpl
2021-10-22 16:59:29,882 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:29,882 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:29,882 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:29,890 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:59:29,904 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Completed APPEND_ENTRIES, lastRequest: 5bad66d6-0a83-4e06-be4a-65825076cd25->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca#2933857-t4,previous=(t:4, i:7),leaderCommit=8,initializing? true,entries: size=1, first=(t:4, i:8), METADATAENTRY(c:7)
2021-10-22 16:59:29,911 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:29,915 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4 replies to ELECTION vote request: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t5. Peer's state: 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4:t5, leader=null, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLog:OPENED:c8, conf=7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65: ELECTION PASSED received 1 response(s) and 1 exception(s):
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t5
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65 ELECTION round 0: result PASSED
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65
2021-10-22 16:59:29,919 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2021-10-22 16:59:29,920 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:29,920 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 5 for becomeLeader, leader elected after 122ms
2021-10-22 16:59:29,920 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:29,920 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:29,920 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:29,921 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:29,924 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:29,926 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderStateImpl
2021-10-22 16:59:29,926 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2021-10-22 16:59:29,927 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_7-8
2021-10-22 16:59:29,929 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:29,929 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_9
2021-10-22 16:59:29,930 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Leader has not got in touch with Follower 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92(c-1,m0,n9, attendVote=true, lastRpcSendTime=5208, lastRpcResponseTime=5208) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:29,931 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: set configuration 9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,938 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:29,939 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 5 for appendEntries, leader elected after 56ms
2021-10-22 16:59:29,945 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:29,946 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:29,946 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Leader has not got in touch with Follower 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92(c-1,m0,n10, attendVote=true, lastRpcSendTime=14, lastRpcResponseTime=5224) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:29,946 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2021-10-22 16:59:29,946 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:29,946 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4->0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: nextIndex: updateUnconditionally 9 -> 8
2021-10-22 16:59:29,947 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_7-8
2021-10-22 16:59:29,949 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_9
2021-10-22 16:59:30,021 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:30,022 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Leader has not got in touch with Follower 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92(c-1,m0,n11, attendVote=true, lastRpcSendTime=90, lastRpcResponseTime=5300) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:30,118 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:30,226 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:30,227 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:30,227 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:30,262 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:30,682 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5119212706ns, electionTimeout:5107ms
2021-10-22 16:59:30,682 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:30,682 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:59:30,682 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:30,682 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66
2021-10-22 16:59:30,704 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66 ELECTION round 0: submit vote requests at term 2 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:30,719 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 2, (t:0, i:0))
2021-10-22 16:59:30,719 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:30,719 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:30,719 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:30,723 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:30,723 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:30,737 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t2. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t2, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:30,739 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 2, (t:0, i:0))
2021-10-22 16:59:30,739 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:30,739 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:30,739 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:30,739 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:30,739 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:30,754 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t2. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t2, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t2
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t2
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66 ELECTION round 0: result REJECTED
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66
2021-10-22 16:59:30,758 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:31,119 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:31,227 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:31,227 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:31,227 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:31,271 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:31,436 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:31,436 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:31,437 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 43199
2021-10-22 16:59:31,437 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:31,438 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: start as a follower, conf=7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:31,438 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: changes role from      null to FOLLOWER at term 4 for startAsFollower
2021-10-22 16:59:31,438 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:59:31,438 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: start as a follower, conf=0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:31,438 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:59:31,442 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState
2021-10-22 16:59:31,443 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:31,444 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C9F50B869E,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:31,445 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start RPC server
2021-10-22 16:59:31,445 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: GrpcService started, listening on 33885
2021-10-22 16:59:31,445 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS
2021-10-22 16:59:31,445 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS_ADMIN
2021-10-22 16:59:31,445 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 is started using port 33885 for RATIS_SERVER
2021-10-22 16:59:31,446 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7815ed42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Started
2021-10-22 16:59:31,809 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:32,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:32,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:32,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:32,538 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:32,539 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(110)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Leader has not got in touch with Follower 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92(c-1,m0,n11, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=7818) yet, just keep nextIndex unchanged and retry.
2021-10-22 16:59:32,770 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:33,125 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:33,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:33,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:33,229 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:33,811 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:34,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:34,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:34,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:34,272 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:34,415 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:34,416 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: close
2021-10-22 16:59:34,416 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: shutdown
2021-10-22 16:59:34,416 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58B368E349EE,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:34,416 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-LeaderStateImpl
2021-10-22 16:59:34,416 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:34,417 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:34,418 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: shutdown
2021-10-22 16:59:34,418 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:34,419 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:59:34,419 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: set stopIndex = 10
2021-10-22 16:59:34,419 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-58B368E349EE: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/sm/snapshot.1_0
2021-10-22 16:59:34,420 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:34,420 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:5, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_10
2021-10-22 16:59:34,425 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-58B368E349EE: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/sm/snapshot.1_0 took: 6 ms
2021-10-22 16:59:34,426 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:34,426 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:34,426 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:5, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_10 took: 6 ms
2021-10-22 16:59:34,426 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 16:59:34,427 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 16:59:34,427 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: closes. applyIndex: 10
2021-10-22 16:59:34,427 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:34,436 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:34,443 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: closes. applyIndex: 0
2021-10-22 16:59:34,444 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:34,444 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker close()
2021-10-22 16:59:34,444 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown server with port 43043 now
2021-10-22 16:59:34,452 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: installSnapshot onError, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->5bad66d6-0a83-4e06-be4a-65825076cd25#2-t5,previous=(t:5, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:5, i:10), METADATAENTRY(c:9): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 16:59:34,452 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown server with port 43043 successfully
2021-10-22 16:59:34,453 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4d68da19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-5bad66d6-0a83-4e06-be4a-65825076cd25: Stopped
2021-10-22 16:59:34,453 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-10-22 16:59:34,453 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:34,455 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:34,458 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:34,458 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:34,635 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:34,818 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:35,056 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:35,057 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 5 for appendEntries, leader elected after 5818ms
2021-10-22 16:59:35,057 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1322)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: Failed appendEntries as previous log entry ((t:5, i:10)) is not found
2021-10-22 16:59:35,057 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: inconsistency entries. Reply:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#6231826:FAIL-t4,INCONSISTENCY,nextIndex=9,followerCommit=8
2021-10-22 16:59:35,068 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 11 -> 9
2021-10-22 16:59:35,096 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: set configuration 9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:35,096 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2021-10-22 16:59:35,097 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_7 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_7-8
2021-10-22 16:59:35,099 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_9
2021-10-22 16:59:35,111 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:35,111 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:35,137 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:35,138 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:35,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:35,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:35,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:35,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:35,631 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:35,912 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5153343081ns, electionTimeout:5149ms
2021-10-22 16:59:35,912 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:35,912 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 16:59:35,912 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:35,912 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67
2021-10-22 16:59:35,915 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67 ELECTION round 0: submit vote requests at term 3 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:35,922 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 3, (t:0, i:0))
2021-10-22 16:59:35,922 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:35,922 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:35,922 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:35,922 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:35,922 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:35,924 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 3, (t:0, i:0))
2021-10-22 16:59:35,924 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:35,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:35,925 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:35,925 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:35,925 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:35,925 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t3. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t3, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:35,934 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t3. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t3, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t3
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t3
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67 ELECTION round 0: result REJECTED
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67
2021-10-22 16:59:35,936 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:36,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:36,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:36,230 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:36,311 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:36,594 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5151881219ns, electionTimeout:5149ms
2021-10-22 16:59:36,595 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState
2021-10-22 16:59:36,595 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 16:59:36,595 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:36,595 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68
2021-10-22 16:59:36,603 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68 ELECTION round 0: submit vote requests at term 2 for 0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:36,603 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68 ELECTION round 0: result PASSED (term=2)
2021-10-22 16:59:36,604 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68
2021-10-22 16:59:36,604 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 16:59:36,604 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A8C9F50B869E with new leaderId: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:36,605 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: change Leader from null to 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 at term 2 for becomeLeader, leader elected after 7340ms
2021-10-22 16:59:36,605 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:36,606 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:36,606 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:36,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderStateImpl
2021-10-22 16:59:36,608 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-10-22 16:59:36,619 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/log_inprogress_0 to /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/log_0-0
2021-10-22 16:59:36,636 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: set configuration 1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:36,657 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/current/log_inprogress_1
2021-10-22 16:59:37,157 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:37,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:37,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:37,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:37,278 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:37,459 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 16:59:37,460 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@76a04f17{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:37,462 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@763d9a5a{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:37,462 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:37,462 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7c3edac0{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 16:59:37,462 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5aa911eb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:37,468 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:37,468 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:37,468 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:37,494 [Time-limited test] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:37,529 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:37,601 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 66 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:37,602 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:37,602 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:37,603 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:37,603 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:37,603 [Time-limited test] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:getEndPointTaskThreadPoolSize(219)) - Datanode State Machine Task Thread Pool size 2
2021-10-22 16:59:37,635 [Time-limited test] INFO  volume.HddsVolume (HddsVolume.java:<init>(120)) - Creating HddsVolume: /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds of storage type : DISK capacity : 9223372036854775807
2021-10-22 16:59:37,635 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds to VolumeSet
2021-10-22 16:59:37,636 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:59:37,637 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:59:37,638 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:37,639 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:37,663 [Time-limited test] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(168)) - Added Volume : /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis to VolumeSet
2021-10-22 16:59:37,663 [Time-limited test] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis
2021-10-22 16:59:37,664 [Time-limited test] INFO  volume.StorageVolumeChecker (StorageVolumeChecker.java:checkAllVolumes(202)) - Scheduled health check for volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis
2021-10-22 16:59:37,693 [Thread-2136] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:59:37,796 [Thread-2136] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(172)) - Finish verifying containers on volume /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds
2021-10-22 16:59:37,796 [Time-limited test] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(236)) - Build ContainerSet costs 0s
2021-10-22 16:59:37,797 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:37,798 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:37,798 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 43043 (custom)
2021-10-22 16:59:37,798 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 43043 (custom)
2021-10-22 16:59:37,798 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 43043 (custom)
2021-10-22 16:59:37,798 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-10-22 16:59:37,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:37,801 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-10-22 16:59:37,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:37,802 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:37,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:37,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:37,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:59:37,808 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:37,810 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-455B613222B4:[] returns group-455B613222B4:java.util.concurrent.CompletableFuture@2434df49[Not completed]
2021-10-22 16:59:37,810 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: found a subdirectory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee
2021-10-22 16:59:37,811 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-58B368E349EE:[] returns group-58B368E349EE:java.util.concurrent.CompletableFuture@3b218d6b[Not completed]
2021-10-22 16:59:37,820 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-455B613222B4:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:37,830 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:37,831 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:37,834 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:37,834 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:37,835 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:37,842 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:37,842 [pool-913-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=5, votedFor=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/raft-meta
2021-10-22 16:59:37,847 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:35591
2021-10-22 16:59:37,847 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:37,848 [Time-limited test] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:37,848 [Time-limited test] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:37,849 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:37,849 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-10-22 16:59:37,850 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:37,850 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:37,850 [Time-limited test] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35591
2021-10-22 16:59:37,850 [Time-limited test] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:37,869 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:37,869 [Time-limited test] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:37,869 [Time-limited test] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:37,873 [pool-913-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-455B613222B4: Setting the last applied index to (t:5, i:10)
2021-10-22 16:59:37,895 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5523ea48{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:37,896 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@e25bbf8{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-10-22 16:59:37,899 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:37,899 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:37,899 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:37,899 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:37,899 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:37,900 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:37,901 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:37,901 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:37,901 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:37,901 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:37,901 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:37,904 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:37,909 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:37,910 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:37,918 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:37,918 [pool-913-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 7 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_0-6
2021-10-22 16:59:37,918 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 7: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:37,918 [pool-913-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 2 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_7-8
2021-10-22 16:59:37,919 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: set configuration 9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:37,919 [pool-913-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 2 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/current/log_inprogress_9
2021-10-22 16:59:37,920 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 10
2021-10-22 16:59:37,920 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 8
2021-10-22 16:59:37,931 [pool-913-thread-1] INFO  raftlog.RaftLog (RaftLogBase.java:lambda$new$0(53)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLog: commitIndex: updateToMax old=10, new=9, updated? false
2021-10-22 16:59:37,931 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:37,931 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:37,932 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:37,932 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:37,932 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:37,932 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-58B368E349EE:[] with ContainerStateMachine:uninitialized
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:37,935 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:37,936 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:59:37,936 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:37,936 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:37,952 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:37,954 [pool-913-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(110)) - Read RaftStorageMetadata{term=1, votedFor=5bad66d6-0a83-4e06-be4a-65825076cd25} from /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/current/raft-meta
2021-10-22 16:59:37,958 [pool-913-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(233)) - group-58B368E349EE: Setting the last applied index to (t:1, i:0)
2021-10-22 16:59:37,958 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null
2021-10-22 16:59:37,959 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:37,959 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:37,959 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:37,959 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:37,959 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:37,960 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:37,961 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:37,961 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:37,961 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:37,985 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:37,985 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:37,987 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:37,987 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:37,988 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee/current/log_inprogress_0
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:37,989 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:37,990 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:38,066 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2ab1db20{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-35591-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3088850558803028496/webapp/,AVAILABLE}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 16:59:38,078 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@79835256{HTTP/1.1, (http/1.1)}{0.0.0.0:35591}
2021-10-22 16:59:38,078 [Time-limited test] INFO  server.Server (Server.java:doStart(415)) - Started @159128ms
2021-10-22 16:59:38,078 [Time-limited test] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:38,079 [Time-limited test] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of hddsDatanode listening at http://0.0.0.0:35591
2021-10-22 16:59:38,079 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:38,079 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:59:38,079 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:38,079 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:38,079 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:59:38,079 [Datanode State Machine Daemon Thread] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(467)) - Ozone container server started.
2021-10-22 16:59:38,080 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:38,080 [Datanode State Machine Daemon Thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:38,082 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 483f8609-9759-4eed-ab2f-a8c9f50b869e, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, CreationTimestamp2021-10-22T16:57:57.393Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:38,082 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: e4fb8209-7462-4c22-b0de-58b368e349ee, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:5bad66d6-0a83-4e06-be4a-65825076cd25, CreationTimestamp2021-10-22T16:57:57.586Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:38,082 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 459ef781-59c2-42bf-9527-455b613222b4, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.597Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:38,104 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7f0a3500] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:38,131 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: b3e0cb48-4467-4a39-8f4e-cb2948e85db6, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.227Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:38,131 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:59:38,132 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 16:59:38,132 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 16:59:38,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:38,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:38,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:38,315 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:38,660 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:38,780 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:39,231 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:39,232 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:39,232 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:39,477 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,478 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,496 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,496 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,514 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,514 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,578 [pool-887-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:39,579 [pool-887-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:39,583 [pool-854-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:39,583 [pool-854-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:39,584 [pool-887-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:39,591 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:59:39,597 [pool-854-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:39,686 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,687 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:39,693 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,712 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,713 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,714 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,714 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,779 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 16:59:39,779 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 16:59:39,789 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:39,819 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:39,837 [pool-854-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:39,837 [pool-854-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:39,845 [pool-854-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:39,861 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:59:39,870 [pool-887-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:39,871 [pool-887-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:39,873 [pool-887-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:40,119 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(304)) - Attempting to start container services.
2021-10-22 16:59:40,119 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(249)) - Background container scanner has been disabled.
2021-10-22 16:59:40,126 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(107)) - ReplicationServer is started using port 38697
2021-10-22 16:59:40,127 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(484)) - Starting XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:40,142 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: start as a follower, conf=9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:40,142 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: changes role from      null to FOLLOWER at term 5 for startAsFollower
2021-10-22 16:59:40,142 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:59:40,142 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: start as a follower, conf=0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null
2021-10-22 16:59:40,142 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-10-22 16:59:40,143 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:40,156 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState
2021-10-22 16:59:40,157 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-58B368E349EE,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:40,158 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start RPC server
2021-10-22 16:59:40,164 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: GrpcService started, listening on 43043
2021-10-22 16:59:40,165 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS
2021-10-22 16:59:40,165 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS_ADMIN
2021-10-22 16:59:40,165 [EndpointStateMachine task thread for /0.0.0.0:33509 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(505)) - XceiverServerRatis 5bad66d6-0a83-4e06-be4a-65825076cd25 is started using port 43043 for RATIS_SERVER
2021-10-22 16:59:40,165 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4b0170e9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-5bad66d6-0a83-4e06-be4a-65825076cd25: Started
2021-10-22 16:59:40,233 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:40,233 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:40,233 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:40,999 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5062769801ns, electionTimeout:5041ms
2021-10-22 16:59:40,999 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:40,999 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-10-22 16:59:40,999 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:40,999 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69
2021-10-22 16:59:41,002 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69 ELECTION round 0: submit vote requests at term 4 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:41,008 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 4, (t:0, i:0))
2021-10-22 16:59:41,008 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:41,008 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:41,008 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:41,032 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:41,033 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:41,034 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 4, (t:0, i:0))
2021-10-22 16:59:41,034 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:41,034 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:41,034 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:41,050 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:41,050 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:41,060 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t4. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t4, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:41,061 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:41,061 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t4
2021-10-22 16:59:41,061 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69 ELECTION round 0: result REJECTED
2021-10-22 16:59:41,062 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 4 for REJECTED
2021-10-22 16:59:41,062 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69
2021-10-22 16:59:41,062 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:41,062 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t4. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t4, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:41,189 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:41,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:41,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:41,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:41,288 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:41,321 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:42,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:42,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:42,234 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:42,282 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-455B613222B4 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:42,282 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 5 for appendEntries, leader elected after 4382ms
2021-10-22 16:59:42,293 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: Failed appendEntries: the first entry (index 10) is already in snapshot (snapshot index: 10)
2021-10-22 16:59:42,294 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1288)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: inconsistency entries. Reply:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#249:FAIL-t5,INCONSISTENCY,nextIndex=11,followerCommit=10
2021-10-22 16:59:42,296 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:42,311 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 12 -> 11
2021-10-22 16:59:42,498 [pool-916-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:42,498 [pool-916-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:42,500 [pool-916-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:42,500 [pool-916-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:42,503 [pool-916-thread-2] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:42,528 [pool-916-thread-1] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:43,132 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:59:43,132 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 16:59:43,133 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 16:59:43,139 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:59:43,139 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:43,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 which uses HEALTHY READONLY datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:43,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 close command to datanode 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:43,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 close command to datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:43,140 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=459ef781-59c2-42bf-9527-455b613222b4 close command to datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:43,153 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 459ef781-59c2-42bf-9527-455b613222b4, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.597Z[Etc/UTC]] removed.
2021-10-22 16:59:43,153 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 which uses HEALTHY READONLY datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 close command to datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: b3e0cb48-4467-4a39-8f4e-cb2948e85db6, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:57:57.227Z[Etc/UTC]] removed.
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e which uses HEALTHY READONLY datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:43,154 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e close command to datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:43,162 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 483f8609-9759-4eed-ab2f-a8c9f50b869e, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, CreationTimestamp2021-10-22T16:57:57.393Z[Etc/UTC]] removed.
2021-10-22 16:59:43,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:43,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee which uses HEALTHY READONLY datanode 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:43,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee close command to datanode 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:43,163 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: e4fb8209-7462-4c22-b0de-58b368e349ee, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:5bad66d6-0a83-4e06-be4a-65825076cd25, CreationTimestamp2021-10-22T16:57:57.586Z[Etc/UTC]] removed.
2021-10-22 16:59:43,178 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 16:59:43,193 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:43,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:43,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:43,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:43,358 [IPC Server handler 19 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:43,359 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 is not found
2021-10-22 16:59:43,359 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 is not found
2021-10-22 16:59:43,358 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:43,379 [IPC Server handler 2 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:43,547 [IPC Server handler 11 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:43,547 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee is not found
2021-10-22 16:59:43,547 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 is not found
2021-10-22 16:59:43,794 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:43,851 [IPC Server handler 9 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:43,875 [IPC Server handler 12 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,047 [IPC Server handler 13 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:44,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:44,235 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:44,357 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: remove    LEADER 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4:t5, leader=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLog:OPENED:c14, conf=9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:59:44,357 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: shutdown
2021-10-22 16:59:44,358 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:44,358 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-LeaderStateImpl
2021-10-22 16:59:44,358 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:44,358 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:44,359 [IPC Server handler 19 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,359 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#6231852-t5,previous=(t:5, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:5, i:14), METADATAENTRY(c:13)
2021-10-22 16:59:44,360 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 is not found
2021-10-22 16:59:44,360 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 is not found
2021-10-22 16:59:44,360 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:44,360 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:44,363 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: set stopIndex = 14
2021-10-22 16:59:44,363 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:5, i:14) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14
2021-10-22 16:59:44,365 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:5, i:14) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14 took: 2 ms
2021-10-22 16:59:44,366 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 14
2021-10-22 16:59:44,366 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly 6 -> 14
2021-10-22 16:59:44,366 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: closes. applyIndex: 14
2021-10-22 16:59:44,366 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,368 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,377 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:44,377 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 command on datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca.
2021-10-22 16:59:44,378 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: remove    LEADER 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6:t2, leader=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLog:OPENED:c2, conf=1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:59:44,378 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: shutdown
2021-10-22 16:59:44,378 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CB2948E85DB6,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:44,378 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-LeaderStateImpl
2021-10-22 16:59:44,378 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:44,391 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->5bad66d6-0a83-4e06-be4a-65825076cd25#255-t5,previous=(t:5, i:13),leaderCommit=14,initializing? true,entries: size=1, first=(t:5, i:14), METADATAENTRY(c:13)
2021-10-22 16:59:44,391 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:44,391 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 15 -> 14
2021-10-22 16:59:44,392 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:44,392 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-455B613222B4->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 15 -> 14
2021-10-22 16:59:44,398 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: set stopIndex = 2
2021-10-22 16:59:44,399 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-CB2948E85DB6: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/sm/snapshot.2_2
2021-10-22 16:59:44,402 [IPC Server handler 6 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,403 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e is not found
2021-10-22 16:59:44,403 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 is not found
2021-10-22 16:59:44,405 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-CB2948E85DB6: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6/sm/snapshot.2_2 took: 6 ms
2021-10-22 16:59:44,405 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: Took a snapshot at index 2
2021-10-22 16:59:44,405 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-10-22 16:59:44,406 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: closes. applyIndex: 2
2021-10-22 16:59:44,406 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,406 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,422 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-CB2948E85DB6: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/b3e0cb48-4467-4a39-8f4e-cb2948e85db6
2021-10-22 16:59:44,422 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=b3e0cb48-4467-4a39-8f4e-cb2948e85db6 command on datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca.
2021-10-22 16:59:44,422 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,422 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:59:44,422 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:44,422 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:59:44,423 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:59:44,424 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data-0/containers/hdds/aeaed8ab-38f3-4ab1-92e9-b55f844d2f23. No action required for SCM HA finalization.
2021-10-22 16:59:44,425 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:44,425 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,546 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: remove  FOLLOWER 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4:t5, leader=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLog:OPENED:c14, conf=9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:59:44,546 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: shutdown
2021-10-22 16:59:44,546 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:44,546 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState
2021-10-22 16:59:44,546 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: set stopIndex = 14
2021-10-22 16:59:44,546 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:44,547 [IPC Server handler 11 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,548 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:5, i:14) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14
2021-10-22 16:59:44,550 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:5, i:14) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14 took: 2 ms
2021-10-22 16:59:44,550 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 14
2021-10-22 16:59:44,550 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly 10 -> 14
2021-10-22 16:59:44,550 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: closes. applyIndex: 14
2021-10-22 16:59:44,551 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,551 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,555 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-455B613222B4: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:44,555 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 command on datanode 5bad66d6-0a83-4e06-be4a-65825076cd25.
2021-10-22 16:59:44,555 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: remove  FOLLOWER 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE:t1, leader=null, voted=5bad66d6-0a83-4e06-be4a-65825076cd25, raftlog=5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLog:OPENED:c0, conf=0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:59:44,555 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: shutdown
2021-10-22 16:59:44,555 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-58B368E349EE,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:44,555 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState
2021-10-22 16:59:44,556 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:44,556 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:44,557 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: closes. applyIndex: 0
2021-10-22 16:59:44,557 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,559 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,588 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-58B368E349EE: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/e4fb8209-7462-4c22-b0de-58b368e349ee
2021-10-22 16:59:44,589 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=e4fb8209-7462-4c22-b0de-58b368e349ee command on datanode 5bad66d6-0a83-4e06-be4a-65825076cd25.
2021-10-22 16:59:44,589 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,589 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:59:44,589 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:44,589 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:59:44,592 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:59:44,593 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data-0/containers/hdds/aeaed8ab-38f3-4ab1-92e9-b55f844d2f23. No action required for SCM HA finalization.
2021-10-22 16:59:44,594 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:44,594 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,692 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:44,876 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: remove  FOLLOWER 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4:t5, leader=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, voted=null, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLog:OPENED:c14, conf=9: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null RUNNING
2021-10-22 16:59:44,876 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: shutdown
2021-10-22 16:59:44,876 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-455B613222B4,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:44,877 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState
2021-10-22 16:59:44,877 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: set stopIndex = 14
2021-10-22 16:59:44,877 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:44,877 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-455B613222B4: Taking a snapshot at:(t:5, i:14) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14
2021-10-22 16:59:44,878 [IPC Server handler 1 on default port 33509] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 16:59:44,879 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-455B613222B4: Finished taking a snapshot at:(t:5, i:14) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4/sm/snapshot.5_14 took: 2 ms
2021-10-22 16:59:44,880 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: Took a snapshot at index 14
2021-10-22 16:59:44,880 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-StateMachineUpdater: snapshotIndex: updateIncreasingly 8 -> 14
2021-10-22 16:59:44,882 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: closes. applyIndex: 14
2021-10-22 16:59:44,882 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,884 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,886 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-455B613222B4: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/459ef781-59c2-42bf-9527-455b613222b4
2021-10-22 16:59:44,886 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=459ef781-59c2-42bf-9527-455b613222b4 command on datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92.
2021-10-22 16:59:44,886 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: remove    LEADER 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E:t2, leader=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, voted=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLog:OPENED:c2, conf=1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null RUNNING
2021-10-22 16:59:44,886 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: shutdown
2021-10-22 16:59:44,886 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A8C9F50B869E,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:44,886 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-LeaderStateImpl
2021-10-22 16:59:44,886 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:44,896 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: set stopIndex = 2
2021-10-22 16:59:44,896 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A8C9F50B869E: Taking a snapshot at:(t:2, i:2) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/sm/snapshot.2_2
2021-10-22 16:59:44,898 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A8C9F50B869E: Finished taking a snapshot at:(t:2, i:2) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e/sm/snapshot.2_2 took: 1 ms
2021-10-22 16:59:44,898 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: Took a snapshot at index 2
2021-10-22 16:59:44,898 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-StateMachineUpdater: snapshotIndex: updateIncreasingly 0 -> 2
2021-10-22 16:59:44,898 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: closes. applyIndex: 2
2021-10-22 16:59:44,898 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:44,902 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E-SegmentedRaftLogWorker close()
2021-10-22 16:59:44,907 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-A8C9F50B869E: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/483f8609-9759-4eed-ab2f-a8c9f50b869e
2021-10-22 16:59:44,907 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=483f8609-9759-4eed-ab2f-a8c9f50b869e command on datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92.
2021-10-22 16:59:44,907 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,907 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 16:59:44,908 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:44,908 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 16:59:44,914 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 16:59:44,914 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data-0/containers/hdds/aeaed8ab-38f3-4ab1-92e9-b55f844d2f23. No action required for SCM HA finalization.
2021-10-22 16:59:44,917 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:44,917 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:44,917 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:45,190 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:59:45,190 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:45,191 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=446385b3-b528-49d2-9456-8f838e4783fa to datanode:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:45,191 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 446385b3-b528-49d2-9456-8f838e4783fa, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:45.191Z[Etc/UTC]].
2021-10-22 16:59:45,191 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-10-22 16:59:45,192 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=3dbd841f-9966-49dd-8f06-5ebd63db645a to datanode:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:45,192 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 3dbd841f-9966-49dd-8f06-5ebd63db645a, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:45.192Z[Etc/UTC]].
2021-10-22 16:59:45,192 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:59:45,192 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:45,193 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 2.
2021-10-22 16:59:45,236 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:45,236 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:45,236 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:45,362 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:45,691 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 16:59:45,691 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 16:59:45,691 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=4443a966-89ea-4fb6-865a-f117c95d5ace to datanode:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:45,692 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4443a966-89ea-4fb6-865a-f117c95d5ace, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:45.691Z[Etc/UTC]].
2021-10-22 16:59:45,692 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 to datanode:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:45,692 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 to datanode:5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:45,692 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 to datanode:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:45,692 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 112c5a8d-57c1-4d0b-adbc-4d11bd4518f5, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T16:59:45.692Z[Etc/UTC]].
2021-10-22 16:59:45,799 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:45,857 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:45,858 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-8F838E4783FA:[0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1] returns group-8F838E4783FA:java.util.concurrent.CompletableFuture@33a5251f[Not completed]
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-8F838E4783FA:[0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: ConfigurationManager, init=-1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:45,859 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:45,860 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa does not exist. Creating ...
2021-10-22 16:59:45,872 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:45,874 [pool-850-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa has been successfully formatted.
2021-10-22 16:59:45,874 [pool-850-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-8F838E4783FA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:45,875 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:45,875 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:45,875 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:45,875 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:45,875 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 446385b3-b528-49d2-9456-8f838e4783fa, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:59:45.191Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:45,875 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:45,876 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:45,877 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:45,879 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:45,879 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:45,880 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:45,880 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:45,889 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:45,891 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: start as a follower, conf=-1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null
2021-10-22 16:59:45,891 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:45,892 [pool-850-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState
2021-10-22 16:59:45,903 [pool-850-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8F838E4783FA,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:45,922 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=446385b3-b528-49d2-9456-8f838e4783fa
2021-10-22 16:59:45,923 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=446385b3-b528-49d2-9456-8f838e4783fa.
2021-10-22 16:59:45,923 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: addNew group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0] returns group-4D11BD4518F5:java.util.concurrent.CompletableFuture@2f39de24[Not completed]
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: new RaftServerImpl for group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:45,926 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:45,927 [pool-850-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:45,927 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis] (custom)
2021-10-22 16:59:45,927 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:45,927 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:45,927 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 does not exist. Creating ...
2021-10-22 16:59:45,933 [pool-850-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 has been successfully formatted.
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D11BD4518F5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:45,939 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:45,940 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:45,940 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:45,940 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:45,940 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5
2021-10-22 16:59:45,940 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:45,941 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:45,947 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:45,947 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:45,947 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:45,947 [pool-850-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:45,952 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:45,953 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:45,953 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:45,953 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:45,953 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:45,953 [pool-850-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:45,955 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:59:45,955 [pool-850-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:45,955 [pool-850-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:45,986 [pool-850-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:46,007 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=112c5a8d-57c1-4d0b-adbc-4d11bd4518f5
2021-10-22 16:59:46,045 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:46,046 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-5EBD63DB645A:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1] returns group-5EBD63DB645A:java.util.concurrent.CompletableFuture@5bd6e18f[Not completed]
2021-10-22 16:59:46,046 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-5EBD63DB645A:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:46,047 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a does not exist. Creating ...
2021-10-22 16:59:46,051 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: addNew group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] returns group-4D11BD4518F5:java.util.concurrent.CompletableFuture@616eda64[Not completed]
2021-10-22 16:59:46,053 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:46,055 [pool-913-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a has been successfully formatted.
2021-10-22 16:59:46,055 [pool-913-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-5EBD63DB645A: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:46,055 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:46,055 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:46,056 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:46,056 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:46,056 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:46,057 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:46,058 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:46,059 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 3dbd841f-9966-49dd-8f06-5ebd63db645a, Nodes: 5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:5bad66d6-0a83-4e06-be4a-65825076cd25, CreationTimestamp2021-10-22T16:59:45.192Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:46,060 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:46,061 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:46,061 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,061 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,066 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:46,067 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:46,067 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:46,067 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:46,067 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:46,067 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: new RaftServerImpl for group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:46,070 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:46,071 [pool-913-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:46,071 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis] (custom)
2021-10-22 16:59:46,071 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:46,071 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:46,071 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 does not exist. Creating ...
2021-10-22 16:59:46,076 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5014563977ns, electionTimeout:5009ms
2021-10-22 16:59:46,076 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,076 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2021-10-22 16:59:46,076 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:46,076 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70
2021-10-22 16:59:46,081 [pool-913-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:46,082 [pool-913-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 has been successfully formatted.
2021-10-22 16:59:46,083 [pool-913-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D11BD4518F5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:46,084 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:46,084 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:46,084 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:46,084 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:46,084 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,085 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:46,085 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:46,085 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5
2021-10-22 16:59:46,085 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:46,085 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:46,086 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:46,088 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:46,089 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:46,088 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70 ELECTION round 0: submit vote requests at term 5 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:46,111 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,111 [pool-913-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,116 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 5, (t:0, i:0))
2021-10-22 16:59:46,116 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:46,116 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:46,116 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,119 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 5, (t:0, i:0))
2021-10-22 16:59:46,119 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:46,119 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:46,119 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,121 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:46,121 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:46,122 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:46,122 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:46,122 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:46,122 [pool-913-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:46,125 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,125 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:46,126 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null
2021-10-22 16:59:46,126 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:46,128 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,129 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:46,130 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t5. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t5, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t5
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70 ELECTION round 0: result REJECTED
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 5 for REJECTED
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70
2021-10-22 16:59:46,139 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:46,140 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t5. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t5, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:46,143 [pool-913-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState
2021-10-22 16:59:46,145 [pool-913-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5EBD63DB645A,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:46,149 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:46,149 [pool-913-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:46,149 [pool-913-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:46,149 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=3dbd841f-9966-49dd-8f06-5ebd63db645a
2021-10-22 16:59:46,150 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=3dbd841f-9966-49dd-8f06-5ebd63db645a.
2021-10-22 16:59:46,159 [pool-913-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:46,209 [grpc-default-executor-2] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] returns group-4D11BD4518F5:java.util.concurrent.CompletableFuture@2dfc9043[Not completed]
2021-10-22 16:59:46,212 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-4D11BD4518F5:[5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 16:59:46,212 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:46,217 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:46,218 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: ConfigurationManager, init=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:46,218 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:59:46,218 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:46,218 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:46,218 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 does not exist. Creating ...
2021-10-22 16:59:46,226 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:46,228 [pool-884-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5 has been successfully formatted.
2021-10-22 16:59:46,228 [pool-884-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4D11BD4518F5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:46,229 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:46,234 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:46,235 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:46,235 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:46,235 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:46,236 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:46,237 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:46,237 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:46,238 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:46,238 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:46,238 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:46,239 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:46,247 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:46,251 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: start as a follower, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:46,251 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:46,251 [pool-884-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:46,255 [pool-884-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:46,271 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=112c5a8d-57c1-4d0b-adbc-4d11bd4518f5.
2021-10-22 16:59:46,379 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 16:59:46,379 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: addNew group-F117C95D5ACE:[945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1] returns group-F117C95D5ACE:java.util.concurrent.CompletableFuture@5b5651a9[Not completed]
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: new RaftServerImpl for group-F117C95D5ACE:[945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:46,380 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:46,381 [pool-884-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: ConfigurationManager, init=-1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:46,381 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis] (custom)
2021-10-22 16:59:46,381 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:46,381 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:46,381 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace does not exist. Creating ...
2021-10-22 16:59:46,383 [pool-884-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:46,385 [pool-884-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace has been successfully formatted.
2021-10-22 16:59:46,385 [pool-884-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-F117C95D5ACE: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 16:59:46,385 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 16:59:46,386 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 4443a966-89ea-4fb6-865a-f117c95d5ace, Nodes: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92, CreationTimestamp2021-10-22T16:59:45.691Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:46,386 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:46,390 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:46,391 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:46,391 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,391 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:46,392 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:46,392 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace
2021-10-22 16:59:46,392 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:46,396 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:46,398 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 16:59:46,398 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 16:59:46,398 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,398 [pool-884-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 16:59:46,405 [pool-884-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:46,408 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: start as a follower, conf=-1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null
2021-10-22 16:59:46,408 [pool-884-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:46,408 [pool-884-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState
2021-10-22 16:59:46,415 [pool-884-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F117C95D5ACE,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:46,416 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=4443a966-89ea-4fb6-865a-f117c95d5ace
2021-10-22 16:59:46,416 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=4443a966-89ea-4fb6-865a-f117c95d5ace.
2021-10-22 16:59:46,694 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:47,239 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:47,239 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:47,239 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:47,297 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:47,364 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:48,154 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 16:59:48,198 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:48,242 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:48,242 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:48,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:48,862 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:49,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:49,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:49,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:49,298 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:50,194 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:50,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:50,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:50,243 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:50,298 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:50,365 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:50,933 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5041445465ns, electionTimeout:5027ms
2021-10-22 16:59:50,933 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState
2021-10-22 16:59:50,934 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:50,934 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:50,934 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71 ELECTION round 0: submit vote requests at term 1 for -1: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1], old=null
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-8F838E4783FA with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:50,938 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 1 for becomeLeader, leader elected after 5063ms
2021-10-22 16:59:50,939 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:50,939 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:50,939 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:50,940 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderStateImpl
2021-10-22 16:59:50,941 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:50,956 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: set configuration 0: [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1], old=null
2021-10-22 16:59:50,975 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa/current/log_inprogress_0
2021-10-22 16:59:51,040 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5085014092ns, electionTimeout:5053ms
2021-10-22 16:59:51,041 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:51,041 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:51,041 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:51,041 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72
2021-10-22 16:59:51,058 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72 ELECTION round 0: submit vote requests at term 1 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:0], old=null
2021-10-22 16:59:51,060 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: receive requestVote(ELECTION, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, group-4D11BD4518F5, 1, (t:0, i:0))
2021-10-22 16:59:51,060 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FOLLOWER: accept ELECTION from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: our priority 0 <= candidate's priority 1
2021-10-22 16:59:51,060 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:51,060 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:51,061 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:51,061 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:51,063 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: receive requestVote(ELECTION, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, group-4D11BD4518F5, 1, (t:0, i:0))
2021-10-22 16:59:51,063 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FOLLOWER: accept ELECTION from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: our priority 0 <= candidate's priority 1
2021-10-22 16:59:51,063 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:51,063 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:51,065 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:51,065 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:51,068 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5 replies to ELECTION vote request: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t1. Peer's state: 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5:t1, leader=null, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:51,070 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5 replies to ELECTION vote request: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#0:OK-t1. Peer's state: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5:t1, leader=null, voted=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, raftlog=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLog:OPENED:c-1, conf=-1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca<-5bad66d6-0a83-4e06-be4a-65825076cd25#0:OK-t1
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72 ELECTION round 0: result PASSED
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D11BD4518F5 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 1 for becomeLeader, leader elected after 5133ms
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,073 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:51,074 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:51,075 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:51,075 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:51,077 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 112c5a8d-57c1-4d0b-adbc-4d11bd4518f5, Nodes: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=41129, RATIS=44213, RATIS_ADMIN=44213, RATIS_SERVER=44213, STANDALONE=46291], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}5bad66d6-0a83-4e06-be4a-65825076cd25{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43317, RATIS=43043, RATIS_ADMIN=43043, RATIS_SERVER=43043, STANDALONE=43233], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=44175, RATIS=33885, RATIS_ADMIN=33885, RATIS_SERVER=33885, STANDALONE=41461], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:0cbfd5e3-f988-48d2-9e26-5a71db8b13ca, CreationTimestamp2021-10-22T16:59:45.692Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:51,080 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:51,081 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:51,081 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:51,081 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:51,081 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:51,081 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:51,083 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: start 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderStateImpl
2021-10-22 16:59:51,084 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:51,086 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/current/log_inprogress_0
2021-10-22 16:59:51,124 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D11BD4518F5 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:51,124 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 1 for appendEntries, leader elected after 4895ms
2021-10-22 16:59:51,131 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:51,152 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D11BD4518F5 with new leaderId: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:51,152 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: change Leader from null to 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca at term 1 for appendEntries, leader elected after 5068ms
2021-10-22 16:59:51,162 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:51,163 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:51,167 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/current/log_inprogress_0
2021-10-22 16:59:51,185 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 16:59:51,185 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:51,193 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:51,197 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/current/log_inprogress_0
2021-10-22 16:59:51,197 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5057909674ns, electionTimeout:5054ms
2021-10-22 16:59:51,197 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,197 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2021-10-22 16:59:51,197 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:51,197 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73
2021-10-22 16:59:51,229 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73 ELECTION round 0: submit vote requests at term 6 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:51,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:51,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:51,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:51,247 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 6, (t:0, i:0))
2021-10-22 16:59:51,247 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 0
2021-10-22 16:59:51,247 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:51,247 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,247 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,247 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:51,248 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4D07934EF5E3, 6, (t:0, i:0))
2021-10-22 16:59:51,248 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FOLLOWER: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 1 > candidate's priority 0
2021-10-22 16:59:51,249 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 16:59:51,249 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,249 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,250 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:51,254 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t6. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t6, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:51,260 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t6. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t6, leader=null, voted=null, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t6
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t6
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73 ELECTION round 0: result REJECTED
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from CANDIDATE to FOLLOWER at term 6 for REJECTED
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73
2021-10-22 16:59:51,261 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:51,267 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5124518980ns, electionTimeout:5119ms
2021-10-22 16:59:51,268 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState
2021-10-22 16:59:51,268 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:51,273 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:51,273 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74
2021-10-22 16:59:51,294 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74 ELECTION round 0: submit vote requests at term 1 for -1: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|priority:1], old=null
2021-10-22 16:59:51,294 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:51,299 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74
2021-10-22 16:59:51,299 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:51,299 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-5EBD63DB645A with new leaderId: 5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 16:59:51,299 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: change Leader from null to 5bad66d6-0a83-4e06-be4a-65825076cd25 at term 1 for becomeLeader, leader elected after 5243ms
2021-10-22 16:59:51,300 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:51,300 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,303 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:51,303 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:51,303 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:51,303 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:51,303 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,304 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:51,304 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderStateImpl
2021-10-22 16:59:51,304 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:51,320 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: set configuration 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:1], old=null
2021-10-22 16:59:51,339 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a/current/log_inprogress_0
2021-10-22 16:59:51,537 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5129104799ns, electionTimeout:5121ms
2021-10-22 16:59:51,537 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState
2021-10-22 16:59:51,537 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 16:59:51,538 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:51,538 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75
2021-10-22 16:59:51,542 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75 ELECTION round 0: submit vote requests at term 1 for -1: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|priority:1], old=null
2021-10-22 16:59:51,542 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75 ELECTION round 0: result PASSED (term=1)
2021-10-22 16:59:51,542 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75
2021-10-22 16:59:51,542 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 16:59:51,542 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-F117C95D5ACE with new leaderId: 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:51,543 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: change Leader from null to 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92 at term 1 for becomeLeader, leader elected after 5156ms
2021-10-22 16:59:51,543 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:51,543 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,543 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:51,544 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: start 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderStateImpl
2021-10-22 16:59:51,545 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:51,548 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: set configuration 0: [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:1], old=null
2021-10-22 16:59:51,557 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace/current/log_inprogress_0
2021-10-22 16:59:51,798 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:51,864 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:52,194 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:52,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:52,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:52,244 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:53,154 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-10-22 16:59:53,154 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:53,154 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 16:59:53,155 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:59:53,155 [Time-limited test] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 16:59:53,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:53,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:53,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:53,275 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 16:59:53,275 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 16:59:53,275 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 16:59:53,275 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 16:59:53,291 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 16:59:53,301 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34423
2021-10-22 16:59:53,321 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:53,322 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:53,326 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 16:59:53,326 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 16:59:53,326 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:59:53,326 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 16:59:53,326 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:53,359 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 16:59:53,360 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 16:59:53,360 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 16:59:53,360 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 16:59:53,360 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 16:59:53,362 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 16:59:53,363 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:53,363 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 16:59:53,364 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 37673 now
2021-10-22 16:59:53,365 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:53,365 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 37673 successfully
2021-10-22 16:59:53,365 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@30838737] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 16:59:53,365 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 16:59:53,365 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 16:59:53,411 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 16:59:53,459 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 16:59:53,535 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4c156bfd{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:59:53,536 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@13b36871{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:53,536 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:53,536 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3c6af35d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:59:53,536 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@687bbad2{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:53,540 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 16:59:53,695 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:53,811 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:53,834 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 16:59:53,855 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 16:59:53,918 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 16:59:53,990 [IPC Server handler 0 on default port 34243] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 16:59:53,990 [IPC Server handler 0 on default port 34243] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 16:59:54,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:54,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:54,245 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:54,461 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 16:59:54,462 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 16:59:54,462 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:6de71699-dc39-4c6b-ada4-18dbb8f4503c, CreationTimestamp2021-10-22T16:58:28.925Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:54,462 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: f49cf1d9-2070-4b4e-b015-07e9fc9c39f3, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:e40beabb-1436-4e16-9844-e17d7258fa3f, CreationTimestamp2021-10-22T16:58:29.621Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:54,463 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: eb61854c-cde6-4bac-9601-5f4a8791d3f6, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.268Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:54,463 [Time-limited test] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: ed19a783-84db-46a9-bf7e-1604aad1adad, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.628Z[Etc/UTC]] moved to CLOSED state
2021-10-22 16:59:54,514 [Time-limited test] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 16:59:54,528 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 16:59:54,529 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 16:59:54,800 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:55,162 [pool-618-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,162 [pool-618-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,173 [pool-619-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,173 [pool-619-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,176 [pool-618-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:55,176 [pool-619-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:55,177 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:59:55,194 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:55,211 [pool-617-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,211 [pool-617-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 16:59:55,227 [pool-617-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 16:59:55,246 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:55,246 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:55,247 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:55,290 [pool-619-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,290 [pool-619-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,326 [pool-617-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,326 [pool-617-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,330 [pool-617-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:55,332 [pool-619-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:55,334 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 16:59:55,342 [pool-618-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,342 [pool-618-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 16:59:55,349 [pool-618-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 16:59:55,367 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:56,248 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:56,249 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 16:59:56,249 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:56,271 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5021910777ns, electionTimeout:5021ms
2021-10-22 16:59:56,271 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:56,271 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2021-10-22 16:59:56,271 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 16:59:56,272 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76
2021-10-22 16:59:56,297 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76 ELECTION round 0: submit vote requests at term 7 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:56,304 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4D07934EF5E3, 7, (t:0, i:0))
2021-10-22 16:59:56,304 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 0 <= candidate's priority 1
2021-10-22 16:59:56,306 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:56,306 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:56,306 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:56,307 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:56,318 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:OK-t7. Peer's state: 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3:t7, leader=null, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 16:59:56,319 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:OK-t7
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76 ELECTION round 0: result PASSED
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D07934EF5E3 with new leaderId: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: change Leader from null to 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at term 7 for becomeLeader, leader elected after 35549ms
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:56,320 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:56,321 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:56,323 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 16:59:56,323 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:56,324 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 16:59:56,324 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 16:59:56,324 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 16:59:56,324 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:56,327 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T16:59:18.250Z[Etc/UTC]] moved to OPEN state
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 16:59:56,328 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 16:59:56,342 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderStateImpl
2021-10-22 16:59:56,350 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4D07934EF5E3, 7, (t:0, i:0))
2021-10-22 16:59:56,350 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FOLLOWER: accept ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 0 <= candidate's priority 1
2021-10-22 16:59:56,350 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:56,351 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:56,351 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 16:59:56,351 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:56,354 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:56,371 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t7. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t7, leader=null, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c-1, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:56,378 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/current/log_inprogress_0
2021-10-22 16:59:56,384 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D07934EF5E3 with new leaderId: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:56,384 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: change Leader from null to 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at term 7 for appendEntries, leader elected after 35796ms
2021-10-22 16:59:56,388 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: set configuration 0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:56,398 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4D07934EF5E3 with new leaderId: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 16:59:56,399 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: change Leader from null to 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at term 7 for appendEntries, leader elected after 36078ms
2021-10-22 16:59:56,437 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: set configuration 0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:56,438 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:56,441 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/current/log_inprogress_0
2021-10-22 16:59:56,492 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: set configuration 0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 16:59:56,493 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 16:59:56,497 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/current/log_inprogress_0
2021-10-22 16:59:57,251 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 16:59:57,251 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 16:59:57,251 [Listener at 127.0.0.1/45189] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 16:59:57,252 [Listener at 127.0.0.1/45189] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:57,257 [Listener at 127.0.0.1/45189] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:59:57,257 [Listener at 127.0.0.1/45189] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:59:57,258 [Listener at 127.0.0.1/45189] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:57,258 [Listener at 127.0.0.1/45189] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:57,407 [Listener at 127.0.0.1/45189] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 148 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 16:59:57,408 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 16:59:57,408 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:57,408 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 16:59:57,408 [Listener at 127.0.0.1/45189] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 16:59:57,408 [Listener at 127.0.0.1/45189] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:57,409 [Listener at 127.0.0.1/45189] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:57,738 [Listener at 127.0.0.1/45189] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 16:59:57,739 [Listener at 127.0.0.1/45189] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 16:59:57,741 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:57,741 [Listener at 127.0.0.1/45189] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:57,749 [Listener at 127.0.0.1/45189] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(347)) - upgrade localId to 107544261427200000
2021-10-22 16:59:57,750 [Listener at 127.0.0.1/45189] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(357)) - upgrade delTxnId to 0
2021-10-22 16:59:57,750 [Listener at 127.0.0.1/45189] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(371)) - upgrade containerId to 0
2021-10-22 16:59:57,751 [Listener at 127.0.0.1/45189] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 16:59:57,764 [Listener at 127.0.0.1/45189] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 16:59:57,765 [Listener at 127.0.0.1/45189] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:59:57,765 [Listener at 127.0.0.1/45189] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 16:59:57,765 [Listener at 127.0.0.1/45189] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 16:59:57,765 [Listener at 127.0.0.1/45189] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 16:59:57,765 [Listener at 127.0.0.1/45189] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 16:59:57,781 [Listener at 127.0.0.1/45189] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 16:59:57,782 [Listener at 127.0.0.1/45189] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 16:59:57,782 [Listener at 127.0.0.1/45189] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 16:59:57,782 [Listener at 127.0.0.1/45189] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 16:59:57,795 [Listener at 127.0.0.1/45189] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 16:59:57,795 [Listener at 127.0.0.1/45189] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 16:59:57,795 [Listener at 127.0.0.1/45189] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 16:59:57,801 [Listener at 127.0.0.1/45189] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:57,809 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:57,864 [Listener at 0.0.0.0/40433] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:57,865 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:57,866 [Listener at 0.0.0.0/34863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:57,869 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:57,879 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 1 milliseconds for processing 0 containers.
2021-10-22 16:59:57,961 [Listener at 0.0.0.0/45155] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 16:59:57,962 [Listener at 0.0.0.0/45155] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 16:59:57,962 [Listener at 0.0.0.0/45155] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 16:59:57,962 [Listener at 0.0.0.0/45155] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 16:59:57,962 [Listener at 0.0.0.0/45155] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 16:59:57,962 [Listener at 0.0.0.0/45155] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 16:59:57,963 [Listener at 0.0.0.0/45155] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 16:59:57,963 [Listener at 0.0.0.0/45155] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:45155
2021-10-22 16:59:57,963 [Listener at 0.0.0.0/45155] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-10-22 16:59:58,003 [Listener at 0.0.0.0/45155] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:45155
2021-10-22 16:59:58,009 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:58,018 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:58,028 [Listener at 0.0.0.0/45155] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34863
2021-10-22 16:59:58,028 [Listener at 0.0.0.0/45155] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:34863
2021-10-22 16:59:58,028 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:58,029 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:58,033 [Listener at 0.0.0.0/45155] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:40433
2021-10-22 16:59:58,033 [Listener at 0.0.0.0/45155] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:40433
2021-10-22 16:59:58,034 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:58,034 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:58,047 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5a80ce05] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:58,067 [Listener at 0.0.0.0/45155] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-10-22 16:59:58,067 [Listener at 0.0.0.0/45155] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:58,068 [Listener at 0.0.0.0/45155] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:58,074 [Listener at 0.0.0.0/45155] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:58,135 [Listener at 0.0.0.0/45155] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:58,136 [Listener at 0.0.0.0/45155] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 16:59:58,136 [Listener at 0.0.0.0/45155] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:58,136 [Listener at 0.0.0.0/45155] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:58,136 [Listener at 0.0.0.0/45155] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33285
2021-10-22 16:59:58,136 [Listener at 0.0.0.0/45155] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:58,152 [Listener at 0.0.0.0/45155] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:58,152 [Listener at 0.0.0.0/45155] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:58,152 [Listener at 0.0.0.0/45155] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 16:59:58,153 [Listener at 0.0.0.0/45155] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@24ac57b0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:58,153 [Listener at 0.0.0.0/45155] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@471fa6bd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:59:58,156 [Listener at 0.0.0.0/45155] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2e411a4{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:59:58,179 [Listener at 0.0.0.0/45155] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@172c705e{HTTP/1.1, (http/1.1)}{0.0.0.0:33285}
2021-10-22 16:59:58,179 [Listener at 0.0.0.0/45155] INFO  server.Server (Server.java:doStart(415)) - Started @179229ms
2021-10-22 16:59:58,179 [Listener at 0.0.0.0/45155] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:58,180 [Listener at 0.0.0.0/45155] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:33285
2021-10-22 16:59:58,180 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:58,182 [Listener at 0.0.0.0/45155] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(112)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-10-22 16:59:58,182 [Listener at 0.0.0.0/45155] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(219)) - Configuration does not have ozone.om.address set. Falling back to the default OM address /127.0.0.1:0
2021-10-22 16:59:58,182 [Listener at 0.0.0.0/45155] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-10-22 16:59:58,182 [Listener at 0.0.0.0/45155] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(254)) - OM Node ID is not set. Setting it to the default ID: om1
2021-10-22 16:59:58,182 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:58,183 [Listener at 0.0.0.0/45155] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-10-22 16:59:58,301 [Listener at 0.0.0.0/45155] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 118 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-10-22 16:59:58,302 [Listener at 0.0.0.0/45155] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-10-22 16:59:58,302 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:58,358 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:58,359 [Listener at 0.0.0.0/45155] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-10-22 16:59:58,359 [Listener at 0.0.0.0/45155] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-10-22 16:59:58,547 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:58,548 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: close
2021-10-22 16:59:58,548 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: shutdown
2021-10-22 16:59:58,548 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8F838E4783FA,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:58,548 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-LeaderStateImpl
2021-10-22 16:59:58,548 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:58,549 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:58,549 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-8F838E4783FA: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa/sm/snapshot.1_0
2021-10-22 16:59:58,550 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 16:59:58,562 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: close
2021-10-22 16:59:58,563 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: shutdown
2021-10-22 16:59:58,563 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:58,563 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState
2021-10-22 16:59:58,563 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:58,563 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D11BD4518F5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0
2021-10-22 16:59:58,564 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:58,564 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D11BD4518F5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:58,565 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:58,565 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:58,565 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5: closes. applyIndex: 0
2021-10-22 16:59:58,565 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:58,582 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-8F838E4783FA: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/446385b3-b528-49d2-9456-8f838e4783fa/sm/snapshot.1_0 took: 33 ms
2021-10-22 16:59:58,583 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:58,583 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:58,583 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA: closes. applyIndex: 0
2021-10-22 16:59:58,584 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:58,590 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-4D11BD4518F5-SegmentedRaftLogWorker close()
2021-10-22 16:59:58,590 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-8F838E4783FA-SegmentedRaftLogWorker close()
2021-10-22 16:59:58,601 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: shutdown
2021-10-22 16:59:58,601 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F117C95D5ACE,id=945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92
2021-10-22 16:59:58,601 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-LeaderStateImpl
2021-10-22 16:59:58,601 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:58,602 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: shutdown
2021-10-22 16:59:58,606 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:58,606 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-F117C95D5ACE: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace/sm/snapshot.1_0
2021-10-22 16:59:58,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-F117C95D5ACE: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-1/data/ratis/4443a966-89ea-4fb6-865a-f117c95d5ace/sm/snapshot.1_0 took: 1 ms
2021-10-22 16:59:58,607 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:58,608 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:58,613 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE: closes. applyIndex: 0
2021-10-22 16:59:58,613 [945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:58,616 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=0cbfd5e3-f988-48d2-9e26-5a71db8b13ca
2021-10-22 16:59:58,616 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-LeaderStateImpl
2021-10-22 16:59:58,617 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-PendingRequests: sendNotLeaderResponses
2021-10-22 16:59:58,618 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->5bad66d6-0a83-4e06-be4a-65825076cd25-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:58,619 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->5bad66d6-0a83-4e06-be4a-65825076cd25#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:59:58,620 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D11BD4518F5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0
2021-10-22 16:59:58,620 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 16:59:58,619 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater: set stopIndex = 0
2021-10-22 16:59:58,621 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->5bad66d6-0a83-4e06-be4a-65825076cd25-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:58,621 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->5bad66d6-0a83-4e06-be4a-65825076cd25: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:59:58,626 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Completed APPEND_ENTRIES, lastRequest: 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-10-22 16:59:58,631 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92@group-F117C95D5ACE-SegmentedRaftLogWorker close()
2021-10-22 16:59:58,634 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown server with port 33885 now
2021-10-22 16:59:58,642 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: shutdown server with port 33885 successfully
2021-10-22 16:59:58,642 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@7815ed42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: Stopped
2021-10-22 16:59:58,647 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:58,659 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D11BD4518F5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-0/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0 took: 39 ms
2021-10-22 16:59:58,680 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 16:59:58,680 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 16:59:58,681 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 16:59:58,681 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5->945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 16:59:58,682 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5: closes. applyIndex: 0
2021-10-22 16:59:58,683 [0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:58,754 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca@group-4D11BD4518F5-SegmentedRaftLogWorker close()
2021-10-22 16:59:58,805 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown server with port 44213 now
2021-10-22 16:59:58,818 [Listener at 0.0.0.0/45155] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4151)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-10-22 16:59:58,818 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:59:58,818 [Listener at 0.0.0.0/45155] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(435)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-10-22 16:59:58,820 [Listener at 0.0.0.0/45155] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:58,827 [Listener at 0.0.0.0/45155] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:58,828 [Listener at 0.0.0.0/45155] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-10-22 16:59:58,836 [Listener at 0.0.0.0/45155] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(159)) - Instantiating OM Ratis server with groupID: omServiceIdDefault and peers: localhost:38709
2021-10-22 16:59:58,837 [Listener at 0.0.0.0/45155] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-10-22 16:59:58,843 [Listener at 0.0.0.0/45155] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 38709 (custom)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 38709 (custom)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 38709 (custom)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-10-22 16:59:58,844 [Listener at 0.0.0.0/45155] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:58,845 [Listener at 0.0.0.0/45155] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-10-22 16:59:58,845 [Listener at 0.0.0.0/45155] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-10-22 16:59:58,846 [Listener at 0.0.0.0/45155] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-10-22 16:59:58,846 [Listener at 0.0.0.0/45155] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:59:58,846 [Listener at 0.0.0.0/45155] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:58,846 [Listener at 0.0.0.0/45155] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis] (custom)
2021-10-22 16:59:58,894 [Listener at 0.0.0.0/45155] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:38709|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@6b4fcd3c[Not completed]
2021-10-22 16:59:58,894 [Listener at 0.0.0.0/45155] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1605)) - OzoneManager Ratis server initialized at port 38709
2021-10-22 16:59:58,895 [Listener at 0.0.0.0/45155] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 16:59:58,896 [pool-1015-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:38709|priority:0] with OzoneManagerStateMachine:uninitialized
2021-10-22 16:59:58,903 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:38709|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis] (custom)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 16:59:58,932 [pool-1015-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-10-22 16:59:58,934 [pool-1015-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 16:59:58,936 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: shutdown server with port 44213 successfully
2021-10-22 16:59:58,936 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@3ccc33b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-0cbfd5e3-f988-48d2-9e26-5a71db8b13ca: Stopped
2021-10-22 16:59:58,968 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 16:59:58,973 [pool-1015-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-10-22 16:59:58,973 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-10-22 16:59:58,973 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 16:59:58,974 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 16:59:58,974 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 16:59:58,974 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-975283b4-97c0-452a-b49b-c851609a9999/ozone-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 16:59:58,975 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 16:59:58,995 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-10-22 16:59:58,995 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-10-22 16:59:58,996 [pool-1015-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:58,996 [pool-1015-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-10-22 16:59:59,011 [pool-1015-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 16:59:59,070 [Listener at 127.0.0.1/45639] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4357)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-10-22 16:59:59,071 [Listener at 127.0.0.1/45639] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-10-22 16:59:59,098 [Listener at 127.0.0.1/45639] INFO  om.OzoneManager (OzoneManager.java:start(1301)) - OzoneManager RPC server is listening at localhost/127.0.0.1:45639
2021-10-22 16:59:59,102 [Listener at 127.0.0.1/45639] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(520)) - Starting OzoneManagerRatisServer om1 at port 38709
2021-10-22 16:59:59,102 [Listener at 127.0.0.1/45639] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:38709|priority:0], old=null
2021-10-22 16:59:59,102 [Listener at 127.0.0.1/45639] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 16:59:59,104 [Listener at 127.0.0.1/45639] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-10-22 16:59:59,164 [Listener at 127.0.0.1/45639] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:59:59,186 [Listener at 127.0.0.1/45639] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-10-22 16:59:59,211 [Listener at 127.0.0.1/45639] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 38709
2021-10-22 16:59:59,230 [Listener at 127.0.0.1/45639] INFO  om.OzoneManager (OzoneManager.java:start(1319)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-10-22 16:59:59,231 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@529bebb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-10-22 16:59:59,253 [Listener at 127.0.0.1/45639] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:0
2021-10-22 16:59:59,254 [Listener at 127.0.0.1/45639] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 16:59:59,255 [Listener at 127.0.0.1/45639] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 16:59:59,262 [Listener at 127.0.0.1/45639] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 16:59:59,263 [Listener at 127.0.0.1/45639] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 16:59:59,263 [Listener at 127.0.0.1/45639] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-10-22 16:59:59,264 [Listener at 127.0.0.1/45639] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 16:59:59,264 [Listener at 127.0.0.1/45639] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 16:59:59,264 [Listener at 127.0.0.1/45639] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44871
2021-10-22 16:59:59,264 [Listener at 127.0.0.1/45639] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 16:59:59,312 [Listener at 127.0.0.1/45639] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 16:59:59,313 [Listener at 127.0.0.1/45639] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 16:59:59,313 [Listener at 127.0.0.1/45639] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-10-22 16:59:59,322 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@179d0e60{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 16:59:59,322 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@32406ddf{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 16:59:59,325 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2bf277fe{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:59:59,338 [Listener at 127.0.0.1/45639] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@dc9fd2{HTTP/1.1, (http/1.1)}{0.0.0.0:44871}
2021-10-22 16:59:59,338 [Listener at 127.0.0.1/45639] INFO  server.Server (Server.java:doStart(415)) - Started @180388ms
2021-10-22 16:59:59,338 [Listener at 127.0.0.1/45639] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 16:59:59,343 [Listener at 127.0.0.1/45639] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:44871
2021-10-22 16:59:59,352 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 16:59:59,362 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-10-22 16:59:59,406 [Listener at 127.0.0.1/45639] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1563)) - Trash Interval set to 0. Files deleted will not move to trash
2021-10-22 16:59:59,459 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@19111609] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 16:59:59,490 [Listener at 127.0.0.1/45639] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:59,493 [Listener at 127.0.0.1/45639] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 16:59:59,493 [Listener at 127.0.0.1/45639] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-10-22 16:59:59,514 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 16:59:59,515 [Time-limited test] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 16:59:59,516 [Time-limited test] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 16:59:59,517 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-10-22 16:59:59,517 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 16:59:59,517 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 16:59:59,517 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 16:59:59,517 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 16:59:59,518 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 16:59:59,518 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 16:59:59,518 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 16:59:59,518 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 16:59:59,521 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34855
2021-10-22 16:59:59,545 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:59,546 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:59,578 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 16:59:59,578 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:59,579 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 which uses HEALTHY READONLY datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:59,579 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 close command to datanode 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:59:59,590 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: eb61854c-cde6-4bac-9601-5f4a8791d3f6, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.268Z[Etc/UTC]] removed.
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad which uses HEALTHY READONLY datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad close command to datanode 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad close command to datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad close command to datanode e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: ed19a783-84db-46a9-bf7e-1604aad1adad, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T16:58:29.628Z[Etc/UTC]] removed.
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:59,591 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 which uses HEALTHY READONLY datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:59,592 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 close command to datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 16:59:59,592 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:6de71699-dc39-4c6b-ada4-18dbb8f4503c, CreationTimestamp2021-10-22T16:58:28.925Z[Etc/UTC]] removed.
2021-10-22 16:59:59,592 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 16:59:59,598 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 16:59:59,599 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 16:59:59,598 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 which uses HEALTHY READONLY datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 16:59:59,599 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 close command to datanode e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 16:59:59,604 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34243
2021-10-22 16:59:59,599 [Listener at 127.0.0.1/45639] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(234)) - HddsDatanodeService host:fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net ip:10.1.0.29
2021-10-22 16:59:59,631 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: f49cf1d9-2070-4b4e-b015-07e9fc9c39f3, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:e40beabb-1436-4e16-9844-e17d7258fa3f, CreationTimestamp2021-10-22T16:58:29.621Z[Etc/UTC]] removed.
2021-10-22 16:59:59,641 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 16:59:59,641 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 16:59:59,641 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:59,641 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:59,644 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44807
2021-10-22 16:59:59,689 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:59,704 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:59,704 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 16:59:59,712 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@463c96f8{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 16:59:59,713 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@759cbb8c{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:59,714 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:59,715 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@66af2546{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:59:59,717 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5dcf4aae{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 16:59:59,718 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 16:59:59,718 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:59:59,723 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 16:59:59,724 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 16:59:59,728 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 16:59:59,728 [Time-limited test] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-10-22 16:59:59,728 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 16:59:59,743 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-10-22 16:59:59,760 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 16:59:59,777 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-10-22 16:59:59,778 [Listener at 127.0.0.1/45639] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 16:59:59,782 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 16:59:59,783 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 16:59:59,783 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 16:59:59,784 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-10-22 16:59:59,827 [Listener at 127.0.0.1/45639] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 16:59:59,827 [Listener at 127.0.0.1/45639] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 16:59:59,827 [Listener at 127.0.0.1/45639] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45639
2021-10-22 16:59:59,871 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:34855 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":34855; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 16:59:59,890 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 16:59:59,891 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 16:59:59,909 [Listener at 127.0.0.1/45639] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 16:59:59,909 [Listener at 127.0.0.1/45639] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 16:59:59,909 [Listener at 127.0.0.1/45639] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-10-22 16:59:59,909 [Listener at 127.0.0.1/45639] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-10-22 16:59:59,910 [Listener at 127.0.0.1/45639] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = -1
2021-10-22 16:59:59,910 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - om1@group-C5BA1605619E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 16:59:59,911 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 16:59:59,914 [Listener at 127.0.0.1/45639] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: -1
2021-10-22 16:59:59,915 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 16:59:59,918 [Listener at 127.0.0.1/45639] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 16:59:59,953 [Listener at 127.0.0.1/45639] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 38709 now
2021-10-22 16:59:59,953 [Listener at 127.0.0.1/45639] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 38709 successfully
2021-10-22 16:59:59,953 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@529bebb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 16:59:59,955 [Listener at 127.0.0.1/45639] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 16:59:59,957 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 16:59:59,958 [Listener at 127.0.0.1/45639] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 16:59:59,959 [Listener at 127.0.0.1/45639] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 16:59:59,959 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2bf277fe{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 16:59:59,966 [Listener at 127.0.0.1/45639] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@dc9fd2{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 16:59:59,967 [Listener at 127.0.0.1/45639] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 16:59:59,967 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@32406ddf{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 16:59:59,967 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@179d0e60{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:00,002 [Listener at 127.0.0.1/45639] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 17:00:00,002 [Listener at 127.0.0.1/45639] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:stop(601)) - Datanode CRL store stop failed
java.lang.NullPointerException
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:599)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:535)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:529)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.access$300(MiniOzoneClusterImpl.java:108)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:622)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:00,003 [Listener at 127.0.0.1/45639] ERROR ozone.HddsDatanodeService (HddsDatanodeService.java:stop(601)) - Datanode CRL store stop failed
java.lang.NullPointerException
	at org.apache.hadoop.ozone.HddsDatanodeService.stop(HddsDatanodeService.java:599)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanode(MiniOzoneClusterImpl.java:535)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1870)
	at java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)
	at java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:405)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.stopDatanodes(MiniOzoneClusterImpl.java:529)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.access$300(MiniOzoneClusterImpl.java:108)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:622)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:00,003 [Listener at 127.0.0.1/45639] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 17:00:00,003 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 17:00:00,003 [Listener at 127.0.0.1/45639] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 17:00:00,004 [Listener at 127.0.0.1/45639] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40433
2021-10-22 17:00:00,005 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:00,006 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:00,036 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 249 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 17:00:00,039 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 17:00:00,042 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 17:00:00,217 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 17:00:00,217 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 17:00:00,222 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 17:00:00,222 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 17:00:00,223 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 17:00:00,223 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 17:00:00,224 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 17:00:00,224 [Time-limited test] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:initialize(78)) - No pipeline exists in current db
2021-10-22 17:00:00,224 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 17:00:00,224 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 17:00:00,224 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 17:00:00,226 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 17:00:00,226 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 17:00:00,226 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 17:00:00,226 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 17:00:00,234 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 2
2021-10-22 17:00:00,235 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 0, healthy pipeline threshold count is 1
2021-10-22 17:00:00,235 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-10-22 17:00:00,235 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:00,241 [Socket Reader #1 for port 34855] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 34855
2021-10-22 17:00:00,241 [Listener at 0.0.0.0/34855] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:00,257 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-10-22 17:00:00,269 [Socket Reader #1 for port 34243] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 34243
2021-10-22 17:00:00,269 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 17:00:00,270 [Listener at 0.0.0.0/34243] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:00,271 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 17:00:00,271 [Listener at 127.0.0.1/45639] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 17:00:00,271 [Listener at 127.0.0.1/45639] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34863
2021-10-22 17:00:00,281 [Socket Reader #1 for port 44807] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 44807
2021-10-22 17:00:00,323 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 17:00:00,323 [Listener at 127.0.0.1/45639] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 17:00:00,323 [Listener at 127.0.0.1/45639] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45155
2021-10-22 17:00:00,323 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:00,324 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:00,379 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:00,379 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 17:00:00,379 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:00,379 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2e411a4{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:00,380 [Listener at 127.0.0.1/45639] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@172c705e{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:00,380 [Listener at 127.0.0.1/45639] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:00,380 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@471fa6bd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:00,380 [Listener at 127.0.0.1/45639] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@24ac57b0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:00,408 [Listener at 0.0.0.0/44807] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 17:00:00,415 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 17:00:00,415 [Listener at 127.0.0.1/45639] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:00,415 [Listener at 127.0.0.1/45639] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:00,438 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 17:00:00,438 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 17:00:00,438 [Listener at 127.0.0.1/45639] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:00:00,438 [Listener at 127.0.0.1/45639] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 17:00:00,439 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 17:00:00,439 [Listener at 0.0.0.0/44807] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:00,439 [Listener at 0.0.0.0/44807] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 17:00:00,440 [Listener at 127.0.0.1/45639] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - HddsDatanode metrics system stopped (again)
2021-10-22 17:00:00,448 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44807
2021-10-22 17:00:00,454 [Listener at 0.0.0.0/44807] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
Exception in thread "Listener at 127.0.0.1/45639" java.lang.IllegalStateException: zip file closed
	at java.util.zip.ZipFile.ensureOpen(ZipFile.java:686)
	at java.util.zip.ZipFile.access$200(ZipFile.java:60)
	at java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:508)
	at java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:503)
	at java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:253)
	at java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:262)
	at org.reflections.vfs.ZipDir$1$1.computeNext(ZipDir.java:30)
	at org.reflections.vfs.ZipDir$1$1.computeNext(ZipDir.java:26)
	at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:141)
	at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:136)
	at org.reflections.Reflections.scan(Reflections.java:243)
	at org.reflections.Reflections.scan(Reflections.java:202)
	at org.reflections.Reflections.<init>(Reflections.java:123)
	at org.reflections.Reflections.<init>(Reflections.java:168)
	at org.apache.hadoop.hdds.upgrade.HDDSLayoutVersionManager.registerUpgradeActions(HDDSLayoutVersionManager.java:64)
	at org.apache.hadoop.hdds.upgrade.HDDSLayoutVersionManager.<init>(HDDSLayoutVersionManager.java:51)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.<init>(DatanodeStateMachine.java:137)
	at org.apache.hadoop.ozone.HddsDatanodeService.start(HddsDatanodeService.java:275)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.lambda$startHddsDatanodes$4(MiniOzoneClusterImpl.java:490)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl.startHddsDatanodes(MiniOzoneClusterImpl.java:488)
	at org.apache.hadoop.ozone.MiniOzoneClusterImpl$Builder.build(MiniOzoneClusterImpl.java:613)
	at org.apache.hadoop.ozone.MiniOzoneClusterProvider.lambda$createClusters$1(MiniOzoneClusterProvider.java:234)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:00,459 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 17:00:00,459 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 17:00:00,553 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 17:00:00,553 [Listener at 0.0.0.0/44807] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 17:00:00,614 [Listener at 0.0.0.0/44807] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:44807
2021-10-22 17:00:00,625 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:00,642 [IPC Server listener on 44807] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 44807: starting
2021-10-22 17:00:00,706 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34243
2021-10-22 17:00:00,707 [Listener at 0.0.0.0/44807] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:34243
2021-10-22 17:00:00,711 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:00,711 [IPC Server listener on 34243] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 34243: starting
2021-10-22 17:00:00,722 [Listener at 0.0.0.0/44807] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:34855
2021-10-22 17:00:00,722 [Listener at 0.0.0.0/44807] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:34855
2021-10-22 17:00:00,722 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:00,723 [IPC Server listener on 34855] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 34855: starting
2021-10-22 17:00:00,758 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1af90cf8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 17:00:00,758 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:35785
2021-10-22 17:00:00,758 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 17:00:00,759 [Listener at 0.0.0.0/44807] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 17:00:00,764 [Listener at 0.0.0.0/44807] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 17:00:00,764 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 17:00:00,765 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 17:00:00,765 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 17:00:00,765 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 17:00:00,766 [Listener at 0.0.0.0/44807] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 35785
2021-10-22 17:00:00,766 [Listener at 0.0.0.0/44807] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 17:00:00,810 [Listener at 0.0.0.0/44807] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 17:00:00,810 [Listener at 0.0.0.0/44807] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 17:00:00,810 [Listener at 0.0.0.0/44807] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 17:00:00,811 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4910ef18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 17:00:00,811 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5adacc92{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 17:00:00,820 [Listener at 0.0.0.0/44807] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@513acb92{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:00,827 [Listener at 0.0.0.0/44807] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3cb8b6af{HTTP/1.1, (http/1.1)}{0.0.0.0:35785}
2021-10-22 17:00:00,827 [Listener at 0.0.0.0/44807] INFO  server.Server (Server.java:doStart(415)) - Started @181877ms
2021-10-22 17:00:00,827 [Listener at 0.0.0.0/44807] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 17:00:00,838 [Listener at 0.0.0.0/44807] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:35785
2021-10-22 17:00:00,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 17:00:00,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:00,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:00,926 [EndpointStateMachine task thread for /0.0.0.0:34855 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:34855. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-10-22 17:00:00,978 [IPC Server handler 0 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:00,979 [IPC Server handler 1 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:00,980 [IPC Server handler 2 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,009 [IPC Server handler 3 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,010 [IPC Server handler 4 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,011 [IPC Server handler 5 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,011 [IPC Server handler 5 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,012 [IPC Server handler 7 on default port 34855] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:01,360 [IPC Server handler 8 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:01,360 [IPC Server handler 8 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:01,368 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (ContainerSafeModeRule.java:process(127)) - SCM in safe mode. 100.0 % containers have at least one reported replica.
2021-10-22 17:00:01,368 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 17:00:01,368 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 17:00:01,369 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 is not found
2021-10-22 17:00:01,391 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:01,394 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:01,429 [IPC Server handler 9 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:01,430 [IPC Server handler 9 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:01,430 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:01,435 [IPC Server handler 9 on default port 34855] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:01,435 [IPC Server handler 9 on default port 34855] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:01,435 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 17:00:01,435 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 is not found
2021-10-22 17:00:01,436 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 17:00:01,443 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:01,443 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 17:00:01,457 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:01,457 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 is not found
2021-10-22 17:00:01,457 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:01,471 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 17:00:01,661 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:01,672 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1ded1756{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:01,673 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7c24e2d5{HTTP/1.1, (http/1.1)}{0.0.0.0:36891}
2021-10-22 17:00:01,673 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:01,680 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4e45b42e{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:01,681 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@53027ae8{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:01,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 17:00:01,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:01,839 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:01,859 [IPC Server handler 0 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:01,930 [IPC Server handler 1 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:01,930 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 is not found
2021-10-22 17:00:01,930 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:01,931 [IPC Server handler 2 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:02,041 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:02,044 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3899eae9{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:02,065 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@65c72711{HTTP/1.1, (http/1.1)}{0.0.0.0:42321}
2021-10-22 17:00:02,066 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:02,068 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5f37b0dc{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:02,069 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1e2b1988{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:02,362 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: remove    LEADER 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6:t1, leader=10180c5d-8671-43e1-a35b-bc2eb2023912, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLog:OPENED:c0, conf=0: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,362 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: shutdown
2021-10-22 17:00:02,362 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5F4A8791D3F6,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:02,362 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-LeaderStateImpl
2021-10-22 17:00:02,362 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:02,363 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:02,363 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5F4A8791D3F6: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6/sm/snapshot.1_0
2021-10-22 17:00:02,364 [IPC Server handler 8 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:02,364 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 is not found
2021-10-22 17:00:02,364 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:02,365 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5F4A8791D3F6: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:02,366 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:02,366 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:02,366 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: closes. applyIndex: 0
2021-10-22 17:00:02,367 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,367 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,368 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-5F4A8791D3F6: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/eb61854c-cde6-4bac-9601-5f4a8791d3f6
2021-10-22 17:00:02,368 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=eb61854c-cde6-4bac-9601-5f4a8791d3f6 command on datanode 10180c5d-8671-43e1-a35b-bc2eb2023912.
2021-10-22 17:00:02,368 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: remove    LEADER 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD:t3, leader=10180c5d-8671-43e1-a35b-bc2eb2023912, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c10, conf=0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,368 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: shutdown
2021-10-22 17:00:02,368 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:02,368 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-LeaderStateImpl
2021-10-22 17:00:02,368 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->6de71699-dc39-4c6b-ada4-18dbb8f4503c-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->6de71699-dc39-4c6b-ada4-18dbb8f4503c-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:02,369 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->e40beabb-1436-4e16-9844-e17d7258fa3f-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->e40beabb-1436-4e16-9844-e17d7258fa3f-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:02,369 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: Completed APPEND_ENTRIES, lastRequest: 10180c5d-8671-43e1-a35b-bc2eb2023912->6de71699-dc39-4c6b-ada4-18dbb8f4503c#441-t3,previous=(t:3, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:3, i:10), METADATAENTRY(c:9)
2021-10-22 17:00:02,369 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:02,390 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - e40beabb-1436-4e16-9844-e17d7258fa3f: Completed APPEND_ENTRIES, lastRequest: 10180c5d-8671-43e1-a35b-bc2eb2023912->e40beabb-1436-4e16-9844-e17d7258fa3f#196-t3,previous=(t:3, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:3, i:10), METADATAENTRY(c:9)
2021-10-22 17:00:02,390 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->6de71699-dc39-4c6b-ada4-18dbb8f4503c-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:02,391 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->6de71699-dc39-4c6b-ada4-18dbb8f4503c: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 17:00:02,392 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1604AAD1ADAD: Taking a snapshot at:(t:3, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10
2021-10-22 17:00:02,392 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:02,393 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->e40beabb-1436-4e16-9844-e17d7258fa3f-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:02,393 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD->e40beabb-1436-4e16-9844-e17d7258fa3f: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 17:00:02,393 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1604AAD1ADAD: Finished taking a snapshot at:(t:3, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10 took: 2 ms
2021-10-22 17:00:02,394 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:02,394 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:02,394 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: closes. applyIndex: 10
2021-10-22 17:00:02,394 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,406 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,407 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-1604AAD1ADAD: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 17:00:02,407 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad command on datanode 10180c5d-8671-43e1-a35b-bc2eb2023912.
2021-10-22 17:00:02,407 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:02,407 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:02,407 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:02,407 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:02,408 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:02,408 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data-0/containers/hdds/09199f8f-260e-444a-8343-d7f809adb8c5. No action required for SCM HA finalization.
2021-10-22 17:00:02,413 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:02,426 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - e40beabb-1436-4e16-9844-e17d7258fa3f: remove    LEADER e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3:t1, leader=e40beabb-1436-4e16-9844-e17d7258fa3f, voted=e40beabb-1436-4e16-9844-e17d7258fa3f, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLog:OPENED:c0, conf=0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,427 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: shutdown
2021-10-22 17:00:02,427 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-07E9FC9C39F3,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:02,427 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-LeaderStateImpl
2021-10-22 17:00:02,427 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:02,428 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:02,428 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-07E9FC9C39F3: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3/sm/snapshot.1_0
2021-10-22 17:00:02,429 [IPC Server handler 9 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:02,430 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-07E9FC9C39F3: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:02,431 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:02,431 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:02,431 [IPC Server handler 6 on default port 34855] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:02,432 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: closes. applyIndex: 0
2021-10-22 17:00:02,432 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,432 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,433 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-07E9FC9C39F3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/f49cf1d9-2070-4b4e-b015-07e9fc9c39f3
2021-10-22 17:00:02,433 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=f49cf1d9-2070-4b4e-b015-07e9fc9c39f3 command on datanode e40beabb-1436-4e16-9844-e17d7258fa3f.
2021-10-22 17:00:02,433 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - e40beabb-1436-4e16-9844-e17d7258fa3f: remove  FOLLOWER e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD:t3, leader=10180c5d-8671-43e1-a35b-bc2eb2023912, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c10, conf=0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,433 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: shutdown
2021-10-22 17:00:02,433 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:02,434 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState
2021-10-22 17:00:02,434 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:02,435 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1604AAD1ADAD: Taking a snapshot at:(t:3, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10
2021-10-22 17:00:02,435 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:02,436 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1604AAD1ADAD: Finished taking a snapshot at:(t:3, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10 took: 2 ms
2021-10-22 17:00:02,437 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:02,437 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:02,438 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: closes. applyIndex: 10
2021-10-22 17:00:02,438 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,438 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: remove    LEADER 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820:t1, leader=6de71699-dc39-4c6b-ada4-18dbb8f4503c, voted=6de71699-dc39-4c6b-ada4-18dbb8f4503c, raftlog=6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLog:OPENED:c0, conf=0: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,438 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: shutdown
2021-10-22 17:00:02,438 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A2F5EBC6A820,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:02,438 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-LeaderStateImpl
2021-10-22 17:00:02,438 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:02,439 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:02,439 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A2F5EBC6A820: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820/sm/snapshot.1_0
2021-10-22 17:00:02,442 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,442 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1604AAD1ADAD: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 17:00:02,443 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad command on datanode e40beabb-1436-4e16-9844-e17d7258fa3f.
2021-10-22 17:00:02,443 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:02,443 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:02,443 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:02,443 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:02,444 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:02,444 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data-0/containers/hdds/09199f8f-260e-444a-8343-d7f809adb8c5. No action required for SCM HA finalization.
2021-10-22 17:00:02,445 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:02,453 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A2F5EBC6A820: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820/sm/snapshot.1_0 took: 13 ms
2021-10-22 17:00:02,459 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:02,459 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:02,460 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: closes. applyIndex: 0
2021-10-22 17:00:02,460 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,460 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,461 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-A2F5EBC6A820: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820
2021-10-22 17:00:02,461 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ff66cd30-ba09-4cf8-a3b6-a2f5ebc6a820 command on datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c.
2021-10-22 17:00:02,461 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: remove  FOLLOWER 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD:t3, leader=10180c5d-8671-43e1-a35b-bc2eb2023912, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLog:OPENED:c10, conf=0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:0, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:02,461 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: shutdown
2021-10-22 17:00:02,461 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1604AAD1ADAD,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:02,461 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState
2021-10-22 17:00:02,461 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:02,461 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:02,463 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1604AAD1ADAD: Taking a snapshot at:(t:3, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10
2021-10-22 17:00:02,465 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1604AAD1ADAD: Finished taking a snapshot at:(t:3, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad/sm/snapshot.3_10 took: 2 ms
2021-10-22 17:00:02,465 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:02,465 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:02,471 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: closes. applyIndex: 10
2021-10-22 17:00:02,471 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:02,480 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD-SegmentedRaftLogWorker close()
2021-10-22 17:00:02,481 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-1604AAD1ADAD: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/ed19a783-84db-46a9-bf7e-1604aad1adad
2021-10-22 17:00:02,481 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad command on datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c.
2021-10-22 17:00:02,481 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:02,481 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:02,481 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:02,481 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:02,483 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:02,483 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data-0/containers/hdds/09199f8f-260e-444a-8343-d7f809adb8c5. No action required for SCM HA finalization.
2021-10-22 17:00:02,484 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:02,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 17:00:02,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:02,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:02,932 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=ed19a783-84db-46a9-bf7e-1604aad1adad is not found
2021-10-22 17:00:03,224 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:03,224 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:03,225 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=0271d03f-d093-431d-86d5-d9523a4b0476 to datanode:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:03,226 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:03,226 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:03,226 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:03,226 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 0271d03f-d093-431d-86d5-d9523a4b0476, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:03.225Z[Etc/UTC]].
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d to datanode:e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d to datanode:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d to datanode:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 8ba9bf93-1b6a-4d73-baaf-34b1e397591d, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:03.227Z[Etc/UTC]].
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f002425c-9da5-42b4-bff9-ded36f503425 to datanode:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:03,227 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f002425c-9da5-42b4-bff9-ded36f503425, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:03.227Z[Etc/UTC]].
2021-10-22 17:00:03,230 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=d49aee60-c459-4a63-81bd-1950cfc7e437 to datanode:e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:03,230 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d49aee60-c459-4a63-81bd-1950cfc7e437, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:03.230Z[Etc/UTC]].
2021-10-22 17:00:03,231 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:03,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:03,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:03,841 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:03,858 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:03,858 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: addNew group-D9523A4B0476:[10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] returns group-D9523A4B0476:java.util.concurrent.CompletableFuture@3aea5869[Not completed]
2021-10-22 17:00:03,860 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: new RaftServerImpl for group-D9523A4B0476:[10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:03,860 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:03,860 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: ConfigurationManager, init=-1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis] (custom)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:03,861 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:03,862 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476 does not exist. Creating ...
2021-10-22 17:00:03,865 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:03,867 [pool-589-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476 has been successfully formatted.
2021-10-22 17:00:03,871 [pool-589-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-D9523A4B0476: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:03,871 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:03,871 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:03,871 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:03,872 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:03,872 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,873 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:03,873 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 0271d03f-d093-431d-86d5-d9523a4b0476, Nodes: 10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:10180c5d-8671-43e1-a35b-bc2eb2023912, CreationTimestamp2021-10-22T17:00:03.225Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:03,874 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:03,874 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476
2021-10-22 17:00:03,874 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:03,875 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:03,875 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,875 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:03,875 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:03,876 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:03,877 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:03,877 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:03,880 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:03,884 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:03,905 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:03,905 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,905 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:03,906 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:03,909 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: start as a follower, conf=-1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 17:00:03,909 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:03,909 [pool-589-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState
2021-10-22 17:00:03,910 [pool-589-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9523A4B0476,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:03,915 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=0271d03f-d093-431d-86d5-d9523a4b0476
2021-10-22 17:00:03,915 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=0271d03f-d093-431d-86d5-d9523a4b0476.
2021-10-22 17:00:03,915 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: addNew group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] returns group-34B1E397591D:java.util.concurrent.CompletableFuture@b08c1e4[Not completed]
2021-10-22 17:00:03,915 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: new RaftServerImpl for group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis] (custom)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:03,916 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d does not exist. Creating ...
2021-10-22 17:00:03,918 [pool-589-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:03,919 [pool-589-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d has been successfully formatted.
2021-10-22 17:00:03,919 [pool-589-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-34B1E397591D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:03,921 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:03,921 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:03,921 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:03,921 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:03,921 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:03,921 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,922 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:03,922 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:03,922 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:03,922 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:03,928 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:03,929 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e40beabb-1436-4e16-9844-e17d7258fa3f: addNew group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] returns group-34B1E397591D:java.util.concurrent.CompletableFuture@3db4151d[Not completed]
2021-10-22 17:00:03,929 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e40beabb-1436-4e16-9844-e17d7258fa3f: new RaftServerImpl for group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:03,929 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis] (custom)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:03,930 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d does not exist. Creating ...
2021-10-22 17:00:03,931 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:03,931 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: addNew group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] returns group-34B1E397591D:java.util.concurrent.CompletableFuture@d286185[Not completed]
2021-10-22 17:00:03,931 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: new RaftServerImpl for group-34B1E397591D:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:03,932 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:03,932 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,932 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:03,932 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis] (custom)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:03,932 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:03,933 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d does not exist. Creating ...
2021-10-22 17:00:03,933 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:03,933 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:03,934 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:03,934 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:03,934 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:03,934 [pool-608-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d has been successfully formatted.
2021-10-22 17:00:03,934 [pool-608-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-34B1E397591D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:03,935 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:03,935 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:03,935 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:03,935 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:03,935 [pool-570-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d has been successfully formatted.
2021-10-22 17:00:03,936 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,936 [pool-570-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-34B1E397591D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:03,937 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:03,937 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:03,937 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:03,937 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:03,937 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,937 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:03,938 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:03,945 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:03,965 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:03,965 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:03,966 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,966 [pool-589-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,967 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:03,968 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:03,969 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,969 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,969 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:03,970 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:03,970 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,970 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:03,970 [pool-589-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:03,973 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:03,973 [pool-589-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:03,973 [pool-589-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:03,976 [pool-589-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:03,977 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:03,978 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:03,980 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:03,980 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:03,980 [pool-570-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState
2021-10-22 17:00:03,983 [pool-570-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:03,991 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:04,005 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:04,008 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:04,008 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:04,014 [pool-608-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:04,014 [pool-608-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:04,020 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d
2021-10-22 17:00:04,366 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d.
2021-10-22 17:00:04,367 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: addNew group-DED36F503425:[6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1] returns group-DED36F503425:java.util.concurrent.CompletableFuture@7f24191f[Not completed]
2021-10-22 17:00:04,367 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: new RaftServerImpl for group-DED36F503425:[6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: ConfigurationManager, init=-1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis] (custom)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:04,368 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425 does not exist. Creating ...
2021-10-22 17:00:04,370 [pool-570-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:04,376 [pool-570-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425 has been successfully formatted.
2021-10-22 17:00:04,376 [pool-570-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-DED36F503425: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:04,376 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:04,376 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:04,377 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:04,377 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:04,377 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:04,379 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: f002425c-9da5-42b4-bff9-ded36f503425, Nodes: 6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:6de71699-dc39-4c6b-ada4-18dbb8f4503c, CreationTimestamp2021-10-22T17:00:03.227Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:04,379 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:04,380 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:04,382 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:04,382 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:04,391 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:04,392 [pool-570-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:04,395 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:04,398 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:04,398 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:04,398 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:04,398 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:04,399 [pool-570-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:04,401 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: start as a follower, conf=-1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null
2021-10-22 17:00:04,402 [pool-570-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:04,402 [pool-570-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState
2021-10-22 17:00:04,404 [pool-570-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DED36F503425,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:04,424 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d.
2021-10-22 17:00:04,410 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=8ba9bf93-1b6a-4d73-baaf-34b1e397591d.
2021-10-22 17:00:04,426 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=f002425c-9da5-42b4-bff9-ded36f503425
2021-10-22 17:00:04,426 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=f002425c-9da5-42b4-bff9-ded36f503425.
2021-10-22 17:00:04,441 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - e40beabb-1436-4e16-9844-e17d7258fa3f: addNew group-1950CFC7E437:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1] returns group-1950CFC7E437:java.util.concurrent.CompletableFuture@32e59d3c[Not completed]
2021-10-22 17:00:04,442 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - e40beabb-1436-4e16-9844-e17d7258fa3f: new RaftServerImpl for group-1950CFC7E437:[e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:04,442 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:04,443 [pool-608-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: ConfigurationManager, init=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:04,443 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis] (custom)
2021-10-22 17:00:04,443 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:04,443 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:04,443 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437 does not exist. Creating ...
2021-10-22 17:00:04,445 [pool-608-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:04,447 [pool-608-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437 has been successfully formatted.
2021-10-22 17:00:04,448 [pool-608-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-1950CFC7E437: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:04,449 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: d49aee60-c459-4a63-81bd-1950cfc7e437, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:e40beabb-1436-4e16-9844-e17d7258fa3f, CreationTimestamp2021-10-22T17:00:03.230Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:04,449 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:04,449 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:04,449 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:04,453 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:04,455 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:04,456 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:04,459 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:04,460 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:04,460 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:04,460 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:04,460 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:04,460 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:04,462 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:04,465 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:04,465 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:04,465 [pool-608-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:04,473 [pool-608-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:04,475 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: start as a follower, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null
2021-10-22 17:00:04,476 [pool-608-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:04,476 [pool-608-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState
2021-10-22 17:00:04,476 [pool-608-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1950CFC7E437,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:04,477 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=d49aee60-c459-4a63-81bd-1950cfc7e437
2021-10-22 17:00:04,477 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=d49aee60-c459-4a63-81bd-1950cfc7e437.
2021-10-22 17:00:04,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:04,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:04,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:04,949 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:05,379 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:05,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:05,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:05,842 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:06,143 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:9852532428ns, electionTimeout:5000ms
2021-10-22 17:00:06,143 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 17:00:06,144 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 17:00:06,144 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:06,144 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77
2021-10-22 17:00:06,148 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: change Leader from 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca to null at term 1 for ELECTION
2021-10-22 17:00:06,157 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77 ELECTION round 0: submit vote requests at term 2 for 0: [5bad66d6-0a83-4e06-be4a-65825076cd25|rpc:10.1.0.29:43043|dataStream:|priority:0, 0cbfd5e3-f988-48d2-9e26-5a71db8b13ca|rpc:10.1.0.29:44213|dataStream:|priority:1, 945cd6bf-38b0-4965-9b9b-4f0e0ac5bb92|rpc:10.1.0.29:33885|dataStream:|priority:0], old=null
2021-10-22 17:00:06,168 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:06,177 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:06,177 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-10-22 17:00:06,177 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:06,177 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:06,177 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77 ELECTION round 0: result REJECTED
2021-10-22 17:00:06,178 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 17:00:06,178 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77
2021-10-22 17:00:06,178 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-LeaderElection77] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: start 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 17:00:06,391 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:06,423 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:06,461 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:06,690 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:06,691 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: close
2021-10-22 17:00:06,693 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: shutdown
2021-10-22 17:00:06,693 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5EBD63DB645A,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 17:00:06,693 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-LeaderStateImpl
2021-10-22 17:00:06,693 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:06,698 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:06,698 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-5EBD63DB645A: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a/sm/snapshot.1_0
2021-10-22 17:00:06,702 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-5EBD63DB645A: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/3dbd841f-9966-49dd-8f06-5ebd63db645a/sm/snapshot.1_0 took: 4 ms
2021-10-22 17:00:06,702 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:06,702 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:06,703 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A: closes. applyIndex: 0
2021-10-22 17:00:06,703 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:06,712 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-5EBD63DB645A-SegmentedRaftLogWorker close()
2021-10-22 17:00:06,715 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: shutdown
2021-10-22 17:00:06,715 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D11BD4518F5,id=5bad66d6-0a83-4e06-be4a-65825076cd25
2021-10-22 17:00:06,716 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState
2021-10-22 17:00:06,716 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:06,716 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:06,716 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D11BD4518F5: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0
2021-10-22 17:00:06,718 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D11BD4518F5: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-aeaed8ab-38f3-4ab1-92e9-b55f844d2f23/datanode-2/data/ratis/112c5a8d-57c1-4d0b-adbc-4d11bd4518f5/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:06,719 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:06,719 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:06,722 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5: closes. applyIndex: 0
2021-10-22 17:00:06,722 [5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:06,724 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 5bad66d6-0a83-4e06-be4a-65825076cd25@group-4D11BD4518F5-SegmentedRaftLogWorker close()
2021-10-22 17:00:06,731 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown server with port 43043 now
2021-10-22 17:00:06,753 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 5bad66d6-0a83-4e06-be4a-65825076cd25: shutdown server with port 43043 successfully
2021-10-22 17:00:06,754 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@4b0170e9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-5bad66d6-0a83-4e06-be4a-65825076cd25: Stopped
2021-10-22 17:00:06,775 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:06,843 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:06,843 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:06,843 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:07,843 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:07,844 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:07,844 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:07,963 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:08,392 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:08,427 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:08,844 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:08,844 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:08,844 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:08,938 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5028707582ns, electionTimeout:5024ms
2021-10-22 17:00:08,938 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState
2021-10-22 17:00:08,938 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:08,938 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:08,938 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78
2021-10-22 17:00:08,951 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78 ELECTION round 0: submit vote requests at term 1 for -1: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:1], old=null
2021-10-22 17:00:08,951 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:08,951 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78
2021-10-22 17:00:08,951 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:08,952 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-D9523A4B0476 with new leaderId: 10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:08,952 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: change Leader from null to 10180c5d-8671-43e1-a35b-bc2eb2023912 at term 1 for becomeLeader, leader elected after 5080ms
2021-10-22 17:00:08,952 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:08,952 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:08,952 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:08,953 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderStateImpl
2021-10-22 17:00:08,954 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:08,961 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: set configuration 0: [10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:1], old=null
2021-10-22 17:00:08,965 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476/current/log_inprogress_0
2021-10-22 17:00:08,983 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:09,070 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5097575189ns, electionTimeout:5093ms
2021-10-22 17:00:09,071 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,071 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:09,071 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:09,071 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79
2021-10-22 17:00:09,079 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79 ELECTION round 0: submit vote requests at term 1 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:09,085 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: receive requestVote(ELECTION, 10180c5d-8671-43e1-a35b-bc2eb2023912, group-34B1E397591D, 1, (t:0, i:0))
2021-10-22 17:00:09,085 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FOLLOWER: accept ELECTION from 10180c5d-8671-43e1-a35b-bc2eb2023912: our priority 0 <= candidate's priority 0
2021-10-22 17:00:09,085 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:09,086 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,086 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,086 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:09,093 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: receive requestVote(ELECTION, 10180c5d-8671-43e1-a35b-bc2eb2023912, group-34B1E397591D, 1, (t:0, i:0))
2021-10-22 17:00:09,093 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FOLLOWER: reject ELECTION from 10180c5d-8671-43e1-a35b-bc2eb2023912: our priority 1 > candidate's priority 0
2021-10-22 17:00:09,093 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:09,093 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,093 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,094 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:09,095 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D replies to ELECTION vote request: 10180c5d-8671-43e1-a35b-bc2eb2023912<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t1. Peer's state: e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D:t1, leader=null, voted=10180c5d-8671-43e1-a35b-bc2eb2023912, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:09,103 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D replies to ELECTION vote request: 10180c5d-8671-43e1-a35b-bc2eb2023912<-6de71699-dc39-4c6b-ada4-18dbb8f4503c#0:FAIL-t1. Peer's state: 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D:t1, leader=null, voted=null, raftlog=6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:09,126 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 17:00:09,126 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 10180c5d-8671-43e1-a35b-bc2eb2023912<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t1
2021-10-22 17:00:09,127 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 10180c5d-8671-43e1-a35b-bc2eb2023912<-6de71699-dc39-4c6b-ada4-18dbb8f4503c#0:FAIL-t1
2021-10-22 17:00:09,127 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79 ELECTION round 0: result REJECTED
2021-10-22 17:00:09,127 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 17:00:09,127 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79
2021-10-22 17:00:09,127 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-LeaderElection79] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:09,485 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:09,515 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5039170028ns, electionTimeout:5038ms
2021-10-22 17:00:09,515 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState
2021-10-22 17:00:09,515 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:09,515 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:09,516 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80
2021-10-22 17:00:09,525 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80 ELECTION round 0: submit vote requests at term 1 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:1], old=null
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-1950CFC7E437 with new leaderId: e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: change Leader from null to e40beabb-1436-4e16-9844-e17d7258fa3f at term 1 for becomeLeader, leader elected after 5076ms
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:09,526 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:09,527 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:09,527 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:09,527 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:09,527 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:09,527 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:09,528 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderStateImpl
2021-10-22 17:00:09,528 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:09,538 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437/current/log_inprogress_0
2021-10-22 17:00:09,547 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderElection80] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:1], old=null
2021-10-22 17:00:09,563 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5160327929ns, electionTimeout:5138ms
2021-10-22 17:00:09,563 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState
2021-10-22 17:00:09,564 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:09,564 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:09,564 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81
2021-10-22 17:00:09,581 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:09,609 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81 ELECTION round 0: submit vote requests at term 1 for -1: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1], old=null
2021-10-22 17:00:09,609 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:09,609 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81
2021-10-22 17:00:09,609 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:09,609 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-DED36F503425 with new leaderId: 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:09,612 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:09,616 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: change Leader from null to 6de71699-dc39-4c6b-ada4-18dbb8f4503c at term 1 for becomeLeader, leader elected after 5232ms
2021-10-22 17:00:09,616 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:09,617 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderStateImpl
2021-10-22 17:00:09,618 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:09,628 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderElection81] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: set configuration 0: [6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1], old=null
2021-10-22 17:00:09,628 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425/current/log_inprogress_0
2021-10-22 17:00:09,789 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:09,795 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2ab1db20{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:09,841 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@79835256{HTTP/1.1, (http/1.1)}{0.0.0.0:35591}
2021-10-22 17:00:09,841 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:09,848 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@e25bbf8{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:09,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:09,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:09,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:09,848 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5523ea48{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:09,850 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 17:00:09,851 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 17:00:09,851 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 17:00:09,851 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 17:00:09,851 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 17:00:09,851 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 17:00:09,865 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 17:00:09,865 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 17:00:09,865 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 17:00:09,866 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 33509
2021-10-22 17:00:09,869 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:09,879 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:10,029 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:10,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:10,337 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 17:00:10,338 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 17:00:10,338 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 17:00:10,338 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40935
2021-10-22 17:00:10,347 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:10,348 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 17:00:10,348 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 17:00:10,348 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 39903
2021-10-22 17:00:10,349 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:10,353 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 17:00:10,354 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3caf909d{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:10,354 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:10,356 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:10,359 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2d1ba93a{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:10,359 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:10,360 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@48507c3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:10,360 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6ba57b0b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:10,374 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 17:00:10,375 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:10,375 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:10,377 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 17:00:10,386 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 17:00:10,386 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:00:10,387 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 17:00:10,393 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-10-22 17:00:10,418 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 17:00:10,419 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-10-22 17:00:10,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:10,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:10,848 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:11,033 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:11,492 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:11,611 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:11,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:11,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:11,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:12,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:12,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:12,849 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:13,032 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:13,123 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:13,489 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:13,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:13,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:13,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:14,032 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:14,112 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5018797624ns, electionTimeout:5004ms
2021-10-22 17:00:14,112 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState
2021-10-22 17:00:14,112 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 17:00:14,112 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:14,112 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82
2021-10-22 17:00:14,121 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82 ELECTION round 0: submit vote requests at term 2 for -1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:14,125 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:14,131 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-34B1E397591D, 2, (t:0, i:0))
2021-10-22 17:00:14,131 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FOLLOWER: accept ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 0 <= candidate's priority 1
2021-10-22 17:00:14,131 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:14,131 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:14,133 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - e40beabb-1436-4e16-9844-e17d7258fa3f: start e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:14,134 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: receive requestVote(ELECTION, 6de71699-dc39-4c6b-ada4-18dbb8f4503c, group-34B1E397591D, 2, (t:0, i:0))
2021-10-22 17:00:14,135 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FOLLOWER: accept ELECTION from 6de71699-dc39-4c6b-ada4-18dbb8f4503c: our priority 0 <= candidate's priority 1
2021-10-22 17:00:14,135 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:14,135 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:14,136 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: start 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:14,137 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:14,137 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t2. Peer's state: e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D:t2, leader=null, voted=6de71699-dc39-4c6b-ada4-18dbb8f4503c, raftlog=e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:14,137 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:14,140 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D replies to ELECTION vote request: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-10180c5d-8671-43e1-a35b-bc2eb2023912#0:OK-t2. Peer's state: 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D:t2, leader=null, voted=6de71699-dc39-4c6b-ada4-18dbb8f4503c, raftlog=10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLog:OPENED:c-1, conf=-1: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|priority:0], old=null
2021-10-22 17:00:14,142 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-10-22 17:00:14,142 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 6de71699-dc39-4c6b-ada4-18dbb8f4503c<-e40beabb-1436-4e16-9844-e17d7258fa3f#0:OK-t2
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82 ELECTION round 0: result PASSED
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-34B1E397591D with new leaderId: 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: change Leader from null to 6de71699-dc39-4c6b-ada4-18dbb8f4503c at term 2 for becomeLeader, leader elected after 10205ms
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:14,143 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 17:00:14,144 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:14,146 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 17:00:14,146 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:14,153 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 17:00:14,153 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 17:00:14,153 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 17:00:14,153 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:14,154 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: start 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderStateImpl
2021-10-22 17:00:14,155 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:14,158 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-34B1E397591D with new leaderId: 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:14,158 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: change Leader from null to 6de71699-dc39-4c6b-ada4-18dbb8f4503c at term 2 for appendEntries, leader elected after 10237ms
2021-10-22 17:00:14,160 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/current/log_inprogress_0
2021-10-22 17:00:14,169 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 8ba9bf93-1b6a-4d73-baaf-34b1e397591d, Nodes: e40beabb-1436-4e16-9844-e17d7258fa3f{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=45917, RATIS=39727, RATIS_ADMIN=39727, RATIS_SERVER=39727, STANDALONE=35487], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}6de71699-dc39-4c6b-ada4-18dbb8f4503c{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=33511, RATIS=35685, RATIS_ADMIN=35685, RATIS_SERVER=35685, STANDALONE=34687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}10180c5d-8671-43e1-a35b-bc2eb2023912{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=43127, RATIS=41395, RATIS_ADMIN=41395, RATIS_SERVER=41395, STANDALONE=45687], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:6de71699-dc39-4c6b-ada4-18dbb8f4503c, CreationTimestamp2021-10-22T17:00:03.227Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 17:00:14,170 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 17:00:14,173 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:0], old=null
2021-10-22 17:00:14,177 [grpc-default-executor-5] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-34B1E397591D with new leaderId: 6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:14,177 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: change Leader from null to 6de71699-dc39-4c6b-ada4-18dbb8f4503c at term 2 for appendEntries, leader elected after 10242ms
2021-10-22 17:00:14,179 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:0], old=null
2021-10-22 17:00:14,179 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:14,205 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: set configuration 0: [e40beabb-1436-4e16-9844-e17d7258fa3f|rpc:10.1.0.29:39727|dataStream:|priority:0, 6de71699-dc39-4c6b-ada4-18dbb8f4503c|rpc:10.1.0.29:35685|dataStream:|priority:1, 10180c5d-8671-43e1-a35b-bc2eb2023912|rpc:10.1.0.29:41395|dataStream:|priority:0], old=null
2021-10-22 17:00:14,205 [grpc-default-executor-5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:14,224 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/current/log_inprogress_0
2021-10-22 17:00:14,225 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/current/log_inprogress_0
2021-10-22 17:00:14,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:14,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 17:00:14,850 [Listener at 0.0.0.0/44807] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:14,852 [Listener at 0.0.0.0/44807] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:83)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresAfterScmCompleteFinalization(TestHDDSUpgrade.java:717)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:14,853 [Listener at 0.0.0.0/44807] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 17:00:14,853 [Listener at 0.0.0.0/44807] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 17:00:14,962 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 17:00:14,962 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 17:00:14,963 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 17:00:14,963 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 17:00:14,963 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41731
2021-10-22 17:00:14,966 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:14,966 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:14,967 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 17:00:14,967 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 17:00:14,967 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id="om1"
2021-10-22 17:00:14,967 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 17:00:14,967 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:14,992 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for containerId, change lastId from 0 to 1000.
2021-10-22 17:00:15,031 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 17:00:15,031 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 17:00:15,031 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 17:00:15,031 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 17:00:15,032 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 17:00:15,034 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 17:00:15,045 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:15,049 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 17:00:15,050 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 35095 now
2021-10-22 17:00:15,051 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 35095 successfully
2021-10-22 17:00:15,054 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@2d12f95f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 17:00:15,054 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 17:00:15,055 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 17:00:15,055 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 17:00:15,056 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 17:00:15,059 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@48460092{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 17:00:15,063 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@79e7fa49{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:15,064 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:15,064 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ff504b5{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:15,064 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7648f119{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:15,089 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 17:00:15,546 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: testhddsupgrade, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-10-22 17:00:15,567 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:testhddsupgrade for user:runner
2021-10-22 17:00:15,595 [Time-limited test] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: testhddsupgrade/testhddsupgrade, with Versioning false and Storage Type set to DISK and Encryption set to false 
2021-10-22 17:00:15,679 [IPC Server handler 0 on default port 41915] WARN  ha.SequenceIdGenerator (SequenceIdGenerator.java:allocateBatch(235)) - Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
2021-10-22 17:00:15,679 [IPC Server handler 0 on default port 41915] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:getNextId(127)) - Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
2021-10-22 17:00:16,277 [Time-limited test] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:restartStorageContainerManager(361)) - Restarting SCM in cluster class org.apache.hadoop.ozone.MiniOzoneClusterImpl
2021-10-22 17:00:16,277 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 17:00:16,277 [Time-limited test] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 17:00:16,277 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 17:00:16,277 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 17:00:16,277 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 17:00:16,282 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 17:00:16,283 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 17:00:16,283 [Time-limited test] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 17:00:16,283 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46803
2021-10-22 17:00:16,297 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:16,298 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:16,317 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 17:00:16,317 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 17:00:16,317 [Time-limited test] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 17:00:16,317 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41915
2021-10-22 17:00:16,349 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:16,373 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 17:00:16,373 [Time-limited test] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 17:00:16,373 [Time-limited test] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38623
2021-10-22 17:00:16,373 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:16,386 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:16,386 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 17:00:16,387 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@77c20962{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:16,387 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:16,392 [Time-limited test] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@755d08eb{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:16,392 [Time-limited test] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:16,392 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3e8757dd{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:16,393 [Time-limited test] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@92b1fe{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:16,394 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 17:00:16,394 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:16,425 [Time-limited test] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:16,426 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 17:00:16,444 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 17:00:16,444 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:00:16,446 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 17:00:16,448 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 0.0.0.0:46803 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "fv-az184-332/10.1.0.29"; destination host is: "0.0.0.0":46803; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:862)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1577)
	at org.apache.hadoop.ipc.Client.call(Client.java:1519)
	at org.apache.hadoop.ipc.Client.call(Client.java:1416)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:236)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:123)
	at com.sun.proxy.$Proxy51.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:179)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:82)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1892)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1202)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1098)
2021-10-22 17:00:16,466 [Time-limited test] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-10-22 17:00:16,467 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-10-22 17:00:16,467 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-10-22 17:00:16,467 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 17:00:16,468 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
2021-10-22 17:00:16,609 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 140 ms to scan 7 urls, producing 119 keys and 279 values 
2021-10-22 17:00:16,610 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
2021-10-22 17:00:16,610 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
2021-10-22 17:00:16,610 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
2021-10-22 17:00:16,610 [Time-limited test] INFO  upgrade.HDDSLayoutVersionManager (HDDSLayoutVersionManager.java:lambda$registerUpgradeActions$0(76)) - Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
2021-10-22 17:00:16,613 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 17:00:16,615 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-10-22 17:00:16,753 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-10-22 17:00:16,753 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-10-22 17:00:16,757 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 17:00:16,757 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-10-22 17:00:16,757 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(218)) - Init the HA SequenceIdGenerator.
2021-10-22 17:00:16,758 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-10-22 17:00:16,758 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 17:00:16,759 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-10-22 17:00:16,759 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-10-22 17:00:16,759 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 17:00:16,760 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-10-22 17:00:16,761 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-10-22 17:00:16,761 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-10-22 17:00:16,761 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-10-22 17:00:16,761 [Time-limited test] INFO  safemode.ContainerSafeModeRule (ContainerSafeModeRule.java:<init>(89)) - containers with one replica threshold count 0
2021-10-22 17:00:16,762 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:initializeRule(156)) - Total pipeline count is 1, healthy pipeline threshold count is 1
2021-10-22 17:00:16,762 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:initializeRule(180)) - Total pipeline count is 1, pipeline's with at least one datanode reported threshold count is 1
2021-10-22 17:00:16,762 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:16,769 [Socket Reader #1 for port 46803] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 46803
2021-10-22 17:00:16,773 [Listener at 0.0.0.0/46803] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:16,787 [Socket Reader #1 for port 41915] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 41915
2021-10-22 17:00:16,790 [Listener at 0.0.0.0/41915] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-10-22 17:00:16,798 [Socket Reader #1 for port 38623] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 38623
2021-10-22 17:00:16,820 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 2 containers.
2021-10-22 17:00:16,858 [Listener at 0.0.0.0/38623] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-10-22 17:00:16,883 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(388)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.2
Max Size to Move per Iteration                     32212254720B

2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(235)) - Running pre-finalized state validations for unfinalized layout features.
2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runValidationAction(264)) - Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:runPrefinalizeStateActions(248)) - Running first upgrade commands for unfinalized layout features.
2021-10-22 17:00:16,884 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1303)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:38623
2021-10-22 17:00:16,887 [Listener at 0.0.0.0/38623] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-10-22 17:00:16,887 [Listener at 0.0.0.0/38623] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-10-22 17:00:16,887 [Listener at 0.0.0.0/38623] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-10-22 17:00:16,983 [Listener at 0.0.0.0/38623] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-10-22 17:00:16,984 [Listener at 0.0.0.0/38623] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-10-22 17:00:17,064 [Listener at 0.0.0.0/38623] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:38623
2021-10-22 17:00:17,094 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:17,095 [IPC Server listener on 38623] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 38623: starting
2021-10-22 17:00:17,198 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1318)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:41915
2021-10-22 17:00:17,198 [Listener at 0.0.0.0/38623] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:41915
2021-10-22 17:00:17,198 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:17,199 [IPC Server listener on 41915] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 41915: starting
2021-10-22 17:00:17,272 [Listener at 0.0.0.0/38623] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1324)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46803
2021-10-22 17:00:17,272 [Listener at 0.0.0.0/38623] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:46803
2021-10-22 17:00:17,273 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-10-22 17:00:17,273 [IPC Server listener on 46803] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 46803: starting
2021-10-22 17:00:17,353 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:46767
2021-10-22 17:00:17,353 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-10-22 17:00:17,358 [Listener at 0.0.0.0/38623] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-10-22 17:00:17,359 [Listener at 0.0.0.0/38623] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-10-22 17:00:17,360 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-10-22 17:00:17,360 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-10-22 17:00:17,360 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-10-22 17:00:17,360 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-10-22 17:00:17,361 [Listener at 0.0.0.0/38623] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 46767
2021-10-22 17:00:17,361 [Listener at 0.0.0.0/38623] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-10-22 17:00:17,362 [Listener at 0.0.0.0/38623] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-10-22 17:00:17,362 [Listener at 0.0.0.0/38623] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-10-22 17:00:17,374 [Listener at 0.0.0.0/38623] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-10-22 17:00:17,376 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@572047a1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-10-22 17:00:17,376 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6c528af7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-10-22 17:00:17,391 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@398b0878] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-10-22 17:00:17,396 [Listener at 0.0.0.0/38623] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@b5ae831{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:17,410 [Listener at 0.0.0.0/38623] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@376e85db{HTTP/1.1, (http/1.1)}{0.0.0.0:46767}
2021-10-22 17:00:17,410 [Listener at 0.0.0.0/38623] INFO  server.Server (Server.java:doStart(415)) - Started @198460ms
2021-10-22 17:00:17,410 [Listener at 0.0.0.0/38623] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-10-22 17:00:17,440 [Listener at 0.0.0.0/38623] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:46767
2021-10-22 17:00:17,442 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-10-22 17:00:17,444 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Waiting for cluster to exit safe mode
2021-10-22 17:00:17,444 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:17,500 [EndpointStateMachine task thread for /0.0.0.0:46803 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(977)) - Retrying connect to server: 0.0.0.0/0.0.0.0:46803. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-10-22 17:00:17,547 [Datanode State Machine Daemon Thread] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:633)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:280)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:468)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-10-22 17:00:17,549 [IPC Server handler 1 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,551 [IPC Server handler 1 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,548 [IPC Server handler 0 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,553 [IPC Server handler 0 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,575 [IPC Server handler 2 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,575 [IPC Server handler 2 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,576 [IPC Server handler 6 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,577 [IPC Server handler 7 on default port 46803] INFO  server.SCMDatanodeHeartbeatDispatcher (SCMDatanodeHeartbeatDispatcher.java:dispatch(101)) - SCM received heartbeat from an unregistered datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}. Asking datanode to re-register.
2021-10-22 17:00:17,949 [IPC Server handler 8 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:17,949 [IPC Server handler 8 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:17,965 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 3 required.
2021-10-22 17:00:17,965 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - ContainerSafeModeRule rule is successfully validated
2021-10-22 17:00:17,966 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (OneReplicaPipelineSafeModeRule.java:process(120)) - SCM in safe mode. Pipelines with at least one datanode reported count is 1, required at least one datanode reported per pipeline count is 1
2021-10-22 17:00:18,015 [IPC Server handler 9 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:18,015 [IPC Server handler 9 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:18,022 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 2 DataNodes registered, 3 required.
2021-10-22 17:00:18,037 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-10-22 17:00:18,051 [IPC Server handler 10 on default port 46803] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:18,051 [IPC Server handler 10 on default port 46803] INFO  node.SCMNodeManager (SCMNodeManager.java:register(389)) - Registered Data node : 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-10-22 17:00:18,055 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 3 DataNodes registered, 3 required.
2021-10-22 17:00:18,056 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - DataNodeSafeModeRule rule is successfully validated
2021-10-22 17:00:18,056 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(233)) - All SCM safe mode pre check rules have passed
2021-10-22 17:00:18,056 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:18,056 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-10-22 17:00:18,056 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:18,069 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:18,069 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:18,069 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:18,081 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(124)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(204)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(219)) - ScmSafeModeManager, all rules are successfully validated
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-10-22 17:00:18,082 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1746)) - Service ReplicationManager transitions to RUNNING.
2021-10-22 17:00:18,445 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-10-22 17:00:18,445 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-10-22 17:00:18,445 [Listener at 0.0.0.0/38623] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-10-22 17:00:18,445 [Listener at 0.0.0.0/38623] WARN  upgrade.InjectedUpgradeFinalizationExecutor (InjectedUpgradeFinalizationExecutor.java:execute(90)) - Upgrade Finalization failed with following Exception.
org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor$UpgradeTestInjectionAbort
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.injectTestFunctionAtThisPoint(InjectedUpgradeFinalizationExecutor.java:124)
	at org.apache.hadoop.ozone.upgrade.InjectedUpgradeFinalizationExecutor.execute(InjectedUpgradeFinalizationExecutor.java:74)
	at org.apache.hadoop.ozone.upgrade.BasicUpgradeFinalizer.finalize(BasicUpgradeFinalizer.java:74)
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.finalizeUpgrade(StorageContainerManager.java:1839)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testFinalizationWithFailureInjectionHelper(TestHDDSUpgrade.java:1042)
	at org.apache.hadoop.hdds.upgrade.TestHDDSUpgrade.testScmFailuresBeforeScmPreFinalizeUpgrade(TestHDDSUpgrade.java:667)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:18,459 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:18,459 [Listener at 0.0.0.0/38623] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:00:18,467 [Listener at 0.0.0.0/38623] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 0078763c-5765-4d09-aee4-a0a7790625ea, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0b93af3c-3bff-453d-a892-2543430d90de, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] moved to CLOSED state
2021-10-22 17:00:18,467 [Listener at 0.0.0.0/38623] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 3e4acf07-9261-4b6e-95ec-103f173fe6a3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] moved to CLOSED state
2021-10-22 17:00:18,468 [Listener at 0.0.0.0/38623] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] moved to CLOSED state
2021-10-22 17:00:18,476 [Listener at 0.0.0.0/38623] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:closePipeline(342)) - Pipeline Pipeline[ Id: 5e3f35be-be72-409c-8e49-69074cab8b75, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:98908e51-2f97-4b53-a15b-7d12753460cc, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] moved to CLOSED state
2021-10-22 17:00:18,476 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:waitForAllPipelinesToDestroy(155)) - Waiting for all pipelines to close.
2021-10-22 17:00:18,479 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #1
2021-10-22 17:00:18,480 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO  container.CloseContainerEventHandler (CloseContainerEventHandler.java:onMessage(69)) - Close container Event triggered for container : #2
2021-10-22 17:00:19,126 [pool-862-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,126 [pool-862-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,128 [pool-862-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 17:00:19,148 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #1 to CLOSED state, datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 17:00:19,225 [pool-851-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,225 [pool-851-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,225 [pool-859-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,225 [pool-859-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 1 is synced with bcsId 0.
2021-10-22 17:00:19,228 [pool-859-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 17:00:19,251 [pool-851-thread-4] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 1 is closed with bcsId 0.
2021-10-22 17:00:19,290 [pool-862-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,290 [pool-862-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,293 [pool-862-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 17:00:19,308 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO  container.IncrementalContainerReportHandler (AbstractContainerReportHandler.java:updateContainerState(223)) - Moving container #2 to CLOSED state, datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
2021-10-22 17:00:19,308 [pool-859-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,312 [pool-859-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,316 [pool-859-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 17:00:19,338 [pool-851-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,338 [pool-851-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:flushAndSyncDB(397)) - Container 2 is synced with bcsId 4.
2021-10-22 17:00:19,348 [pool-851-thread-5] INFO  keyvalue.KeyValueContainer (KeyValueContainer.java:close(334)) - Container 2 is closed with bcsId 4.
2021-10-22 17:00:20,107 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:20,108 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: close
2021-10-22 17:00:20,108 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: shutdown
2021-10-22 17:00:20,108 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:20,108 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState
2021-10-22 17:00:20,108 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:20,109 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-34B1E397591D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0
2021-10-22 17:00:20,110 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-34B1E397591D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0 took: 1 ms
2021-10-22 17:00:20,110 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:20,110 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:20,111 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:20,117 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D: closes. applyIndex: 0
2021-10-22 17:00:20,118 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:20,126 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:20,128 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: close
2021-10-22 17:00:20,128 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: shutdown
2021-10-22 17:00:20,128 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DED36F503425,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:20,128 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-LeaderStateImpl
2021-10-22 17:00:20,128 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:20,129 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:20,130 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-DED36F503425: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425/sm/snapshot.1_0
2021-10-22 17:00:20,131 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-DED36F503425: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/f002425c-9da5-42b4-bff9-ded36f503425/sm/snapshot.1_0 took: 1 ms
2021-10-22 17:00:20,131 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:20,131 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:20,132 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425: closes. applyIndex: 0
2021-10-22 17:00:20,132 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:20,150 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-34B1E397591D-SegmentedRaftLogWorker close()
2021-10-22 17:00:20,203 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-DED36F503425-SegmentedRaftLogWorker close()
2021-10-22 17:00:20,222 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: shutdown
2021-10-22 17:00:20,222 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9523A4B0476,id=10180c5d-8671-43e1-a35b-bc2eb2023912
2021-10-22 17:00:20,222 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-LeaderStateImpl
2021-10-22 17:00:20,222 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:20,223 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:20,224 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-D9523A4B0476: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476/sm/snapshot.1_0
2021-10-22 17:00:20,227 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: shutdown
2021-10-22 17:00:20,227 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=6de71699-dc39-4c6b-ada4-18dbb8f4503c
2021-10-22 17:00:20,227 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-LeaderStateImpl
2021-10-22 17:00:20,227 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->10180c5d-8671-43e1-a35b-bc2eb2023912-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->10180c5d-8671-43e1-a35b-bc2eb2023912-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:20,227 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:20,227 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->e40beabb-1436-4e16-9844-e17d7258fa3f-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->e40beabb-1436-4e16-9844-e17d7258fa3f-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:20,228 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-D9523A4B0476: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-1/data/ratis/0271d03f-d093-431d-86d5-d9523a4b0476/sm/snapshot.1_0 took: 3 ms
2021-10-22 17:00:20,228 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:20,228 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:20,228 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: Completed APPEND_ENTRIES, lastRequest: 6de71699-dc39-4c6b-ada4-18dbb8f4503c->10180c5d-8671-43e1-a35b-bc2eb2023912#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-10-22 17:00:20,229 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - e40beabb-1436-4e16-9844-e17d7258fa3f: Completed APPEND_ENTRIES, lastRequest: 6de71699-dc39-4c6b-ada4-18dbb8f4503c->e40beabb-1436-4e16-9844-e17d7258fa3f#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY
2021-10-22 17:00:20,232 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->e40beabb-1436-4e16-9844-e17d7258fa3f-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:20,232 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->e40beabb-1436-4e16-9844-e17d7258fa3f: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 17:00:20,228 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:20,233 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476: closes. applyIndex: 0
2021-10-22 17:00:20,234 [10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:20,235 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 10180c5d-8671-43e1-a35b-bc2eb2023912@group-D9523A4B0476-SegmentedRaftLogWorker close()
2021-10-22 17:00:20,247 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown server with port 41395 now
2021-10-22 17:00:20,253 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(335)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D->10180c5d-8671-43e1-a35b-bc2eb2023912-GrpcLogAppender is stopped
2021-10-22 17:00:20,253 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 10180c5d-8671-43e1-a35b-bc2eb2023912: shutdown server with port 41395 successfully
2021-10-22 17:00:20,259 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-34B1E397591D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0
2021-10-22 17:00:20,260 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-34B1E397591D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-0/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0 took: 1 ms
2021-10-22 17:00:20,261 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:20,261 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:20,261 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D: closes. applyIndex: 0
2021-10-22 17:00:20,262 [6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:20,268 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@51a99598] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-10180c5d-8671-43e1-a35b-bc2eb2023912: Stopped
2021-10-22 17:00:20,271 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c@group-34B1E397591D-SegmentedRaftLogWorker close()
2021-10-22 17:00:20,293 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:20,299 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown server with port 35685 now
2021-10-22 17:00:20,315 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 6de71699-dc39-4c6b-ada4-18dbb8f4503c: shutdown server with port 35685 successfully
2021-10-22 17:00:20,318 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@76a07129] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-6de71699-dc39-4c6b-ada4-18dbb8f4503c: Stopped
2021-10-22 17:00:20,319 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:23,337 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:23,338 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5aa35638{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:23,346 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4ac28b92{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:23,347 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:23,347 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3bf7cf7d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:23,347 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1900482b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:23,356 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:23,357 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@23ed28b5{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:23,357 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7246e295{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:23,357 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:23,358 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@654603dc{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:23,358 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1f022b7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:23,476 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) -   Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
2021-10-22 17:00:23,476 [Listener at 0.0.0.0/38623] INFO  upgrade.ScmOnFinalizeActionForDatanodeSchemaV2 (ScmOnFinalizeActionForDatanodeSchemaV2.java:execute(43)) - Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
2021-10-22 17:00:23,479 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - No onFinalize work defined for feature: SCM_HA.
2021-10-22 17:00:23,513 [Listener at 0.0.0.0/38623] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-10-22 17:00:23,513 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 17:00:23,513 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 which uses HEALTHY READONLY datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 17:00:23,513 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 close command to datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:23,518 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 17:00:23,519 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea since it stays at CLOSED stage.
2021-10-22 17:00:23,519 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea close command to datanode 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:23,544 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 0078763c-5765-4d09-aee4-a0a7790625ea, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:0b93af3c-3bff-453d-a892-2543430d90de, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] removed.
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 since it stays at CLOSED stage.
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 close command to datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 3e4acf07-9261-4b6e-95ec-103f173fe6a3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] removed.
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75 since it stays at CLOSED stage.
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75 close command to datanode 98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:23,545 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 5e3f35be-be72-409c-8e49-69074cab8b75, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:98908e51-2f97-4b53-a15b-7d12753460cc, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] removed.
2021-10-22 17:00:23,546 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:scrubPipeline(383)) - Scrubbing pipeline: id: PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 since it stays at CLOSED stage.
2021-10-22 17:00:23,546 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 close command to datanode 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:23,546 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 close command to datanode 98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:23,547 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$close$1(222)) - Send pipeline:PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 close command to datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:23,547 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] WARN  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(213)) - Pipeline 3e4acf07-9261-4b6e-95ec-103f173fe6a3 is not found in the pipeline Map. Pipeline may have been deleted already.
2021-10-22 17:00:23,547 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(62)) - Closing pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 which uses HEALTHY READONLY datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
2021-10-22 17:00:23,547 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:removePipeline(211)) - Pipeline Pipeline[ Id: 7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T17:00:16.759Z[Etc/UTC]] removed.
2021-10-22 17:00:23,561 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 0.
2021-10-22 17:00:23,562 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(67)) - Failed to close pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 which uses HEALTHY READONLY datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 not found
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:121)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getPipeline(PipelineStateManagerImpl.java:125)
	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
	at com.sun.proxy.$Proxy24.getPipeline(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.getPipeline(PipelineManagerImpl.java:210)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-10-22 17:00:23,563 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 17:00:23,563 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO  node.HealthyReadOnlyNodeHandler (HealthyReadOnlyNodeHandler.java:onMessage(58)) - Datanode 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
2021-10-22 17:00:23,811 [IPC Server handler 10 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:23,856 [IPC Server handler 4 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:23,858 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 is not found
2021-10-22 17:00:23,859 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75 is not found
2021-10-22 17:00:23,867 [IPC Server handler 5 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:23,868 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea is not found
2021-10-22 17:00:23,868 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 is not found
2021-10-22 17:00:24,309 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: remove    LEADER 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3:t1, leader=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLog:OPENED:c0, conf=0: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,310 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: shutdown
2021-10-22 17:00:24,310 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-103F173FE6A3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:24,310 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-LeaderStateImpl
2021-10-22 17:00:24,310 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:24,311 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:24,313 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-103F173FE6A3: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3/sm/snapshot.1_0
2021-10-22 17:00:24,313 [IPC Server handler 0 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:24,314 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 is not found
2021-10-22 17:00:24,314 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineReportHandler (PipelineReportHandler.java:processPipelineReport(113)) - Reported pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 is not found
2021-10-22 17:00:24,316 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-103F173FE6A3: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3/sm/snapshot.1_0 took: 4 ms
2021-10-22 17:00:24,316 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:24,317 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:24,317 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: closes. applyIndex: 0
2021-10-22 17:00:24,317 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,317 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,318 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-103F173FE6A3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/3e4acf07-9261-4b6e-95ec-103f173fe6a3
2021-10-22 17:00:24,318 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=3e4acf07-9261-4b6e-95ec-103f173fe6a3 command on datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5.
2021-10-22 17:00:24,318 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: remove    LEADER 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3:t7, leader=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c10, conf=0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,318 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: shutdown
2021-10-22 17:00:24,318 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:24,318 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-LeaderStateImpl
2021-10-22 17:00:24,318 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->98908e51-2f97-4b53-a15b-7d12753460cc-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->98908e51-2f97-4b53-a15b-7d12753460cc-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:24,319 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 98908e51-2f97-4b53-a15b-7d12753460cc: Completed APPEND_ENTRIES, lastRequest: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5->98908e51-2f97-4b53-a15b-7d12753460cc#338-t7,previous=(t:7, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:7, i:10), METADATAENTRY(c:9)
2021-10-22 17:00:24,320 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->98908e51-2f97-4b53-a15b-7d12753460cc-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:24,320 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->98908e51-2f97-4b53-a15b-7d12753460cc: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 17:00:24,320 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:24,330 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->0b93af3c-3bff-453d-a892-2543430d90de-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->0b93af3c-3bff-453d-a892-2543430d90de-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:24,331 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 0b93af3c-3bff-453d-a892-2543430d90de: Completed APPEND_ENTRIES, lastRequest: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5->0b93af3c-3bff-453d-a892-2543430d90de#338-t7,previous=(t:7, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:7, i:10), METADATAENTRY(c:9)
2021-10-22 17:00:24,331 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->0b93af3c-3bff-453d-a892-2543430d90de-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:24,332 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3->0b93af3c-3bff-453d-a892-2543430d90de: nextIndex: updateUnconditionally 11 -> 10
2021-10-22 17:00:24,345 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:24,348 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D07934EF5E3: Taking a snapshot at:(t:7, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10
2021-10-22 17:00:24,350 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D07934EF5E3: Finished taking a snapshot at:(t:7, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10 took: 2 ms
2021-10-22 17:00:24,350 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:24,351 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:24,351 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: closes. applyIndex: 10
2021-10-22 17:00:24,351 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,351 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,352 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4D07934EF5E3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 17:00:24,352 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 command on datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5.
2021-10-22 17:00:24,352 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:24,352 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:24,352 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:24,352 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:24,354 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:24,354 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data-0/containers/hdds/7b5ce9b8-71ef-4a97-a594-01dc0abecf82. No action required for SCM HA finalization.
2021-10-22 17:00:24,355 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:24,356 [IPC Server handler 19 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:24,370 [IPC Server handler 6 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:24,856 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 98908e51-2f97-4b53-a15b-7d12753460cc: remove    LEADER 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75:t1, leader=98908e51-2f97-4b53-a15b-7d12753460cc, voted=98908e51-2f97-4b53-a15b-7d12753460cc, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLog:OPENED:c0, conf=0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,856 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: shutdown
2021-10-22 17:00:24,856 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-69074CAB8B75,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:24,856 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-LeaderStateImpl
2021-10-22 17:00:24,856 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:24,857 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:24,857 [IPC Server handler 4 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:24,858 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-69074CAB8B75: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75/sm/snapshot.1_0
2021-10-22 17:00:24,861 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-69074CAB8B75: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:24,861 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:24,861 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:24,862 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: closes. applyIndex: 0
2021-10-22 17:00:24,862 [98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,862 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,863 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-69074CAB8B75: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/5e3f35be-be72-409c-8e49-69074cab8b75
2021-10-22 17:00:24,863 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=5e3f35be-be72-409c-8e49-69074cab8b75 command on datanode 98908e51-2f97-4b53-a15b-7d12753460cc.
2021-10-22 17:00:24,863 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 98908e51-2f97-4b53-a15b-7d12753460cc: remove  FOLLOWER 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3:t7, leader=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c10, conf=0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,863 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: shutdown
2021-10-22 17:00:24,863 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:24,863 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState
2021-10-22 17:00:24,863 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:24,864 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D07934EF5E3: Taking a snapshot at:(t:7, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10
2021-10-22 17:00:24,864 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:24,865 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D07934EF5E3: Finished taking a snapshot at:(t:7, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10 took: 2 ms
2021-10-22 17:00:24,865 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:24,865 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:24,866 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: closes. applyIndex: 10
2021-10-22 17:00:24,866 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,867 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,867 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0b93af3c-3bff-453d-a892-2543430d90de: remove    LEADER 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA:t1, leader=0b93af3c-3bff-453d-a892-2543430d90de, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLog:OPENED:c0, conf=0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,867 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: shutdown
2021-10-22 17:00:24,867 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0A7790625EA,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:24,867 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-LeaderStateImpl
2021-10-22 17:00:24,867 [Command processor thread] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:24,868 [IPC Server handler 5 on default port 46803] WARN  node.SCMNodeManager (SCMNodeManager.java:processLayoutVersionReport(598)) - Data node fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
2021-10-22 17:00:24,869 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:24,869 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A0A7790625EA: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea/sm/snapshot.1_0
2021-10-22 17:00:24,869 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4D07934EF5E3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 17:00:24,870 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 command on datanode 98908e51-2f97-4b53-a15b-7d12753460cc.
2021-10-22 17:00:24,870 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:24,870 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:24,871 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A0A7790625EA: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:24,871 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:24,871 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:24,872 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:24,872 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:24,872 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: closes. applyIndex: 0
2021-10-22 17:00:24,872 [0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,872 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,873 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A0A7790625EA: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/0078763c-5765-4d09-aee4-a0a7790625ea
2021-10-22 17:00:24,873 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=0078763c-5765-4d09-aee4-a0a7790625ea command on datanode 0b93af3c-3bff-453d-a892-2543430d90de.
2021-10-22 17:00:24,873 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:remove(106)) - 0b93af3c-3bff-453d-a892-2543430d90de: remove  FOLLOWER 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3:t7, leader=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLog:OPENED:c10, conf=0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:0, 98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null RUNNING
2021-10-22 17:00:24,873 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: shutdown
2021-10-22 17:00:24,873 [Command processor thread] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4D07934EF5E3,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:24,873 [Command processor thread] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState
2021-10-22 17:00:24,874 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:24,875 [Command processor thread] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater: set stopIndex = 10
2021-10-22 17:00:24,875 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4D07934EF5E3: Taking a snapshot at:(t:7, i:10) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10
2021-10-22 17:00:24,876 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4D07934EF5E3: Finished taking a snapshot at:(t:7, i:10) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3/sm/snapshot.7_10 took: 1 ms
2021-10-22 17:00:24,876 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater: Took a snapshot at index 10
2021-10-22 17:00:24,876 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-10-22 17:00:24,877 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:24,877 [Command processor thread] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: closes. applyIndex: 10
2021-10-22 17:00:24,877 [0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:24,877 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data-0/containers/hdds/7b5ce9b8-71ef-4a97-a594-01dc0abecf82. No action required for SCM HA finalization.
2021-10-22 17:00:24,877 [Command processor thread] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3-SegmentedRaftLogWorker close()
2021-10-22 17:00:24,878 [Command processor thread] INFO  server.RaftServer$Division (RaftServerImpl.java:groupRemove(382)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4D07934EF5E3: Succeed to remove RaftStorageDirectory Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3
2021-10-22 17:00:24,878 [Command processor thread] INFO  commandhandler.ClosePipelineCommandHandler (ClosePipelineCommandHandler.java:handle(78)) - Close Pipeline PipelineID=7ce0163d-c5f3-4c5b-9e12-4d07934ef5e3 command on datanode 0b93af3c-3bff-453d-a892-2543430d90de.
2021-10-22 17:00:24,878 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:24,878 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(77)) - Finalize Upgrade called!
2021-10-22 17:00:24,879 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization started.
2021-10-22 17:00:24,879 [Command processor thread] INFO  upgrade.DatanodeSchemaV2FinalizeAction (DatanodeSchemaV2FinalizeAction.java:execute(44)) - Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
2021-10-22 17:00:24,881 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:execute(52)) - Upgrading Datanode volume layout for SCM HA support.
2021-10-22 17:00:24,881 [Command processor thread] INFO  upgrade.ScmHAFinalizeUpgradeActionDatanode (ScmHAFinalizeUpgradeActionDatanode.java:upgradeVolume(122)) - Volume already contains cluster ID directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data-0/containers/hdds/7b5ce9b8-71ef-4a97-a594-01dc0abecf82. No action required for SCM HA finalization.
2021-10-22 17:00:24,882 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:24,882 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:24,883 [Command processor thread] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:24,883 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:25,277 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:25,277 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:25,277 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=2bf70eb6-5adc-4007-ba94-21c2cdec85e3 to datanode:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:25,278 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 2bf70eb6-5adc-4007-ba94-21c2cdec85e3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:25.277Z[Etc/UTC]].
2021-10-22 17:00:25,278 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy (SCMCommonPlacementPolicy.java:filterNodesWithSpace(171)) - Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 5368709120 bytes for data in healthy node set. Required 3. Found 1.
2021-10-22 17:00:25,777 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:25,777 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:25,777 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  node.ReadOnlyHealthyToHealthyNodeHandler (ReadOnlyHealthyToHealthyNodeHandler.java:onMessage(51)) - Datanode 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
2021-10-22 17:00:25,777 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:notifyEventTriggered(285)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-10-22 17:00:25,780 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=07ab0c7e-0721-4b75-a705-0c8e681d8d7e to datanode:98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:25,780 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 07ab0c7e-0721-4b75-a705-0c8e681d8d7e, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:25.779Z[Etc/UTC]].
2021-10-22 17:00:25,780 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f2515093-3c33-4d03-8a29-4949bd340a59 to datanode:98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:25,780 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f2515093-3c33-4d03-8a29-4949bd340a59 to datanode:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:25,780 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=f2515093-3c33-4d03-8a29-4949bd340a59 to datanode:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:25,781 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: f2515093-3c33-4d03-8a29-4949bd340a59, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:25.780Z[Etc/UTC]].
2021-10-22 17:00:25,781 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(183)) - Sending CreatePipelineCommand for pipeline:PipelineID=6e428bf8-b313-49d3-9bf6-a22face6cb8a to datanode:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:25,781 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineStateManagerImpl (PipelineStateManagerImpl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6e428bf8-b313-49d3-9bf6-a22face6cb8a, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-22T17:00:25.781Z[Etc/UTC]].
2021-10-22 17:00:25,812 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:25,812 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: addNew group-21C2CDEC85E3:[0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] returns group-21C2CDEC85E3:java.util.concurrent.CompletableFuture@766445ee[Not completed]
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: new RaftServerImpl for group-21C2CDEC85E3:[0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: ConfigurationManager, init=-1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:25,813 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis] (custom)
2021-10-22 17:00:25,814 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:25,814 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:25,814 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3 does not exist. Creating ...
2021-10-22 17:00:25,816 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3 has been successfully formatted.
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-21C2CDEC85E3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:25,823 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,824 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:25,825 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:25,825 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:25,825 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:25,825 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:25,827 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:25,827 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:25,827 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,827 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:25,828 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:25,830 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: start as a follower, conf=-1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 17:00:25,830 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:25,830 [pool-803-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState
2021-10-22 17:00:25,830 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 2bf70eb6-5adc-4007-ba94-21c2cdec85e3, Nodes: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, CreationTimestamp2021-10-22T17:00:25.277Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:25,832 [pool-803-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21C2CDEC85E3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:25,835 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=2bf70eb6-5adc-4007-ba94-21c2cdec85e3
2021-10-22 17:00:25,835 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=2bf70eb6-5adc-4007-ba94-21c2cdec85e3.
2021-10-22 17:00:25,835 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: addNew group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0] returns group-4949BD340A59:java.util.concurrent.CompletableFuture@25424ca3[Not completed]
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: new RaftServerImpl for group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: ConfigurationManager, init=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:25,836 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis] (custom)
2021-10-22 17:00:25,837 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:25,837 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:25,837 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 does not exist. Creating ...
2021-10-22 17:00:25,839 [pool-803-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:25,842 [pool-803-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 has been successfully formatted.
2021-10-22 17:00:25,843 [pool-803-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4949BD340A59: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:25,845 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:25,845 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:25,845 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:25,845 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:25,846 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:25,847 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:25,849 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:25,853 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:25,853 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,853 [pool-803-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:25,859 [pool-803-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:25,861 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: start as a follower, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null
2021-10-22 17:00:25,862 [pool-803-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:25,862 [pool-803-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:25,872 [pool-803-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:25,879 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=f2515093-3c33-4d03-8a29-4949bd340a59
2021-10-22 17:00:25,896 [grpc-default-executor-5] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98908e51-2f97-4b53-a15b-7d12753460cc: addNew group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0] returns group-4949BD340A59:java.util.concurrent.CompletableFuture@5aa34643[Not completed]
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 98908e51-2f97-4b53-a15b-7d12753460cc: new RaftServerImpl for group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:25,897 [pool-822-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: ConfigurationManager, init=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:25,898 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis] (custom)
2021-10-22 17:00:25,898 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:25,898 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:25,898 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 does not exist. Creating ...
2021-10-22 17:00:25,908 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:25,910 [pool-822-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 has been successfully formatted.
2021-10-22 17:00:25,910 [pool-822-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4949BD340A59: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:25,910 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:25,910 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:25,910 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:25,911 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:25,911 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:25,912 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:25,914 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:25,914 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:25,914 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,914 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:25,917 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:25,920 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: start as a follower, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:25,920 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:25,920 [pool-822-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:25,921 [pool-822-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:25,952 [grpc-default-executor-5] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0b93af3c-3bff-453d-a892-2543430d90de: addNew group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0] returns group-4949BD340A59:java.util.concurrent.CompletableFuture@1ebc2493[Not completed]
2021-10-22 17:00:25,955 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0b93af3c-3bff-453d-a892-2543430d90de: new RaftServerImpl for group-4949BD340A59:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-10-22 17:00:25,955 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:25,955 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:25,955 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:25,955 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: ConfigurationManager, init=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis] (custom)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:25,956 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 does not exist. Creating ...
2021-10-22 17:00:25,964 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:25,966 [pool-784-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59 has been successfully formatted.
2021-10-22 17:00:25,966 [pool-784-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-4949BD340A59: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:25,967 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:25,967 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:25,967 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:25,967 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:25,967 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:25,968 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:25,970 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:25,973 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:25,973 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,973 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:25,987 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:25,989 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: start as a follower, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:25,990 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:25,990 [pool-784-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:26,007 [pool-784-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:26,015 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=f2515093-3c33-4d03-8a29-4949bd340a59.
2021-10-22 17:00:26,356 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:26,356 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 98908e51-2f97-4b53-a15b-7d12753460cc: addNew group-0C8E681D8D7E:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1] returns group-0C8E681D8D7E:java.util.concurrent.CompletableFuture@7c67cb73[Not completed]
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 98908e51-2f97-4b53-a15b-7d12753460cc: new RaftServerImpl for group-0C8E681D8D7E:[98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:26,357 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: ConfigurationManager, init=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis] (custom)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:26,358 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e does not exist. Creating ...
2021-10-22 17:00:26,361 [pool-822-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e has been successfully formatted.
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-0C8E681D8D7E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:26,363 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:26,364 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:26,366 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 07ab0c7e-0721-4b75-a705-0c8e681d8d7e, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:98908e51-2f97-4b53-a15b-7d12753460cc, CreationTimestamp2021-10-22T17:00:25.779Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:26,366 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:26,366 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:26,366 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:26,367 [Command processor thread] INFO  commandhandler.FinalizeNewLayoutVersionCommandHandler (FinalizeNewLayoutVersionCommandHandler.java:handle(64)) - Processing FinalizeNewLayoutVersionCommandHandler command.
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:26,367 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 0b93af3c-3bff-453d-a892-2543430d90de: addNew group-A22FACE6CB8A:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1] returns group-A22FACE6CB8A:java.util.concurrent.CompletableFuture@5c490667[Not completed]
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:26,367 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:26,368 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(184)) - 0b93af3c-3bff-453d-a892-2543430d90de: new RaftServerImpl for group-A22FACE6CB8A:[0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1] with ContainerStateMachine:uninitialized
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: ConfigurationManager, init=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null, confs=<EMPTY_MAP>
2021-10-22 17:00:26,368 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis] (custom)
2021-10-22 17:00:26,369 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-10-22 17:00:26,369 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-10-22 17:00:26,369 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a does not exist. Creating ...
2021-10-22 17:00:26,370 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:26,370 [pool-784-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a/in_use.lock acquired by nodename 2833@fv-az184-332
2021-10-22 17:00:26,371 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:26,371 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:26,374 [pool-822-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:26,375 [pool-822-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:26,378 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: start as a follower, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null
2021-10-22 17:00:26,378 [pool-822-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:26,378 [pool-822-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState
2021-10-22 17:00:26,378 [pool-784-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a has been successfully formatted.
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-A22FACE6CB8A: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:26,380 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-10-22 17:00:26,381 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-10-22 17:00:26,382 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-10-22 17:00:26,382 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-10-22 17:00:26,382 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-10-22 17:00:26,382 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-10-22 17:00:26,383 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: 6e428bf8-b313-49d3-9bf6-a22face6cb8a, Nodes: 0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:0b93af3c-3bff-453d-a892-2543430d90de, CreationTimestamp2021-10-22T17:00:25.781Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:26,384 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-10-22 17:00:26,385 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-10-22 17:00:26,385 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:26,385 [pool-784-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-10-22 17:00:26,395 [pool-784-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100Î¼s (default)
2021-10-22 17:00:26,398 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(301)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: start as a follower, conf=-1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null
2021-10-22 17:00:26,398 [pool-784-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-10-22 17:00:26,398 [pool-784-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState
2021-10-22 17:00:26,402 [pool-784-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A22FACE6CB8A,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:26,403 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=6e428bf8-b313-49d3-9bf6-a22face6cb8a
2021-10-22 17:00:26,404 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6e428bf8-b313-49d3-9bf6-a22face6cb8a.
2021-10-22 17:00:26,407 [pool-822-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C8E681D8D7E,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:26,408 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(768)) - Created group PipelineID=07ab0c7e-0721-4b75-a705-0c8e681d8d7e
2021-10-22 17:00:26,408 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=07ab0c7e-0721-4b75-a705-0c8e681d8d7e.
2021-10-22 17:00:28,353 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:28,354 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - e40beabb-1436-4e16-9844-e17d7258fa3f: close
2021-10-22 17:00:28,356 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: shutdown
2021-10-22 17:00:28,356 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34B1E397591D,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:28,356 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState
2021-10-22 17:00:28,357 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:28,357 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-34B1E397591D: Taking a snapshot at:(t:2, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0
2021-10-22 17:00:28,357 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: shutdown
2021-10-22 17:00:28,358 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1950CFC7E437,id=e40beabb-1436-4e16-9844-e17d7258fa3f
2021-10-22 17:00:28,361 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-LeaderStateImpl
2021-10-22 17:00:28,361 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:28,363 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-1950CFC7E437: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437/sm/snapshot.1_0
2021-10-22 17:00:28,363 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:28,358 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-34B1E397591D: Finished taking a snapshot at:(t:2, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/8ba9bf93-1b6a-4d73-baaf-34b1e397591d/sm/snapshot.2_0 took: 1 ms
2021-10-22 17:00:28,364 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:28,364 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:28,364 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-1950CFC7E437: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-09199f8f-260e-444a-8343-d7f809adb8c5/datanode-2/data/ratis/d49aee60-c459-4a63-81bd-1950cfc7e437/sm/snapshot.1_0 took: 2 ms
2021-10-22 17:00:28,365 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:28,365 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:28,366 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D: closes. applyIndex: 0
2021-10-22 17:00:28,366 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:28,366 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-SegmentedRaftLogWorker close()
2021-10-22 17:00:28,394 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-34B1E397591D-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:28,409 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437: closes. applyIndex: 0
2021-10-22 17:00:28,411 [e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:28,412 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - e40beabb-1436-4e16-9844-e17d7258fa3f@group-1950CFC7E437-SegmentedRaftLogWorker close()
2021-10-22 17:00:28,427 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown server with port 39727 now
2021-10-22 17:00:28,428 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - e40beabb-1436-4e16-9844-e17d7258fa3f: shutdown server with port 39727 successfully
2021-10-22 17:00:28,428 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@65eb3e16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-e40beabb-1436-4e16-9844-e17d7258fa3f: Stopped
2021-10-22 17:00:28,429 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:28,519 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 17:00:30,869 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5038614224ns, electionTimeout:5036ms
2021-10-22 17:00:30,869 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState
2021-10-22 17:00:30,869 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:30,869 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:30,869 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83
2021-10-22 17:00:30,874 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83 ELECTION round 0: submit vote requests at term 1 for -1: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:1], old=null
2021-10-22 17:00:30,874 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:30,874 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83
2021-10-22 17:00:30,874 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:30,875 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-21C2CDEC85E3 with new leaderId: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:30,875 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: change Leader from null to 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at term 1 for becomeLeader, leader elected after 5051ms
2021-10-22 17:00:30,875 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:30,890 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:30,891 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:30,891 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:30,891 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:30,891 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:30,892 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:30,892 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:30,894 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderStateImpl
2021-10-22 17:00:30,895 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:30,902 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3/current/log_inprogress_0
2021-10-22 17:00:30,904 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: set configuration 0: [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:1], old=null
2021-10-22 17:00:30,945 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5083656646ns, electionTimeout:5072ms
2021-10-22 17:00:30,946 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:30,946 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:30,946 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:30,946 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84
2021-10-22 17:00:30,951 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84 ELECTION round 0: submit vote requests at term 1 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null
2021-10-22 17:00:30,962 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 1, (t:0, i:0))
2021-10-22 17:00:30,962 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FOLLOWER: reject ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 1 > candidate's priority 0
2021-10-22 17:00:30,962 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:30,962 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:30,962 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:30,966 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:30,968 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t1. Peer's state: 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59:t1, leader=null, voted=null, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:30,966 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 1, (t:0, i:0))
2021-10-22 17:00:30,980 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FOLLOWER: accept ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 0 <= candidate's priority 0
2021-10-22 17:00:30,980 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:30,980 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:30,980 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:30,980 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:30,985 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t1. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59:t1, leader=null, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t1
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84 ELECTION round 0: result REJECTED
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84
2021-10-22 17:00:30,986 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection84] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:31,430 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:31,431 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@671df74c{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:31,431 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6e7b9157{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:31,432 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:31,432 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@dac6cac{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:31,432 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3ed28d42{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 17:00:31,434 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 17:00:31,444 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5066056095ns, electionTimeout:5036ms
2021-10-22 17:00:31,445 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState
2021-10-22 17:00:31,445 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:31,445 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:31,445 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85
2021-10-22 17:00:31,460 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34855
2021-10-22 17:00:31,479 [IPC Server listener on 34855] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 34855
2021-10-22 17:00:31,479 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:31,496 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85 ELECTION round 0: submit vote requests at term 1 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:1], old=null
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-0C8E681D8D7E with new leaderId: 98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: change Leader from null to 98908e51-2f97-4b53-a15b-7d12753460cc at term 1 for becomeLeader, leader elected after 5133ms
2021-10-22 17:00:31,497 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:31,503 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:31,503 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:31,504 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:31,505 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:31,506 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:31,506 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:31,507 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:31,507 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderStateImpl
2021-10-22 17:00:31,509 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:31,516 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderElection85] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: set configuration 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:1], old=null
2021-10-22 17:00:31,525 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5126803430ns, electionTimeout:5121ms
2021-10-22 17:00:31,525 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState
2021-10-22 17:00:31,525 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-10-22 17:00:31,525 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:31,525 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86
2021-10-22 17:00:31,545 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e/current/log_inprogress_0
2021-10-22 17:00:31,550 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86 ELECTION round 0: submit vote requests at term 1 for -1: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1], old=null
2021-10-22 17:00:31,550 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86 ELECTION round 0: result PASSED (term=1)
2021-10-22 17:00:31,550 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86
2021-10-22 17:00:31,550 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-10-22 17:00:31,551 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-A22FACE6CB8A with new leaderId: 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:31,551 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: change Leader from null to 0b93af3c-3bff-453d-a892-2543430d90de at term 1 for becomeLeader, leader elected after 5170ms
2021-10-22 17:00:31,551 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:31,552 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:31,552 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:31,552 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:31,560 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:31,560 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:31,561 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:31,561 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:31,561 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderStateImpl
2021-10-22 17:00:31,561 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:31,576 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: set configuration 0: [0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1], old=null
2021-10-22 17:00:31,602 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a/current/log_inprogress_0
2021-10-22 17:00:31,755 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 17:00:31,756 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 17:00:31,756 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 17:00:31,759 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34243
2021-10-22 17:00:31,765 [IPC Server listener on 34243] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 34243
2021-10-22 17:00:31,800 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 17:00:31,800 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 17:00:31,800 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:31,816 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44807
2021-10-22 17:00:31,831 [IPC Server listener on 44807] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 44807
2021-10-22 17:00:31,837 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 17:00:31,837 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:31,868 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@513acb92{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:00:31,868 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3cb8b6af{HTTP/1.1, (http/1.1)}{0.0.0.0:35785}
2021-10-22 17:00:31,868 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:31,868 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5adacc92{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:31,869 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4910ef18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:31,870 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 17:00:31,870 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:31,870 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:00:31,871 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 17:00:31,881 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 17:00:31,881 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:00:31,882 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 17:00:31,884 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-10-22 17:00:31,885 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-10-22 17:00:31,894 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-10-22 17:00:33,519 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 17:00:36,036 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5049934165ns, electionTimeout:5046ms
2021-10-22 17:00:36,036 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:36,036 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-10-22 17:00:36,036 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:36,036 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87
2021-10-22 17:00:36,041 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87 ELECTION round 0: submit vote requests at term 2 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null
2021-10-22 17:00:36,059 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 2, (t:0, i:0))
2021-10-22 17:00:36,060 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FOLLOWER: accept ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 0 <= candidate's priority 0
2021-10-22 17:00:36,060 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:36,060 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:36,060 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:36,060 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:36,060 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 2, (t:0, i:0))
2021-10-22 17:00:36,061 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FOLLOWER: reject ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: our priority 1 > candidate's priority 0
2021-10-22 17:00:36,061 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:36,061 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:36,064 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:36,064 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:36,068 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t2. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59:t2, leader=null, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:36,081 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t2. Peer's state: 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59:t2, leader=null, voted=null, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:36,082 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-10-22 17:00:36,082 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t2
2021-10-22 17:00:36,083 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t2
2021-10-22 17:00:36,083 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87 ELECTION round 0: result REJECTED
2021-10-22 17:00:36,083 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-10-22 17:00:36,083 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87
2021-10-22 17:00:36,083 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:38,519 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(115)) - Waiting for at least one open pipeline after SCM finalization.
2021-10-22 17:00:41,181 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5117177515ns, electionTimeout:5102ms
2021-10-22 17:00:41,182 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState
2021-10-22 17:00:41,182 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 17:00:41,182 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:41,182 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88
2021-10-22 17:00:41,183 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5100226395ns, electionTimeout:5093ms
2021-10-22 17:00:41,183 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:41,183 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-10-22 17:00:41,200 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:41,200 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89
2021-10-22 17:00:41,202 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88 ELECTION round 0: submit vote requests at term 3 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,228 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4949BD340A59, 3, (t:0, i:0))
2021-10-22 17:00:41,228 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FOLLOWER: accept ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: our priority 0 <= candidate's priority 1
2021-10-22 17:00:41,228 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:41,228 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:41,231 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:41,233 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: receive requestVote(ELECTION, 0b93af3c-3bff-453d-a892-2543430d90de, group-4949BD340A59, 3, (t:0, i:0))
2021-10-22 17:00:41,233 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-CANDIDATE: reject ELECTION from 0b93af3c-3bff-453d-a892-2543430d90de: already has voted for 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5 at current term 3
2021-10-22 17:00:41,233 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t3. Peer's state: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59:t3, leader=null, voted=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, raftlog=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null
2021-10-22 17:00:41,236 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59 replies to ELECTION vote request: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t3. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59:t3, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88: ELECTION PASSED received 2 response(s) and 0 exception(s):
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0b93af3c-3bff-453d-a892-2543430d90de<-98908e51-2f97-4b53-a15b-7d12753460cc#0:OK-t3
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 0b93af3c-3bff-453d-a892-2543430d90de<-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#0:FAIL-t3
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88 ELECTION round 0: result PASSED
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88
2021-10-22 17:00:41,237 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-10-22 17:00:41,238 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4949BD340A59 with new leaderId: 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:41,238 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: change Leader from null to 0b93af3c-3bff-453d-a892-2543430d90de at term 3 for becomeLeader, leader elected after 15271ms
2021-10-22 17:00:41,238 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-10-22 17:00:41,239 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerImpl (PipelineManagerImpl.java:openPipeline(282)) - Pipeline Pipeline[ Id: f2515093-3c33-4d03-8a29-4949bd340a59, Nodes: 98908e51-2f97-4b53-a15b-7d12753460cc{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=32859, RATIS=45989, RATIS_ADMIN=45989, RATIS_SERVER=45989, STANDALONE=35109], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0fe4bbf3-ec80-4794-83cb-bbca89f48ed5{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=34255, RATIS=40903, RATIS_ADMIN=40903, RATIS_SERVER=40903, STANDALONE=37307], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}0b93af3c-3bff-453d-a892-2543430d90de{ip: 10.1.0.29, host: fv-az184-332.3ow45vhwbzuu5incsxmygykede.cx.internal.cloudapp.net, ports: [REPLICATION=38821, RATIS=44709, RATIS_ADMIN=44709, RATIS_SERVER=44709, STANDALONE=40261], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:0b93af3c-3bff-453d-a892-2543430d90de, CreationTimestamp2021-10-22T17:00:25.780Z[Etc/UTC]] moved to OPEN state
2021-10-22 17:00:41,239 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:41,240 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
2021-10-22 17:00:41,240 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 17:00:41,241 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:41,242 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 17:00:41,242 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 17:00:41,242 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 17:00:41,242 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:41,208 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89 ELECTION round 0: submit vote requests at term 3 for -1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|priority:0], old=null
2021-10-22 17:00:41,231 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:41,251 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-10-22 17:00:41,251 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-10-22 17:00:41,251 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-10-22 17:00:41,252 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-10-22 17:00:41,252 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-10-22 17:00:41,252 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-10-22 17:00:41,253 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0b93af3c-3bff-453d-a892-2543430d90de: start 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderStateImpl
2021-10-22 17:00:41,254 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:41,256 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/current/log_inprogress_0
2021-10-22 17:00:41,260 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: set configuration 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,293 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 3, (t:0, i:0))
2021-10-22 17:00:41,294 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(48)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LEADER: reject ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: already has voted for 0b93af3c-3bff-453d-a892-2543430d90de at current term 3
2021-10-22 17:00:41,294 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t3. Peer's state: 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59:t3, leader=0b93af3c-3bff-453d-a892-2543430d90de, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLog:OPENED:c0, conf=0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,299 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1046)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: receive requestVote(ELECTION, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5, group-4949BD340A59, 3, (t:0, i:0))
2021-10-22 17:00:41,299 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FOLLOWER: reject ELECTION from 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: already has voted for 0b93af3c-3bff-453d-a892-2543430d90de at current term 3
2021-10-22 17:00:41,299 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1078)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59 replies to ELECTION vote request: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-98908e51-2f97-4b53-a15b-7d12753460cc#0:FAIL-t3. Peer's state: 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59:t3, leader=null, voted=0b93af3c-3bff-453d-a892-2543430d90de, raftlog=98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLog:OPENED:c-1, conf=-1: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5<-0b93af3c-3bff-453d-a892-2543430d90de#0:FAIL-t3
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89 ELECTION round 0: result REJECTED
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89
2021-10-22 17:00:41,299 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-LeaderElection89] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: start 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:41,317 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4949BD340A59 with new leaderId: 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:41,317 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: change Leader from null to 0b93af3c-3bff-453d-a892-2543430d90de at term 3 for appendEntries, leader elected after 15406ms
2021-10-22 17:00:41,353 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: set configuration 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,384 [grpc-default-executor-4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(866)) - Leader change notification received for group: group-4949BD340A59 with new leaderId: 0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:41,385 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: change Leader from null to 0b93af3c-3bff-453d-a892-2543430d90de at term 3 for appendEntries, leader elected after 15539ms
2021-10-22 17:00:41,385 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:41,400 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: set configuration 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:41,401 [grpc-default-executor-4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker: Starting segment from index:0
2021-10-22 17:00:41,402 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/current/log_inprogress_0
2021-10-22 17:00:41,424 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/current/log_inprogress_0
2021-10-22 17:00:43,523 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (SCMUpgradeFinalizer.java:postFinalizeUpgrade(124)) - Open pipeline found after SCM finalization
2021-10-22 17:00:43,523 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:43,523 [Listener at 0.0.0.0/38623] INFO  upgrade.UpgradeFinalizer (BasicUpgradeFinalizer.java:logAndEmit(342)) - Finalization is done.
2021-10-22 17:00:43,524 [Listener at 0.0.0.0/38623] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 17:00:43,524 [Listener at 0.0.0.0/38623] INFO  upgrade.TestHDDSUpgrade (TestHDDSUpgrade.java:testPostUpgradeConditionsSCM(259)) - testPostUpgradeConditionsSCM: container state is CLOSED
2021-10-22 17:00:43,627 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-10-22 17:00:43,627 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-10-22 17:00:43,627 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopOM(550)) - Stopping the OzoneManager
2021-10-22 17:00:43,628 [Mini-Cluster-Provider-Reap] INFO  om.OzoneManager (OzoneManager.java:stop(1664)) - Stopping Ozone Manager
2021-10-22 17:00:43,628 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45189
2021-10-22 17:00:43,639 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-10-22 17:00:43,651 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:00:43,651 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-10-22 17:00:43,652 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - om1@group-C5BA1605619E: shutdown
2021-10-22 17:00:43,652 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-10-22 17:00:43,653 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:43,668 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-10-22 17:00:43,669 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:8)
2021-10-22 17:00:43,669 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-10-22 17:00:43,669 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-10-22 17:00:43,669 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-10-22 17:00:43,670 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-10-22 17:00:43,671 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:43,672 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-10-22 17:00:43,677 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 37557 now
2021-10-22 17:00:43,683 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 37557 successfully
2021-10-22 17:00:43,683 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@3086d996] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-10-22 17:00:43,685 [Mini-Cluster-Provider-Reap] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-10-22 17:00:43,685 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-10-22 17:00:43,685 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-10-22 17:00:43,691 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service DirectoryDeletingService
2021-10-22 17:00:43,693 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3760cccd{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-10-22 17:00:43,695 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@13eaabe8{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:43,695 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:43,695 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3ca92b2b{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:00:43,696 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7d674440{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:43,709 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(527)) - Stopping the HddsDatanodes
2021-10-22 17:00:48,716 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:48,717 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:48,718 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 0b93af3c-3bff-453d-a892-2543430d90de: close
2021-10-22 17:00:48,718 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: shutdown
2021-10-22 17:00:48,718 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:48,718 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-LeaderStateImpl
2021-10-22 17:00:48,719 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:48,719 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:48,720 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: close
2021-10-22 17:00:48,720 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: shutdown
2021-10-22 17:00:48,720 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21C2CDEC85E3,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:48,720 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-LeaderStateImpl
2021-10-22 17:00:48,720 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:48,721 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->98908e51-2f97-4b53-a15b-7d12753460cc-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->98908e51-2f97-4b53-a15b-7d12753460cc-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:48,722 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4949BD340A59: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0
2021-10-22 17:00:48,723 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 98908e51-2f97-4b53-a15b-7d12753460cc: Completed APPEND_ENTRIES, lastRequest: 0b93af3c-3bff-453d-a892-2543430d90de->98908e51-2f97-4b53-a15b-7d12753460cc#1-t3,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY
2021-10-22 17:00:48,723 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->0fe4bbf3-ec80-4794-83cb-bbca89f48ed5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(177)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->0fe4bbf3-ec80-4794-83cb-bbca89f48ed5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-10-22 17:00:48,724 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-21C2CDEC85E3: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3/sm/snapshot.1_0
2021-10-22 17:00:48,724 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->98908e51-2f97-4b53-a15b-7d12753460cc-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:48,724 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->98908e51-2f97-4b53-a15b-7d12753460cc: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 17:00:48,724 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:48,724 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4949BD340A59: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0 took: 3 ms
2021-10-22 17:00:48,724 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-21C2CDEC85E3: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/2bf70eb6-5adc-4007-ba94-21c2cdec85e3/sm/snapshot.1_0 took: 1 ms
2021-10-22 17:00:48,724 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:48,724 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:48,725 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: Completed APPEND_ENTRIES, lastRequest: 0b93af3c-3bff-453d-a892-2543430d90de->0fe4bbf3-ec80-4794-83cb-bbca89f48ed5#1-t3,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY
2021-10-22 17:00:48,725 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(346)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->0fe4bbf3-ec80-4794-83cb-bbca89f48ed5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-10-22 17:00:48,725 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:48,726 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:48,725 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(47)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59->0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: nextIndex: updateUnconditionally 1 -> 0
2021-10-22 17:00:48,725 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59: closes. applyIndex: 0
2021-10-22 17:00:48,726 [0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:48,732 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-4949BD340A59-SegmentedRaftLogWorker close()
2021-10-22 17:00:48,737 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: shutdown
2021-10-22 17:00:48,737 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A22FACE6CB8A,id=0b93af3c-3bff-453d-a892-2543430d90de
2021-10-22 17:00:48,737 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-LeaderStateImpl
2021-10-22 17:00:48,737 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:48,746 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3: closes. applyIndex: 0
2021-10-22 17:00:48,746 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:48,748 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-21C2CDEC85E3-SegmentedRaftLogWorker close()
2021-10-22 17:00:48,750 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: shutdown
2021-10-22 17:00:48,750 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=0fe4bbf3-ec80-4794-83cb-bbca89f48ed5
2021-10-22 17:00:48,750 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState
2021-10-22 17:00:48,750 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:48,751 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4949BD340A59: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0
2021-10-22 17:00:48,752 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4949BD340A59: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-1/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0 took: 1 ms
2021-10-22 17:00:48,752 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:48,752 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:48,755 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:48,756 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59: closes. applyIndex: 0
2021-10-22 17:00:48,757 [0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:48,763 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5@group-4949BD340A59-SegmentedRaftLogWorker close()
2021-10-22 17:00:48,764 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:48,765 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown server with port 40903 now
2021-10-22 17:00:48,764 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-A22FACE6CB8A: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a/sm/snapshot.1_0
2021-10-22 17:00:48,773 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-A22FACE6CB8A: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-0/data/ratis/6e428bf8-b313-49d3-9bf6-a22face6cb8a/sm/snapshot.1_0 took: 10 ms
2021-10-22 17:00:48,773 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:48,773 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:48,780 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A: closes. applyIndex: 0
2021-10-22 17:00:48,780 [0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:48,794 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 0b93af3c-3bff-453d-a892-2543430d90de@group-A22FACE6CB8A-SegmentedRaftLogWorker close()
2021-10-22 17:00:48,795 [grpc-default-executor-3] WARN  client.GrpcClientProtocolService (LogUtils.java:warn(122)) - 2-UnorderedRequestStreamObserver2: onError: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-10-22 17:00:48,815 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown server with port 44709 now
2021-10-22 17:00:48,836 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: shutdown server with port 40903 successfully
2021-10-22 17:00:48,837 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@52ee4e3f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-0fe4bbf3-ec80-4794-83cb-bbca89f48ed5: Stopped
2021-10-22 17:00:48,838 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 0b93af3c-3bff-453d-a892-2543430d90de: shutdown server with port 44709 successfully
2021-10-22 17:00:48,838 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@1b109561] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-0b93af3c-3bff-453d-a892-2543430d90de: Stopped
2021-10-22 17:00:48,862 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:48,863 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:51,865 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:51,866 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3eb7e6eb{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:51,866 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:51,867 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1a9a057a{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:51,871 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@78dd5c47{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:51,871 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:51,871 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2a444d53{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:51,872 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3c6251d3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:51,872 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@424f66ba{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:51,872 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:51,872 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@38745a76{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:51,872 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@79a1018b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:56,583 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState: change to CANDIDATE, lastRpcElapsedTime:10121457554ns, electionTimeout:5121ms
2021-10-22 17:00:56,583 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:56,583 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2021-10-22 17:00:56,584 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-10-22 17:00:56,584 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90
2021-10-22 17:00:56,585 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: change Leader from 0b93af3c-3bff-453d-a892-2543430d90de to null at term 3 for ELECTION
2021-10-22 17:00:56,592 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90 ELECTION round 0: submit vote requests at term 4 for 0: [98908e51-2f97-4b53-a15b-7d12753460cc|rpc:10.1.0.29:45989|dataStream:|priority:0, 0b93af3c-3bff-453d-a892-2543430d90de|rpc:10.1.0.29:44709|dataStream:|priority:1, 0fe4bbf3-ec80-4794-83cb-bbca89f48ed5|rpc:10.1.0.29:40903|dataStream:|priority:0], old=null
2021-10-22 17:00:56,699 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90 ELECTION round 0: result REJECTED
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(290)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: changes role from CANDIDATE to FOLLOWER at term 4 for REJECTED
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90
2021-10-22 17:00:56,700 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-LeaderElection90] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 98908e51-2f97-4b53-a15b-7d12753460cc: start 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:56,878 [Mini-Cluster-Provider-Reap] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(325)) - Attempting to stop container services.
2021-10-22 17:00:56,879 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 98908e51-2f97-4b53-a15b-7d12753460cc: close
2021-10-22 17:00:56,886 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: shutdown
2021-10-22 17:00:56,887 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0C8E681D8D7E,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:56,887 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-LeaderStateImpl
2021-10-22 17:00:56,887 [Mini-Cluster-Provider-Reap] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-PendingRequests: sendNotLeaderResponses
2021-10-22 17:00:56,888 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-0C8E681D8D7E: Taking a snapshot at:(t:1, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e/sm/snapshot.1_0
2021-10-22 17:00:56,889 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:56,889 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-0C8E681D8D7E: Finished taking a snapshot at:(t:1, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/07ab0c7e-0721-4b75-a705-0c8e681d8d7e/sm/snapshot.1_0 took: 1 ms
2021-10-22 17:00:56,890 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:56,890 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:56,891 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E: closes. applyIndex: 0
2021-10-22 17:00:56,891 [98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:56,895 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-0C8E681D8D7E-SegmentedRaftLogWorker close()
2021-10-22 17:00:56,899 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(412)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: shutdown
2021-10-22 17:00:56,899 [Mini-Cluster-Provider-Reap] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-4949BD340A59,id=98908e51-2f97-4b53-a15b-7d12753460cc
2021-10-22 17:00:56,899 [Mini-Cluster-Provider-Reap] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState
2021-10-22 17:00:56,899 [Mini-Cluster-Provider-Reap] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater: set stopIndex = 0
2021-10-22 17:00:56,899 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-10-22 17:00:56,900 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-4949BD340A59: Taking a snapshot at:(t:3, i:0) file /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0
2021-10-22 17:00:56,901 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-4949BD340A59: Finished taking a snapshot at:(t:3, i:0) file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7b5ce9b8-71ef-4a97-a594-01dc0abecf82/datanode-2/data/ratis/f2515093-3c33-4d03-8a29-4949bd340a59/sm/snapshot.3_0 took: 1 ms
2021-10-22 17:00:56,901 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater: Took a snapshot at index 0
2021-10-22 17:00:56,901 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-10-22 17:00:56,902 [Mini-Cluster-Provider-Reap] INFO  server.RaftServer$Division (ServerState.java:close(419)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59: closes. applyIndex: 0
2021-10-22 17:00:56,902 [98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-10-22 17:00:56,907 [Mini-Cluster-Provider-Reap] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 98908e51-2f97-4b53-a15b-7d12753460cc@group-4949BD340A59-SegmentedRaftLogWorker close()
2021-10-22 17:00:56,909 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown server with port 45989 now
2021-10-22 17:00:56,935 [Mini-Cluster-Provider-Reap] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 98908e51-2f97-4b53-a15b-7d12753460cc: shutdown server with port 45989 successfully
2021-10-22 17:00:56,936 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$538/1263281085@632ce8f0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-98908e51-2f97-4b53-a15b-7d12753460cc: Stopped
2021-10-22 17:00:56,950 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-10-22 17:00:59,952 [Mini-Cluster-Provider-Reap] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(526)) - Ozone container server stopped.
2021-10-22 17:00:59,953 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@349e3d22{hddsDatanode,/,null,STOPPED}{jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-10-22 17:00:59,958 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1faafc08{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-10-22 17:00:59,958 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:00:59,958 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1cfc072d{static,/static,jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-container-service/1.2.0-SNAPSHOT/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-10-22 17:00:59,959 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@51fe41e4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:00:59,960 [Mini-Cluster-Provider-Reap] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopSCM(542)) - Stopping the StorageContainerManager
2021-10-22 17:00:59,960 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1395)) - Stopping Container Balancer service.
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(773)) - Container Balancer is not running.
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1402)) - Stopping Replication Manager Service.
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1409)) - Stopping the Datanode Admin Monitor.
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1416)) - Stopping Lease Manager of the command watchers
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1423)) - Stopping datanode service RPC server
2021-10-22 17:00:59,961 [Mini-Cluster-Provider-Reap] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-10-22 17:00:59,977 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46803
2021-10-22 17:00:59,977 [IPC Server listener on 46803] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 46803
2021-10-22 17:01:00,016 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:01:00,344 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-10-22 17:01:00,344 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1431)) - Stopping block service RPC server
2021-10-22 17:01:00,344 [Mini-Cluster-Provider-Reap] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-10-22 17:01:00,350 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41915
2021-10-22 17:01:00,361 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1438)) - Stopping the StorageContainerLocationProtocol RPC server
2021-10-22 17:01:00,361 [Mini-Cluster-Provider-Reap] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-10-22 17:01:00,361 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:01:00,362 [IPC Server listener on 41915] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 41915
2021-10-22 17:01:00,363 [Mini-Cluster-Provider-Reap] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38623
2021-10-22 17:01:00,401 [IPC Server listener on 38623] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 38623
2021-10-22 17:01:00,401 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1445)) - Stopping Storage Container Manager HTTP server.
2021-10-22 17:01:00,401 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-10-22 17:01:00,404 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@b5ae831{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-10-22 17:01:00,425 [Mini-Cluster-Provider-Reap] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@376e85db{HTTP/1.1, (http/1.1)}{0.0.0.0:46767}
2021-10-22 17:01:00,425 [Mini-Cluster-Provider-Reap] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-10-22 17:01:00,464 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6c528af7{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-10-22 17:01:00,478 [Mini-Cluster-Provider-Reap] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@572047a1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-10-22 17:01:00,483 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1456)) - Stopping Block Manager Service.
2021-10-22 17:01:00,483 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:01:00,483 [Mini-Cluster-Provider-Reap] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-10-22 17:01:00,483 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1483)) - Stopping SCM Event Queue.
2021-10-22 17:01:00,535 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1494)) - Stopping SCM HA services.
2021-10-22 17:01:00,535 [Mini-Cluster-Provider-Reap] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreator.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-10-22 17:01:00,536 [Mini-Cluster-Provider-Reap] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1504)) - Stopping SCM MetadataStore.
2021-10-22 17:01:00,539 [Mini-Cluster-Provider-Reap] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
